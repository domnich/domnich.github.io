!function(){"use strict";function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(self.webpackChunkcloudya=self.webpackChunkcloudya||[]).push([[59653],{59653:function(n,t,r){r.r(t),r.d(t,{WebHidTransport:function(){return o}});var i=r(30281),o=function(){function n(e,t,r){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.webHidHandler=e,this.logger=t,this.recorder=r,this.events=new i.S,this.consoleAppEvent=this.events,this.webHidConnected=!1,this.context=i.T.WEB_HID}var t,r,o;return t=n,(r=[{key:"connect",value:function(){var e=this;return this.webHidConnected?Promise.reject(new i.J("Already connected",i.E.UNEXPECTED_ERROR)):(this.webHidHandler.events.subscribe(function(n){var t,r=n;e.recorder&&(r=null===(t=e.recorder)||void 0===t?void 0:t.recordInput(r)),e.events.next(r)}),this.webHidHandler.start(),this.webHidConnected=!0,Promise.resolve())}},{key:"writeAction",value:function(e){var n;if(!this.webHidConnected){var t="WebHID is uninitialized.";throw(0,i.l)(t,this.logger,i.L.ERROR),new i.J(t,i.E.INIT_ERROR)}null===(n=this.recorder)||void 0===n||n.recordOutput(e),this.webHidHandler.sendMessage(e)}}])&&e(t.prototype,r),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),n}()}}])}();
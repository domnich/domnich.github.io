"use strict";(self.webpackChunkcloudya=self.webpackChunkcloudya||[]).push([[59653],{59653:function(e,t,i){i.r(t),i.d(t,{WebHidTransport:function(){return r}});var n=i(30281);class r{constructor(e,t,i){this.webHidHandler=e,this.logger=t,this.recorder=i,this.events=new n.S,this.consoleAppEvent=this.events,this.webHidConnected=!1,this.context=n.T.WEB_HID}connect(){return this.webHidConnected?Promise.reject(new n.J("Already connected",n.E.UNEXPECTED_ERROR)):(this.webHidHandler.events.subscribe(e=>{var t;let i=e;this.recorder&&(i=null===(t=this.recorder)||void 0===t?void 0:t.recordInput(i)),this.events.next(i)}),this.webHidHandler.start(),this.webHidConnected=!0,Promise.resolve())}writeAction(e){var t;if(!this.webHidConnected){const e="WebHID is uninitialized.";throw(0,n.l)(e,this.logger,n.L.ERROR),new n.J(e,n.E.INIT_ERROR)}null===(t=this.recorder)||void 0===t||t.recordOutput(e),this.webHidHandler.sendMessage(e)}}}}]);
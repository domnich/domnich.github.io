!function(){function e(){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,o){var i=t(e,n);if(i){var r=Object.getOwnPropertyDescriptor(i,n);return r.get?r.get.call(arguments.length<3?e:o):r.value}}).apply(this,arguments)}function t(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=r(e);if(t){var s=r(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw r}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcloudya=self.webpackChunkcloudya||[]).push([[18041],{49457:function(e,t){var n,o;void 0!==(o="function"==typeof(n=function(){"use strict";function t(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){r(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(e,r,s){var a=i.URL||i.webkitURL,l=document.createElement("a");l.download=r=r||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):n(l.href)?t(e,r,s):o(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){o(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,i,r){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),i);else if(n(e))t(e,i,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){o(s)})}}:function(e,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,o);var s="application/octet-stream"===e.type,a=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},c.readAsDataURL(e)}else{var u=i.URL||i.webkitURL,d=u.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});i.saveAs=r.saveAs=r,e.exports=r})?n.apply(t,[]):n)&&(e.exports=o)},76321:function(e,t,n){"use strict";n.d(t,{Ob:function(){return f},bA:function(){return p}});var o,i=n(37716),r=n(38583),a=function(){function e(t){l(this,e),this.rawFile=t;var n,o=(n=t)&&(n.nodeName||n.prop&&n.attr&&n.find)?t.value:t;this["_createFrom"+("string"==typeof o?"FakePath":"Object")](o)}return u(e,[{key:"_createFromFakePath",value:function(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)}},{key:"_createFromObject",value:function(e){this.size=e.size,this.type=e.type,this.name=e.name}}]),e}(),c=function(){function e(t,n,o){l(this,e),this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=t,this.some=n,this.options=o,this.file=new a(n),this._file=n,t.options&&(this.method=t.options.method||"POST",this.alias=t.options.itemAlias||"file"),this.url=t.options.url}return u(e,[{key:"upload",value:function(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}},{key:"cancel",value:function(){this.uploader.cancelItem(this)}},{key:"remove",value:function(){this.uploader.removeFromQueue(this)}},{key:"onBeforeUpload",value:function(){}},{key:"onBuildForm",value:function(e){return{form:e}}},{key:"onProgress",value:function(e){return{progress:e}}},{key:"onSuccess",value:function(e,t,n){return{response:e,status:t,headers:n}}},{key:"onError",value:function(e,t,n){return{response:e,status:t,headers:n}}},{key:"onCancel",value:function(e,t,n){return{response:e,status:t,headers:n}}},{key:"onComplete",value:function(e,t,n){return{response:e,status:t,headers:n}}},{key:"_onBeforeUpload",value:function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}},{key:"_onBuildForm",value:function(e){this.onBuildForm(e)}},{key:"_onProgress",value:function(e){this.progress=e,this.onProgress(e)}},{key:"_onSuccess",value:function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,t,n)}},{key:"_onError",value:function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,t,n)}},{key:"_onCancel",value:function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,t,n)}},{key:"_onComplete",value:function(e,t,n){this.onComplete(e,t,n),this.uploader.options.removeAfterUpload&&this.remove()}},{key:"_prepareToUploading",value:function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}]),e}(),d=((o=function(){function e(){l(this,e)}return u(e,null,[{key:"getMimeClass",value:function(e){var t="application";return-1!==this.mime_psd.indexOf(e.type)||e.type.match("image.*")?t="image":e.type.match("video.*")?t="video":e.type.match("audio.*")?t="audio":"application/pdf"===e.type?t="pdf":-1!==this.mime_compress.indexOf(e.type)?t="compress":-1!==this.mime_doc.indexOf(e.type)?t="doc":-1!==this.mime_xsl.indexOf(e.type)?t="xls":-1!==this.mime_ppt.indexOf(e.type)&&(t="ppt"),"application"===t&&(t=this.fileTypeDetection(e.name)),t}},{key:"fileTypeDetection",value:function(e){var t={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},n=e.split(".");if(n.length<2)return"application";var o=n[n.length-1].toLowerCase();return void 0===t[o]?"application":t[o]}}]),e}()).mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],o.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],o.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],o.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],o.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],o),p=function(){function e(t){l(this,e),this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:function(e){return e._file},formatDataFunctionIsAsync:!1},this.setOptions(t),this.response=new i.vpe}return u(e,[{key:"setOptions",value:function(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(var t=0;t<this.queue.length;t++)this.queue[t].url=this.options.url}},{key:"addToQueue",value:function(e,t,n){var o,i=this,r=[],l=s(e);try{for(l.s();!(o=l.n()).done;){var u=o.value;r.push(u)}}catch(h){l.e(h)}finally{l.f()}var d=this._getFilters(n),p=this.queue.length,f=[];r.map(function(e){t||(t=i.options);var n=new a(e);if(i._isValidFile(n,d,t)){var o=new c(i,e,t);f.push(o),i.queue.push(o),i._onAfterAddingFile(o)}else i._onWhenAddingFileFailed(n,d[i._failFilterIndex],t)}),this.queue.length!==p&&(this._onAfterAddingAll(f),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}},{key:"removeFromQueue",value:function(e){var t=this.getIndexOfItem(e),n=this.queue[t];n.isUploading&&n.cancel(),this.queue.splice(t,1),this.progress=this._getTotalProgress()}},{key:"clearQueue",value:function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}},{key:"uploadItem",value:function(e){var t=this.getIndexOfItem(e),n=this.queue[t],o=this.options.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[o](n))}},{key:"cancelItem",value:function(e){var t=this.getIndexOfItem(e),n=this.queue[t];n&&n.isUploading&&(this.options.isHTML5?n._xhr:n._form).abort()}},{key:"uploadAll",value:function(){var e=this.getNotUploadedItems().filter(function(e){return!e.isUploading});!e.length||(e.map(function(e){return e._prepareToUploading()}),e[0].upload())}},{key:"cancelAll",value:function(){this.getNotUploadedItems().map(function(e){return e.cancel()})}},{key:"isFile",value:function(e){return File&&e instanceof File}},{key:"isFileLikeObject",value:function(e){return e instanceof a}},{key:"getIndexOfItem",value:function(e){return"number"==typeof e?e:this.queue.indexOf(e)}},{key:"getNotUploadedItems",value:function(){return this.queue.filter(function(e){return!e.isUploaded})}},{key:"getReadyItems",value:function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})}},{key:"destroy",value:function(){}},{key:"onAfterAddingAll",value:function(e){return{fileItems:e}}},{key:"onBuildItemForm",value:function(e,t){return{fileItem:e,form:t}}},{key:"onAfterAddingFile",value:function(e){return{fileItem:e}}},{key:"onWhenAddingFileFailed",value:function(e,t,n){return{item:e,filter:t,options:n}}},{key:"onBeforeUploadItem",value:function(e){return{fileItem:e}}},{key:"onProgressItem",value:function(e,t){return{fileItem:e,progress:t}}},{key:"onProgressAll",value:function(e){return{progress:e}}},{key:"onSuccessItem",value:function(e,t,n,o){return{item:e,response:t,status:n,headers:o}}},{key:"onErrorItem",value:function(e,t,n,o){return{item:e,response:t,status:n,headers:o}}},{key:"onCancelItem",value:function(e,t,n,o){return{item:e,response:t,status:n,headers:o}}},{key:"onCompleteItem",value:function(e,t,n,o){return{item:e,response:t,status:n,headers:o}}},{key:"onCompleteAll",value:function(){}},{key:"_mimeTypeFilter",value:function(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))}},{key:"_fileSizeFilter",value:function(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)}},{key:"_fileTypeFilter",value:function(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(d.getMimeClass(e)))}},{key:"_onErrorItem",value:function(e,t,n,o){e._onError(t,n,o),this.onErrorItem(e,t,n,o)}},{key:"_onCompleteItem",value:function(e,t,n,o){e._onComplete(t,n,o),this.onCompleteItem(e,t,n,o);var i=this.getReadyItems()[0];this.isUploading=!1,i?i.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}},{key:"_headersGetter",value:function(e){return function(t){return t?e[t.toLowerCase()]||void 0:e}}},{key:"_xhrTransport",value:function(e){var t,n=this,o=this,i=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)t=this.options.formatDataFunction(e);else{t=new FormData,this._onBuildItemForm(e,t);var r=function(){return t.append(e.alias,e._file,e.file.name)};this.options.parametersBeforeFiles||r(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(function(o){var i=n.options.additionalParameter[o];"string"==typeof i&&i.indexOf("{{file_name}}")>=0&&(i=i.replace("{{file_name}}",e.file.name)),t.append(o,i)}),this.options.parametersBeforeFiles&&r()}if(i.upload.onprogress=function(t){var o=Math.round(t.lengthComputable?100*t.loaded/t.total:0);n._onProgressItem(e,o)},i.onload=function(){var t=n._parseHeaders(i.getAllResponseHeaders()),o=n._transformResponse(i.response,t);n["_on"+(n._isSuccessCode(i.status)?"Success":"Error")+"Item"](e,o,i.status,t),n._onCompleteItem(e,o,i.status,t)},i.onerror=function(){var t=n._parseHeaders(i.getAllResponseHeaders()),o=n._transformResponse(i.response,t);n._onErrorItem(e,o,i.status,t),n._onCompleteItem(e,o,i.status,t)},i.onabort=function(){var t=n._parseHeaders(i.getAllResponseHeaders()),o=n._transformResponse(i.response,t);n._onCancelItem(e,o,i.status,t),n._onCompleteItem(e,o,i.status,t)},i.open(e.method,e.url,!0),i.withCredentials=e.withCredentials,this.options.headers){var a,l=s(this.options.headers);try{for(l.s();!(a=l.n()).done;){var c=a.value;i.setRequestHeader(c.name,c.value)}}catch(f){l.e(f)}finally{l.f()}}if(e.headers.length){var u,d=s(e.headers);try{for(d.s();!(u=d.n()).done;){var p=u.value;i.setRequestHeader(p.name,p.value)}}catch(f){d.e(f)}finally{d.f()}}this.authToken&&i.setRequestHeader(this.authTokenHeader,this.authToken),i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&o.response.emit(i.responseText)},this.options.formatDataFunctionIsAsync?t.then(function(e){return i.send(JSON.stringify(e))}):i.send(t),this._render()}},{key:"_getTotalProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.options.removeAfterUpload)return e;var t=this.getNotUploadedItems().length,n=100/this.queue.length;return Math.round((t?this.queue.length-t:this.queue.length)*n+e*n/100)}},{key:"_getFilters",value:function(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"==typeof e){var t=e.match(/[^\s,]+/g);return this.options.filters.filter(function(e){return-1!==t.indexOf(e.name)})}return this.options.filters}},{key:"_render",value:function(){}},{key:"_queueLimitFilter",value:function(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}},{key:"_isValidFile",value:function(e,t,n){var o=this;return this._failFilterIndex=-1,!t.length||t.every(function(t){return o._failFilterIndex++,t.fn.call(o,e,n)})}},{key:"_isSuccessCode",value:function(e){return e>=200&&e<300||304===e}},{key:"_transformResponse",value:function(e,t){return e}},{key:"_parseHeaders",value:function(e){var t,n,o,i={};return e&&e.split("\n").map(function(e){o=e.indexOf(":"),t=e.slice(0,o).trim().toLowerCase(),n=e.slice(o+1).trim(),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i}},{key:"_onWhenAddingFileFailed",value:function(e,t,n){this.onWhenAddingFileFailed(e,t,n)}},{key:"_onAfterAddingFile",value:function(e){this.onAfterAddingFile(e)}},{key:"_onAfterAddingAll",value:function(e){this.onAfterAddingAll(e)}},{key:"_onBeforeUploadItem",value:function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)}},{key:"_onBuildItemForm",value:function(e,t){e._onBuildForm(t),this.onBuildItemForm(e,t)}},{key:"_onProgressItem",value:function(e,t){var n=this._getTotalProgress(t);this.progress=n,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(n),this._render()}},{key:"_onSuccessItem",value:function(e,t,n,o){e._onSuccess(t,n,o),this.onSuccessItem(e,t,n,o)}},{key:"_onCancelItem",value:function(e,t,n,o){e._onCancel(t,n,o),this.onCancelItem(e,t,n,o)}}]),e}(),f=function(){var e=u(function e(){l(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[r.ez]]}),e}()},83217:function(e,t,n){"use strict";n.d(t,{g:function(){return h}});var o,i=n(37716),r=n(51800),s=n(88044),a=n(99385),c=n(7460),d=n(81836),p=n(57158),f=n(99445),h=((o=function(){function e(t,n,o,r){l(this,e),this.clickToDialService=t,this.sipService=n,this.logger=o,this.callTrackerService=r,this.loadMore=!1,this.loaded=new i.vpe(!0),this.loadedMore=new i.vpe,this.items=[],this.isLoading=!1,this.isLoadMore=!1,this.pageInitValue=1,this.hasMoreData=!1,this.entriesPerPage=25,this.searchString="",this.page=this.pageInitValue}return u(e,[{key:"ngOnChanges",value:function(e){var t="loadMore"in e,n="search"in e;n&&(this.searchString=e.search.currentValue),t&&e.loadMore&&e.loadMore.currentValue?this.onLoadMore():(n||t&&!e.loadMore.currentValue)&&(this.reset(t),this.load())}},{key:"onLoadMore",value:function(){this.isLoadMore||(this.loadedMore.emit(this.type),this.load())}},{key:"onLazyLoadingCalls",value:function(){this.load()}},{key:"onContextMenu",value:function(e,t){var n=r.B.getCallObject(e);t.preventDefault(),this.clickToDialService.callContextMenu({positionX:t.clientX,positionY:t.clientY,isShown:!0,item:n,isOverlayDisabled:!0,callLocation:{fax:this.type===s.V.FAX,contacts:this.type===s.V.CONTACT,conference:this.type===s.V.CONFERENCE_AVAILABLE||this.type===s.V.CONFERENCE,crmConnect:this.type===s.V.CRM_CONNECT}})}},{key:"onCall",value:function(e){var t=r.B.getCallObject(e);t&&this.makeCall(t)}},{key:"getInitials",value:function(e){return(0,a.Cx)(e)||""}},{key:"reset",value:function(e){e&&(this.isLoadMore=!1),this.items=[],this.isLoading=!1,this.hasMoreData=!1,this.page=this.pageInitValue,this.loadRequest&&this.loadRequest.unsubscribe()}},{key:"dragIconElementByDisplayName",value:function(e){var t=this,n=e.callItem?e.callItem.name:e.name,o=this.dragIconElements.find(function(e){return e.nativeElement.innerText===t.displayNameShortened(n).replace(/\s/g,"")});return o&&o.nativeElement}},{key:"getPerPage",value:function(){return this.entriesPerPage}},{key:"load",value:function(){this.logger.warn('"load" method not implemented.')}},{key:"makeCall",value:function(e){this.callTrackerService.makeCall(e)}},{key:"appendItems",value:function(e){this.isLoadMore&&this.page===this.pageInitValue?this.items=e:Array.prototype.push.apply(this.items,e)}},{key:"updateHasMoreData",value:function(e){this.hasMoreData=e>=this.entriesPerPage}},{key:"displayNameShortened",value:function(e){var t=(0,a.Cx)(e)||"";return t.length>1&&(t="".concat(t[0]," ").concat(t[1])),t}}]),e}()).\u0275fac=function(e){return new(e||o)(i.Y36(c.q),i.Y36(d.y),i.Y36(p.Kf),i.Y36(f.k))},o.\u0275dir=i.lG2({type:o,inputs:{dndEnabled:"dndEnabled",scrollContainerSelector:"scrollContainerSelector",loadMore:"loadMore",search:"search"},outputs:{loaded:"loaded",loadedMore:"loadedMore"},features:[i.TTD]}),o)},54073:function(e,t,n){"use strict";n.d(t,{x:function(){return d}});var o,i=n(26215),r=n(88044),s=n(99385),a=n(37716),c=n(38294),d=((o=function(){function e(t,n){l(this,e),this.searchService=t,this.cdref=n,this.isValidNumberSource=new i.X(!1),this.selectedTypeSource=new i.X(r.V.CONTACT),this.isLoadingCount=0,this.groupsCount=0,this.loadedItemsCount=0,this.SEARCH_TYPES=r.V,this.isValidNumber$=this.isValidNumberSource.asObservable(),this.selectedType$=this.selectedTypeSource.asObservable()}return u(e,[{key:"ngAfterContentChecked",value:function(){this.cdref.detectChanges()}},{key:"ngOnChanges",value:function(e){var t,n=null===(t=null==e?void 0:e.searchString)||void 0===t?void 0:t.currentValue;(0,s.OO)(n)&&(n=n.split(",")[0]),this.isValidNumberSource.next((0,s.e$)(n))}},{key:"setGroupsCount",value:function(e){this.groupsCount=e}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLoadingCount=e||this.selectedType===r.V.ALL?this.groupsCount:1,this.loadedItemsCount=0}},{key:"loaded",value:function(e){this.isLoadingCount--,this.isLoadingCount<0&&(this.isLoadingCount=0),this.loadedItemsCount+=e,this.checkSearchResponse()}},{key:"updateSelectedType",value:function(e){this.selectedTypeSource.next(e)}},{key:"getSelectedTypSourceValue",value:function(){return this.selectedTypeSource.getValue()}},{key:"onLoadMore",value:function(e){this.updateSelectedType(e),this.selectedType=e}},{key:"checkSearchResponse",value:function(){this.isLoadingCount||this.searchService.checkIsSearchResponseEmpty({isSearchResponseEmpty:!this.loadedItemsCount,searchStringLength:this.searchString?this.searchString.length:0})}},{key:"selectedType",set:function(e){this.reset(e===r.V.ALL),this.updateSelectedType(e)}}]),e}()).\u0275fac=function(e){return new(e||o)(a.Y36(c.o),a.Y36(a.sBO))},o.\u0275dir=a.lG2({type:o,inputs:{searchString:"searchString",selectedType:"selectedType"},features:[a.TTD]}),o)},76083:function(e,t,n){"use strict";n.d(t,{g:function(){return p}});var o=n(37716),i=n(38583),r=n(52592),s=n(5197);function a(e,t){1&e&&o._UZ(0,"section-title")}var c,d=["*"],p=((c=function(){function e(){l(this,e),this.showLoading=!1,this.disableForHistorySection=!1,this.loadMore=new o.vpe}return u(e,[{key:"onLoadMore",value:function(e){this.loadMore.emit(),e.stopPropagation()}}]),e}()).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=o.Xpm({type:c,selectors:[["search-group"]],inputs:{title:"title",showLoading:"showLoading",disableForHistorySection:"disableForHistorySection",e2e:"e2e"},outputs:{loadMore:"loadMore"},ngContentSelectors:d,decls:4,vars:3,consts:[[4,"ngIf"],["loading-area-indicator","",3,"loadingAreaIndicatorActive"],[1,"flexible-list"]],template:function(e,t){1&e&&(o.F$t(),o.YNc(0,a,1,0,"section-title",0),o.TgZ(1,"section",1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngIf",!t.disableForHistorySection),o.xp6(1),o.Q6J("loadingAreaIndicatorActive",t.showLoading),o.xp6(1),o.uIk("data-e2e",t.e2e+"-list"))},directives:[i.O5,r.O,s.D],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}header[_ngcontent-%COMP%]{border-top:.1rem solid rgba(0,0,0,.3);padding:.8rem 1.6rem}button[_ngcontent-%COMP%]{margin:.8rem 1.6rem;text-transform:uppercase}"]}),c)},68455:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var o,i=n(79765),r=n(37716),s=((o=function(){function e(){l(this,e),this.searchTypeSource=new i.xQ,this.searchType$=this.searchTypeSource.asObservable()}return u(e,[{key:"setSearchType",value:function(e){this.searchTypeSource.next(e)}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o)},51800:function(t,i,s){"use strict";s.d(i,{B:function(){return w}});var a=s(88044),c=s(93739),d=s(54073),p=s(79765),f=s(46782),h=s(37716),m=s(91557),y=s(38294),v=s(68455),g=["ContactGroupComponent"];function b(e,t){1&e&&h._UZ(0,"search-options")}function k(e,t){if(1&e&&(h._UZ(0,"emergency-group",8),h.ALo(1,"async")),2&e){var n=h.oxw();h.Q6J("selectedType",h.lcZ(1,1,n.selectedType$))}}function C(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"crm-connect-group",9),h.NdJ("loaded",function(e){return h.CHM(n),h.oxw().loaded(e)}),h.ALo(1,"async"),h.qZA()}if(2&e){var o=h.oxw();h.Q6J("scrollContainerSelector",o.elementRef)("search",o.searchString)("selectedType",h.lcZ(1,3,o.selectedType$))}}function _(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"extension-group",10),h.NdJ("loaded",function(e){return h.CHM(n),h.oxw().loaded(e)})("loadedMore",function(e){return h.CHM(n),h.oxw().onLoadMore(e)}),h.ALo(1,"async"),h.ALo(2,"async"),h.qZA()}if(2&e){var o=h.oxw();h.Q6J("dndEnabled",o.dndEnabled)("loadMore",h.lcZ(1,5,o.selectedType$)===o.SEARCH_TYPES.EXTENSION)("scrollContainerSelector",o.elementRef)("search",o.searchString)("selectedType",h.lcZ(2,7,o.selectedType$))}}function E(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"conference-available-group",11),h.NdJ("loaded",function(e){return h.CHM(n),h.oxw().loaded(e)})("loadedMore",function(e){return h.CHM(n),h.oxw().onLoadMore(e)}),h.ALo(1,"async"),h.qZA()}if(2&e){var o=h.oxw();h.Q6J("dndEnabled",o.dndEnabled)("loadMore",h.lcZ(1,4,o.selectedType$)===o.SEARCH_TYPES.CONFERENCE_AVAILABLE)("scrollContainerSelector",o.elementRef)("search",o.searchString)}}function T(e,t){if(1&e&&h._UZ(0,"not-found-group",12),2&e){var n=h.oxw();h.Q6J("dndEnabled",n.dndEnabled)("search",n.searchString)}}function S(e,t){if(1&e&&h._UZ(0,"meeting-group",13),2&e){var n=h.oxw();h.Q6J("searchString",n.searchString)}}var A,w=((A=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}(s,t);var i=o(s);function s(e,t,n,o,r){var a;return l(this,s),(a=i.call(this,n,o)).mainService=e,a.elementRef=t,a.searchService=n,a.cdref=o,a.searchOptionService=r,a.ngUnsubscribe=new p.xQ,a.searchResponseEmptyButValidPhoneNumber="",a.showHistorySection=!0,a.isSearchFiltersDisabled=!1,a}return u(s,[{key:"ngOnInit",value:function(){var t=this;e(r(s.prototype),"setGroupsCount",this).call(this,this.getGroupCount()),this.searchOptionService.setSearchType(a.V.CONTACT),this.searchOptionService.searchType$.pipe((0,f.R)(this.ngUnsubscribe)).subscribe(function(e){t.updateSelectedType(e)}),this.searchService.searchResponseEmptyButValidPhoneNumber$.pipe((0,f.R)(this.ngUnsubscribe)).subscribe(function(e){e&&(t.searchResponseEmptyButValidPhoneNumber=e)})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.searchResponseEmptyButValidPhoneNumber="",e(r(s.prototype),"reset",this).call(this,t)}},{key:"isCrmConnectType",value:function(){return this.getSelectedTypSourceValue().toString().includes(String(a.V.CRM_CONNECT))}},{key:"getGroupCount",value:function(){var e=s.TOTAL_GROUP_COUNT;return this.showHistorySection||e--,e}}],[{key:"getCallObject",value:function(e){switch(e.type){case c.i.FUNCTION_KEY:return{name:e.DISPLAY_NAME,number:e.FORMAT_PLAIN||e.EXTENSION_NUMBER};case c.i.PHONE_BOOK:return{name:e.displayName,number:e.displayNumber};case c.i.CALL_RECORD:return{name:e.remote_display_name,number:e.remote};case c.i.FAX:return{name:e.document_name,number:e.recipient_number};case c.i.PHONE_EXTENSION:case c.i.GROUP:return{name:e.callItem.name,number:e.callItem.contact};case c.i.CONFERENCE:case c.i.CONFERENCE_AVAILABLE:return Object.assign(Object.assign({},e),{name:e.displayName,number:e.number});case c.i.SEARCH:return{name:e.search,number:e.search};case c.i.EMERGENCY:case c.i.CRM_CONNECT:return{name:e.name,number:e.number};default:return null}}}]),s}(d.x)).TOTAL_GROUP_COUNT=12,A.\u0275fac=function(e){return new(e||A)(h.Y36(m.J),h.Y36(h.SBq),h.Y36(y.o),h.Y36(h.sBO),h.Y36(v.p))},A.\u0275cmp=h.Xpm({type:A,selectors:[["search-result"]],viewQuery:function(e,t){var n;1&e&&h.Gf(g,5),2&e&&h.iGM(n=h.CRH())&&(t.contactGroupComponent=n.first)},inputs:{showHistorySection:"showHistorySection",dndEnabled:"dndEnabled",isSearchFiltersDisabled:"isSearchFiltersDisabled"},features:[h.qOj],decls:19,vars:29,consts:[[1,"search-result__search-options"],[4,"ngIf"],[3,"selectedType",4,"ngIf"],[3,"scrollContainerSelector","search","selectedType","loaded",4,"ngIf"],[3,"dndEnabled","loadMore","scrollContainerSelector","search","selectedType","loaded","loadedMore",4,"ngIf"],[3,"dndEnabled","loadMore","scrollContainerSelector","search","loaded","loadedMore",4,"ngIf"],[3,"dndEnabled","search",4,"ngIf"],[3,"searchString",4,"ngIf"],[3,"selectedType"],[3,"scrollContainerSelector","search","selectedType","loaded"],[3,"dndEnabled","loadMore","scrollContainerSelector","search","selectedType","loaded","loadedMore"],[3,"dndEnabled","loadMore","scrollContainerSelector","search","loaded","loadedMore"],[3,"dndEnabled","search"],[3,"searchString"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.YNc(1,b,1,0,"search-options",1),h.qZA(),h.YNc(2,k,2,3,"emergency-group",2),h.ALo(3,"async"),h.ALo(4,"async"),h.ALo(5,"async"),h.ALo(6,"async"),h.YNc(7,C,2,5,"crm-connect-group",3),h.YNc(8,_,3,9,"extension-group",4),h.ALo(9,"async"),h.ALo(10,"async"),h.ALo(11,"async"),h.YNc(12,E,2,6,"conference-available-group",5),h.ALo(13,"async"),h.ALo(14,"async"),h.YNc(15,T,1,2,"not-found-group",6),h.ALo(16,"async"),h.YNc(17,S,1,1,"meeting-group",7),h.ALo(18,"async")),2&e&&(h.xp6(1),h.Q6J("ngIf",!t.isSearchFiltersDisabled),h.xp6(1),h.Q6J("ngIf",h.lcZ(3,7,t.selectedType$)!==t.SEARCH_TYPES.CONFERENCE_AVAILABLE&&h.lcZ(4,9,t.selectedType$)!==t.SEARCH_TYPES.FAX&&h.lcZ(5,11,t.selectedType$)!==t.SEARCH_TYPES.GROUP&&h.lcZ(6,13,t.selectedType$)!==t.SEARCH_TYPES.MEETING),h.xp6(5),h.Q6J("ngIf",t.isCrmConnectType()),h.xp6(1),h.Q6J("ngIf",h.lcZ(9,15,t.selectedType$)===t.SEARCH_TYPES.EXTENSION||h.lcZ(10,17,t.selectedType$)===t.SEARCH_TYPES.GROUP||h.lcZ(11,19,t.selectedType$)===t.SEARCH_TYPES.CONTACT),h.xp6(4),h.Q6J("ngIf",h.lcZ(13,21,t.selectedType$)===t.SEARCH_TYPES.ALL||h.lcZ(14,23,t.selectedType$)===t.SEARCH_TYPES.CONFERENCE_AVAILABLE),h.xp6(3),h.Q6J("ngIf",t.searchString&&0===t.isLoadingCount&&0===t.loadedItemsCount&&h.lcZ(16,25,t.isValidNumber$)||t.searchResponseEmptyButValidPhoneNumber),h.xp6(2),h.Q6J("ngIf",h.lcZ(18,27,t.selectedType$)===t.SEARCH_TYPES.MEETING))},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:block;flex:1;height:100%;overflow-y:auto}.search-result__search-options[_ngcontent-%COMP%]{background:#fff;padding:.8rem;position:-webkit-sticky;position:sticky;top:0;z-index:1}"]}),A)},93739:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var o={FUNCTION_KEY:"functionKey",PHONE_BOOK:"phoneBook",CONFERENCE:"conference",CONFERENCE_AVAILABLE:"conference-available",FAX:"fax",CALL_RECORD:"call-record",SEARCH:"search",PHONE_EXTENSION:"phone-extension",GROUP:"group",USER:"user",CRM_CONNECT:"crm-connect"}}}])}();
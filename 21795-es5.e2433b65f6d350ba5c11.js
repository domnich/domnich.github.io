!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkcloudya=self.webpackChunkcloudya||[]).push([[21795],{21795:function(e,i,o){o.r(i),o.d(i,{GuestModule:function(){return ge}});var a,s=o(38583),r=o(25167),l=o(8307),g=o(79765),c=o(46782),d=o(37716),u=o(22238),_=((a=t(function e(t){n(this,e),this.dialogRef=t})).\u0275fac=function(e){return new(e||a)(d.Y36(u.so))},a.\u0275cmp=d.Xpm({type:a,selectors:[["guest-landing-desktop-hint-dialog"]],decls:1,vars:1,consts:[[3,"dialogRef"]],template:function(e,t){1&e&&d._UZ(0,"guest-landing-desktop-hint",0),2&e&&d.Q6J("dialogRef",t.dialogRef)},styles:["[_nghost-%COMP%]{max-height:95vh;max-width:90vw;width:64rem}"]}),a),m=o(56247),p=o(8320),f=o(25791),h=o(92937),v=o(67267),C=o(90971),b=o(39249),y=o(78023),O=o(27077),M=o(29790);function x(e,t){if(1&e&&d._UZ(0,"img",18),2&e){var n=d.oxw();d.Q6J("src",n.guestLandingImage,d.LSH)}}function P(e,t){1&e&&d._UZ(0,"product-logo",19)}function k(e,t){}function w(e,t){1&e&&d.YNc(0,k,0,0,"ng-template")}function Z(e,t){1&e&&(d.TgZ(0,"span",20),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"meetings.join_meeting_or")))}var A=function(){var e=function(){function e(t,i,o,a,s,r,l,c,d){n(this,e),this.router=t,this.route=i,this.apiAvAuthorizationService=o,this.guestService=a,this.tokenService=s,this.meetingService=r,this.dialog=l,this.whiteLabelService=c,this.themeService=d,this.ngUnsubscribe=new g.xQ,this.guestLandingImage=this.whiteLabelService.data.guestLandingImage||"/assets/total_independence.svg",this.isCloudyaTheme=this.themeService.isCloudyaTheme}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.meetingService.loadDialInNumbers(),this.route.params.pipe((0,c.R)(this.ngUnsubscribe)).subscribe(function(t){e.guestService.setMeetingId(t.id)})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"joinViaWebAsGuest",value:function(){this.router.navigate(["join","setup"])}},{key:"joinViaWebAsLoggedInUser",value:function(){this.tokenService.isValidToken()?this.meetingService.handleMeetingId(this.guestService.getMeetingId()):this.router.navigate(["auth","login"],{queryParams:{meetingLinkId:this.guestService.getMeetingId()}})}},{key:"joinViaDesktop",value:function(){window.open("cloudya://meeting/".concat(this.guestService.getMeetingId()),"_self"),this.dialog.open(_,{width:"64rem",panelClass:"guest-landing-desktop-hint__dialog-container"})}},{key:"joinViaPhone",value:function(){this.dialog.open(m.Y,{autoFocus:!1,width:"56rem",height:"52rem",panelClass:"meetings__info-dialog-container",data:{meeting:this.apiAvAuthorizationService.guestMeeting}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(l.F0),d.Y36(l.gz),d.Y36(p.O),d.Y36(f.Q),d.Y36(h.B),d.Y36(v.D),d.Y36(u.uw),d.Y36(C.D),d.Y36(b.f))},e.\u0275cmp=d.Xpm({type:e,selectors:[["guest-landing"]],decls:30,vars:18,consts:[["data-e2e","join-page",1,"guest-landing__content"],["class","guest-landing__image","alt","",3,"src",4,"ngIf","ngIfElse"],["productNameTemplate",""],[1,"guest-landing__options"],[1,"guest-landing__column","guest-landing__column-left"],["data-e2e","meeting-landing-modal-fragment__logged-in-user-title",1,"guest-landing__column-header"],["buttonTextTranslationKey","meetings.join_meeting_via_web","data-e2e","meeting-landing-modal-fragment__join-via-web-as-logged-in-user","color","primary","type","raised-button","e2e","join-page__join-on-web-app",3,"appButtonClick"],[4,"ngTemplateOutlet"],[1,"guest-landing__main-content__desktop"],["buttonTextTranslationKey","meetings.join_meeting_via_desktop","data-e2e","meeting-landing-modal-fragment__join-via-desktop-as-logged-in-user","color","primary","type","stroked-button-submit","e2e","join-page__join-on-desktop",3,"appButtonClick"],["data-e2e","meeting-landing-modal-fragment__desktop-hint",1,"guest-landing__main-content__desktop-hint"],[1,"guest-landing__column","guest-landing__column-right"],["data-e2e","meeting-landing-modal-fragment__guest-user-title",1,"guest-landing__column-header"],["buttonTextTranslationKey","guest_mode.join_on_the_web","data-e2e","meeting-landing-modal-fragment__join-via-web-as-guest-user","color","primary","type","raised-button","e2e","join-page__join-as-guest",3,"appButtonClick"],[1,"guest-landing__join-via-phone"],[1,"guest-landing__join-via-phone-text"],["data-e2e","join-page____join-as-guest--a",1,"guest-landing__join-via-phone-link",3,"click"],["orText",""],["alt","",1,"guest-landing__image",3,"src"],[1,"guest-landing__product-name"],[1,"guest-landing__or"]],template:function(e,t){if(1&e&&(d.TgZ(0,"div",0),d.YNc(1,x,1,1,"img",1),d.YNc(2,P,1,0,"ng-template",null,2,d.W1O),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d.TgZ(6,"h5",5),d._uU(7),d.ALo(8,"translate"),d.qZA(),d.TgZ(9,"app-button",6),d.NdJ("appButtonClick",function(){return t.joinViaWebAsLoggedInUser()}),d.qZA(),d.YNc(10,w,1,0,void 0,7),d.TgZ(11,"div",8),d.TgZ(12,"app-button",9),d.NdJ("appButtonClick",function(){return t.joinViaDesktop()}),d.qZA(),d.TgZ(13,"div",10),d._uU(14),d.ALo(15,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"div",11),d.TgZ(17,"h5",12),d._uU(18),d.ALo(19,"translate"),d.qZA(),d.TgZ(20,"app-button",13),d.NdJ("appButtonClick",function(){return t.joinViaWebAsGuest()}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"div",14),d.TgZ(22,"span",15),d._uU(23),d.ALo(24,"translate"),d.qZA(),d.TgZ(25,"a",16),d.NdJ("click",function(){return t.joinViaPhone()}),d._uU(26),d.ALo(27,"translate"),d.qZA(),d.qZA(),d.qZA(),d.YNc(28,Z,3,3,"ng-template",null,17,d.W1O)),2&e){var n=d.MAs(3),i=d.MAs(29);d.xp6(1),d.Q6J("ngIf",!t.isCloudyaTheme)("ngIfElse",n),d.xp6(6),d.Oqu(d.lcZ(8,8,"meetings.join_meeting_with_account")),d.xp6(3),d.Q6J("ngTemplateOutlet",i),d.xp6(4),d.hij(" ",d.lcZ(15,10,"meetings.join_via_desktop_button_hint")," "),d.xp6(4),d.Oqu(d.lcZ(19,12,"meetings.join_meeting_without_account")),d.xp6(5),d.Oqu(d.lcZ(24,14,"meetings.join_on_the_phone_note")),d.xp6(3),d.hij(" ",d.lcZ(27,16,"meetings.join_on_the_phone")," ")}},directives:[s.O5,y.V,s.tP,O.i],pipes:[M.X$],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-around}.guest-landing__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.guest-landing__image[_ngcontent-%COMP%]{margin:2rem auto;padding-bottom:8rem;width:33.6rem}.guest-landing__main-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;flex-direction:column;justify-content:center}.guest-landing__main-content__action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.guest-landing__options[_ngcontent-%COMP%]{display:flex}.guest-landing__column[_ngcontent-%COMP%]{max-width:32rem;text-align:center;width:40rem}.guest-landing__column-header[_ngcontent-%COMP%]{margin-top:1rem}.guest-landing__column-left[_ngcontent-%COMP%]{padding-right:8rem}.guest-landing__column-right[_ngcontent-%COMP%]{padding-left:8rem}.guest-landing__or[_ngcontent-%COMP%]{display:block;margin:2rem}.guest-landing__main-content__desktop-hint[_ngcontent-%COMP%]{font-size:1.2rem;margin-top:1rem}.guest-landing__join-via-phone[_ngcontent-%COMP%]{display:block;margin:2rem;text-align:center}.guest-landing__join-via-phone-text[_ngcontent-%COMP%]{display:inline-block;margin-right:.3rem}.guest-landing__join-via-phone-link[_ngcontent-%COMP%]{display:inline-block;text-decoration:none}.guest-landing__join-via-phone-link[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e}();function S(e,t){1&e&&(d.TgZ(0,"header",2),d._UZ(1,"logo",3),d.qZA()),2&e&&(d.xp6(1),d.Q6J("hasLink",!1))}var j=function(){var e=function(){function e(t,i){n(this,e),this.guestService=t,this.themeService=i,this.isCloudyaTheme=this.themeService.isCloudyaTheme}return t(e,[{key:"ngOnInit",value:function(){this.guestService.loadFromSessionStorage()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(f.Q),d.Y36(b.f))},e.\u0275cmp=d.Xpm({type:e,selectors:[["guest"]],decls:4,vars:1,consts:[["class","guest__header",4,"ngIf"],[1,"guest__footer"],[1,"guest__header"],["location","guest-page",1,"guest__logo",3,"hasLink"]],template:function(e,t){1&e&&(d._UZ(0,"audio-player"),d.YNc(1,S,2,1,"header",0),d._UZ(2,"router-outlet"),d._UZ(3,"app-footer",1)),2&e&&(d.xp6(1),d.Q6J("ngIf",!t.isCloudyaTheme))},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{align-items:center;background:#fff;display:flex;flex-direction:column;flex-grow:1;justify-content:space-between;min-height:100vh;min-width:76.8rem}.guest__header[_ngcontent-%COMP%]{align-self:flex-start}.guest__logo[_ngcontent-%COMP%]{height:6rem}.guest__footer[_ngcontent-%COMP%]{width:100%}"]}),e}(),T=o(15257),U=o(35019),q=o(28704),J=o(50501),I=o(88640),Y=o(81836),N=o(99445),L=o(57158),B=function(){var e=function(){function e(t,i,o,a,s,r,l,d){var u,_=this;n(this,e),this.router=t,this.apiAvEventStateService=i,this.microphoneService=o,this.apiAvFeedService=a,this.localUserConfigService=s,this.sipService=r,this.callTrackerService=l,this.logger=d,this.isConferenceStateInitialized=!1,this.ngUnsubscribe=new g.xQ,this.navigationExtras=null===(u=this.router.getCurrentNavigation())||void 0===u?void 0:u.extras,this.localUserConfigService.userConfig$.pipe((0,c.R)(this.ngUnsubscribe)).subscribe(function(e){_.localUserConfig=e}),this.apiAvEventStateService.activeCallConferenceState$.pipe((0,c.R)(this.ngUnsubscribe)).subscribe(function(e){_.isConferenceStateInitialized&&!e&&(_.logger.info("No more active conference state. Navigating to guest end page."),_.router.navigate(["join/end"])),!_.isConferenceStateInitialized&&e&&_.applyRouteExtras(),_.isConferenceStateInitialized=!!e})}return t(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"onPopState",value:function(){this.logger.info("Back navigation detected. Hanging-up all calls."),this.callTrackerService.hangupAll()}},{key:"applyRouteExtras",value:function(){var e,t=null===(e=this.navigationExtras)||void 0===e?void 0:e.state;t?t.isInitialJoin&&this.applyLocalUserConfig():this.logger.warn("No extras present. Please make sure the extra parameters are passed to the guest-live component.")}},{key:"applyLocalUserConfig",value:function(){var e=this;this.localUserConfig.isMicrophoneActivatedOnJoin||this.apiAvEventStateService.activeCallConferenceState$.pipe((0,T.q)(1),(0,c.R)(this.ngUnsubscribe)).subscribe(function(){e.microphoneService.toggleSelfMute()}),this.localUserConfig.isCameraActivatedOnJoin&&this.apiAvFeedService.toggleOwnCamera()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(l.F0),d.Y36(U.a),d.Y36(q.p),d.Y36(J.D),d.Y36(I.i),d.Y36(Y.y),d.Y36(N.k),d.Y36(L.Kf))},e.\u0275cmp=d.Xpm({type:e,selectors:[["guest-live"]],hostBindings:function(e,t){1&e&&d.NdJ("popstate",function(){return t.onPopState()},!1,d.Jf7)},decls:1,vars:0,consts:[["data-e2e","join-live-page"]],template:function(e,t){1&e&&d._UZ(0,"cinema-mode",0)},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]   .main__toolbar[_ngcontent-%COMP%]{background:transparent;min-height:6.4rem;padding:0}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}[_nghost-%COMP%]     .flexible-list__item{cursor:pointer}[_nghost-%COMP%]     .flexible-list{list-style:none;margin:0;padding:0}[_nghost-%COMP%]     .flexible-list>.flexible-list__item{align-items:center;display:flex;flex-direction:row;height:5rem;margin-bottom:.1rem;margin-top:.1rem;padding:1.1rem 0}[_nghost-%COMP%]     .flexible-list>.flexible-list__item>app-svg-icon, [_nghost-%COMP%]     .flexible-list>.flexible-list__item .column-container>app-svg-icon{margin-left:1rem}[_nghost-%COMP%]     .flexible-list>.flexible-list__item:hover .flexible-list__item__info-button, [_nghost-%COMP%]     .flexible-list>.flexible-list__item.active .flexible-list__item__info-button{display:block}[_nghost-%COMP%]     .flexible-list>.flexible-list__item>.flexible-list__item__initials{border-radius:50%;flex-shrink:0;font-size:1.8rem;height:4rem;line-height:4rem;margin-left:.8rem;margin-right:.8rem;text-align:center;vertical-align:middle;width:4rem}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__content{display:grid;flex:1;flex-direction:column;margin-left:.8rem;margin-right:1.6rem;padding:1.1rem 0}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__content .flexible-list__item__title{display:inline-block;font-size:1.8rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__content .flexible-list__item__sub-title{color:#666;font-size:1.6rem}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__info-button{display:none;height:4.8rem;margin-right:.8rem;width:4.8rem}[_nghost-%COMP%]     .flexible-list .horizontal-divider{align-items:center;border-bottom:.1rem solid #e5e5e5;display:flex;height:5rem;padding:1.1rem 0;width:calc(100% - 8rem)}@-webkit-keyframes ringing{0%{opacity:1}49%{opacity:1}50%{opacity:0}to{opacity:0}}@keyframes ringing{0%{opacity:1}49%{opacity:1}50%{opacity:0}to{opacity:0}}[_nghost-%COMP%]     mat-sidenav-container .mat-sidenav-content{bottom:0;display:flex;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:2}[_nghost-%COMP%]     mat-sidenav-container .mat-sidenav-focus-trap{display:flex}[_nghost-%COMP%]     mat-sidenav-container .cdk-focus-trap-content{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]     .my-content{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper, [_nghost-%COMP%]     .my-content .page-content{display:flex;flex:1;flex-direction:column;overflow:hidden}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*{display:flex;flex:1;min-height:0;min-width:0;overflow-y:auto}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container{display:flex;flex:1;overflow:hidden}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container>*, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container>*{flex:0 0 auto;overflow-y:auto}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container>.left, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container>.left{flex:1}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container>.right, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container>.right{width:32.2rem}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%], [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%]{width:32rem}@media screen and (min-width: 768px) and (max-width: 1023px){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%], [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%]{width:33.33vw}}@media screen and (max-width: 767px){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%], [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%]{width:25.6rem}}@media screen and (max-width: 895px){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left, [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left{margin-left:0;margin-right:0}}@media screen and (min-width: 896px) and (max-width: 179rem){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left, [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left{margin-left:0}}forward-details-modal[_ngcontent-%COMP%], categorized-modal[_ngcontent-%COMP%], subscribe-conference-modal[_ngcontent-%COMP%], delete-all-modal[_ngcontent-%COMP%], admin-session-ended-modal[_ngcontent-%COMP%], admin-switch-modal[_ngcontent-%COMP%], call-context-menu[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:0;z-index:2000}.main__footer[_ngcontent-%COMP%]{width:100%}@media (min-width: 1280px){.main__footer[_ngcontent-%COMP%]{width:128rem}}.main__content[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]{background-color:transparent;margin-left:auto;margin-right:auto;z-index:2}@media (min-width: 1280px){.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]{width:128rem}}@media (min-width: 1024px) and (max-width: 1279px){.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%]     .mat-sidenav-content, .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]     .mat-sidenav-content{margin-left:auto!important;margin-right:auto!important;width:1024px}}@media (max-width: 1280px){.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]{width:100%}}.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{background-color:transparent;border-right:0;display:flex;flex-direction:column;overflow-x:hidden;width:25.6rem}.main__content[_ngcontent-%COMP%]   .admin__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{background-color:transparent}.main__content[_ngcontent-%COMP%]   .admin__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.8rem;margin-left:.4rem;margin-right:.4rem}.main__content[_ngcontent-%COMP%]   .admin__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.8rem}.main__content[_ngcontent-%COMP%]   .header__back-button--edit-mode[_ngcontent-%COMP%]{align-items:center;display:flex;height:6.4rem}@media (min-width: 1280px){.main__content[_ngcontent-%COMP%]   .toggle-sidenav-btn[_ngcontent-%COMP%]{display:none}.main__content[_ngcontent-%COMP%]   .my-content[_ngcontent-%COMP%]   .header__back-button--edit-mode[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]{position:fixed;width:100%;z-index:4}"]}),e}(),E=o(3679),z=o(25304),Q=o(8225),R=o(10028),D=o(98295),V=o(83166),F=o(56436),G=["guestVideoPreview"];function $(e,t){1&e&&(d.TgZ(0,"div",14),d._UZ(1,"app-svg-icon",15),d._uU(2),d.ALo(3,"translate"),d.qZA()),2&e&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"device_settings.error.camera_is_used")," "))}function K(e,t){if(1&e&&(d.TgZ(0,"div",14),d._UZ(1,"app-svg-icon",15),d._uU(2),d.ALo(3,"translate"),d.qZA()),2&e){var n=d.oxw(2);d.xp6(2),d.hij(" ",d.lcZ(3,1,n.videoErrorMessage)," ")}}function X(e,t){if(1&e&&(d.TgZ(0,"div",14),d._UZ(1,"app-svg-icon",16),d._uU(2),d.ALo(3,"translate"),d.qZA()),2&e){var n=d.oxw(2);d.xp6(2),d.hij(" ",d.lcZ(3,1,n.audioErrorMessage)," ")}}function H(e,t){1&e&&(d.TgZ(0,"div",21),d._UZ(1,"app-svg-icon",22),d.qZA())}function W(e,t){if(1&e&&(d.TgZ(0,"div",17),d._UZ(1,"video",18,19),d.YNc(3,H,2,0,"div",20),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.ekj("guest-setup__video-preview-window--mirrored",n.isOwnVideoMirrored)("guest-setup__video-preview-hidden",!n.isCameraActivatedOnJoin),d.xp6(2),d.Q6J("ngIf",!n.isCameraActivatedOnJoin)}}function ee(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.YNc(3,$,4,3,"div",3),d.YNc(4,K,4,3,"div",3),d.YNc(5,X,4,3,"div",3),d.YNc(6,W,4,5,"div",4),d.TgZ(7,"div",5),d.TgZ(8,"app-button",6),d.NdJ("appButtonClick",function(){return d.CHM(n),d.oxw().toggleMicrophoneActiveOnJoin()}),d.qZA(),d.TgZ(9,"app-button",7),d.NdJ("appButtonClick",function(){return d.CHM(n),d.oxw().toggleCameraActiveOnJoin()}),d.qZA(),d.qZA(),d.TgZ(10,"app-button",8),d.NdJ("appButtonClick",function(){return d.CHM(n),d.oxw().openDeviceSettingsDialog()}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"div",9),d.TgZ(12,"div",10),d.TgZ(13,"span",11),d._uU(14),d.ALo(15,"translate"),d.qZA(),d.TgZ(16,"mat-form-field"),d._UZ(17,"input",12),d.ALo(18,"translate"),d.qZA(),d.TgZ(19,"app-button",13),d.NdJ("appButtonClick",function(){return d.CHM(n),d.oxw().onJoinClick()}),d.qZA(),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=t.ngIf,o=d.oxw();d.xp6(3),d.Q6J("ngIf",o.isCameraBlocked),d.xp6(1),d.Q6J("ngIf",o.videoErrorMessage&&!o.audioErrorMessage&&!o.isCameraBlocked),d.xp6(1),d.Q6J("ngIf",o.audioErrorMessage),d.xp6(1),d.Q6J("ngIf",!o.isCameraBlocked&&!o.videoErrorMessage),d.xp6(2),d.Q6J("disabled",!!o.audioErrorMessage)("hoverTextTranslationKey",i.isMicrophoneActivatedOnJoin?"telephone.mute":"telephone.unmute")("iconName",i.isMicrophoneActivatedOnJoin?"mic_on":"mic_off"),d.xp6(1),d.Q6J("disabled",o.isCameraBlocked||!!o.videoErrorMessage)("hoverTextTranslationKey",i.isCameraActivatedOnJoin?"telephone.video_off":"telephone.video_on")("iconName",i.isCameraActivatedOnJoin?"video_on":"video_off"),d.xp6(5),d.Oqu(d.lcZ(15,14,"guest_mode.settings_page.name_title")),d.xp6(3),d.s9C("placeholder",d.lcZ(18,16,"guest_mode.settings_page.name_placeholder")),d.Q6J("formControl",o.nameFormControl),d.xp6(2),d.Q6J("disabled",!o.nameFormControl.valid||!o.hasAudioPermission)}}function te(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"app-button",2),d.NdJ("appButtonClick",function(){return d.CHM(n),d.oxw().reJoin()}),d.qZA()}}var ne=l.Bz.forChild([{path:"",component:j,children:[{path:"setup",component:function(){var e=function(){function e(t,i,o,a,s,r,l,d){var u=this;n(this,e),this.guestService=t,this.settingsPreviewService=i,this.meetingService=o,this.apiAvAuthorizationService=a,this.devicesService=s,this.localUserConfigService=r,this.router=l,this.openDeviceSettingsService=d,this.ngUnsubscribe=new g.xQ,this.videoErrorMessage=null,this.name="",this.nameFormControl=new E.NI(this.name,E.kI.compose([E.kI.minLength(3),E.kI.maxLength(64),E.kI.required])),this.userConfig$=this.localUserConfigService.userConfig$,this.localUserConfigService.userConfig$.pipe((0,c.R)(this.ngUnsubscribe)).subscribe(function(e){u.isCameraActivatedOnGuestSetup=e.isCameraActivatedOnJoin})}return t(e,[{key:"ngOnInit",value:function(){this.applyGuestName(),this.applyVideoPreview(),this.handlePermissions()}},{key:"ngOnDestroy",value:function(){this.settingsPreviewService.stopStreams(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"onJoinClick",value:function(){this.guestService.setGuestName(this.nameFormControl.value),this.meetingService.joinMeetingAsGuest(),this.router.navigate(["join","live"],{state:{isInitialJoin:!0}})}},{key:"openDeviceSettingsDialog",value:function(){this.openDeviceSettingsService.open({isWelcomeDialog:!1,isCameraActivatedOnGuestSetup:this.isCameraActivatedOnGuestSetup})}},{key:"toggleCameraActiveOnJoin",value:function(){this.isCameraActivatedOnGuestSetup?this.settingsPreviewService.stopStreams():this.handlePermissions(),this.localUserConfigService.toggleCameraActivatedOnJoin()}},{key:"toggleMicrophoneActiveOnJoin",value:function(){this.localUserConfigService.toggleMicrophoneActivatedOnJoin()}},{key:"initializeAudioMeterStream",value:function(){var e=this;this.devicesService.updateDeviceList().then(function(){var t;e.settingsPreviewService.updateAudioInputStream(null===(t=e.devicesService.loadStoredAudioInputDevice())||void 0===t?void 0:t.deviceId,{value:!1})})}},{key:"applyVideoPreview",value:function(){var e=this;this.settingsPreviewService.videoPreview$.pipe((0,c.R)(this.ngUnsubscribe)).subscribe(function(t){if(t){e.videoPreviewStream=t,e.videoPreview.nativeElement.srcObject=e.videoPreviewStream;var n=e.videoPreview.nativeElement.play();null!==n&&n.catch(function(){}),e.isCameraBlocked=!1,e.videoErrorMessage=null}else e.videoPreview&&(e.videoPreview.nativeElement.pause(),e.videoPreview.nativeElement.srcObject=null)})}},{key:"applyGuestName",value:function(){var e=this;this.guestService.guestName$.pipe((0,T.q)(1),(0,c.R)(this.ngUnsubscribe)).subscribe(function(t){e.nameFormControl.setValue(t)})}},{key:"handlePermissions",value:function(){var e=this;this.devicesService.checkAudioPermission().then(function(t){t.isSupported?t.hasPermission?(e.hasAudioPermission=!0,e.settingsPreviewService.checkVideoPermission({value:!e.isCameraActivatedOnGuestSetup}).then(function(t){t.hasPermission?e.hasVideoPermission=!0:e.videoErrorMessage="device_settings.error.no_camera_permission"})):(e.audioErrorMessage="device_settings.error.no_audio_input",e.videoErrorMessage="device_settings.error.no_camera_permission"):(e.audioErrorMessage="device_settings.error.no_audio_input",e.videoErrorMessage="device_settings.error.video_not_supported")})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(f.Q),d.Y36(z.Q),d.Y36(v.D),d.Y36(p.O),d.Y36(Q.I),d.Y36(I.i),d.Y36(l.F0),d.Y36(R.I))},e.\u0275cmp=d.Xpm({type:e,selectors:[["guest-setup"]],viewQuery:function(e,t){var n;(1&e&&d.Gf(G,5),2&e)&&(d.iGM(n=d.CRH())&&(t.videoPreview=n.first))},decls:2,vars:3,consts:[[4,"ngIf"],["data-e2e","join-setup-page",1,"guest-setup__column"],[1,"guest-setup__video"],["class","guest-setup__error-message",4,"ngIf"],["class","guest-setup__video-wrapper",4,"ngIf"],[1,"guest-setup__video__controls"],["data-e2e","meeting-guest-setup-modal-fragment__toggle-microphone","iconFillClass","white","e2e","join-setup-page__toggle-microphone",3,"disabled","hoverTextTranslationKey","iconName","appButtonClick"],["data-e2e","meeting-guest-setup-modal-fragment__toggle-video","iconFillClass","white","e2e","join-setup-page__toggle-camera",3,"disabled","hoverTextTranslationKey","iconName","appButtonClick"],["buttonTextTranslationKey","guest_mode.check_settings","data-e2e","meeting-guest-setup-modal-fragment__device-settings","color","primary","iconFillClass","white","size","button--extra-wide","type","stroked-button-submit","e2e","join-setup-page__check-settings",1,"guest-setup__settings-button",3,"appButtonClick"],[1,"guest-setup__column"],[1,"guest-setup__infos"],[1,"guess-setup__title"],["matInput","","data-e2e","join-setup-page__name--input","type","text",3,"formControl","placeholder"],["buttonTextTranslationKey","guest_mode.settings_page.join","data-e2e","meeting-guest-setup-modal-fragment__join--button","color","primary","type","raised-button","e2e","join-setup-page__join-now",3,"disabled","appButtonClick"],[1,"guest-setup__error-message"],["fill","warn-color","icon","video_off","size","small",1,"guest-setup__error-icon"],["fill","warn-color","icon","mic_off","size","small",1,"guest-setup__error-icon"],[1,"guest-setup__video-wrapper"],[1,"guest-setup__video__player"],["guestVideoPreview",""],["class","guest-setup--video-off",4,"ngIf"],[1,"guest-setup--video-off"],["fill","video-off-color","icon","video_off"]],template:function(e,t){1&e&&(d.YNc(0,ee,20,18,"ng-container",0),d.ALo(1,"async")),2&e&&d.Q6J("ngIf",d.lcZ(1,1,t.userConfig$))},directives:[s.O5,y.V,D.KE,V.Nt,E.Fj,E.JJ,E.oH,F.u],pipes:[s.Ov,M.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;justify-content:center;width:100%}.guest-setup__column[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;padding:0 1rem}.guest-setup__infos[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:column;width:32rem}@media screen and (min-width: 769px){.guest-setup__infos[_ngcontent-%COMP%]{margin-left:11rem}}.guest-setup__video[_ngcontent-%COMP%]{align-self:flex-end;display:flex;flex-direction:column;justify-items:flex-end;width:48rem}@media screen and (max-width: 768px){.guest-setup__video[_ngcontent-%COMP%]{width:40rem}}.guest-setup__video__player[_ngcontent-%COMP%]{height:30rem}@media screen and (max-width: 768px){.guest-setup__video__player[_ngcontent-%COMP%]{height:25rem}}.guest-setup__video-wrapper[_ngcontent-%COMP%], .guest-setup__video__controls[_ngcontent-%COMP%]{background:#333}.guest-setup__video__controls[_ngcontent-%COMP%]{display:flex;height:5.2rem;justify-content:center}.guess-setup__title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:900;margin-bottom:2.4rem;text-align:center}.guest-setup__settings-button[_ngcontent-%COMP%]{justify-content:center;margin-top:2.3rem}.guest-setup__video-wrapper[_ngcontent-%COMP%]{display:flex;position:relative;width:100%}.guest-setup--video-off[_ngcontent-%COMP%]{align-items:center;justify-content:center;width:100%}.guest-setup__video-preview-hidden[_ngcontent-%COMP%]{display:none}.guest-setup__audio-meter[_ngcontent-%COMP%]{bottom:.5rem;left:.5rem;position:absolute}.guest-setup__video-preview-window--mirrored[_ngcontent-%COMP%]{transform:rotateY(180deg)}.guest-setup__error-message[_ngcontent-%COMP%]{align-items:center;color:#b30000;display:flex;margin:1.6rem}.guest-setup__error-icon[_ngcontent-%COMP%]{margin-right:1rem}.guest-setup__audio-input-preview[_ngcontent-%COMP%]{bottom:2rem;display:flex;justify-content:flex-end;left:2rem;position:absolute}.guest-setup__volume-meter-dot[_ngcontent-%COMP%]{border-radius:50%;display:inline-block;height:1.2rem;margin-left:.5rem;transition:background-color .2s ease-in-out;width:1.2rem}.guest-setup__volume-meter-dot[_ngcontent-%COMP%]:first-child{margin-left:0}"]}),e}(),data:{title:"title.guest_mode_setup"}},{path:"live",component:B,data:{title:"title.guest_mode_live"}},{path:"invalid",component:function(){var e=t(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["guest-invalid-link"]],decls:7,vars:6,consts:[["data-e2e","meeting-invalid-link-modal-fragment__title",1,"guest-invalid-link__title"],["data-e2e","meeting-invalid-link-modal-fragment__message",1,"guest-invalid-link__message"]],template:function(e,t){1&e&&(d.TgZ(0,"div"),d.TgZ(1,"span",0),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"span",1),d._uU(5),d.ALo(6,"translate"),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Oqu(d.lcZ(3,2,"guest_mode.error_page.title")),d.xp6(3),d.Oqu(d.lcZ(6,4,"guest_mode.error_page.invalid_meeting")))},pipes:[M.X$],styles:["[_nghost-%COMP%]{bottom:0;left:0;margin:auto;right:0;text-align:center;top:0}.guest-invalid-link__title[_ngcontent-%COMP%]{font-size:3rem}.guest-invalid-link__message[_ngcontent-%COMP%]{float:left;padding-top:3rem;width:100%}"]}),e}(),data:{title:"title.guest_mode_invalid_link"}},{path:"end",component:function(){var e=function(){function e(t,i,o,a){var s,r;n(this,e),this.router=t,this.meetingService=i,this.apiAvAuthorizationService=o,this.callTrackerService=a,this.callTrackerService.hangupAll();var l=null===(r=null===(s=this.router.getCurrentNavigation())||void 0===s?void 0:s.extras)||void 0===r?void 0:r.state;l&&(this.isRejoinAvailable=l.isRejoinAvailable)}return t(e,[{key:"reJoin",value:function(){this.meetingService.joinMeetingAsGuest(),this.router.navigate(["join","live"])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(l.F0),d.Y36(v.D),d.Y36(p.O),d.Y36(N.k))},e.\u0275cmp=d.Xpm({type:e,selectors:[["guest-end"]],decls:4,vars:4,consts:[["data-e2e","meeting-end-modal-fragment__title",1,"guest-end__title"],["class","guest-end__rejoin","buttonTextTranslationKey","guest_mode.end_page.rejoin_button","data-e2e","meeting-end-modal-fragment__rejoin--button","color","primary","type","raised-button",3,"appButtonClick",4,"ngIf"],["buttonTextTranslationKey","guest_mode.end_page.rejoin_button","data-e2e","meeting-end-modal-fragment__rejoin--button","color","primary","type","raised-button",1,"guest-end__rejoin",3,"appButtonClick"]],template:function(e,t){1&e&&(d.TgZ(0,"span",0),d._uU(1),d.ALo(2,"translate"),d.qZA(),d.YNc(3,te,1,0,"app-button",1)),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,2,"guest_mode.end_page.title")),d.xp6(2),d.Q6J("ngIf",t.isRejoinAvailable))},directives:[s.O5,y.V],pipes:[M.X$],styles:["[_nghost-%COMP%]{align-items:center;bottom:0;display:flex;flex-direction:column;left:0;margin:auto;right:0;text-align:center;top:0}.guest-end__title[_ngcontent-%COMP%]{font-size:3rem}.guest-end__rejoin[_ngcontent-%COMP%]{padding-top:3rem;width:30rem}"]}),e}(),data:{title:"title.guest_mode_end"}},{path:":id",component:A,data:{title:"title.guest_mode_landing"}}]},{path:"**",redirectTo:"/",pathMatch:"full"}]),ie=o(96292),oe=function(){var e=function(){function e(){n(this,e)}return t(e,[{key:"closeDialog",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["guest-landing-desktop-hint"]],inputs:{dialogRef:"dialogRef"},decls:8,vars:6,consts:[["mat-dialog-title","","data-e2e","meeting-hint-dialog-fragment__title",1,"guest-landing-desktop-hint__dialog-title"],["data-e2e","meeting-hint-dialog-fragment__hint-content",1,"guest-landing-desktop-hint__content"],["align","end"],["color","primary","buttonTextTranslationKey","meetings.info_dialog.close","data-e2e","meeting-hint-dialog-fragment__close--button","type","raised-button-submit",3,"appButtonClick"]],template:function(e,t){1&e&&(d.TgZ(0,"span",0),d._uU(1),d.ALo(2,"translate"),d.qZA(),d.TgZ(3,"mat-dialog-content",1),d._uU(4),d.ALo(5,"translate"),d.qZA(),d.TgZ(6,"mat-dialog-actions",2),d.TgZ(7,"app-button",3),d.NdJ("appButtonClick",function(){return t.closeDialog()}),d.qZA(),d.qZA()),2&e&&(d.xp6(1),d.hij(" ",d.lcZ(2,2,"meetings.join_meeting_via_desktop"),"\n"),d.xp6(3),d.hij(" ",d.lcZ(5,4,"meetings.join_via_desktop_text_hint"),"\n"))},directives:[u.uh,u.xY,u.H8,y.V],pipes:[M.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.guest-landing-desktop-hint__dialog-title[_ngcontent-%COMP%], .guest-landing-desktop-hint__content[_ngcontent-%COMP%]{padding:1.6rem 2.4rem}.guest-landing-desktop-hint__dialog-title[_ngcontent-%COMP%]{background-color:#e5e5e5;font-size:2.2rem;font-weight:bold;margin:-2.4rem}.guest-landing-desktop-hint__content[_ngcontent-%COMP%]{border-bottom:.1rem solid #b5b5b5;line-height:2.56rem;margin-top:2.4rem}"]}),e}(),ae=o(56765),se=o(56869),re=o(96566),le=o(79108),ge=function(){var e=t(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[z.Q],imports:[[s.ez,ne,r.m,ie.$]]}),e}();d.B6R(j,[ae.N,s.O5,se.R,l.lC,re.q],[]),d.B6R(_,[oe],[]),d.B6R(B,[le.L],[])}}])}();
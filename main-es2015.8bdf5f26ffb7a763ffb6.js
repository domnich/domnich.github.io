(self.webpackChunkcloudya=self.webpackChunkcloudya||[]).push([[40179],{98255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=98255,e.exports=t},85920:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(93105),r=i(58159),o=i(19919),a=i(21127),c=i(5756),l=function(e){function t(i,n,s,r){var o=e.call(this)||this;return o.data={},t.initializer(o,i,n,s,r),o}return n.__extends(t,e),t.initializer=function(e,t,i,n,s){if(e.type=a.TypeStrings.ClientContext,void 0===n)throw new TypeError("Not enough arguments");e.ua=t,e.logger=t.getLogger("sip.clientcontext"),e.method=i;var r=t.normalizeTarget(n);if(!r)throw new TypeError("Invalid target: "+n);var l=t.userAgentCore.configuration.aor;if(s&&s.params&&s.params.fromUri&&!(l="string"==typeof s.params.fromUri?o.Grammar.URIParse(s.params.fromUri):s.params.fromUri))throw new TypeError("Invalid from URI: "+s.params.fromUri);var u=r;if(s&&s.params&&s.params.toUri&&!(u="string"==typeof s.params.toUri?o.Grammar.URIParse(s.params.toUri):s.params.toUri))throw new TypeError("Invalid to URI: "+s.params.toUri);var h,d,p=((s=(s=Object.create(s||Object.prototype))||{}).extraHeaders||[]).slice(),f=s.params||{};s.body&&(e.body=h={body:s.body,contentType:s.contentType?s.contentType:"application/sdp"}),h&&(d=c.Utils.fromBodyObj(h)),e.request=t.userAgentCore.makeOutgoingRequestMessage(i,r,l,u,f,p,d),e.request.from&&(e.localIdentity=e.request.from),e.request.to&&(e.remoteIdentity=e.request.to)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.request(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.receiveResponse=function(e){var t=e.statusCode||0,i=c.Utils.getReasonPhrase(t);switch(!0){case/^1[0-9]{2}$/.test(t.toString()):this.emit("progress",e,i);break;case/^2[0-9]{2}$/.test(t.toString()):this.ua.applicants[this.toString()]&&delete this.ua.applicants[this.toString()],this.emit("accepted",e,i);break;default:this.ua.applicants[this.toString()]&&delete this.ua.applicants[this.toString()],this.emit("rejected",e,i),this.emit("failed",e,i)}},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,r.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",void 0,r.C.causes.CONNECTION_ERROR)},t}(s.EventEmitter);t.ClientContext=l},58159:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n,s="0.14.6";(i=t.C||(t.C={})).version=s,i.USER_AGENT="SIP.js/"+s,i.SIP="sip",i.SIPS="sips",(n=i.causes||(i.causes={})).CONNECTION_ERROR="Connection Error",n.INTERNAL_ERROR="Internal Error",n.REQUEST_TIMEOUT="Request Timeout",n.SIP_FAILURE_CODE="SIP Failure Code",n.ADDRESS_INCOMPLETE="Address Incomplete",n.AUTHENTICATION_ERROR="Authentication Error",n.BUSY="Busy",n.DIALOG_ERROR="Dialog Error",n.INCOMPATIBLE_SDP="Incompatible SDP",n.NOT_FOUND="Not Found",n.REDIRECTED="Redirected",n.REJECTED="Rejected",n.UNAVAILABLE="Unavailable",n.BAD_MEDIA_DESCRIPTION="Bad Media Description",n.CANCELED="Canceled",n.EXPIRES="Expires",n.NO_ACK="No ACK",n.NO_ANSWER="No Answer",n.NO_PRACK="No PRACK",n.RTP_TIMEOUT="RTP Timeout",n.USER_DENIED_MEDIA_ACCESS="User Denied Media Access",n.WEBRTC_ERROR="WebRTC Error",n.WEBRTC_NOT_SUPPORTED="WebRTC Not Supported",function(e){e.REQUIRED="required",e.SUPPORTED="supported",e.UNSUPPORTED="none"}(i.supported||(i.supported={})),i.SIP_ERROR_CAUSES={ADDRESS_INCOMPLETE:[484],AUTHENTICATION_ERROR:[401,407],BUSY:[486,600],INCOMPATIBLE_SDP:[488,606],NOT_FOUND:[404,604],REDIRECTED:[300,301,302,305,380],REJECTED:[403,603],UNAVAILABLE:[480,410,408,430]},i.ACK="ACK",i.BYE="BYE",i.CANCEL="CANCEL",i.INFO="INFO",i.INVITE="INVITE",i.MESSAGE="MESSAGE",i.NOTIFY="NOTIFY",i.OPTIONS="OPTIONS",i.REGISTER="REGISTER",i.UPDATE="UPDATE",i.SUBSCRIBE="SUBSCRIBE",i.PUBLISH="PUBLISH",i.REFER="REFER",i.PRACK="PRACK",i.REASON_PHRASE={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},i.OPTION_TAGS={"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0},function(e){e.INFO="info",e.RTP="rtp"}(i.dtmfType||(i.dtmfType={}))},21127:function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.DialogStatus||(t.DialogStatus={}))[i.STATUS_EARLY=1]="STATUS_EARLY",i[i.STATUS_CONFIRMED=2]="STATUS_CONFIRMED",function(e){e[e.STATUS_NULL=0]="STATUS_NULL",e[e.STATUS_INVITE_SENT=1]="STATUS_INVITE_SENT",e[e.STATUS_1XX_RECEIVED=2]="STATUS_1XX_RECEIVED",e[e.STATUS_INVITE_RECEIVED=3]="STATUS_INVITE_RECEIVED",e[e.STATUS_WAITING_FOR_ANSWER=4]="STATUS_WAITING_FOR_ANSWER",e[e.STATUS_ANSWERED=5]="STATUS_ANSWERED",e[e.STATUS_WAITING_FOR_PRACK=6]="STATUS_WAITING_FOR_PRACK",e[e.STATUS_WAITING_FOR_ACK=7]="STATUS_WAITING_FOR_ACK",e[e.STATUS_CANCELED=8]="STATUS_CANCELED",e[e.STATUS_TERMINATED=9]="STATUS_TERMINATED",e[e.STATUS_ANSWERED_WAITING_FOR_PRACK=10]="STATUS_ANSWERED_WAITING_FOR_PRACK",e[e.STATUS_EARLY_MEDIA=11]="STATUS_EARLY_MEDIA",e[e.STATUS_CONFIRMED=12]="STATUS_CONFIRMED"}(t.SessionStatus||(t.SessionStatus={})),function(e){e[e.ClientContext=0]="ClientContext",e[e.ConfigurationError=1]="ConfigurationError",e[e.Dialog=2]="Dialog",e[e.DigestAuthentication=3]="DigestAuthentication",e[e.DTMF=4]="DTMF",e[e.IncomingMessage=5]="IncomingMessage",e[e.IncomingRequest=6]="IncomingRequest",e[e.IncomingResponse=7]="IncomingResponse",e[e.InvalidStateError=8]="InvalidStateError",e[e.InviteClientContext=9]="InviteClientContext",e[e.InviteServerContext=10]="InviteServerContext",e[e.Logger=11]="Logger",e[e.LoggerFactory=12]="LoggerFactory",e[e.MethodParameterError=13]="MethodParameterError",e[e.NameAddrHeader=14]="NameAddrHeader",e[e.NotSupportedError=15]="NotSupportedError",e[e.OutgoingRequest=16]="OutgoingRequest",e[e.Parameters=17]="Parameters",e[e.PublishContext=18]="PublishContext",e[e.ReferClientContext=19]="ReferClientContext",e[e.ReferServerContext=20]="ReferServerContext",e[e.RegisterContext=21]="RegisterContext",e[e.RenegotiationError=22]="RenegotiationError",e[e.RequestSender=23]="RequestSender",e[e.ServerContext=24]="ServerContext",e[e.Session=25]="Session",e[e.SessionDescriptionHandler=26]="SessionDescriptionHandler",e[e.SessionDescriptionHandlerError=27]="SessionDescriptionHandlerError",e[e.SessionDescriptionHandlerObserver=28]="SessionDescriptionHandlerObserver",e[e.Subscription=29]="Subscription",e[e.Transport=30]="Transport",e[e.UA=31]="UA",e[e.URI=32]="URI"}(t.TypeStrings||(t.TypeStrings={})),function(e){e[e.STATUS_INIT=0]="STATUS_INIT",e[e.STATUS_STARTING=1]="STATUS_STARTING",e[e.STATUS_READY=2]="STATUS_READY",e[e.STATUS_USER_CLOSED=3]="STATUS_USER_CLOSED",e[e.STATUS_NOT_READY=4]="STATUS_NOT_READY"}(t.UAStatus||(t.UAStatus={}))},12355:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(19919),r=i(21127);!function(e){var t=function(e){function t(){return e.call(this,"The session description handler has closed.")||this}return n.__extends(t,e),t}(s.Exception);e.ClosedSessionDescriptionHandlerError=t;var i=function(e){function t(){return e.call(this,"The session has terminated.")||this}return n.__extends(t,e),t}(s.Exception);e.TerminatedSessionError=i;var r=function(e){function t(t){return e.call(this,t||"Unsupported session description content type.")||this}return n.__extends(t,e),t}(s.Exception);e.UnsupportedSessionDescriptionContentTypeError=r}(t.Exceptions||(t.Exceptions={}));var o=function(e){function t(t,i,n){var s=e.call(this,n)||this;return s.code=t,s.name=i,s.message=n,s}return n.__extends(t,e),t}(s.Exception);!function(e){var t=function(e){function t(t,i){var n=e.call(this,1,"CONFIGURATION_ERROR",i?"Invalid value "+JSON.stringify(i)+" for parameter '"+t+"'":"Missing parameter: "+t)||this;return n.type=r.TypeStrings.ConfigurationError,n.parameter=t,n.value=i,n}return n.__extends(t,e),t}(o);e.ConfigurationError=t;var i=function(e){function t(t){var i=e.call(this,2,"INVALID_STATE_ERROR","Invalid status: "+t)||this;return i.type=r.TypeStrings.InvalidStateError,i.status=t,i}return n.__extends(t,e),t}(o);e.InvalidStateError=i;var s=function(e){function t(t){var i=e.call(this,3,"NOT_SUPPORTED_ERROR",t)||this;return i.type=r.TypeStrings.NotSupportedError,i}return n.__extends(t,e),t}(o);e.NotSupportedError=s;var a=function(e){function t(t){var i=e.call(this,5,"RENEGOTIATION_ERROR",t)||this;return i.type=r.TypeStrings.RenegotiationError,i}return n.__extends(t,e),t}(o);e.RenegotiationError=a;var c=function(e){function t(t,i,n){var s=e.call(this,6,"METHOD_PARAMETER_ERROR",n?"Invalid value "+JSON.stringify(n)+" for parameter '"+i+"'":"Missing parameter: "+i)||this;return s.type=r.TypeStrings.MethodParameterError,s.method=t,s.parameter=i,s.value=n,s}return n.__extends(t,e),t}(o);e.MethodParameterError=c;var l=function(e){function t(t,i,n){var s=e.call(this,8,"SESSION_DESCRIPTION_HANDLER_ERROR",n||"Error with Session Description Handler")||this;return s.type=r.TypeStrings.SessionDescriptionHandlerError,s.method=t,s.error=i,s}return n.__extends(t,e),t}(o);e.SessionDescriptionHandlerError=l}(t.Exceptions||(t.Exceptions={}))},28707:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(19919);!function(e){function t(e,t){var i=t,n=0,s=0;if(e.substring(i,i+2).match(/(^\r\n)/))return-2;for(;0===n;){if(-1===(s=e.indexOf("\r\n",i)))return s;!e.substring(s+2,s+4).match(/(^\r\n)/)&&e.charAt(s+2).match(/(^\s+)/)?i=s+2:n=s}return n}function i(e,t,i,s){var r,o=t.indexOf(":",i),a=t.substring(i,o).trim(),c=t.substring(o+1,s).trim();switch(a.toLowerCase()){case"via":case"v":e.addHeader("via",c),1===e.getHeaders("via").length?(r=e.parseHeader("Via"))&&(e.via=r,e.viaBranch=r.branch):r=0;break;case"from":case"f":e.setHeader("from",c),(r=e.parseHeader("from"))&&(e.from=r,e.fromTag=r.getParam("tag"));break;case"to":case"t":e.setHeader("to",c),(r=e.parseHeader("to"))&&(e.to=r,e.toTag=r.getParam("tag"));break;case"record-route":if(-1===(r=n.Grammar.parse(c,"Record_Route"))){r=void 0;break}for(var l in r)r[l]&&(e.addHeader("record-route",c.substring(r[l].position,r[l].offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=r[l].parsed);break;case"call-id":case"i":e.setHeader("call-id",c),(r=e.parseHeader("call-id"))&&(e.callId=c);break;case"contact":case"m":if(-1===(r=n.Grammar.parse(c,"Contact"))){r=void 0;break}if(!(r instanceof Array)){r=void 0;break}r.forEach(function(t){e.addHeader("contact",c.substring(t.position,t.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=t.parsed});break;case"content-length":case"l":e.setHeader("content-length",c),r=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",c),r=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",c),(r=e.parseHeader("cseq"))&&(e.cseq=r.value),e instanceof n.IncomingResponseMessage&&(e.method=r.method);break;case"max-forwards":e.setHeader("max-forwards",c),r=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",c),r=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",c),r=e.parseHeader("proxy-authenticate");break;case"refer-to":case"r":e.setHeader("refer-to",c),(r=e.parseHeader("refer-to"))&&(e.referTo=r);break;default:e.addHeader(a.toLowerCase(),c),r=0}return void 0!==r||{error:"error parsing header '"+a+"'"}}e.getHeader=t,e.parseHeader=i,e.parseMessage=function(e,s){var r=0,o=e.indexOf("\r\n");if(-1!==o){var a,c=e.substring(0,o),l=n.Grammar.parse(c,"Request_Response");if(-1!==l){l.status_code?((a=new n.IncomingResponseMessage).statusCode=l.status_code,a.reasonPhrase=l.reason_phrase):((a=new n.IncomingRequestMessage).method=l.method,a.ruri=l.uri),a.data=e,r=o+2;for(var u;;){if(-2===(o=t(e,r))){u=r+2;break}if(-1===o)return void s.error("malformed message");if(!0!==i(a,e,r,o))return void s.error(l.error);r=o+2}return a.body=a.hasHeader("content-length")?e.substr(u,Number(a.getHeader("content-length"))):e.substring(u),a}s.warn('error parsing first line of SIP message: "'+c+'"')}else s.warn("no CRLF found, not a SIP message, discarded")}}(t.Parser||(t.Parser={}))},19372:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(85920),r=i(58159),o=i(19919),a=i(21127),c=i(12355),l=i(5756),u=function(e){function t(t,i,n,s){void 0===s&&(s={});var o=this;if(s.extraHeaders=(s.extraHeaders||[]).slice(),s.contentType=s.contentType||"text/plain",s.expires="number"!=typeof s.expires||s.expires%1!=0?3600:Number(s.expires),"boolean"!=typeof s.unpublishOnClose&&(s.unpublishOnClose=!0),null==i||""===i)throw new c.Exceptions.MethodParameterError("Publish","Target",i);if(void 0===(i=t.normalizeTarget(i)))throw new c.Exceptions.MethodParameterError("Publish","Target",i);if((o=e.call(this,t,r.C.PUBLISH,i,s)||this).type=a.TypeStrings.PublishContext,o.options=s,o.target=i,null==n||""===n)throw new c.Exceptions.MethodParameterError("Publish","Event",n);return o.event=n,o.logger=t.getLogger("sip.publish"),o.pubRequestExpires=o.options.expires,o}return n.__extends(t,e),t.prototype.publish=function(e){this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.options.body=e,this.pubRequestBody=this.options.body,0===this.pubRequestExpires&&(this.pubRequestExpires=this.options.expires,this.pubRequestEtag=void 0),this.ua.publishers[this.target.toString()+":"+this.event]||(this.ua.publishers[this.target.toString()+":"+this.event]=this),this.sendPublishRequest()},t.prototype.unpublish=function(){this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,void 0!==this.pubRequestEtag&&this.sendPublishRequest()},t.prototype.close=function(){this.options.unpublishOnClose?this.unpublish():(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,this.pubRequestEtag=void 0),this.ua.publishers[this.target.toString()+":"+this.event]&&delete this.ua.publishers[this.target.toString()+":"+this.event]},t.prototype.onRequestTimeout=function(){e.prototype.onRequestTimeout.call(this),this.emit("unpublished",void 0,r.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){e.prototype.onTransportError.call(this),this.emit("unpublished",void 0,r.C.causes.CONNECTION_ERROR)},t.prototype.receiveResponse=function(e){var t=this,i=e.statusCode||0,n=l.Utils.getReasonPhrase(i);switch(!0){case/^1[0-9]{2}$/.test(i.toString()):this.emit("progress",e,n);break;case/^2[0-9]{2}$/.test(i.toString()):if(e.hasHeader("SIP-ETag")?this.pubRequestEtag=e.getHeader("SIP-ETag"):this.logger.warn("SIP-ETag header missing in a 200-class response to PUBLISH"),e.hasHeader("Expires")){var s=Number(e.getHeader("Expires"));"number"==typeof s&&s>=0&&s<=this.pubRequestExpires?this.pubRequestExpires=s:this.logger.warn("Bad Expires header in a 200-class response to PUBLISH")}else this.logger.warn("Expires header missing in a 200-class response to PUBLISH");0!==this.pubRequestExpires?(this.publishRefreshTimer=setTimeout(function(){return t.refreshRequest()},900*this.pubRequestExpires),this.emit("published",e,n)):this.emit("unpublished",e,n);break;case/^412$/.test(i.toString()):void 0!==this.pubRequestEtag&&0!==this.pubRequestExpires?(this.logger.warn("412 response to PUBLISH, recovering"),this.pubRequestEtag=void 0,this.emit("progress",e,n),this.publish(this.options.body)):(this.logger.warn("412 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n));break;case/^423$/.test(i.toString()):if(0!==this.pubRequestExpires&&e.hasHeader("Min-Expires")){var r=Number(e.getHeader("Min-Expires"));"number"==typeof r||r>this.pubRequestExpires?(this.logger.warn("423 code in response to PUBLISH, adjusting the Expires value and trying to recover"),this.pubRequestExpires=r,this.emit("progress",e,n),this.publish(this.options.body)):(this.logger.warn("Bad 423 response Min-Expires header received for PUBLISH"),this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n))}else this.logger.warn("423 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n);break;default:this.pubRequestExpires=0,this.emit("failed",e,n),this.emit("unpublished",e,n)}0===this.pubRequestExpires&&(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestEtag=void 0)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.publish(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.refreshRequest=function(){if(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,void 0===this.pubRequestEtag)throw new c.Exceptions.MethodParameterError("Publish","Body",void 0);if(0===this.pubRequestExpires)throw new c.Exceptions.MethodParameterError("Publish","Expire",this.pubRequestExpires);this.sendPublishRequest()},t.prototype.sendPublishRequest=function(){var e=Object.create(this.options||Object.prototype);e.extraHeaders=(this.options.extraHeaders||[]).slice(),e.extraHeaders.push("Event: "+this.event),e.extraHeaders.push("Expires: "+this.pubRequestExpires),void 0!==this.pubRequestEtag&&e.extraHeaders.push("SIP-If-Match: "+this.pubRequestEtag);var t=this.target instanceof o.URI?this.target:this.ua.normalizeTarget(this.target);if(!t)throw new Error("ruri undefined.");var i,n,s=this.options.params||{};void 0!==this.pubRequestBody&&(i={body:this.pubRequestBody,contentType:this.options.contentType}),i&&(n=l.Utils.fromBodyObj(i)),this.request=this.ua.userAgentCore.makeOutgoingRequestMessage(r.C.PUBLISH,t,s.fromUri?s.fromUri:this.ua.userAgentCore.configuration.aor,s.toUri?s.toUri:this.target,s,e.extraHeaders,n),this.send()},t}(s.ClientContext);t.PublishContext=u},66638:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(85920),r=i(58159),o=i(19919),a=i(21127),c=i(12355),l=i(65780),u=function(e){function t(t,i,n,s){void 0===s&&(s={});var o=this;if(void 0===t||void 0===i||void 0===n)throw new TypeError("Not enough arguments");return(o=e.call(this,t,r.C.REFER,i.remoteIdentity.uri.toString(),s)||this).type=a.TypeStrings.ReferClientContext,o.options=s,o.extraHeaders=(o.options.extraHeaders||[]).slice(),o.applicant=i,o.target=o.initReferTo(n),o.ua&&o.extraHeaders.push("Referred-By: <"+o.ua.configuration.uri+">"),o.extraHeaders.push("Contact: "+i.contact),o.extraHeaders.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),o.extraHeaders.push("Refer-To: "+o.target),o.errorListener=o.onTransportError.bind(o),t.transport&&t.transport.on("transportError",o.errorListener),o}return n.__extends(t,e),t.prototype.refer=function(e){var t=this;void 0===e&&(e={});var i=(this.extraHeaders||[]).slice();return e.extraHeaders&&i.concat(e.extraHeaders),this.applicant.sendRequest(r.C.REFER,{extraHeaders:this.extraHeaders,receiveResponse:function(i){var n=i&&i.statusCode?i.statusCode.toString():"";/^1[0-9]{2}$/.test(n)?t.emit("referRequestProgress",t):/^2[0-9]{2}$/.test(n)?t.emit("referRequestAccepted",t):/^[4-6][0-9]{2}$/.test(n)&&t.emit("referRequestRejected",t),e.receiveResponse&&e.receiveResponse(i)}}),this},t.prototype.receiveNotify=function(e){var t=e.message.hasHeader("Content-Type")?e.message.getHeader("Content-Type"):void 0;if(t&&-1!==t.search(/^message\/sipfrag/)){var i=o.Grammar.parse(e.message.body,"sipfrag");if(-1===i)return void e.reject({statusCode:489,reasonPhrase:"Bad Event"});switch(!0){case/^1[0-9]{2}$/.test(i.status_code):this.emit("referProgress",this);break;case/^2[0-9]{2}$/.test(i.status_code):this.emit("referAccepted",this),!this.options.activeAfterTransfer&&this.applicant.terminate&&this.applicant.terminate();break;default:this.emit("referRejected",this)}return e.accept(),void this.emit("notify",e.message)}e.reject({statusCode:489,reasonPhrase:"Bad Event"})},t.prototype.initReferTo=function(e){var t;if("string"==typeof e){var i=o.Grammar.parse(e,"Refer_To");t=i&&i.uri?i.uri:e;var n=this.ua.normalizeTarget(e);if(!n)throw new TypeError("Invalid target: "+e);t=n}else{if(!e.session)throw new Error("Session undefined.");t='"'+e.remoteIdentity.friendlyName+'" <'+e.session.remoteTarget.toString()+"?Replaces="+encodeURIComponent(e.session.callId+";to-tag="+e.session.remoteTag+";from-tag="+e.session.localTag)+">"}return t},t}(s.ClientContext);t.ReferClientContext=u;var h=function(e){function t(t,i,n){var s=e.call(this,t,i)||this;return s.session=n,s.type=a.TypeStrings.ReferServerContext,s.ua=t,s.status=a.SessionStatus.STATUS_INVITE_RECEIVED,s.fromTag=s.request.fromTag,s.id=s.request.callId+s.fromTag,s.contact=s.ua.contact.toString(),s.logger=t.getLogger("sip.referservercontext",s.id),s.cseq=Math.floor(1e4*Math.random()),s.callId=s.request.callId,s.fromUri=s.request.to.uri,s.fromTag=s.request.to.parameters.tag,s.remoteTarget=s.request.headers.Contact[0].parsed.uri,s.toUri=s.request.from.uri,s.toTag=s.request.fromTag,s.routeSet=s.request.getHeaders("record-route"),s.request.hasHeader("refer-to")?(s.referTo=s.request.parseHeader("refer-to"),s.referredSession=s.ua.findSession(s.request),s.request.hasHeader("referred-by")&&(s.referredBy=s.request.getHeader("referred-by")),s.referTo.uri.hasHeader("replaces")&&(s.replaces=s.referTo.uri.getHeader("replaces")),s.errorListener=s.onTransportError.bind(s),t.transport&&t.transport.on("transportError",s.errorListener),s.status=a.SessionStatus.STATUS_WAITING_FOR_ANSWER,s):(s.logger.warn("Invalid REFER packet. A refer-to header is required. Rejecting refer."),s.reject(),s)}return n.__extends(t,e),t.prototype.progress=function(){if(this.status!==a.SessionStatus.STATUS_WAITING_FOR_ANSWER)throw new c.Exceptions.InvalidStateError(this.status);this.incomingRequest.trying()},t.prototype.reject=function(t){if(void 0===t&&(t={}),this.status===a.SessionStatus.STATUS_TERMINATED)throw new c.Exceptions.InvalidStateError(this.status);this.logger.log("Rejecting refer"),this.status=a.SessionStatus.STATUS_TERMINATED,e.prototype.reject.call(this,t),this.emit("referRequestRejected",this)},t.prototype.accept=function(e,t){var i=this;if(void 0===e&&(e={}),this.status!==a.SessionStatus.STATUS_WAITING_FOR_ANSWER)throw new c.Exceptions.InvalidStateError(this.status);if(this.status=a.SessionStatus.STATUS_ANSWERED,this.incomingRequest.accept({statusCode:202,reasonPhrase:"Accepted"}),this.emit("referRequestAccepted",this),e.followRefer){this.logger.log("Accepted refer, attempting to automatically follow it");var n=this.referTo.uri;if(!n.scheme||!n.scheme.match("^sips?$"))return this.logger.error("SIP.js can only automatically follow SIP refer target"),void this.reject();var s=e.inviteOptions||{},r=(s.extraHeaders||[]).slice();if(this.replaces&&r.push("Replaces: "+decodeURIComponent(this.replaces)),this.referredBy&&r.push("Referred-By: "+this.referredBy),s.extraHeaders=r,n.clearHeaders(),this.targetSession=this.ua.invite(n.toString(),s,t),this.emit("referInviteSent",this),this.targetSession){this.targetSession.once("progress",function(e){i.sendNotify(("SIP/2.0 "+(e.statusCode||100)+" "+e.reasonPhrase).trim()),i.emit("referProgress",i),i.referredSession&&i.referredSession.emit("referProgress",i)}),this.targetSession.once("accepted",function(){i.logger.log("Successfully followed the refer"),i.sendNotify("SIP/2.0 200 OK"),i.emit("referAccepted",i),i.referredSession&&i.referredSession.emit("referAccepted",i)});var o=function(e){if(i.status!==a.SessionStatus.STATUS_TERMINATED){if(i.logger.log("Refer was not successful. Resuming session"),e&&429===e.statusCode)return i.logger.log("Alerting referrer that identity is required."),void i.sendNotify("SIP/2.0 429 Provide Referrer Identity");i.sendNotify("SIP/2.0 603 Declined"),i.status=a.SessionStatus.STATUS_TERMINATED,i.emit("referRejected",i),i.referredSession&&i.referredSession.emit("referRejected")}};this.targetSession.once("rejected",o),this.targetSession.once("failed",o)}}else this.logger.log("Accepted refer, but did not automatically follow it"),this.sendNotify("SIP/2.0 200 OK"),this.emit("referAccepted",this),this.referredSession&&this.referredSession.emit("referAccepted",this)},t.prototype.sendNotify=function(e){if(this.status!==a.SessionStatus.STATUS_ANSWERED)throw new c.Exceptions.InvalidStateError(this.status);if(-1===o.Grammar.parse(e,"sipfrag"))throw new Error("sipfrag body is required to send notify for refer");var t={contentDisposition:"render",contentType:"message/sipfrag",content:e};if(this.session)this.session.notify(void 0,{extraHeaders:["Event: refer","Subscription-State: terminated"],body:t});else{var i=this.ua.userAgentCore.makeOutgoingRequestMessage(r.C.NOTIFY,this.remoteTarget,this.fromUri,this.toUri,{cseq:this.cseq+=1,callId:this.callId,fromTag:this.fromTag,toTag:this.toTag,routeSet:this.routeSet},["Event: refer","Subscription-State: terminated","Content-Type: message/sipfrag"],t),n=this.ua.transport;if(!n)throw new Error("Transport undefined.");var s={loggerFactory:this.ua.getLoggerFactory()};new o.NonInviteClientTransaction(i,n,s)}},t.prototype.on=function(t,i){return e.prototype.on.call(this,t,i)},t}(l.ServerContext);t.ReferServerContext=h},16356:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(85920),r=i(58159),o=i(19919),a=i(21127),c=i(12355),l=i(5756);var u=function(e){function t(t,i){void 0===i&&(i={});var n=this,s=function(e){var t={expires:600,extraContactHeaderParams:[],instanceId:void 0,params:{},regId:void 0,registrar:void 0},i={mandatory:{},optional:{expires:function(e){if(l.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},extraContactHeaderParams:function(e){if(e instanceof Array)return e.filter(function(e){return"string"==typeof e})},instanceId:function(e){if("string"==typeof e&&(/^uuid:/i.test(e)&&(e=e.substr(5)),-1!==o.Grammar.parse(e,"uuid")))return e},params:function(e){if("object"==typeof e)return e},regId:function(e){if(l.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},registrar:function(e){if("string"==typeof e){/^sip:/i.test(e)||(e=r.C.SIP+":"+e);var t=o.Grammar.URIParse(e);if(t)return t.user?void 0:t}}}};for(var n in i.mandatory){if(!e.hasOwnProperty(n))throw new c.Exceptions.ConfigurationError(n);if(void 0===(a=i.mandatory[n](s=e[n])))throw new c.Exceptions.ConfigurationError(n,s);t[n]=a}for(var n in i.optional)if(e.hasOwnProperty(n)){var s,a;if((s=e[n])instanceof Array&&0===s.length||null===s||""===s||void 0===s||"number"==typeof s&&isNaN(s))continue;if(void 0===(a=i.optional[n](s)))throw new c.Exceptions.ConfigurationError(n,s);t[n]=a}return t}(i);if(s.regId&&!s.instanceId?s.instanceId=l.Utils.newUUID():!s.regId&&s.instanceId&&(s.regId=1),s.params.toUri=s.params.toUri||t.configuration.uri,s.params.toDisplayName=s.params.toDisplayName||t.configuration.displayName,s.params.callId=s.params.callId||l.Utils.createRandomToken(22),s.params.cseq=s.params.cseq||Math.floor(1e4*Math.random()),!s.registrar){var u={};"object"==typeof t.configuration.uri?(u=t.configuration.uri.clone()).user=void 0:u=t.configuration.uri,s.registrar=u}for(var h in(n=e.call(this,t,r.C.REGISTER,s.registrar,s)||this).type=a.TypeStrings.RegisterContext,n.options=s,n.logger=t.getLogger("sip.registercontext"),n.logger.log("configuration parameters for RegisterContext after validation:"),s)s.hasOwnProperty(h)&&n.logger.log("\xb7 "+h+": "+JSON.stringify(s[h]));return n.expires=s.expires,n.contact=t.contact.toString(),n.registered=!1,t.transport.on("disconnected",function(){return n.onTransportDisconnected()}),n}return n.__extends(t,e),t.prototype.register=function(e){var t=this;void 0===e&&(e={}),this.options=n.__assign({},this.options,e);var i=(this.options.extraHeaders||[]).slice();i.push("Contact: "+this.generateContactHeader(this.expires)),i.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER","UPDATE"].toString()),this.closeHeaders=this.options.closeWithHeaders?(this.options.extraHeaders||[]).slice():[],this.receiveResponse=function(e){if(e.cseq===t.request.cseq){void 0!==t.registrationTimer&&(clearTimeout(t.registrationTimer),t.registrationTimer=void 0);var i=(e.statusCode||0).toString();switch(!0){case/^1[0-9]{2}$/.test(i):t.emit("progress",e);break;case/^2[0-9]{2}$/.test(i):t.emit("accepted",e);var n=void 0;e.hasHeader("expires")&&(n=Number(e.getHeader("expires"))),void 0!==t.registrationExpiredTimer&&(clearTimeout(t.registrationExpiredTimer),t.registrationExpiredTimer=void 0);var s=e.getHeaders("contact").length;if(!s){t.logger.warn("no Contact header in response to REGISTER, response ignored");break}for(var a=void 0;s--;){if((a=e.parseHeader("contact",s)).uri.user===t.ua.contact.uri.user){n=a.getParam("expires");break}a=void 0}if(!a){t.logger.warn("no Contact header pointing to us, response ignored");break}void 0===n&&(n=t.expires);var c=1e3*n;t.registrationTimer=setTimeout(function(){t.registrationTimer=void 0,t.register(t.options)},c-c/2),t.registrationExpiredTimer=setTimeout(function(){t.logger.warn("registration expired"),t.registered&&t.unregistered(void 0,r.C.causes.EXPIRES)},1e3*n),a.hasParam("temp-gruu")&&(t.ua.contact.tempGruu=o.Grammar.URIParse(a.getParam("temp-gruu").replace(/"/g,""))),a.hasParam("pub-gruu")&&(t.ua.contact.pubGruu=o.Grammar.URIParse(a.getParam("pub-gruu").replace(/"/g,""))),t.registered=!0,t.emit("registered",e||void 0);break;case/^423$/.test(i):e.hasHeader("min-expires")?(t.expires=Number(e.getHeader("min-expires")),t.register(t.options)):(t.logger.warn("423 response received for REGISTER without Min-Expires"),t.registrationFailure(e,r.C.causes.SIP_FAILURE_CODE));break;default:t.registrationFailure(e,l.Utils.sipErrorCause(e.statusCode||0))}}},this.onRequestTimeout=function(){t.registrationFailure(void 0,r.C.causes.REQUEST_TIMEOUT)},this.onTransportError=function(){t.registrationFailure(void 0,r.C.causes.CONNECTION_ERROR)},this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=i,this.send()},t.prototype.close=function(){var e={all:!1,extraHeaders:this.closeHeaders};this.registeredBefore=this.registered,this.registered&&this.unregister(e)},t.prototype.unregister=function(e){var t=this;void 0===e&&(e={}),!this.registered&&!e.all&&this.logger.warn("Already unregistered, but sending an unregister anyways.");var i=(e.extraHeaders||[]).slice();this.registered=!1,void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),e.all?(i.push("Contact: *"),i.push("Expires: 0")):i.push("Contact: "+this.generateContactHeader(0)),this.receiveResponse=function(e){var i=e&&e.statusCode?e.statusCode.toString():"";switch(!0){case/^1[0-9]{2}$/.test(i):t.emit("progress",e);break;case/^2[0-9]{2}$/.test(i):t.emit("accepted",e),void 0!==t.registrationExpiredTimer&&(clearTimeout(t.registrationExpiredTimer),t.registrationExpiredTimer=void 0),t.unregistered(e);break;default:t.unregistered(e,l.Utils.sipErrorCause(e.statusCode||0))}},this.onRequestTimeout=function(){},this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=i,this.send()},t.prototype.unregistered=function(e,t){this.registered=!1,this.emit("unregistered",e||void 0,t||void 0)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.register(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.registrationFailure=function(e,t){this.emit("failed",e||void 0,t||void 0)},t.prototype.onTransportDisconnected=function(){this.registeredBefore=this.registered,void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),void 0!==this.registrationExpiredTimer&&(clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=void 0),this.registered&&this.unregistered(void 0,r.C.causes.CONNECTION_ERROR)},t.prototype.generateContactHeader=function(e){void 0===e&&(e=0);var t=this.contact;return this.options.regId&&this.options.instanceId&&(t+=";reg-id="+this.options.regId,t+=';+sip.instance="<urn:uuid:'+this.options.instanceId+'>"'),this.options.extraContactHeaderParams&&this.options.extraContactHeaderParams.forEach(function(e){t+=";"+e}),t+=";expires="+e},t}(s.ClientContext);t.RegisterContext=u},65780:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(93105),r=i(58159),o=i(19919),a=i(21127),c=i(5756),l=function(e){function t(i,n){var s=e.call(this)||this;return s.incomingRequest=n,s.data={},t.initializer(s,i,n),s}return n.__extends(t,e),t.initializer=function(e,t,i){var n=i.message;if(e.type=a.TypeStrings.ServerContext,e.ua=t,e.logger=t.getLogger("sip.servercontext"),e.request=n,n.body&&(e.body=n.body),n.hasHeader("Content-Type")&&(e.contentType=n.getHeader("Content-Type")),e.method=n.method,e.localIdentity=n.to,e.remoteIdentity=n.from,n.hasHeader("P-Asserted-Identity")){var s=n.getHeader("P-Asserted-Identity");s&&(e.assertedIdentity=o.Grammar.nameAddrHeaderParse(s))}},t.prototype.progress=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||180,e.minCode=100,e.maxCode=199,e.events=["progress"],this.reply(e)},t.prototype.accept=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||200,e.minCode=200,e.maxCode=299,e.events=["accepted"],this.reply(e)},t.prototype.reject=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||480,e.minCode=300,e.maxCode=699,e.events=["rejected","failed"],this.reply(e)},t.prototype.reply=function(e){var t=this;void 0===e&&(e={});var i=e.statusCode||100,n=e.minCode||100,s=e.maxCode||699,r=c.Utils.getReasonPhrase(i,e.reasonPhrase),a=e.extraHeaders||[],l=e.body?o.fromBodyLegacy(e.body):void 0,u=e.events||[];if(i<n||i>s)throw new TypeError("Invalid statusCode: "+i);var h,d={statusCode:i,reasonPhrase:r,extraHeaders:a,body:l},p=i.toString();switch(!0){case/^100$/.test(p):h=this.incomingRequest.trying(d).message;break;case/^1[0-9]{2}$/.test(p):h=this.incomingRequest.progress(d).message;break;case/^2[0-9]{2}$/.test(p):h=this.incomingRequest.accept(d).message;break;case/^3[0-9]{2}$/.test(p):h=this.incomingRequest.redirect([],d).message;break;case/^[4-6][0-9]{2}$/.test(p):h=this.incomingRequest.reject(d).message;break;default:throw new Error("Invalid status code "+i)}return u.forEach(function(e){t.emit(e,h,r)}),this},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,r.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",void 0,r.C.causes.CONNECTION_ERROR)},t}(s.EventEmitter);t.ServerContext=l},32285:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(93105),r=i(85920),o=i(58159),a=i(19919),c=i(21127),l=i(12355),u=i(66638),h=i(65780),d=i(93848),p=i(5756),f=function(e){function t(i){var n=e.call(this)||this;if(n.data={},n.type=c.TypeStrings.Session,!i)throw new l.Exceptions.SessionDescriptionHandlerError("A session description handler is required for the session to function");return n.status=t.C.STATUS_NULL,n.pendingReinvite=!1,n.sessionDescriptionHandlerFactory=i,n.hasOffer=!1,n.hasAnswer=!1,n.timers={ackTimer:void 0,expiresTimer:void 0,invite2xxTimer:void 0,userNoAnswerTimer:void 0,rel1xxTimer:void 0,prackTimer:void 0},n.startTime=void 0,n.endTime=void 0,n.tones=void 0,n.localHold=!1,n.earlySdp=void 0,n.rel100=o.C.supported.UNSUPPORTED,n}return n.__extends(t,e),t.prototype.dtmf=function(e,t){var i=this;if(void 0===t&&(t={}),this.status!==c.SessionStatus.STATUS_CONFIRMED&&this.status!==c.SessionStatus.STATUS_WAITING_FOR_ACK)throw new l.Exceptions.InvalidStateError(this.status);if(!e||!e.toString().match(/^[0-9A-D#*,]+$/i))throw new TypeError("Invalid tones: "+e);var n=function(){if(i.status!==c.SessionStatus.STATUS_TERMINATED&&i.tones&&0!==i.tones.length){var e,s=i.tones.shift();","===s.tone?e=2e3:(s.on("failed",function(){i.tones=void 0}),s.send(t),e=s.duration+s.interToneGap),setTimeout(n,e)}else i.tones=void 0};e=e.toString();var s=this.ua.configuration.dtmfType;if(this.sessionDescriptionHandler&&s===o.C.dtmfType.RTP&&(this.sessionDescriptionHandler.sendDtmf(e,t)||(this.logger.warn("Attempt to use dtmfType 'RTP' has failed, falling back to INFO packet method"),s=o.C.dtmfType.INFO)),s===o.C.dtmfType.INFO){for(var r=[],a=e.split("");a.length>0;)r.push(new d.DTMF(this,a.shift(),t));if(this.tones)return this.tones=this.tones.concat(r),this;this.tones=r,n()}return this},t.prototype.bye=function(e){if(void 0===e&&(e={}),this.status===c.SessionStatus.STATUS_TERMINATED)return this.logger.error("Error: Attempted to send BYE in a terminated session."),this;this.logger.log("terminating Session");var t=e.statusCode;if(t&&(t<200||t>=700))throw new TypeError("Invalid statusCode: "+t);return e.receiveResponse=function(){},this.sendRequest(o.C.BYE,e).terminated()},t.prototype.refer=function(e,t){if(void 0===t&&(t={}),this.status!==c.SessionStatus.STATUS_CONFIRMED)throw new l.Exceptions.InvalidStateError(this.status);return this.referContext=new u.ReferClientContext(this.ua,this,e,t),this.emit("referRequested",this.referContext),this.referContext.refer(t),this.referContext},t.prototype.sendRequest=function(e,t){if(void 0===t&&(t={}),!this.session)throw new Error("Session undefined.");t.body&&(t.body=p.Utils.fromBodyObj(t.body));var i,n=t.receiveResponse;n&&(i={onAccept:function(e){return n(e.message)},onProgress:function(e){return n(e.message)},onRedirect:function(e){return n(e.message)},onReject:function(e){return n(e.message)},onTrying:function(e){return n(e.message)}});var s,r=t;switch(e){case o.C.BYE:s=this.session.bye(i,r);break;case o.C.INVITE:s=this.session.invite(i,r);break;case o.C.REFER:s=this.session.refer(i,r);break;default:throw new Error("Unexpected "+e+". Method not implemented by user agent core.")}return this.emit(e.toLowerCase(),s.message),this},t.prototype.close=function(){if(this.status===c.SessionStatus.STATUS_TERMINATED)return this;for(var e in this.logger.log("closing INVITE session "+this.id),this.sessionDescriptionHandler&&this.sessionDescriptionHandler.close(),this.timers)this.timers[e]&&clearTimeout(this.timers[e]);return this.status=c.SessionStatus.STATUS_TERMINATED,this.ua.transport&&this.ua.transport.removeListener("transportError",this.errorListener),delete this.ua.sessions[this.id],this},t.prototype.hold=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=[]),this.status!==c.SessionStatus.STATUS_WAITING_FOR_ACK&&this.status!==c.SessionStatus.STATUS_CONFIRMED)throw new l.Exceptions.InvalidStateError(this.status);this.localHold?this.logger.log("Session is already on hold, cannot put it on hold again"):(e.modifiers=t,this.sessionDescriptionHandler&&e.modifiers.push(this.sessionDescriptionHandler.holdModifier),this.localHold=!0,this.sendReinvite(e))},t.prototype.unhold=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=[]),this.status!==c.SessionStatus.STATUS_WAITING_FOR_ACK&&this.status!==c.SessionStatus.STATUS_CONFIRMED)throw new l.Exceptions.InvalidStateError(this.status);this.localHold?(e.modifiers=t,this.localHold=!1,this.sendReinvite(e)):this.logger.log("Session is not on hold, cannot unhold it")},t.prototype.reinvite=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=[]),e.modifiers=t,this.sendReinvite(e)},t.prototype.terminate=function(e){return this},t.prototype.onTransportError=function(){this.status!==c.SessionStatus.STATUS_CONFIRMED&&this.status!==c.SessionStatus.STATUS_TERMINATED&&this.failed(void 0,o.C.causes.CONNECTION_ERROR)},t.prototype.onUpdateFn=function(e){this.emit("update-fn",e)},t.prototype.onRequestTimeout=function(){this.status===c.SessionStatus.STATUS_CONFIRMED?this.terminated(void 0,o.C.causes.REQUEST_TIMEOUT):this.status!==c.SessionStatus.STATUS_TERMINATED&&(this.failed(void 0,o.C.causes.REQUEST_TIMEOUT),this.terminated(void 0,o.C.causes.REQUEST_TIMEOUT))},t.prototype.onDialogError=function(e){this.status===c.SessionStatus.STATUS_CONFIRMED?this.terminated(e,o.C.causes.DIALOG_ERROR):this.status!==c.SessionStatus.STATUS_TERMINATED&&(this.failed(e,o.C.causes.DIALOG_ERROR),this.terminated(e,o.C.causes.DIALOG_ERROR))},t.prototype.on=function(t,i){return e.prototype.on.call(this,t,i)},t.prototype.onAck=function(e){var t=this,i=function(){clearTimeout(t.timers.ackTimer),clearTimeout(t.timers.invite2xxTimer),t.status=c.SessionStatus.STATUS_CONFIRMED;var i=e.message.getHeader("Content-Disposition");i&&"render"===i.type&&(t.renderbody=e.message.body,t.rendertype=e.message.getHeader("Content-Type")),t.emit("confirmed",e.message)};this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK&&(this.sessionDescriptionHandler&&this.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||"")?(this.hasAnswer=!0,this.sessionDescriptionHandler.setDescription(e.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).catch(function(i){throw t.logger.warn(i),t.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),t.failed(e.message,o.C.causes.BAD_MEDIA_DESCRIPTION),t.terminated(e.message,o.C.causes.BAD_MEDIA_DESCRIPTION),i}).then(function(){return i()})):i())},t.prototype.receiveRequest=function(e){switch(e.message.method){case o.C.BYE:e.accept(),this.status===c.SessionStatus.STATUS_CONFIRMED&&(this.emit("bye",e.message),this.terminated(e.message,o.C.BYE));break;case o.C.INVITE:this.status===c.SessionStatus.STATUS_CONFIRMED&&(this.logger.log("re-INVITE received"),this.receiveReinvite(e));break;case o.C.INFO:if(this.status===c.SessionStatus.STATUS_CONFIRMED||this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK){if(this.onInfo)return this.onInfo(e.message);var t=e.message.getHeader("content-type");if(t)if(t.match(/^application\/dtmf-relay/i)){if(e.message.body){var i=e.message.body.split("\r\n",2);if(2===i.length){var n=void 0,s=void 0,r=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/;r.test(i[0])&&(n=i[0].replace(r,"$2"));var a=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;a.test(i[1])&&(s=parseInt(i[1].replace(a,"$2"),10)),n&&s&&new d.DTMF(this,n,{duration:s}).init_incoming(e)}}}else e.reject({statusCode:415,extraHeaders:["Accept: application/dtmf-relay"]})}break;case o.C.REFER:if(this.status===c.SessionStatus.STATUS_CONFIRMED)if(this.logger.log("REFER received"),this.referContext=new u.ReferServerContext(this.ua,e,this.session),this.listeners("referRequested").length)this.emit("referRequested",this.referContext);else{this.logger.log("No referRequested listeners, automatically accepting and following the refer");var l={followRefer:!0};this.passedOptions&&(l.inviteOptions=this.passedOptions),this.referContext.accept(l,this.modifiers)}break;case o.C.NOTIFY:if(this.referContext&&this.referContext.type===c.TypeStrings.ReferClientContext&&e.message.hasHeader("event")&&/^refer(;.*)?$/.test(e.message.getHeader("event")))return void this.referContext.receiveNotify(e);e.accept(),this.emit("notify",e.message)}},t.prototype.receiveReinvite=function(e){var t,i=this;if(this.emit("reinvite",this,e.message),e.message.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(e.message.getHeader("P-Asserted-Identity"))),this.sessionDescriptionHandler){if("0"!==e.message.getHeader("Content-Length")||e.message.getHeader("Content-Type")){if(!this.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||""))return e.reject({statusCode:415}),void this.emit("reinviteFailed",this);t=this.sessionDescriptionHandler.setDescription(e.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).then(this.sessionDescriptionHandler.getDescription.bind(this.sessionDescriptionHandler,this.sessionDescriptionHandlerOptions,this.modifiers))}else t=this.sessionDescriptionHandler.getDescription(this.sessionDescriptionHandlerOptions,this.modifiers);t.catch(function(t){var n;throw t.type===c.TypeStrings.SessionDescriptionHandlerError?n=500:t.type===c.TypeStrings.RenegotiationError?(i.emit("renegotiationError",t),i.logger.warn(t.toString()),n=488):(i.logger.error(t),n=488),e.reject({statusCode:n}),i.emit("reinviteFailed",i),t}).then(function(t){e.accept({statusCode:200,extraHeaders:["Contact: "+i.contact],body:p.Utils.fromBodyObj(t)}),i.status=c.SessionStatus.STATUS_WAITING_FOR_ACK,i.emit("reinviteAccepted",i)})}else this.logger.warn("No SessionDescriptionHandler to reinvite")},t.prototype.sendReinvite=function(e){var t=this;if(void 0===e&&(e={}),this.pendingReinvite)this.logger.warn("Reinvite in progress. Please wait until complete, then try again.");else if(this.sessionDescriptionHandler){this.pendingReinvite=!0,e.modifiers=e.modifiers||[];var i=(e.extraHeaders||[]).slice();i.push("Contact: "+this.contact),i.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.sessionDescriptionHandler.getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then(function(e){if(!t.session)throw new Error("Session undefined.");var n={onAccept:function(e){if(t.status!==c.SessionStatus.STATUS_TERMINATED){if(t.pendingReinvite)return t.status=c.SessionStatus.STATUS_CONFIRMED,t.emit("ack",e.ack()),t.pendingReinvite=!1,clearTimeout(t.timers.invite2xxTimer),t.sessionDescriptionHandler&&t.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||"")?void t.sessionDescriptionHandler.setDescription(e.message.body,t.sessionDescriptionHandlerOptions,t.modifiers).catch(function(e){throw t.logger.error("Could not set the description in 2XX response"),t.logger.error(e),t.emit("reinviteFailed",t),t.emit("renegotiationError",e),t.sendRequest(o.C.BYE,{extraHeaders:["Reason: "+p.Utils.getReasonHeaderValue(488,"Not Acceptable Here")]}),t.terminated(void 0,o.C.causes.INCOMPATIBLE_SDP),e}).then(function(){t.emit("reinviteAccepted",t)}):(t.logger.error("2XX response received to re-invite but did not have a description"),t.emit("reinviteFailed",t),void t.emit("renegotiationError",new l.Exceptions.RenegotiationError("2XX response received to re-invite but did not have a description")));t.logger.error("Received reinvite response, but have no pending reinvite")}else t.logger.error("Received reinvite response, but in STATUS_TERMINATED")},onProgress:function(e){},onRedirect:function(e){t.pendingReinvite=!1,t.logger.log("Received a non 1XX or 2XX response to a re-invite"),t.emit("reinviteFailed",t),t.emit("renegotiationError",new l.Exceptions.RenegotiationError("Invalid response to a re-invite"))},onReject:function(e){t.pendingReinvite=!1,t.logger.log("Received a non 1XX or 2XX response to a re-invite"),t.emit("reinviteFailed",t),t.emit("renegotiationError",new l.Exceptions.RenegotiationError("Invalid response to a re-invite"))},onTrying:function(e){}},s={extraHeaders:i,body:p.Utils.fromBodyObj(e)};t.session.invite(n,s)}).catch(function(e){throw e.type===c.TypeStrings.RenegotiationError?(t.pendingReinvite=!1,t.emit("renegotiationError",e),t.logger.warn("Renegotiation Error"),t.logger.warn(e.toString()),e):(t.logger.error("sessionDescriptionHandler error"),t.logger.error(e),e)})}else this.logger.warn("No SessionDescriptionHandler, can't reinvite..")},t.prototype.failed=function(e,t){return this.status===c.SessionStatus.STATUS_TERMINATED||this.emit("failed",e,t),this},t.prototype.rejected=function(e,t){return this.emit("rejected",e,t),this},t.prototype.canceled=function(){return this.sessionDescriptionHandler&&this.sessionDescriptionHandler.close(),this.emit("cancel"),this},t.prototype.accepted=function(e,t){return e instanceof String||(t=p.Utils.getReasonPhrase(e&&e.statusCode||0,t)),this.startTime=new Date,this.replacee&&(this.replacee.emit("replaced",this),this.replacee.terminate()),this.emit("accepted",e,t),this},t.prototype.terminated=function(e,t){return this.status===c.SessionStatus.STATUS_TERMINATED||(this.endTime=new Date,this.close(),this.emit("terminated",e,t)),this},t.prototype.connecting=function(e){return this.emit("connecting",{request:e}),this},t.C=c.SessionStatus,t}(s.EventEmitter);t.Session=f;var m=function(e){function t(t,i){var n=this;if(!t.configuration.sessionDescriptionHandlerFactory)throw t.logger.warn("Can't build ISC without SDH Factory"),new Error("ISC Constructor Failed");(n=e.call(this,t.configuration.sessionDescriptionHandlerFactory)||this)._canceled=!1,n.rseq=Math.floor(1e4*Math.random()),n.incomingRequest=i;var s=i.message;h.ServerContext.initializer(n,t,i),n.type=c.TypeStrings.InviteServerContext;var r=s.parseHeader("Content-Disposition");r&&"render"===r.type&&(n.renderbody=s.body,n.rendertype=s.getHeader("Content-Type")),n.status=c.SessionStatus.STATUS_INVITE_RECEIVED,n.fromTag=s.fromTag,n.id=s.callId+n.fromTag,n.request=s,n.contact=n.ua.contact.toString(),n.logger=t.getLogger("sip.inviteservercontext",n.id),n.ua.sessions[n.id]=n;var a=function(e,t){s.hasHeader(e)&&s.getHeader(e).toLowerCase().indexOf("100rel")>=0&&(n.rel100=t)};if(a("require",o.C.supported.REQUIRED),a("supported",o.C.supported.SUPPORTED),n.request.toTag=i.toTag,n.status=c.SessionStatus.STATUS_WAITING_FOR_ANSWER,n.timers.userNoAnswerTimer=setTimeout(function(){i.reject({statusCode:408}),n.failed(s,o.C.causes.NO_ANSWER),n.terminated(s,o.C.causes.NO_ANSWER)},n.ua.configuration.noAnswerTimeout||60),s.hasHeader("expires")){var l=1e3*Number(s.getHeader("expires")||0);n.timers.expiresTimer=setTimeout(function(){n.status===c.SessionStatus.STATUS_WAITING_FOR_ANSWER&&(i.reject({statusCode:487}),n.failed(s,o.C.causes.EXPIRES),n.terminated(s,o.C.causes.EXPIRES))},l)}return n.errorListener=n.onTransportError.bind(n),t.transport&&t.transport.on("transportError",n.errorListener),n}return n.__extends(t,e),Object.defineProperty(t.prototype,"autoSendAnInitialProvisionalResponse",{get:function(){return this.rel100!==o.C.supported.REQUIRED},enumerable:!0,configurable:!0}),t.prototype.reply=function(e){return void 0===e&&(e={}),this},t.prototype.reject=function(e){var t=this;if(void 0===e&&(e={}),this.status===c.SessionStatus.STATUS_TERMINATED)throw new l.Exceptions.InvalidStateError(this.status);this.logger.log("rejecting RTCSession");var i=e.statusCode||480,n=p.Utils.getReasonPhrase(i,e.reasonPhrase),s=e.extraHeaders||[];if(i<300||i>699)throw new TypeError("Invalid statusCode: "+i);var r=e.body?a.fromBodyLegacy(e.body):void 0,o=i<400?this.incomingRequest.redirect([],{statusCode:i,reasonPhrase:n,extraHeaders:s,body:r}):this.incomingRequest.reject({statusCode:i,reasonPhrase:n,extraHeaders:s,body:r});return["rejected","failed"].forEach(function(e){t.emit(e,o.message,n)}),this.terminated()},t.prototype.accept=function(e){var t=this;return void 0===e&&(e={}),this._accept(e).then(function(e){var i=e.message,n=e.session;n.delegate={onAck:function(e){return t.onAck(e)},onAckTimeout:function(){return t.onAckTimeout()},onBye:function(e){return t.receiveRequest(e)},onInfo:function(e){return t.receiveRequest(e)},onInvite:function(e){return t.receiveRequest(e)},onNotify:function(e){return t.receiveRequest(e)},onPrack:function(e){return t.receiveRequest(e)},onRefer:function(e){return t.receiveRequest(e)}},t.session=n,t.status=c.SessionStatus.STATUS_WAITING_FOR_ACK,t.accepted(i,p.Utils.getReasonPhrase(200))}).catch(function(e){if(t.onContextError(e),!t._canceled)throw e}),this},t.prototype.progress=function(e){var t=this;void 0===e&&(e={});var i=e.statusCode||180;if(i<100||i>199)throw new TypeError("Invalid statusCode: "+i);if(this.status===c.SessionStatus.STATUS_TERMINATED)return this.logger.warn("Unexpected call for progress while terminated, ignoring"),this;if(this.status===c.SessionStatus.STATUS_ANSWERED)return this.logger.warn("Unexpected call for progress while answered, ignoring"),this;if(this.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK)return this.logger.warn("Unexpected call for progress while answered (waiting for prack), ignoring"),this;if(this.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK)return this.logger.warn("Unexpected call for progress while waiting for prack, ignoring"),this;if(100===e.statusCode){try{this.incomingRequest.trying()}catch(n){if(this.onContextError(n),!this._canceled)throw n}return this}return this.rel100===o.C.supported.REQUIRED||this.rel100===o.C.supported.SUPPORTED&&e.rel100||this.rel100===o.C.supported.SUPPORTED&&this.ua.configuration.rel100===o.C.supported.REQUIRED?(this._reliableProgressWaitForPrack(e).catch(function(e){if(t.onContextError(e),!t._canceled)throw e}),this):(this._progress(e).catch(function(e){if(t.onContextError(e),!t._canceled)throw e}),this)},t.prototype.terminate=function(e){var t=this;if(void 0===e&&(e={}),!this.session)return this.reject(e),this;switch(this.session.sessionState){case a.SessionState.Initial:case a.SessionState.Early:return this.reject(e),this;case a.SessionState.AckWait:return this.session.delegate={onAck:function(){t.sendRequest(o.C.BYE,e)},onAckTimeout:function(){t.sendRequest(o.C.BYE,e)}},this.emit("bye",this.request),this.terminated(),this;case a.SessionState.Confirmed:return this.bye(e),this;case a.SessionState.Terminated:default:return this}},t.prototype.onCancel=function(e){(this.status===c.SessionStatus.STATUS_WAITING_FOR_ANSWER||this.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK||this.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK||this.status===c.SessionStatus.STATUS_EARLY_MEDIA||this.status===c.SessionStatus.STATUS_ANSWERED)&&(this.status=c.SessionStatus.STATUS_CANCELED,this.incomingRequest.reject({statusCode:487}),this.canceled(),this.rejected(e,o.C.causes.CANCELED),this.failed(e,o.C.causes.CANCELED),this.terminated(e,o.C.causes.CANCELED))},t.prototype.receiveRequest=function(t){var i=this;switch(t.message.method){case o.C.PRACK:this.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK||this.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK?this.hasAnswer?(clearTimeout(this.timers.rel1xxTimer),clearTimeout(this.timers.prackTimer),t.accept(),this.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=c.SessionStatus.STATUS_EARLY_MEDIA,this.accept()),this.status=c.SessionStatus.STATUS_EARLY_MEDIA):(this.sessionDescriptionHandler=this.setupSessionDescriptionHandler(),this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),this.sessionDescriptionHandler.hasDescription(t.message.getHeader("Content-Type")||"")?(this.hasAnswer=!0,this.sessionDescriptionHandler.setDescription(t.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).then(function(){clearTimeout(i.timers.rel1xxTimer),clearTimeout(i.timers.prackTimer),t.accept(),i.status===c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&(i.status=c.SessionStatus.STATUS_EARLY_MEDIA,i.accept()),i.status=c.SessionStatus.STATUS_EARLY_MEDIA},function(e){i.logger.warn(e),i.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),i.failed(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION),i.terminated(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION)})):(this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t.message,o.C.causes.BAD_MEDIA_DESCRIPTION))):this.status===c.SessionStatus.STATUS_EARLY_MEDIA&&t.accept();break;default:e.prototype.receiveRequest.call(this,t)}},t.prototype.setupSessionDescriptionHandler=function(){return this.sessionDescriptionHandler?this.sessionDescriptionHandler:this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions)},t.prototype.generateResponseOfferAnswer=function(e){if(!this.session){var t=a.getBody(this.incomingRequest.message);return t&&"session"===t.contentDisposition?this.setOfferAndGetAnswer(t,e):this.getOffer(e)}switch(this.session.signalingState){case a.SignalingState.Initial:return this.getOffer(e);case a.SignalingState.Stable:case a.SignalingState.HaveLocalOffer:return Promise.resolve(void 0);case a.SignalingState.HaveRemoteOffer:if(!this.session.offer)throw new Error("Session offer undefined");return this.setOfferAndGetAnswer(this.session.offer,e);case a.SignalingState.Closed:default:throw new Error("Invalid signaling state "+this.session.signalingState+".")}},t.prototype.handlePrackOfferAnswer=function(e,t){if(!this.session)throw new Error("Session undefined.");var i=a.getBody(e.message);if(!i||"session"!==i.contentDisposition)return Promise.resolve(void 0);switch(this.session.signalingState){case a.SignalingState.Initial:throw new Error("Invalid signaling state "+this.session.signalingState+".");case a.SignalingState.Stable:return this.setAnswer(i,t).then(function(){});case a.SignalingState.HaveLocalOffer:throw new Error("Invalid signaling state "+this.session.signalingState+".");case a.SignalingState.HaveRemoteOffer:return this.setOfferAndGetAnswer(i,t);case a.SignalingState.Closed:default:throw new Error("Invalid signaling state "+this.session.signalingState+".")}},t.prototype.canceled=function(){return this._canceled=!0,e.prototype.canceled.call(this)},t.prototype.terminated=function(t,i){return this.prackNeverArrived(),e.prototype.terminated.call(this,t,i)},t.prototype._accept=function(e){var t=this;void 0===e&&(e={}),this.onInfo=e.onInfo;var i=(e.extraHeaders||[]).slice();return this.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK?(this.status=c.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK,this.waitForArrivalOfPrack().then(function(){t.status=c.SessionStatus.STATUS_ANSWERED,clearTimeout(t.timers.userNoAnswerTimer)}).then(function(){return t.generateResponseOfferAnswer(e)}).then(function(e){return t.incomingRequest.accept({statusCode:200,extraHeaders:i,body:e})})):this.status!==c.SessionStatus.STATUS_WAITING_FOR_ANSWER?Promise.reject(new l.Exceptions.InvalidStateError(this.status)):(this.status=c.SessionStatus.STATUS_ANSWERED,this.status=c.SessionStatus.STATUS_ANSWERED,clearTimeout(this.timers.userNoAnswerTimer),this.generateResponseOfferAnswer(e).then(function(e){return t.incomingRequest.accept({statusCode:200,extraHeaders:i,body:e})}))},t.prototype._progress=function(e){void 0===e&&(e={});var t=e.statusCode||180,i=e.reasonPhrase,n=(e.extraHeaders||[]).slice(),s=e.body?a.fromBodyLegacy(e.body):void 0;if(183===t&&!s)return this._progressWithSDP(e);try{if(this.ua.isBusyCauseOutgoingCallInProgress)return this.rejectIncomingRequestWithStatus(486,"Outgoing call is in progress, so status 486 Busy Here");if(this.ua.isDoNotDisturbModeEnabled)return this.rejectIncomingRequestWithStatus(480,"Do not disturb mode is enabled, so status 480 Temporarily Unavailable");var r=this.incomingRequest.progress({statusCode:t,reasonPhrase:i,extraHeaders:n,body:s});return this.emit("progress",r.message,i),this.session=r.session,Promise.resolve(r)}catch(o){return Promise.reject(o)}},t.prototype._progressWithSDP=function(e){var t=this;void 0===e&&(e={});var i=e.statusCode||183,n=e.reasonPhrase,s=(e.extraHeaders||[]).slice();return this.generateResponseOfferAnswer(e).then(function(e){return t.incomingRequest.progress({statusCode:i,reasonPhrase:n,extraHeaders:s,body:e})}).then(function(e){return t.emit("progress",e.message,n),t.session=e.session,e})},t.prototype._reliableProgress=function(e){var t=this;void 0===e&&(e={});var i=e.statusCode||183,n=e.reasonPhrase,s=(e.extraHeaders||[]).slice();return s.push("Require: 100rel"),s.push("RSeq: "+Math.floor(1e4*Math.random())),this.generateResponseOfferAnswer(e).then(function(e){return t.incomingRequest.progress({statusCode:i,reasonPhrase:n,extraHeaders:s,body:e})}).then(function(e){return t.emit("progress",e.message,n),t.session=e.session,e})},t.prototype._reliableProgressWaitForPrack=function(e){var t=this;void 0===e&&(e={});var i,n=e.statusCode||183,s=e.reasonPhrase,r=(e.extraHeaders||[]).slice();return r.push("Require: 100rel"),r.push("RSeq: "+this.rseq++),this.status=c.SessionStatus.STATUS_WAITING_FOR_PRACK,new Promise(function(u,h){var d=!0;return t.generateResponseOfferAnswer(e).then(function(e){return t.incomingRequest.progress({statusCode:n,reasonPhrase:s,extraHeaders:r,body:i=e})}).then(function(p){var f,m;t.emit("progress",p.message,s),t.session=p.session,p.session.delegate={onPrack:function(i){f=i,clearTimeout(g),clearTimeout(b),d&&(d=!1,t.handlePrackOfferAnswer(f,e).then(function(e){try{m=f.accept({statusCode:200,body:e}),t.status===c.SessionStatus.STATUS_WAITING_FOR_PRACK&&(t.status=c.SessionStatus.STATUS_WAITING_FOR_ANSWER),t.prackArrived(),u({prackRequest:f,prackResponse:m,progressResponse:p})}catch(i){h(i)}}))}};var g=setTimeout(function(){if(d){d=!1,t.logger.warn("No PRACK received, rejecting INVITE."),clearTimeout(b);try{t.incomingRequest.reject({statusCode:504}),t.terminated(void 0,o.C.causes.NO_PRACK),h(new l.Exceptions.TerminatedSessionError)}catch(e){h(e)}}},64*a.Timers.T1),_=function(){try{t.incomingRequest.progress({statusCode:n,reasonPhrase:s,extraHeaders:r,body:i})}catch(e){return d=!1,void h(e)}b=setTimeout(_,v*=2)},v=a.Timers.T1,b=setTimeout(_,v)})})},t.prototype.rejectIncomingRequestWithStatus=function(e,t){return this.incomingRequest.reject({statusCode:e}),this.failed(void 0,""),this.terminated(void 0,""),this._canceled=!0,Promise.reject(t)},t.prototype.onAckTimeout=function(){if(this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK){if(this.logger.log("no ACK received for an extended period of time, terminating the call"),!this.session)throw new Error("Session undefined.");this.session.bye(),this.terminated(void 0,o.C.causes.NO_ACK)}},t.prototype.onContextError=function(e){var t=480;e instanceof a.Exception?e instanceof l.Exceptions.SessionDescriptionHandlerError?(this.logger.error(e.message),e.error&&this.logger.error(e.error)):e instanceof l.Exceptions.TerminatedSessionError?this.logger.warn("Incoming session terminated while waiting for PRACK."):e instanceof l.Exceptions.UnsupportedSessionDescriptionContentTypeError?t=415:e instanceof a.Exception&&this.logger.error(e.message):e instanceof Error?this.logger.error(e.message):(this.logger.error("An error occurred in the session description handler."),this.logger.error(e));try{this.incomingRequest.reject({statusCode:t}),this.failed(this.incomingRequest.message,e.message),this.terminated(this.incomingRequest.message,e.message)}catch(i){return}},t.prototype.prackArrived=function(){this.waitingForPrackResolve&&this.waitingForPrackResolve(),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0},t.prototype.prackNeverArrived=function(){this.waitingForPrackReject&&this.waitingForPrackReject(new l.Exceptions.TerminatedSessionError),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0},t.prototype.waitForArrivalOfPrack=function(){var e=this;if(this.waitingForPrackPromise)throw new Error("Already waiting for PRACK");return this.waitingForPrackPromise=new Promise(function(t,i){e.waitingForPrackResolve=t,e.waitingForPrackReject=i}),this.waitingForPrackPromise},t.prototype.getOffer=function(e){return this.hasOffer=!0,this.getSessionDescriptionHandler().getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then(function(e){return p.Utils.fromBodyObj(e)})},t.prototype.setAnswer=function(e,t){this.hasAnswer=!0;var i=this.getSessionDescriptionHandler();return i.hasDescription(e.contentType)?i.setDescription(e.content,t.sessionDescriptionHandlerOptions,t.modifiers):Promise.reject(new l.Exceptions.UnsupportedSessionDescriptionContentTypeError)},t.prototype.setOfferAndGetAnswer=function(e,t){this.hasOffer=!0,this.hasAnswer=!0;var i=this.getSessionDescriptionHandler();return i.hasDescription(e.contentType)?i.setDescription(e.content,t.sessionDescriptionHandlerOptions,t.modifiers).then(function(){return i.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)}).then(function(e){return p.Utils.fromBodyObj(e)}):Promise.reject(new l.Exceptions.UnsupportedSessionDescriptionContentTypeError)},t.prototype.getSessionDescriptionHandler=function(){var e=this.sessionDescriptionHandler=this.setupSessionDescriptionHandler();return this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),e},t}(f);t.InviteServerContext=m;var g=function(e){function t(t,i,n,s){void 0===n&&(n={}),void 0===s&&(s=[]);var a=this;if(!t.configuration.sessionDescriptionHandlerFactory)throw t.logger.warn("Can't build ISC without SDH Factory"),new Error("ICC Constructor Failed");n.params=n.params||{};var u=n.anonymous||!1,h=p.Utils.newTag();n.params.fromTag=h;var d=t.contact.toString({anonymous:u,outbound:u?!t.contact.tempGruu:!t.contact.pubGruu}),f=(n.extraHeaders||[]).slice();if(u&&t.configuration.uri&&(n.params.fromDisplayName="Anonymous",n.params.fromUri="sip:anonymous@anonymous.invalid",f.push("P-Preferred-Identity: "+t.configuration.uri.toString()),f.push("Privacy: id")),f.push("Contact: "+d),f.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),t.configuration.rel100===o.C.supported.REQUIRED&&f.push("Require: 100rel"),t.configuration.replaces===o.C.supported.REQUIRED&&f.push("Require: replaces"),n.extraHeaders=f,a=e.call(this,t.configuration.sessionDescriptionHandlerFactory)||this,r.ClientContext.initializer(a,t,o.C.INVITE,i,n),a.earlyMediaSessionDescriptionHandlers=new Map,a.type=c.TypeStrings.InviteClientContext,a.passedOptions=n,a.sessionDescriptionHandlerOptions=n.sessionDescriptionHandlerOptions||{},a.modifiers=s,a.inviteWithoutSdp=n.inviteWithoutSdp||!1,a.anonymous=n.anonymous||!1,a.renderbody=n.renderbody||void 0,a.rendertype=n.rendertype||"text/plain",a.fromTag=h,a.contact=d,a.status!==c.SessionStatus.STATUS_NULL)throw new l.Exceptions.InvalidStateError(a.status);return a.isCanceled=!1,a.received100=!1,a.method=o.C.INVITE,a.logger=t.getLogger("sip.inviteclientcontext"),t.applicants[a.toString()]=a,a.id=a.request.callId+a.fromTag,a.onInfo=n.onInfo,a.errorListener=a.onTransportError.bind(a),t.transport&&t.transport.on("transportError",a.errorListener),a}return n.__extends(t,e),t.prototype.receiveResponse=function(e){throw new Error("Unimplemented.")},t.prototype.send=function(){return this.sendInvite(),this},t.prototype.invite=function(){var e=this;return this.ua.sessions[this.id]=this,Promise.resolve().then(function(){e.isCanceled||e.status===c.SessionStatus.STATUS_TERMINATED||(e.inviteWithoutSdp?(e.renderbody&&e.rendertype&&(e.request.body={body:e.renderbody,contentType:e.rendertype}),e.status=c.SessionStatus.STATUS_INVITE_SENT,e.send()):(e.sessionDescriptionHandler=e.sessionDescriptionHandlerFactory(e,e.ua.configuration.sessionDescriptionHandlerFactoryOptions||{}),e.emit("SessionDescriptionHandler-created",e.sessionDescriptionHandler),e.sessionDescriptionHandler.getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then(function(t){e.isCanceled||e.status===c.SessionStatus.STATUS_TERMINATED||(e.hasOffer=!0,e.request.body=t,e.status=c.SessionStatus.STATUS_INVITE_SENT,e.send())},function(t){t.type===c.TypeStrings.SessionDescriptionHandlerError&&(e.logger.log(t.message),t.error&&e.logger.log(t.error)),e.status!==c.SessionStatus.STATUS_TERMINATED&&(e.failed(void 0,o.C.causes.WEBRTC_ERROR),e.terminated(void 0,o.C.causes.WEBRTC_ERROR))})))}),this},t.prototype.cancel=function(e){if(void 0===e&&(e={}),this.status===c.SessionStatus.STATUS_TERMINATED||this.status===c.SessionStatus.STATUS_CONFIRMED)throw new l.Exceptions.InvalidStateError(this.status);if(this.isCanceled)throw new l.Exceptions.InvalidStateError(c.SessionStatus.STATUS_CANCELED);this.isCanceled=!0,this.logger.log("Canceling session");var t=p.Utils.getCancelReason(e.statusCode,e.reasonPhrase);return e.extraHeaders=(e.extraHeaders||[]).slice(),this.outgoingInviteRequest&&(this.logger.warn("Canceling session before it was created"),this.outgoingInviteRequest.cancel(t,e)),this.canceled()},t.prototype.terminate=function(e){return this.status===c.SessionStatus.STATUS_TERMINATED||(this.status===c.SessionStatus.STATUS_WAITING_FOR_ACK||this.status===c.SessionStatus.STATUS_CONFIRMED?this.bye(e):this.cancel(e)),this},t.prototype.sendInvite=function(){var e=this;this.outgoingInviteRequest=this.ua.userAgentCore.invite(this.request,{onAccept:function(t){return e.onAccept(t)},onProgress:function(t){return e.onProgress(t)},onRedirect:function(t){return e.onRedirect(t)},onReject:function(t){return e.onReject(t)},onTrying:function(t){return e.onTrying(t)}})},t.prototype.ackAndBye=function(e,t,i,n){if(!this.ua.userAgentCore)throw new Error("Method requires user agent core.");var s=[];i&&s.push("Reason: "+p.Utils.getReasonHeaderValue(i,n));var r=e.ack();this.emit("ack",r.message);var o=t.bye(void 0,{extraHeaders:s});this.emit("bye",o.message)},t.prototype.disposeEarlyMedia=function(){if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");this.earlyMediaSessionDescriptionHandlers.forEach(function(e){e.close()})},t.prototype.onAccept=function(e){var t=this;if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");var i=e.message,n=e.session;if(this.session)this.ackAndBye(e,n);else{if(this.isCanceled)return this.ackAndBye(e,n),void this.emit("bye",this.request);switch(i.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(i.getHeader("P-Asserted-Identity"))),this.session=n,this.session.delegate={onAck:function(e){return t.onAck(e)},onBye:function(e){return t.receiveRequest(e)},onInfo:function(e){return t.receiveRequest(e)},onInvite:function(e){return t.receiveRequest(e)},onNotify:function(e){return t.receiveRequest(e)},onPrack:function(e){return t.receiveRequest(e)},onRefer:function(e){return t.receiveRequest(e)}},n.signalingState){case a.SignalingState.Initial:case a.SignalingState.HaveLocalOffer:this.ackAndBye(e,n,400,"Missing session description"),this.failed(i,o.C.causes.BAD_MEDIA_DESCRIPTION);break;case a.SignalingState.HaveRemoteOffer:var s=this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions||{});if(this.sessionDescriptionHandler=s,this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),!s.hasDescription(i.getHeader("Content-Type")||"")){this.ackAndBye(e,n,400,"Missing session description"),this.failed(i,o.C.causes.BAD_MEDIA_DESCRIPTION);break}this.hasOffer=!0,s.setDescription(i.body,this.sessionDescriptionHandlerOptions,this.modifiers).then(function(){return s.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)}).then(function(n){if(!t.isCanceled&&t.status!==c.SessionStatus.STATUS_TERMINATED){t.status=c.SessionStatus.STATUS_CONFIRMED,t.hasAnswer=!0;var s=e.ack({body:{contentDisposition:"session",contentType:n.contentType,content:n.body}});t.emit("ack",s.message),t.accepted(i)}}).catch(function(s){if(s.type!==c.TypeStrings.SessionDescriptionHandlerError)throw s;t.logger.warn("invalid description"),t.logger.warn(s.toString()),t.ackAndBye(e,n,488,"Invalid session description"),t.failed(i,o.C.causes.BAD_MEDIA_DESCRIPTION)});break;case a.SignalingState.Stable:var r;if(this.renderbody&&this.rendertype&&(r={body:{contentDisposition:"render",contentType:this.rendertype,content:this.renderbody}}),this.hasOffer&&!this.hasAnswer){if(!this.sessionDescriptionHandler)throw new Error("Session description handler undefined.");var l=n.answer;if(!l)throw new Error("Answer is undefined.");this.sessionDescriptionHandler.setDescription(l.content,this.sessionDescriptionHandlerOptions,this.modifiers).then(function(){t.hasAnswer=!0,t.status=c.SessionStatus.STATUS_CONFIRMED;var n=e.ack(r);t.emit("ack",n.message),t.accepted(i)}).catch(function(s){t.logger.error(s),t.ackAndBye(e,n,488,"Not Acceptable Here"),t.failed(i,o.C.causes.BAD_MEDIA_DESCRIPTION)})}else{if(this.sessionDescriptionHandler=this.earlyMediaSessionDescriptionHandlers.get(n.id),!this.sessionDescriptionHandler)throw new Error("Session description handler undefined.");this.earlyMediaSessionDescriptionHandlers.delete(n.id),this.hasOffer=!0,this.hasAnswer=!0,this.status=c.SessionStatus.STATUS_CONFIRMED;var u=e.ack();this.emit("ack",u.message),this.accepted(i)}break;case a.SignalingState.Closed:break;default:throw new Error("Unknown session signaling state.")}this.disposeEarlyMedia()}},t.prototype.onProgress=function(e){var t=this;if(!this.isCanceled){if(!this.outgoingInviteRequest)throw new Error("Outgoing INVITE request undefined.");if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");var i=e.message,n=e.session;if(this.status=c.SessionStatus.STATUS_1XX_RECEIVED,i.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(i.getHeader("P-Asserted-Identity"))),!n)throw new Error("Session undefined.");var s=i.getHeader("require"),r=i.getHeader("rseq"),l=!!(s&&s.includes("100rel")&&r?Number(r):void 0),u=[];if(l&&u.push("RAck: "+i.getHeader("rseq")+" "+i.getHeader("cseq")),n.signalingState===a.SignalingState.Initial)return l&&(this.logger.warn("First reliable provisional response received MUST contain an offer when INVITE does not contain an offer."),e.prack({extraHeaders:u})),void this.emit("progress",i);if(n.signalingState===a.SignalingState.HaveLocalOffer)return l&&e.prack({extraHeaders:u}),void this.emit("progress",i);if(n.signalingState===a.SignalingState.HaveRemoteOffer){if(!l)return void this.logger.warn("Non-reliable provisional response MUST NOT contain an initial offer, discarding response.");var h=this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions||{});return this.emit("SessionDescriptionHandler-created",h),this.earlyMediaSessionDescriptionHandlers.set(n.id,h),void h.setDescription(i.body,this.sessionDescriptionHandlerOptions,this.modifiers).then(function(){return h.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)}).then(function(n){e.prack({extraHeaders:u,body:{contentDisposition:"session",contentType:n.contentType,content:n.body}}),t.status=c.SessionStatus.STATUS_EARLY_MEDIA,t.emit("progress",i)}).catch(function(e){t.status!==c.SessionStatus.STATUS_TERMINATED&&(t.failed(void 0,o.C.causes.WEBRTC_ERROR),t.terminated(void 0,o.C.causes.WEBRTC_ERROR))})}if(n.signalingState===a.SignalingState.Stable)return l&&e.prack({extraHeaders:u}),void this.emit("progress",i)}},t.prototype.onRedirect=function(e){this.disposeEarlyMedia();var t=e.message,i=p.Utils.sipErrorCause(t.statusCode||0);this.rejected(t,i),this.failed(t,i),this.terminated(t,i)},t.prototype.onReject=function(e){this.disposeEarlyMedia();var t=e.message,i=p.Utils.sipErrorCause(t.statusCode||0);this.rejected(t,i),this.failed(t,i),this.terminated(t,i)},t.prototype.onTrying=function(e){this.received100=!0,this.emit("progress",e.message)},t}(f);t.InviteClientContext=g},93848:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(93105),r=i(58159),o=i(21127),a=i(12355),c=i(5756),l=function(e){function t(t,i,n){void 0===n&&(n={});var s=e.call(this)||this;if(s.C={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500},s.type=o.TypeStrings.DTMF,void 0===i)throw new TypeError("Not enough arguments");if(s.logger=t.ua.getLogger("sip.invitecontext.dtmf",t.id),s.owner=t,"string"==typeof i)i=i.toUpperCase();else{if("number"!=typeof i)throw new TypeError("Invalid tone: "+i);i=i.toString()}if(!i.match(/^[0-9A-D#*]$/))throw new TypeError("Invalid tone: "+i);s.tone=i;var r=n.duration,a=n.interToneGap;if(r&&!c.Utils.isDecimal(r))throw new TypeError("Invalid tone duration: "+r);if(r?r<s.C.MIN_DURATION?(s.logger.warn("'duration' value is lower than the minimum allowed, setting it to "+s.C.MIN_DURATION+" milliseconds"),r=s.C.MIN_DURATION):r>s.C.MAX_DURATION?(s.logger.warn("'duration' value is greater than the maximum allowed, setting it to "+s.C.MAX_DURATION+" milliseconds"),r=s.C.MAX_DURATION):r=Math.abs(r):r=s.C.DEFAULT_DURATION,s.duration=r,a&&!c.Utils.isDecimal(a))throw new TypeError("Invalid interToneGap: "+a);return a?a<s.C.MIN_INTER_TONE_GAP?(s.logger.warn("'interToneGap' value is lower than the minimum allowed, setting it to "+s.C.MIN_INTER_TONE_GAP+" milliseconds"),a=s.C.MIN_INTER_TONE_GAP):a=Math.abs(a):a=s.C.DEFAULT_INTER_TONE_GAP,s.interToneGap=a,s}return n.__extends(t,e),t.prototype.send=function(e){if(void 0===e&&(e={}),this.owner.status!==o.SessionStatus.STATUS_CONFIRMED&&this.owner.status!==o.SessionStatus.STATUS_WAITING_FOR_ACK)throw new a.Exceptions.InvalidStateError(this.owner.status);var t=e.extraHeaders?e.extraHeaders.slice():[];if(this.owner.session){var i=this.owner.session.info(void 0,{extraHeaders:t,body:c.Utils.fromBodyObj({contentType:"application/dtmf-relay",body:"Signal= "+this.tone+"\r\nDuration= "+this.duration})});this.owner.emit("dtmf",i.message,this)}},t.prototype.init_incoming=function(e){e.accept(),this.tone&&this.duration?this.owner.emit("dtmf",e.message,this):this.logger.warn("invalid INFO DTMF received, discarded")},t.prototype.receiveResponse=function(e){var t=e&&e.statusCode?e.statusCode:0;switch(!0){case/^1[0-9]{2}$/.test(t.toString()):break;case/^2[0-9]{2}$/.test(t.toString()):this.emit("succeeded",{originator:"remote",response:e});break;default:var i=c.Utils.sipErrorCause(t);this.emit("failed",e,i)}},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,r.C.causes.REQUEST_TIMEOUT),this.owner.onRequestTimeout()},t.prototype.onTransportError=function(){this.emit("failed",void 0,r.C.causes.CONNECTION_ERROR),this.owner.onTransportError()},t.prototype.onDialogError=function(e){this.emit("failed",e,r.C.causes.DIALOG_ERROR),this.owner.onDialogError(e)},t}(s.EventEmitter);t.DTMF=l},87121:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(93105),r=i(58159),o=i(19919),a=i(84757),c=i(21127),l=i(5756),u=function(e){function t(t,i,n,s){void 0===s&&(s={});var o=e.call(this)||this;o.data={},o.method=r.C.SUBSCRIBE,o.body=void 0,o.type=c.TypeStrings.Subscription,o.ua=t,o.logger=t.getLogger("sip.subscription"),s.body&&(o.body={body:s.body,contentType:s.contentType?s.contentType:"application/sdp"});var a=t.normalizeTarget(i);if(!a)throw new TypeError("Invalid target: "+i);if(o.uri=a,o.event=n,void 0===s.expires?o.expires=3600:"number"!=typeof s.expires?(t.logger.warn('Option "expires" must be a number. Using default of 3600.'),o.expires=3600):o.expires=s.expires,o.extraHeaders=(s.extraHeaders||[]).slice(),o.context=o.initContext(),o.disposed=!1,o.request=o.context.message,!o.request.from)throw new Error("From undefined.");if(!o.request.to)throw new Error("From undefined.");return o.localIdentity=o.request.from,o.remoteIdentity=o.request.to,o.id=o.request.callId+o.request.from.parameters.tag+o.event,o.ua.subscriptions[o.id]=o,o}return n.__extends(t,e),t.prototype.dispose=function(){this.disposed||(this.retryAfterTimer&&(clearTimeout(this.retryAfterTimer),this.retryAfterTimer=void 0),this.context.dispose(),this.disposed=!0,delete this.ua.subscriptions[this.id])},t.prototype.on=function(t,i){return e.prototype.on.call(this,t,i)},t.prototype.emit=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return e.prototype.emit.apply(this,[t].concat(i))},t.prototype.close=function(){if(!this.disposed)switch(this.dispose(),this.context.state){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:this.onTerminated();break;case o.SubscriptionState.Pending:case o.SubscriptionState.Active:this.unsubscribe();break;case o.SubscriptionState.Terminated:this.onTerminated()}},t.prototype.refresh=function(){var e=this;switch(this.context.state){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:case o.SubscriptionState.Pending:break;case o.SubscriptionState.Active:this.subscription&&(this.subscription.refresh().delegate={onAccept:function(t){return e.onAccepted(t)},onRedirect:function(t){return e.onFailed(t)},onReject:function(t){return e.onFailed(t)}})}},t.prototype.subscribe=function(){var e=this;switch(this.context.state){case o.SubscriptionState.Initial:this.context.subscribe().then(function(t){t.success?(t.success.subscription&&(e.subscription=t.success.subscription,e.subscription.delegate={onNotify:function(t){return e.onNotify(t)},onRefresh:function(t){return e.onRefresh(t)},onTerminated:function(){return e.close()}}),e.onNotify(t.success.request)):t.failure&&e.onFailed(t.failure.response)});break;case o.SubscriptionState.NotifyWait:case o.SubscriptionState.Pending:break;case o.SubscriptionState.Active:this.refresh()}return this},t.prototype.unsubscribe=function(){switch(this.dispose(),this.context.state){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:break;case o.SubscriptionState.Pending:case o.SubscriptionState.Active:this.subscription&&this.subscription.unsubscribe()}this.onTerminated()},t.prototype.onAccepted=function(e){var t=l.Utils.getReasonPhrase(e.message.statusCode?e.message.statusCode:0);this.emit("accepted",e.message,t)},t.prototype.onFailed=function(e){if(this.close(),e){var t=l.Utils.getReasonPhrase(e.message.statusCode?e.message.statusCode:0);this.emit("failed",e.message,t),this.emit("rejected",e.message,t)}},t.prototype.onNotify=function(e){var t=this;if(e.accept(),this.emit("notify",{request:e.message}),!this.disposed){var i=e.message.parseHeader("Subscription-State");if(i&&i.state)switch(i.state){case"terminated":if(i.reason)switch(this.logger.log("Terminated subscription with reason "+i.reason),i.reason){case"deactivated":case"timeout":return this.initContext(),void this.subscribe();case"probation":case"giveup":return this.initContext(),void(i.params&&i.params["retry-after"]?this.retryAfterTimer=setTimeout(function(){return t.subscribe()},i.params["retry-after"]):this.subscribe())}this.close()}}},t.prototype.onRefresh=function(e){var t=this;e.delegate={onAccept:function(e){return t.onAccepted(e)}}},t.prototype.onTerminated=function(){this.emit("terminated")},t.prototype.initContext=function(){var e=this,t={extraHeaders:this.extraHeaders,body:this.body?l.Utils.fromBodyObj(this.body):void 0};return this.context=new h(this.ua.userAgentCore,this.uri,this.event,this.expires,t),this.context.delegate={onAccept:function(t){return e.onAccepted(t)}},this.context},t}(s.EventEmitter);t.Subscription=u;var h=function(){function e(e,t,i,n,s,o){this.core=e,this.target=t,this.event=i,this.expires=n,this.subscribed=!1,this.logger=e.loggerFactory.getLogger("sip.subscription"),this.delegate=o;var c="Allow: "+a.AllowedMethods.toString(),l=(s&&s.extraHeaders||[]).slice();l.push(c),l.push("Event: "+this.event),l.push("Expires: "+this.expires),l.push("Contact: "+this.core.configuration.contact.toString()),this.message=e.makeOutgoingRequestMessage(r.C.SUBSCRIBE,this.target,this.core.configuration.aor,this.target,{},l,s&&s.body)}return e.prototype.dispose=function(){this.subscription&&this.subscription.dispose(),this.request&&(this.request.waitNotifyStop(),this.request.dispose())},Object.defineProperty(e.prototype,"state",{get:function(){return this.subscription?this.subscription.subscriptionState:this.subscribed?o.SubscriptionState.NotifyWait:o.SubscriptionState.Initial},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(){var e=this;return this.subscribed?Promise.reject(new Error("Not in initial state. Did you call subscribe more than once?")):(this.subscribed=!0,new Promise(function(t,i){if(!e.message)throw new Error("Message undefined.");e.request=e.core.subscribe(e.message,{onAccept:function(t){e.delegate&&e.delegate.onAccept&&e.delegate.onAccept(t)},onNotify:function(i){e.subscription=i.subscription,e.subscription&&(e.subscription.autoRefresh=!0),t({success:i})},onNotifyTimeout:function(){t({failure:{}})},onRedirect:function(e){t({failure:{response:e}})},onReject:function(e){t({failure:{response:e}})}})}))},e}()},80845:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s,r=i(62039),o=i(93105),a=i(85920),c=i(58159),l=i(19919),u=i(21127),h=i(12355),d=i(28707),p=i(19372),f=i(66638),m=i(16356),g=i(65780),_=i(32285),v=i(87121),b=i(5756),y=i(41075),S=i(68316),C=function(e){function t(i){var n=e.call(this)||this;if(n.isBusyCauseOutgoingCallInProgress=!1,n.isDoNotDisturbModeEnabled=!1,n.unloadListener=function(){n.stop()},n.type=u.TypeStrings.UA,n.log=new l.LoggerFactory,n.logger=n.getLogger("sip.ua"),n.configuration={},n.applicants={},n.data={},n.sessions={},n.subscriptions={},n.publishers={},n.status=u.UAStatus.STATUS_INIT,void 0===i?i={}:("string"==typeof i||i instanceof String)&&(i={uri:i}),i.log&&(n.log.builtinEnabled=i.log.builtinEnabled,i.log.hasOwnProperty("connector")&&(n.log.connector=i.log.connector),i.log.hasOwnProperty("level"))){var s=i.log.level,r=void 0;if("string"==typeof s)switch(s){case"error":r=l.Levels.error;break;case"warn":r=l.Levels.warn;break;case"log":r=l.Levels.log;break;case"debug":r=l.Levels.debug}else switch(s){case 0:r=l.Levels.error;break;case 1:r=l.Levels.warn;break;case 2:r=l.Levels.log;break;case 3:r=l.Levels.debug}void 0===r?n.logger.error('Invalid "level" parameter value: '+JSON.stringify(s)):n.log.level=r}try{n.loadConfig(i)}catch(h){throw n.status=u.UAStatus.STATUS_NOT_READY,n.error=t.C.CONFIGURATION_ERROR,h}if(!n.configuration.transportConstructor)throw new l.TransportError("Transport constructor not set");n.transport=new n.configuration.transportConstructor(n.getLogger("sip.transport"),n.configuration.transportOptions);var o=w(n),a={onInvite:function(e){e.trying(),e.delegate={onCancel:function(e){t.onCancel(e)},onTransportError:function(e){t.onTransportError()}};var t=new _.InviteServerContext(n,e);(function(e,t){if(n.configuration.replaces!==c.C.supported.UNSUPPORTED){var i=t.parseHeader("replaces");if(i){var s=n.sessions[i.call_id+i.replaces_from_tag]||n.sessions[i.call_id+i.replaces_to_tag]||void 0;if(!s)return void n.userAgentCore.replyStateless(t,{statusCode:481});if(s.status===u.SessionStatus.STATUS_TERMINATED)return void n.userAgentCore.replyStateless(t,{statusCode:603});var r=n.userAgentCore.dialogs.get(i.call_id+i.replaces_to_tag+i.replaces_from_tag);if(!r)return void n.userAgentCore.replyStateless(t,{statusCode:481});if(!r.early&&i.early_only)return void n.userAgentCore.replyStateless(t,{statusCode:486});e.replacee=s}}})(t,e.message),t.autoSendAnInitialProvisionalResponse&&t.progress(),!n.isBusyCauseOutgoingCallInProgress&&!n.isDoNotDisturbModeEnabled&&n.emit("invite",t)},onMessage:function(e){var t=new g.ServerContext(n,e);t.body=e.message.body,t.contentType=e.message.getHeader("Content-Type")||"text/plain",e.accept(),n.emit("message",t)},onNotify:function(e){n.configuration.allowLegacyNotifications&&n.listeners("notify").length>0?(e.accept(),n.emit("notify",{request:e.message})):e.reject({statusCode:481})},onRefer:function(e){n.logger.log("Received an out of dialog refer"),n.configuration.allowOutOfDialogRefers||e.reject({statusCode:405}),n.logger.log("Allow out of dialog refers is enabled on the UA");var t=new f.ReferServerContext(n,e);n.listeners("outOfDialogReferRequested").length?n.emit("outOfDialogReferRequested",t):(n.logger.log("No outOfDialogReferRequest listeners, automatically accepting and following the out of dialog refer"),t.accept({followRefer:!0}))},onSubscribe:function(e){n.emit("subscribe",e)}};return n.userAgentCore=new l.UserAgentCore(o,a),n.registerContext=new m.RegisterContext(n,i.registerOptions),n.registerContext.on("failed",n.emit.bind(n,"registrationFailed")),n.registerContext.on("registered",n.emit.bind(n,"registered")),n.registerContext.on("unregistered",n.emit.bind(n,"unregistered")),n.configuration.autostart&&n.start(),n}return r.__extends(t,e),t.prototype.register=function(e){return void 0===e&&(e={}),e.register&&(this.configuration.register=!0),this.registerContext.register(e),this},t.prototype.unregister=function(e){var t=this;return this.configuration.register=!1,this.transport.afterConnected(function(){t.registerContext.unregister(e)}),this},t.prototype.isRegistered=function(){return this.registerContext.registered},t.prototype.invite=function(e,t,i){var n=this,s=new _.InviteClientContext(this,e,t,i);return this.transport.afterConnected(function(){s.invite(),n.emit("inviteSent",s)}),s},t.prototype.subscribe=function(e,t,i){var n=new v.Subscription(this,e,t,i);return this.transport.afterConnected(function(){return n.subscribe()}),n},t.prototype.publish=function(e,t,i,n){var s=new p.PublishContext(this,e,t,n);return this.transport.afterConnected(function(){s.publish(i)}),s},t.prototype.message=function(e,t,i){if(void 0===i&&(i={}),void 0===t)throw new TypeError("Not enough arguments");return i.contentType=i.contentType||"text/plain",i.body=t,this.request(c.C.MESSAGE,e,i)},t.prototype.request=function(e,t,i){var n=new a.ClientContext(this,e,t,i);return this.transport.afterConnected(function(){return n.send()}),n},t.prototype.stop=function(){var e=this;if(this.logger.log("user requested closure..."),this.status===u.UAStatus.STATUS_USER_CLOSED)return this.logger.warn("UA already closed"),this;for(var t in this.sessions)this.sessions[t]&&(this.logger.log("closing session "+t),this.sessions[t].terminate());for(var i in this.subscriptions)this.subscriptions[i]&&(this.logger.log("unsubscribe "+i),this.subscriptions[i].unsubscribe());for(var n in this.publishers)this.publishers[n]&&(this.logger.log("unpublish "+n),this.publishers[n].close());for(var s in this.applicants)this.applicants[s]&&this.applicants[s].close();if(this.status=u.UAStatus.STATUS_USER_CLOSED,this.once("unregistered",function(){console.log("unregistered event received!"),e.transport&&e.transport.disconnect(),e.userAgentCore.reset()}),this.logger.log("closing registerContext"),this.registerContext.close(),this.configuration.autostop){var r=!("undefined"==typeof chrome||!chrome.app||!chrome.app.runtime);"undefined"!=typeof window&&!r&&window.removeEventListener("unload",this.unloadListener)}return this},t.prototype.start=function(){if(this.logger.log("user requested startup..."),this.status===u.UAStatus.STATUS_INIT?(this.status=u.UAStatus.STATUS_STARTING,this.setTransportListeners(),this.emit("transportCreated",this.transport),this.transport.connect()):this.status===u.UAStatus.STATUS_USER_CLOSED?(this.logger.log("resuming"),this.status=u.UAStatus.STATUS_READY,this.transport.connect()):this.status===u.UAStatus.STATUS_STARTING?this.logger.log("UA is in STARTING status, not opening new connection"):this.status===u.UAStatus.STATUS_READY?this.logger.log("UA is in READY status, not resuming"):this.logger.error("Connection is down. Auto-Recovery system is trying to connect"),this.configuration.autostop){var e=!("undefined"==typeof chrome||!chrome.app||!chrome.app.runtime);"undefined"!=typeof window&&!e&&window.addEventListener("unload",this.unloadListener)}return this},t.prototype.normalizeTarget=function(e){return b.Utils.normalizeTarget(e,this.configuration.hostportParams)},t.prototype.getLogger=function(e,t){return this.log.getLogger(e,t)},t.prototype.getLoggerFactory=function(){return this.log},t.prototype.getSupportedResponseOptions=function(){var e=[];(this.contact.pubGruu||this.contact.tempGruu)&&e.push("gruu"),this.configuration.rel100===c.C.supported.SUPPORTED&&e.push("100rel"),this.configuration.replaces===c.C.supported.SUPPORTED&&e.push("replaces"),e.push("outbound"),e=e.concat(this.configuration.extraSupported||[]);var t=this.configuration.hackAllowUnregisteredOptionTags||!1,i={};return e.filter(function(e){var n=c.C.OPTION_TAGS[e],s=!i[e];return i[e]=!0,(n||t)&&s})},t.prototype.findSession=function(e){return this.sessions[e.callId+e.fromTag]||this.sessions[e.callId+e.toTag]||void 0},t.prototype.on=function(t,i){return e.prototype.on.call(this,t,i)},t.prototype.onTransportError=function(){this.status!==u.UAStatus.STATUS_USER_CLOSED&&(!this.error||this.error!==t.C.NETWORK_ERROR)&&(this.status=u.UAStatus.STATUS_NOT_READY,this.error=t.C.NETWORK_ERROR)},t.prototype.setTransportListeners=function(){var e=this;this.transport.on("connected",function(){return e.onTransportConnected()}),this.transport.on("message",function(t){return e.onTransportReceiveMsg(t)}),this.transport.on("transportError",function(){return e.onTransportError()})},t.prototype.onTransportConnected=function(){var e=this;this.configuration.register&&Promise.resolve().then(function(){return e.registerContext.register()})},t.prototype.onTransportReceiveMsg=function(e){var t=this,i=d.Parser.parseMessage(e,this.getLogger("sip.parser"));if(i)if(this.status===u.UAStatus.STATUS_USER_CLOSED&&i instanceof l.IncomingRequestMessage)this.logger.warn("UA received message when status = USER_CLOSED - aborting");else{var n=function(){for(var e=0,n=["from","to","call_id","cseq","via"];e<n.length;e++){var s=n[e];if(!i.hasHeader(s))return t.logger.warn("Missing mandatory header field : "+s+"."),!1}return!0};if(i instanceof l.IncomingRequestMessage){if(!n())return void this.logger.warn("Request missing mandatory header field. Dropping.");if(!i.toTag&&i.callId.substr(0,5)===this.configuration.sipjsId)return void this.userAgentCore.replyStateless(i,{statusCode:482});var s=b.Utils.str_utf8_length(i.body);if((r=i.getHeader("content-length"))&&s<Number(r))return void this.userAgentCore.replyStateless(i,{statusCode:400})}if(i instanceof l.IncomingResponseMessage){if(!n())return void this.logger.warn("Response missing mandatory header field. Dropping.");if(i.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response. Dropping.");if(i.via.host!==this.configuration.viaHost||void 0!==i.via.port)return void this.logger.warn("Via sent-by in the response does not match UA Via host value. Dropping.");var r;if(s=b.Utils.str_utf8_length(i.body),(r=i.getHeader("content-length"))&&s<Number(r))return void this.logger.warn("Message body length is lower than the value in Content-Length header field. Dropping.")}if(i instanceof l.IncomingRequestMessage){if(i.method===c.C.UPDATE){var o=this.findSession(i);o&&o.onUpdateFn(i)}this.userAgentCore.receiveIncomingRequestFromTransport(i)}else{if(!(i instanceof l.IncomingResponseMessage))throw new Error("Invalid message type.");this.userAgentCore.receiveIncomingResponseFromTransport(i)}}else this.logger.warn("UA failed to parse incoming SIP message - discarding.")},t.prototype.checkAuthenticationFactory=function(e){if(e instanceof Function)return e.initialize||(e.initialize=function(){return Promise.resolve()}),e},t.prototype.loadConfig=function(e){var t=this,i={viaHost:b.Utils.createRandomToken(12)+".invalid",uri:new l.URI("sip","anonymous."+b.Utils.createRandomToken(6),"anonymous.invalid",void 0,void 0),custom:{},displayName:"",password:void 0,register:!0,registerOptions:{},transportConstructor:S.Transport,transportOptions:{},usePreloadedRoute:!1,userAgentString:c.C.USER_AGENT,noAnswerTimeout:60,hackViaTcp:!1,hackIpInContact:!1,hackWssInTransport:!1,hackAllowUnregisteredOptionTags:!1,sessionDescriptionHandlerFactoryOptions:{constraints:{},peerConnectionOptions:{}},extraSupported:[],contactName:b.Utils.createRandomToken(8),contactTransport:"ws",forceRport:!1,autostart:!0,autostop:!0,rel100:c.C.supported.UNSUPPORTED,dtmfType:c.C.dtmfType.INFO,replaces:c.C.supported.UNSUPPORTED,sessionDescriptionHandlerFactory:y.SessionDescriptionHandler.defaultFactory,authenticationFactory:this.checkAuthenticationFactory(function(e){return new l.DigestAuthentication(e.getLoggerFactory(),t.configuration.authorizationUser,t.configuration.password)}),allowLegacyNotifications:!1,allowOutOfDialogRefers:!1,experimentalFeatures:!1},n=this.getConfigurationCheck();for(var s in n.mandatory){if(!e.hasOwnProperty(s))throw new h.Exceptions.ConfigurationError(s);if(void 0===(o=n.mandatory[s](r=e[s])))throw new h.Exceptions.ConfigurationError(s,r);i[s]=o}for(var s in n.optional)if(e.hasOwnProperty(s)){var r,o;if((r=e[s])instanceof Array&&0===r.length||null===r||""===r||void 0===r||"number"==typeof r&&isNaN(r))continue;if(void 0===(o=n.optional[s](r)))throw new h.Exceptions.ConfigurationError(s,r);i[s]=o}0===i.displayName&&(i.displayName="0"),i.sipjsId=b.Utils.createRandomToken(5);var a=i.uri.clone();if(a.user=void 0,i.hostportParams=a.toRaw().replace(/^sip:/i,""),i.authorizationUser||(i.authorizationUser=i.uri.user),i.noAnswerTimeout=1e3*i.noAnswerTimeout,i.hackIpInContact)if("boolean"==typeof i.hackIpInContact){var u=Math.floor(254*Math.random()+1);i.viaHost="192.0.2."+u}else"string"==typeof i.hackIpInContact&&(i.viaHost=i.hackIpInContact);i.hackWssInTransport&&(i.contactTransport="wss"),this.contact={pubGruu:void 0,tempGruu:void 0,uri:new l.URI("sip",i.contactName,i.viaHost,void 0,{transport:i.contactTransport}),toString:function(e){void 0===e&&(e={});var n=e.outbound||!1,s="<";return s+=e.anonymous?(t.contact.tempGruu||"sip:anonymous@anonymous.invalid;transport="+i.contactTransport).toString():(t.contact.pubGruu||t.contact.uri).toString(),n&&(s+=";ob"),s+">"}};var d={};for(var s in i)i.hasOwnProperty(s)&&(d[s]=i[s]);for(var s in Object.assign(this.configuration,d),this.logger.log("configuration parameters after validation:"),i)if(i.hasOwnProperty(s))switch(s){case"uri":case"sessionDescriptionHandlerFactory":this.logger.log("\xb7 "+s+": "+i[s]);break;case"password":this.logger.log("\xb7 "+s+": NOT SHOWN");break;case"transportConstructor":this.logger.log("\xb7 "+s+": "+i[s].name);break;default:this.logger.log("\xb7 "+s+": "+JSON.stringify(i[s]))}},t.prototype.getConfigurationCheck=function(){return{mandatory:{},optional:{uri:function(e){/^sip:/i.test(e)||(e=c.C.SIP+":"+e);var t=l.Grammar.URIParse(e);if(t&&t.user)return t},transportConstructor:function(e){if(e instanceof Function)return e},transportOptions:function(e){if("object"==typeof e)return e},authorizationUser:function(e){if(-1!==l.Grammar.parse('"'+e+'"',"quoted_string"))return e},displayName:function(e){if(-1!==l.Grammar.parse('"'+e+'"',"displayName"))return e},dtmfType:function(e){switch(e){case c.C.dtmfType.RTP:return c.C.dtmfType.RTP;case c.C.dtmfType.INFO:default:return c.C.dtmfType.INFO}},hackViaTcp:function(e){if("boolean"==typeof e)return e},hackIpInContact:function(e){return"boolean"==typeof e||"string"==typeof e&&-1!==l.Grammar.parse(e,"host")?e:void 0},hackWssInTransport:function(e){if("boolean"==typeof e)return e},hackAllowUnregisteredOptionTags:function(e){if("boolean"==typeof e)return e},contactTransport:function(e){if("string"==typeof e)return e},extraSupported:function(e){if(e instanceof Array){for(var t=0,i=e;t<i.length;t++)if("string"!=typeof i[t])return;return e}},forceRport:function(e){if("boolean"==typeof e)return e},noAnswerTimeout:function(e){if(b.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},password:function(e){return String(e)},rel100:function(e){return e===c.C.supported.REQUIRED?c.C.supported.REQUIRED:e===c.C.supported.SUPPORTED?c.C.supported.SUPPORTED:c.C.supported.UNSUPPORTED},replaces:function(e){return e===c.C.supported.REQUIRED?c.C.supported.REQUIRED:e===c.C.supported.SUPPORTED?c.C.supported.SUPPORTED:c.C.supported.UNSUPPORTED},register:function(e){if("boolean"==typeof e)return e},registerOptions:function(e){if("object"==typeof e)return e},usePreloadedRoute:function(e){if("boolean"==typeof e)return e},userAgentString:function(e){if("string"==typeof e)return e},autostart:function(e){if("boolean"==typeof e)return e},autostop:function(e){if("boolean"==typeof e)return e},sessionDescriptionHandlerFactory:function(e){if(e instanceof Function)return e},sessionDescriptionHandlerFactoryOptions:function(e){if("object"==typeof e)return e},authenticationFactory:this.checkAuthenticationFactory,allowLegacyNotifications:function(e){if("boolean"==typeof e)return e},custom:function(e){if("object"==typeof e)return e},contactName:function(e){if("string"==typeof e)return e},experimentalFeatures:function(e){if("boolean"==typeof e)return e}}}},t.C={STATUS_INIT:0,STATUS_STARTING:1,STATUS_READY:2,STATUS_USER_CLOSED:3,STATUS_NOT_READY:4,CONFIGURATION_ERROR:1,NETWORK_ERROR:2,ALLOWED_METHODS:["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"],ACCEPTED_BODY_TYPES:["application/sdp","application/dtmf-relay"],MAX_FORWARDS:70,TAG_LENGTH:10},t}(o.EventEmitter);function w(e){if(!(e.configuration.uri instanceof l.URI))throw new Error("Configuration URI not instance of URI.");var t=e.configuration.uri,i=e.contact,n=e.configuration.displayName?e.configuration.displayName:"",s=!!e.configuration.hackViaTcp,r=e.configuration.usePreloadedRoute&&e.transport.server&&e.transport.server.sipUri?[e.transport.server.sipUri]:[],o=e.configuration.sipjsId||b.Utils.createRandomToken(5),a=[];a.push("outbound"),e.configuration.rel100===c.C.supported.SUPPORTED&&a.push("100rel"),e.configuration.replaces===c.C.supported.SUPPORTED&&a.push("replaces"),e.configuration.extraSupported&&a.push.apply(a,e.configuration.extraSupported),e.configuration.hackAllowUnregisteredOptionTags||(a=a.filter(function(e){return c.C.OPTION_TAGS[e]})),a=Array.from(new Set(a));var u=e.getSupportedResponseOptions(),h=e.configuration.userAgentString||"sipjs";if(!e.configuration.viaHost)throw new Error("Configuration via host undefined");var d=!!e.configuration.forceRport,p=e.configuration.viaHost;return{aor:t,contact:i,displayName:n,hackViaTcp:s,loggerFactory:e.getLoggerFactory(),routeSet:r,sipjsId:o,supportedOptionTags:a,supportedOptionTagsResponse:u,userAgentHeaderFieldValue:h,viaForceRport:d,viaHost:p,authenticationFactory:function(){if(e.configuration.authenticationFactory)return e.configuration.authenticationFactory(e)},transportAccessor:function(){return e.transport}}}t.UA=C,(s=(n=C=t.UA||(t.UA={})).DtmfType||(n.DtmfType={})).RTP="rtp",s.INFO="info",t.UA=C,t.makeUserAgentCoreConfigurationFromUA=w},5756:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=i(58159),r=i(66095),o=i(13881);(n=t.Utils||(t.Utils={})).defer=function(){var e={};return e.promise=new Promise(function(t,i){e.resolve=t,e.reject=i}),e},n.reducePromises=function(e,t){return e.reduce(function(e,t){return e.then(t)},Promise.resolve(t))},n.str_utf8_length=function(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length},n.generateFakeSDP=function(e){if(e){var t=e.indexOf("o="),i=e.indexOf("\r\n",t);return"v=0\r\n"+e.slice(t,i)+"\r\ns=-\r\nt=0 0\r\nc=IN IP4 0.0.0.0"}},n.isDecimal=function(e){var t=parseInt(e,10);return!isNaN(t)&&parseFloat(e)===t},n.createRandomToken=function(e,t){void 0===t&&(t=32);for(var i="",n=0;n<e;n++)i+=Math.floor(Math.random()*t).toString(t);return i},n.newTag=function(){return n.createRandomToken(10)},n.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.floor(16*Math.random());return("x"===e?t:t%4+8).toString(16)})},n.normalizeTarget=function(e,t){if(e){if(e instanceof o.URI)return e;if("string"==typeof e){var i=e.split("@"),a=void 0,c=void 0;switch(i.length){case 1:if(!t)return;a=e,c=t;break;case 2:a=i[0],c=i[1];break;default:a=i.slice(0,i.length-1).join("@"),c=i[i.length-1]}return a=a.replace(/^(sips?|tel):/i,""),/^[\-\.\(\)]*\+?[0-9\-\.\(\)]+$/.test(a)&&(a=a.replace(/[\-\.\(\)]/g,"")),e=s.C.SIP+":"+n.escapeUser(a)+"@"+c,r.Grammar.URIParse(e)}}},n.escapeUser=function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},n.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},i=e.toLowerCase().replace(/_/g,"-").split("-"),n=i.length,s="",r=0;r<n;r++)0!==r&&(s+="-"),s+=i[r].charAt(0).toUpperCase()+i[r].substring(1);return t[s]&&(s=t[s]),s},n.sipErrorCause=function(e){for(var t in s.C.SIP_ERROR_CAUSES)if(-1!==s.C.SIP_ERROR_CAUSES[t].indexOf(e))return s.C.causes[t];return s.C.causes.SIP_FAILURE_CODE},n.getReasonPhrase=function(e,t){return t||s.C.REASON_PHRASE[e]||""},n.getReasonHeaderValue=function(e,t){return"SIP;cause="+e+';text="'+(t=n.getReasonPhrase(e,t))+'"'},n.getCancelReason=function(e,t){if(e&&e<200||e>699)throw new TypeError("Invalid statusCode: "+e);if(e)return n.getReasonHeaderValue(e,t)},n.buildStatusLine=function(e,t){if(!e||e<100||e>699)throw new TypeError("Invalid statusCode: "+e);if(t&&"string"!=typeof t&&!(t instanceof String))throw new TypeError("Invalid reason: "+t);return"SIP/2.0 "+e+" "+(t=n.getReasonPhrase(e,t))+"\r\n"},n.fromBodyObj=function(e){var t=e.body,i=e.contentType;return{contentDisposition:function(e){return"application/sdp"===e?"session":"render"}(i),contentType:i,content:t}},n.toBodyObj=function(e){return{body:e.content,contentType:e.contentType}}},24017:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){for(var i,n=[],s=e.split(/\r\n/),r=0;r<s.length;){var o=s[r];if(/^m=(?:audio|video)/.test(o))n.push(i={index:r,stripped:[]});else if(i){var a=/^a=rtpmap:(\d+) ([^/]+)\//.exec(o);if(a&&t===a[2]){s.splice(r,1),i.stripped.push(a[1]);continue}}r++}for(var c=0,l=n;c<l.length;c++){for(var u=l[c],h=s[u.index].split(" "),d=3;d<h.length;)-1===u.stripped.indexOf(h[d])?d++:h.splice(d,1);s[u.index]=h.join(" ")}return s.join("\r\n")};t.stripTcpCandidates=function(e){return e.sdp=(e.sdp||"").replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/gim,""),Promise.resolve(e)},t.stripTelephoneEvent=function(e){return e.sdp=i(e.sdp||"","telephone-event"),Promise.resolve(e)},t.cleanJitsiSdpImageattr=function(e){return e.sdp=(e.sdp||"").replace(/^(a=imageattr:.*?)(x|y)=\[0-/gm,"$1$2=[1:"),Promise.resolve(e)},t.stripG722=function(e){return e.sdp=i(e.sdp||"","G722"),Promise.resolve(e)},t.stripRtpPayload=function(e){return function(t){return t.sdp=i(t.sdp||"",e),Promise.resolve(t)}},t.stripVideo=function(e){return e.sdp=function(e,t){var i=new RegExp("m=video.*$","gm"),n=new RegExp("^a=group:.*$","gm");if(i.test(e)){var s,r=(e=e.split(/^m=/gm).filter(function(e){if(e.substr(0,t.length)===t){if(s=e.match(/^a=mid:.*$/gm)){var i=s[0].match(/:.+$/g);i&&(s=i[0].substr(1))}return!1}return!0}).join("m=")).match(n);if(r&&1===r.length){var o=r[0],a=new RegExp(" *"+s+"[^ ]*","g");o=o.replace(a,""),e=e.split(n).join(o)}}return e}(e.sdp||"","video"),Promise.resolve(e)},t.addMidLines=function(e){var t=e.sdp||"";if(-1===t.search(/^a=mid.*$/gm)){var i=t.match(/^m=.*$/gm),n=t.split(/^m=.*$/gm);i&&i.forEach(function(e,t){i[t]=e+"\na=mid:"+t}),n.forEach(function(e,t){i&&i[t]&&(n[t]=e+i[t])}),t=n.join(""),e.sdp=t}return Promise.resolve(e)}},41075:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(93105),r=i(21127),o=i(12355),a=i(5756),c=n.__importStar(i(24017)),l=i(81424),u=function(e){function t(t,i,n){var s=e.call(this)||this;return s.type=r.TypeStrings.SessionDescriptionHandler,s.options=n||{},s.logger=t,s.observer=i,s.dtmfSender=void 0,s.shouldAcquireMedia=!0,s.CONTENT_TYPE="application/sdp",s.C={DIRECTION:{NULL:null,SENDRECV:"sendrecv",SENDONLY:"sendonly",RECVONLY:"recvonly",INACTIVE:"inactive"}},s.logger.log("SessionDescriptionHandlerOptions: "+JSON.stringify(s.options)),s.direction=s.C.DIRECTION.NULL,s.modifiers=s.options.modifiers||[],Array.isArray(s.modifiers)||(s.modifiers=[s.modifiers]),s.iceGatheringTimeout=!1,s.initPeerConnection(s.options.peerConnectionOptions),s.constraints=s.checkAndDefaultConstraints(s.options.constraints),s}return n.__extends(t,e),t.defaultFactory=function(e,i){return new t(e.ua.getLogger("sip.invitecontext.sessionDescriptionHandler",e.id),new l.SessionDescriptionHandlerObserver(e,i),i)},t.prototype.close=function(){this.logger.log("closing PeerConnection"),this.peerConnection&&"closed"!==this.peerConnection.signalingState&&(this.peerConnection.getSenders?this.peerConnection.getSenders().forEach(function(e){e.track&&e.track.stop()}):(this.logger.warn("Using getLocalStreams which is deprecated"),this.peerConnection.getLocalStreams().forEach(function(e){e.getTracks().forEach(function(e){e.stop()})})),this.peerConnection.getReceivers?this.peerConnection.getReceivers().forEach(function(e){e.track&&e.track.stop()}):(this.logger.warn("Using getRemoteStreams which is deprecated"),this.peerConnection.getRemoteStreams().forEach(function(e){e.getTracks().forEach(function(e){e.stop()})})),this.resetIceGatheringComplete(),this.peerConnection.close())},t.prototype.getDescription=function(e,t){var i=this;void 0===e&&(e={}),void 0===t&&(t=[]),e.peerConnectionOptions&&this.initPeerConnection(e.peerConnectionOptions);var n=Object.assign({},this.constraints,e.constraints);return n=this.checkAndDefaultConstraints(n),JSON.stringify(n)!==JSON.stringify(this.constraints)&&(this.constraints=n,this.shouldAcquireMedia=!0),Array.isArray(t)||(t=[t]),t=t.concat(this.modifiers),Promise.resolve().then(function(){if(i.shouldAcquireMedia)return i.acquire(i.constraints).then(function(){i.shouldAcquireMedia=!1})}).then(function(){return i.createOfferOrAnswer(e.RTCOfferOptions,t)}).then(function(e){if(void 0===e.sdp)throw new o.Exceptions.SessionDescriptionHandlerError("getDescription",void 0,"SDP undefined");return i.emit("getDescription",e),{body:e.sdp,contentType:i.CONTENT_TYPE}})},t.prototype.hasDescription=function(e){return e===this.CONTENT_TYPE},t.prototype.holdModifier=function(e){return e.sdp&&(/a=(sendrecv|sendonly|recvonly|inactive)/.test(e.sdp)?(e.sdp=e.sdp.replace(/a=sendrecv\r\n/g,"a=sendonly\r\n"),e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n")):e.sdp=e.sdp.replace(/(m=[^\r]*\r\n)/g,"$1a=sendonly\r\n")),Promise.resolve(e)},t.prototype.setDescription=function(e,t,i){var n=this;void 0===t&&(t={}),void 0===i&&(i=[]),t.peerConnectionOptions&&this.initPeerConnection(t.peerConnectionOptions),Array.isArray(i)||(i=[i]),i=i.concat(this.modifiers);var s={type:this.hasOffer("local")?"answer":"offer",sdp:e};return Promise.resolve().then(function(){if(n.shouldAcquireMedia&&n.options.alwaysAcquireMediaFirst)return n.acquire(n.constraints).then(function(){n.shouldAcquireMedia=!1})}).then(function(){return a.Utils.reducePromises(i,s)}).catch(function(e){if(e.type===r.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new o.Exceptions.SessionDescriptionHandlerError("setDescription",e,"The modifiers did not resolve successfully");throw n.logger.error(t.message),n.emit("peerConnection-setRemoteDescriptionFailed",t),t}).then(function(e){return n.emit("setDescription",e),n.peerConnection.setRemoteDescription(e)}).catch(function(s){if(s.type===r.TypeStrings.SessionDescriptionHandlerError)throw s;if(/^m=video.+$/gm.test(e)&&!t.disableAudioFallback)return t.disableAudioFallback=!0,n.setDescription(e,t,[c.stripVideo].concat(i));var a=new o.Exceptions.SessionDescriptionHandlerError("setDescription",s);throw a.error&&n.logger.error(a.error),n.emit("peerConnection-setRemoteDescriptionFailed",a),a}).then(function(){n.emit("setRemoteDescription",n.peerConnection.getReceivers?n.peerConnection.getReceivers():n.peerConnection.getRemoteStreams()),n.emit("confirmed",n)})},t.prototype.sendDtmf=function(e,t){if(void 0===t&&(t={}),!this.dtmfSender&&this.hasBrowserGetSenderSupport()){var i=this.peerConnection.getSenders();i.length>0&&(this.dtmfSender=i[0].dtmf)}if(!this.dtmfSender&&this.hasBrowserTrackSupport()){var n=this.peerConnection.getLocalStreams();if(n.length>0){var s=n[0].getAudioTracks();s.length>0&&(this.dtmfSender=this.peerConnection.createDTMFSender(s[0]))}}if(!this.dtmfSender)return!1;try{this.dtmfSender.insertDTMF(e,t.duration,t.interToneGap)}catch(r){if("InvalidStateError"===r.type||"InvalidCharacterError"===r.type)return this.logger.error(r),!1;throw r}return this.logger.log("DTMF sent via RTP: "+e.toString()),!0},t.prototype.getDirection=function(){return this.direction},t.prototype.on=function(t,i){return e.prototype.on.call(this,t,i)},t.prototype.getMediaStream=function(e){return navigator.mediaDevices.getUserMedia(e)},t.prototype.createOfferOrAnswer=function(e,t){var i=this;void 0===e&&(e={}),void 0===t&&(t=[]);var n=this.hasOffer("remote")?"createAnswer":"createOffer",s=this.peerConnection;return this.logger.log(n),(this.hasOffer("remote")?s.createAnswer:s.createOffer).apply(s,e).catch(function(e){if(e.type===r.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new o.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e,"peerConnection-"+n+"Failed");throw i.emit("peerConnection-"+n+"Failed",t),t}).then(function(e){return a.Utils.reducePromises(t,i.createRTCSessionDescriptionInit(e))}).then(function(e){return i.resetIceGatheringComplete(),i.logger.log("Setting local sdp."),i.logger.log("sdp is "+e.sdp||0),s.setLocalDescription(e)}).catch(function(e){if(e.type===r.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new o.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e,"peerConnection-SetLocalDescriptionFailed");throw i.emit("peerConnection-SetLocalDescriptionFailed",t),t}).then(function(){return i.waitForIceGatheringComplete()}).then(function(){if(!i.peerConnection.localDescription)throw new o.Exceptions.SessionDescriptionHandlerError("Missing local description");var e=i.createRTCSessionDescriptionInit(i.peerConnection.localDescription);return a.Utils.reducePromises(t,e)}).then(function(e){return i.setDirection(e.sdp||""),e}).catch(function(e){if(e.type===r.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new o.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e);throw i.logger.error(t.toString()),t})},t.prototype.createRTCSessionDescriptionInit=function(e){return{type:e.type,sdp:e.sdp}},t.prototype.addDefaultIceCheckingTimeout=function(e){return void 0===e.iceCheckingTimeout&&(e.iceCheckingTimeout=5e3),e},t.prototype.addDefaultIceServers=function(e){return e.iceServers||(e.iceServers=[{urls:"stun:stun.l.google.com:19302"}]),e},t.prototype.checkAndDefaultConstraints=function(e){var t={audio:!0,video:!this.options.alwaysAcquireMediaFirst};return e=e||t,0===Object.keys(e).length&&e.constructor===Object?t:e},t.prototype.hasBrowserTrackSupport=function(){return Boolean(this.peerConnection.addTrack)},t.prototype.hasBrowserGetSenderSupport=function(){return Boolean(this.peerConnection.getSenders)},t.prototype.initPeerConnection=function(e){var t=this;void 0===e&&(e={}),(e=this.addDefaultIceCheckingTimeout(e)).rtcConfiguration=e.rtcConfiguration||{},e.rtcConfiguration=this.addDefaultIceServers(e.rtcConfiguration),this.logger.log("initPeerConnection"),this.peerConnection&&(this.logger.log("Already have a peer connection for this session. Tearing down."),this.resetIceGatheringComplete(),this.peerConnection.close()),this.peerConnection=new RTCPeerConnection(e.rtcConfiguration),this.logger.log("New peer connection created"),"ontrack"in this.peerConnection?this.peerConnection.addEventListener("track",function(e){t.logger.log("track added"),t.observer.trackAdded(),t.emit("addTrack",e)}):(this.logger.warn("Using onaddstream which is deprecated"),this.peerConnection.onaddstream=function(e){t.logger.log("stream added"),t.emit("addStream",e)}),this.peerConnection.onicecandidate=function(e){t.emit("iceCandidate",e),e.candidate?t.logger.log("ICE candidate received: "+(null===e.candidate.candidate?null:e.candidate.candidate.trim())):null===e.candidate&&(t.logger.log("ICE candidate gathering complete"),t.triggerIceGatheringComplete())},this.peerConnection.onicegatheringstatechange=function(){switch(t.logger.log("RTCIceGatheringState changed: "+t.peerConnection.iceGatheringState),t.peerConnection.iceGatheringState){case"gathering":t.emit("iceGathering",t),!t.iceGatheringTimer&&e.iceCheckingTimeout&&(t.iceGatheringTimeout=!1,t.iceGatheringTimer=setTimeout(function(){t.logger.log("RTCIceChecking Timeout Triggered after "+e.iceCheckingTimeout+" milliseconds"),t.iceGatheringTimeout=!0,t.triggerIceGatheringComplete()},e.iceCheckingTimeout));break;case"complete":t.triggerIceGatheringComplete()}},this.peerConnection.oniceconnectionstatechange=function(){var e;switch(t.peerConnection.iceConnectionState){case"new":e="iceConnection";break;case"checking":e="iceConnectionChecking";break;case"connected":e="iceConnectionConnected";break;case"completed":e="iceConnectionCompleted";break;case"failed":e="iceConnectionFailed";break;case"disconnected":e="iceConnectionDisconnected";break;case"closed":e="iceConnectionClosed";break;default:return void t.logger.warn("Unknown iceConnection state: "+t.peerConnection.iceConnectionState)}t.logger.log("ICE Connection State changed to "+e),t.emit(e,t)}},t.prototype.acquire=function(e){var t=this;return e=this.checkAndDefaultConstraints(e),new Promise(function(i,n){t.logger.log("acquiring local media"),t.emit("userMediaRequest",e),e.audio||e.video?t.getMediaStream(e).then(function(e){t.observer.trackAdded(),t.emit("userMedia",e),i(e)}).catch(function(e){t.emit("userMediaFailed",e),n(e)}):i([])}).catch(function(e){if(e.type===r.TypeStrings.SessionDescriptionHandlerError)throw e;var i=new o.Exceptions.SessionDescriptionHandlerError("acquire",e,"unable to acquire streams");throw t.logger.error(i.message),i.error&&t.logger.error(i.error),i}).then(function(e){return t.logger.log("acquired local media streams"),t.peerConnection.removeTrack&&t.peerConnection.getSenders().forEach(function(e){t.peerConnection.removeTrack(e)}),e}).catch(function(e){if(e.type===r.TypeStrings.SessionDescriptionHandlerError)throw e;var i=new o.Exceptions.SessionDescriptionHandlerError("acquire",e,"error removing streams");throw t.logger.error(i.message),i.error&&t.logger.error(i.error),i}).then(function(e){return[].concat(e).forEach(function(e){t.peerConnection.addTrack?e.getTracks().forEach(function(i){t.peerConnection.addTrack(i,e)}):t.peerConnection.addStream(e)}),Promise.resolve()}).catch(function(e){if(e.type===r.TypeStrings.SessionDescriptionHandlerError)throw e;var i=new o.Exceptions.SessionDescriptionHandlerError("acquire",e,"error adding stream");throw t.logger.error(i.message),i.error&&t.logger.error(i.error),i})},t.prototype.hasOffer=function(e){return this.peerConnection.signalingState==="have-"+e+"-offer"},t.prototype.isIceGatheringComplete=function(){return"complete"===this.peerConnection.iceGatheringState||this.iceGatheringTimeout},t.prototype.resetIceGatheringComplete=function(){this.iceGatheringTimeout=!1,this.logger.log("resetIceGatheringComplete"),this.iceGatheringTimer&&(clearTimeout(this.iceGatheringTimer),this.iceGatheringTimer=void 0),this.iceGatheringDeferred&&(this.iceGatheringDeferred.reject(),this.iceGatheringDeferred=void 0)},t.prototype.setDirection=function(e){var t=e.match(/a=(sendrecv|sendonly|recvonly|inactive)/);if(null===t)return this.direction=this.C.DIRECTION.NULL,void this.observer.directionChanged();var i=t[1];switch(i){case this.C.DIRECTION.SENDRECV:case this.C.DIRECTION.SENDONLY:case this.C.DIRECTION.RECVONLY:case this.C.DIRECTION.INACTIVE:this.direction=i;break;default:this.direction=this.C.DIRECTION.NULL}this.observer.directionChanged()},t.prototype.triggerIceGatheringComplete=function(){this.isIceGatheringComplete()&&(this.emit("iceGatheringComplete",this),this.iceGatheringTimer&&(clearTimeout(this.iceGatheringTimer),this.iceGatheringTimer=void 0),this.iceGatheringDeferred&&(this.iceGatheringDeferred.resolve(),this.iceGatheringDeferred=void 0))},t.prototype.waitForIceGatheringComplete=function(){return this.logger.log("waitForIceGatheringComplete"),this.isIceGatheringComplete()?(this.logger.log("ICE is already complete. Return resolved."),Promise.resolve()):(this.iceGatheringDeferred||(this.iceGatheringDeferred=a.Utils.defer()),this.logger.log("ICE is not complete. Returning promise"),this.iceGatheringDeferred?this.iceGatheringDeferred.promise:Promise.resolve())},t}(s.EventEmitter);t.SessionDescriptionHandler=u},81424:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(21127),s=function(){function e(e,t){this.type=n.TypeStrings.SessionDescriptionHandlerObserver,this.session=e,this.options=t}return e.prototype.trackAdded=function(){this.session.emit("trackAdded")},e.prototype.directionChanged=function(){this.session.emit("directionChanged")},e}();t.SessionDescriptionHandlerObserver=s},17755:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s,r=i(62039),o=i(93105),a=i(80845),c=r.__importStar(i(24017));(s=n=t.SimpleStatus||(t.SimpleStatus={}))[s.STATUS_NULL=0]="STATUS_NULL",s[s.STATUS_NEW=1]="STATUS_NEW",s[s.STATUS_CONNECTING=2]="STATUS_CONNECTING",s[s.STATUS_CONNECTED=3]="STATUS_CONNECTED",s[s.STATUS_COMPLETED=4]="STATUS_COMPLETED";var l=function(e){function t(t){var i=e.call(this)||this;if(i.video=!!t.media.remote.video,i.audio=!!t.media.remote.audio,!i.audio&&!i.video)throw new Error("At least one remote audio or video element is required for Simple.");i.options=t;var s=navigator.userAgent.toLowerCase(),r=!1,o=!1;s.indexOf("safari")>-1&&s.indexOf("chrome")<0?r=!0:s.indexOf("firefox")>-1&&s.indexOf("chrome")<0&&(o=!0);var l={};return r&&(l.modifiers=[c.stripG722]),o&&(l.alwaysAcquireMediaFirst=!0),i.anonymous=!i.options.ua.uri,i.ua=new a.UA({uri:i.options.ua.uri,authorizationUser:i.options.ua.authorizationUser,password:i.options.ua.password,displayName:i.options.ua.displayName,userAgentString:i.options.ua.userAgentString,register:!0,sessionDescriptionHandlerFactoryOptions:l,transportOptions:{traceSip:i.options.ua.traceSip,wsServers:i.options.ua.wsServers}}),i.state=n.STATUS_NULL,i.logger=i.ua.getLogger("sip.simple"),i.ua.on("registered",function(){i.emit("registered",i.ua)}),i.ua.on("unregistered",function(){i.emit("unregistered",i.ua)}),i.ua.on("registrationFailed",function(){i.emit("unregistered",i.ua)}),i.ua.on("invite",function(e){if(i.state!==n.STATUS_NULL&&i.state!==n.STATUS_COMPLETED)return i.logger.warn("Rejecting incoming call. Simple only supports 1 call at a time"),void e.reject();i.session=e,i.setupSession(),i.emit("ringing",i.session)}),i.ua.on("message",function(e){i.emit("message",e)}),i}return r.__extends(t,e),t.prototype.call=function(e){if(this.ua&&this.checkRegistration()){if(this.state===n.STATUS_NULL||this.state===n.STATUS_COMPLETED)return this.options.media.remote.audio&&(this.options.media.remote.audio.autoplay=!0),this.options.media.remote.video&&(this.options.media.remote.video.autoplay=!0),this.options.media.local&&this.options.media.local.video&&(this.options.media.local.video.autoplay=!0,this.options.media.local.video.volume=0),this.session=this.ua.invite(e,{sessionDescriptionHandlerOptions:{constraints:{audio:this.audio,video:this.video}}}),this.setupSession(),this.session;this.logger.warn("Cannot make more than a single call with Simple")}else this.logger.warn("A registered UA is required for calling")},t.prototype.answer=function(){if(this.state===n.STATUS_NEW||this.state===n.STATUS_CONNECTING)return this.options.media.remote.audio&&(this.options.media.remote.audio.autoplay=!0),this.options.media.remote.video&&(this.options.media.remote.video.autoplay=!0),this.session.accept({sessionDescriptionHandlerOptions:{constraints:{audio:this.audio,video:this.video}}});this.logger.warn("No call to answer")},t.prototype.reject=function(){if(this.state===n.STATUS_NEW||this.state===n.STATUS_CONNECTING)return this.session.reject();this.logger.warn("Call is already answered")},t.prototype.hangup=function(){if(this.state===n.STATUS_CONNECTED||this.state===n.STATUS_CONNECTING||this.state===n.STATUS_NEW)return this.state!==n.STATUS_CONNECTED?this.session.cancel():this.session?this.session.bye():void 0;this.logger.warn("No active call to hang up on")},t.prototype.hold=function(){if(this.state===n.STATUS_CONNECTED&&this.session&&!this.session.localHold)return this.mute(),this.logger.log("Placing session on hold"),this.session.hold();this.logger.warn("Cannot put call on hold")},t.prototype.unhold=function(){if(this.state===n.STATUS_CONNECTED&&this.session&&this.session.localHold)return this.unmute(),this.logger.log("Placing call off hold"),this.session.unhold();this.logger.warn("Cannot unhold a call that is not on hold")},t.prototype.mute=function(){this.state===n.STATUS_CONNECTED?(this.logger.log("Muting Audio"),this.toggleMute(!0),this.emit("mute",this)):this.logger.warn("An acitve call is required to mute audio")},t.prototype.unmute=function(){this.state===n.STATUS_CONNECTED?(this.logger.log("Unmuting Audio"),this.toggleMute(!1),this.emit("unmute",this)):this.logger.warn("An active call is required to unmute audio")},t.prototype.sendDTMF=function(e){this.state===n.STATUS_CONNECTED&&this.session?(this.logger.log("Sending DTMF tone: "+e),this.session.dtmf(e)):this.logger.warn("An active call is required to send a DTMF tone")},t.prototype.message=function(e,t){this.ua&&this.checkRegistration()?e&&t?this.ua.message(e,t):this.logger.warn("A destination and message are required to send a message"):this.logger.warn("A registered UA is required to send a message")},t.prototype.checkRegistration=function(){return this.anonymous||this.ua&&this.ua.isRegistered()},t.prototype.setupRemoteMedia=function(){var e=this;if(this.session){var t,i=this.session.sessionDescriptionHandler.peerConnection;i.getReceivers?(t=new MediaStream,i.getReceivers().forEach(function(e){var i=e.track;i&&t.addTrack(i)})):t=i.getRemoteStreams()[0],this.video?(this.options.media.remote.video.srcObject=t,this.options.media.remote.video.play().catch(function(){e.logger.log("play was rejected")})):this.audio&&(this.options.media.remote.audio.srcObject=t,this.options.media.remote.audio.play().catch(function(){e.logger.log("play was rejected")}))}else this.logger.warn("No session to set remote media on")},t.prototype.setupLocalMedia=function(){if(this.session){if(this.video&&this.options.media.local&&this.options.media.local.video){var e,t=this.session.sessionDescriptionHandler.peerConnection;t.getSenders?(e=new MediaStream,t.getSenders().forEach(function(t){var i=t.track;i&&"video"===i.kind&&e.addTrack(i)})):e=t.getLocalStreams()[0],this.options.media.local.video.srcObject=e,this.options.media.local.video.volume=0,this.options.media.local.video.play()}}else this.logger.warn("No session to set local media on")},t.prototype.cleanupMedia=function(){this.video&&(this.options.media.remote.video.srcObject=null,this.options.media.remote.video.pause(),this.options.media.local&&this.options.media.local.video&&(this.options.media.local.video.srcObject=null,this.options.media.local.video.pause())),this.audio&&(this.options.media.remote.audio.srcObject=null,this.options.media.remote.audio.pause())},t.prototype.setupSession=function(){var e=this;this.session?(this.state=n.STATUS_NEW,this.emit("new",this.session),this.session.on("progress",function(){return e.onProgress()}),this.session.on("accepted",function(){return e.onAccepted()}),this.session.on("rejected",function(){return e.onEnded()}),this.session.on("failed",function(){return e.onFailed()}),this.session.on("terminated",function(){return e.onEnded()})):this.logger.warn("No session to set up")},t.prototype.destroyMedia=function(){this.session&&this.session.sessionDescriptionHandler&&this.session.sessionDescriptionHandler.close()},t.prototype.toggleMute=function(e){if(this.session){var t=this.session.sessionDescriptionHandler.peerConnection;t.getSenders?t.getSenders().forEach(function(t){t.track&&(t.track.enabled=!e)}):t.getLocalStreams().forEach(function(t){t.getAudioTracks().forEach(function(t){t.enabled=!e}),t.getVideoTracks().forEach(function(t){t.enabled=!e})})}else this.logger.warn("No session to toggle mute")},t.prototype.onAccepted=function(){var e=this;this.session?(this.state=n.STATUS_CONNECTED,this.emit("connected",this.session),this.setupLocalMedia(),this.setupRemoteMedia(),this.session.sessionDescriptionHandler&&(this.session.sessionDescriptionHandler.on("addTrack",function(){e.logger.log("A track has been added, triggering new remoteMedia setup"),e.setupRemoteMedia()}),this.session.sessionDescriptionHandler.on("addStream",function(){e.logger.log("A stream has been added, trigger new remoteMedia setup"),e.setupRemoteMedia()})),this.session.on("dtmf",function(t,i){e.emit("dtmf",i.tone)}),this.session.on("bye",function(){return e.onEnded()})):this.logger.warn("No session for accepting")},t.prototype.onProgress=function(){this.state=n.STATUS_CONNECTING,this.emit("connecting",this.session)},t.prototype.onFailed=function(){this.onEnded()},t.prototype.onEnded=function(){this.state=n.STATUS_COMPLETED,this.emit("ended",this.session),this.cleanupMedia()},t.C=n,t}(o.EventEmitter);t.Simple=l},68316:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s,r=i(62039),o=i(19919),a=i(21127),c=i(12355),l=i(5756);(s=n=t.TransportStatus||(t.TransportStatus={}))[s.STATUS_CONNECTING=0]="STATUS_CONNECTING",s[s.STATUS_OPEN=1]="STATUS_OPEN",s[s.STATUS_CLOSING=2]="STATUS_CLOSING",s[s.STATUS_CLOSED=3]="STATUS_CLOSED";var u=function(e){function t(t,i){void 0===i&&(i={});var s=e.call(this,t,i)||this;return s.type=a.TypeStrings.Transport,s.reconnectionAttempts=0,s.status=n.STATUS_CONNECTING,s.configuration=s.loadConfig(i),s.server=s.configuration.wsServers[0],s}return r.__extends(t,e),t.prototype.isConnected=function(){return this.status===n.STATUS_OPEN},t.prototype.sendPromise=function(e,t){if(void 0===t&&(t={}),!this.statusAssert(n.STATUS_OPEN,t.force))return this.onError("unable to send message - WebSocket not open"),Promise.reject();var i=e.toString();return this.ws?(!0===this.configuration.traceSip&&this.logger.log("sending WebSocket message:\n\n"+i+"\n"),this.ws.send(i),Promise.resolve({msg:i})):(this.onError("unable to send message - WebSocket does not exist"),Promise.reject())},t.prototype.disconnectPromise=function(e){var t=this;return void 0===e&&(e={}),this.disconnectionPromise?this.disconnectionPromise:(e.code=e.code||1e3,this.statusTransition(n.STATUS_CLOSING,e.force)?(this.emit("disconnecting"),this.disconnectionPromise=new Promise(function(i,n){t.disconnectDeferredResolve=i,t.reconnectTimer&&(clearTimeout(t.reconnectTimer),t.reconnectTimer=void 0),t.ws?(t.stopSendingKeepAlives(),t.logger.log("closing WebSocket "+t.server.wsUri),t.ws.close(e.code,e.reason)):n("Attempted to disconnect but the websocket doesn't exist")}),this.disconnectionPromise):this.status===n.STATUS_CLOSED?Promise.resolve({overrideEvent:!0}):this.connectionPromise?this.connectionPromise.then(function(){return Promise.reject("The websocket did not disconnect")}).catch(function(){return Promise.resolve({overrideEvent:!0})}):Promise.reject("The websocket did not disconnect"))},t.prototype.connectPromise=function(e){var t=this;return void 0===e&&(e={}),this.status!==n.STATUS_CLOSING||e.force?(this.connectionPromise||(this.server=this.server||this.getNextWsServer(e.force),this.connectionPromise=new Promise(function(i,s){if((t.status===n.STATUS_OPEN||t.status===n.STATUS_CLOSING)&&!e.force)return t.logger.warn("WebSocket "+t.server.wsUri+" is already connected"),void s("Failed status check - attempted to open a connection but already open/closing");t.connectDeferredResolve=i,t.connectDeferredReject=s,t.status=n.STATUS_CONNECTING,t.emit("connecting"),t.logger.log("connecting to WebSocket "+t.server.wsUri),t.disposeWs();try{t.ws=new WebSocket(t.server.wsUri,"sip")}catch(r){return t.ws=null,t.statusTransition(n.STATUS_CLOSED,!0),t.onError("error connecting to WebSocket "+t.server.wsUri+":"+r),s("Failed to create a websocket"),t.connectDeferredResolve=void 0,void(t.connectDeferredReject=void 0)}if(!t.ws)return s("Unexpected instance websocket not set"),t.connectDeferredResolve=void 0,void(t.connectDeferredReject=void 0);t.connectionTimeout=setTimeout(function(){t.statusTransition(n.STATUS_CLOSED),t.logger.warn("took too long to connect - exceeded time set in configuration.connectionTimeout: "+t.configuration.connectionTimeout+"s"),t.emit("disconnected",{code:1e3}),t.connectionPromise=void 0,s("Connection timeout"),t.connectDeferredResolve=void 0,t.connectDeferredReject=void 0;var e=t.ws;t.disposeWs(),e.close(1e3)},1e3*t.configuration.connectionTimeout),t.boundOnOpen=t.onOpen.bind(t),t.boundOnMessage=t.onMessage.bind(t),t.boundOnClose=t.onClose.bind(t),t.boundOnError=t.onWebsocketError.bind(t),t.ws.addEventListener("open",t.boundOnOpen),t.ws.addEventListener("message",t.boundOnMessage),t.ws.addEventListener("close",t.boundOnClose),t.ws.addEventListener("error",t.boundOnError)})),this.connectionPromise):Promise.reject("WebSocket "+this.server.wsUri+" is closing")},t.prototype.onMessage=function(e){var t,i=e.data;if(/^(\r\n)+$/.test(i))return this.clearKeepAliveTimeout(),void(!0===this.configuration.traceSip&&this.logger.log("received WebSocket message with CRLF Keep Alive response"));if(i){if("string"!=typeof i){try{t=String.fromCharCode.apply(null,new Uint8Array(i))}catch(n){return void this.logger.warn("received WebSocket binary message failed to be converted into string, message discarded")}!0===this.configuration.traceSip&&this.logger.log("received WebSocket binary message:\n\n"+i+"\n")}else!0===this.configuration.traceSip&&this.logger.log("received WebSocket text message:\n\n"+i+"\n"),t=i;this.emit("message",t)}else this.logger.warn("received empty message, message discarded")},t.prototype.onOpen=function(){if(this.status===n.STATUS_CLOSED){var e=this.ws;return this.disposeWs(),void e.close(1e3)}this.statusTransition(n.STATUS_OPEN,!0),this.emit("connected"),this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=void 0),this.logger.log("WebSocket "+this.server.wsUri+" connected"),void 0!==this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.reconnectionAttempts=0,this.disconnectionPromise=void 0,this.disconnectDeferredResolve=void 0,this.startSendingKeepAlives(),this.connectDeferredResolve?(this.connectDeferredResolve({overrideEvent:!0}),this.connectDeferredResolve=void 0,this.connectDeferredReject=void 0):this.logger.warn("Unexpected websocket.onOpen with no connectDeferredResolve")},t.prototype.onClose=function(e){if(this.logger.log("WebSocket disconnected (code: "+e.code+(e.reason?"| reason: "+e.reason:"")+")"),this.status!==n.STATUS_CLOSING&&(this.logger.warn("WebSocket closed without SIP.js requesting it"),this.emit("transportError")),this.stopSendingKeepAlives(),this.connectionTimeout&&clearTimeout(this.connectionTimeout),this.connectDeferredReject&&this.connectDeferredReject("Websocket Closed"),this.connectionTimeout=void 0,this.connectionPromise=void 0,this.connectDeferredResolve=void 0,this.connectDeferredReject=void 0,this.disconnectDeferredResolve)return this.disconnectDeferredResolve({overrideEvent:!0}),this.statusTransition(n.STATUS_CLOSED),void(this.disconnectDeferredResolve=void 0);this.statusTransition(n.STATUS_CLOSED,!0),this.emit("disconnected",{code:e.code,reason:e.reason}),this.disposeWs(),this.reconnect()},t.prototype.disposeWs=function(){this.ws&&(this.ws.removeEventListener("open",this.boundOnOpen),this.ws.removeEventListener("message",this.boundOnMessage),this.ws.removeEventListener("close",this.boundOnClose),this.ws.removeEventListener("error",this.boundOnError),this.ws.close(),this.ws=void 0)},t.prototype.onError=function(e){this.logger.warn("Transport error: "+e),this.emit("transportError")},t.prototype.onWebsocketError=function(){this.onError("The Websocket had an error")},t.prototype.reconnect=function(){var e=this;if(this.reconnectionAttempts>0&&this.logger.log("Reconnection attempt "+this.reconnectionAttempts+" failed"),this.noAvailableServers())return this.logger.warn("attempted to get next ws server but there are no available ws servers left"),this.logger.warn("no available ws servers left - going to closed state"),this.statusTransition(n.STATUS_CLOSED,!0),this.emit("closed"),void this.resetServerErrorStatus();this.isConnected()&&(this.logger.warn("attempted to reconnect while connected - forcing disconnect"),this.disconnect({force:!0})),this.reconnectionAttempts+=1,this.reconnectionAttempts>this.configuration.maxReconnectionAttempts?(this.logger.warn("maximum reconnection attempts for WebSocket "+this.server.wsUri),this.logger.log("transport "+this.server.wsUri+" failed | connection state set to 'error'"),this.server.isError=!0,this.emit("transportError"),this.noAvailableServers()||(this.server=this.getNextWsServer()),this.reconnectionAttempts=0,this.reconnect()):(this.logger.log("trying to reconnect to WebSocket "+this.server.wsUri+" (reconnection attempt "+this.reconnectionAttempts+")"),this.reconnectTimer=setTimeout(function(){e.connect(),e.reconnectTimer=void 0},1===this.reconnectionAttempts?0:1e3*this.configuration.reconnectionTimeout))},t.prototype.resetServerErrorStatus=function(){for(var e=0,t=this.configuration.wsServers;e<t.length;e++)t[e].isError=!1},t.prototype.getNextWsServer=function(e){if(void 0===e&&(e=!1),this.noAvailableServers())throw this.logger.warn("attempted to get next ws server but there are no available ws servers left"),new Error("Attempted to get next ws server, but there are no available ws servers left.");for(var t=[],i=0,n=this.configuration.wsServers;i<n.length;i++){var s=n[i];s.isError&&!e||(0===t.length?t.push(s):s.weight>t[0].weight?t=[s]:s.weight===t[0].weight&&t.push(s))}return t[Math.floor(Math.random()*t.length)]},t.prototype.noAvailableServers=function(){for(var e=0,t=this.configuration.wsServers;e<t.length;e++)if(!t[e].isError)return!1;return!0},t.prototype.sendKeepAlive=function(){var e=this;if(!this.keepAliveDebounceTimeout)return this.keepAliveDebounceTimeout=setTimeout(function(){e.emit("keepAliveDebounceTimeout"),e.clearKeepAliveTimeout()},1e3*this.configuration.keepAliveDebounce),this.send("\r\n\r\n")},t.prototype.clearKeepAliveTimeout=function(){this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveDebounceTimeout=void 0},t.prototype.startSendingKeepAlives=function(){var e=this;this.configuration.keepAliveInterval&&!this.keepAliveInterval&&(this.keepAliveInterval=setInterval(function(){e.sendKeepAlive(),e.startSendingKeepAlives()},function(e){var t=.8*e;return 1e3*(Math.random()*(e-t)+t)}(this.configuration.keepAliveInterval)))},t.prototype.stopSendingKeepAlives=function(){this.keepAliveInterval&&clearInterval(this.keepAliveInterval),this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveInterval=void 0,this.keepAliveDebounceTimeout=void 0},t.prototype.statusAssert=function(e,t){return e===this.status||(t?(this.logger.warn("Attempted to assert "+Object.keys(n)[this.status]+" as "+Object.keys(n)[e]+"- continuing with option: 'force'"),!0):(this.logger.warn("Tried to assert "+Object.keys(n)[e]+" but is currently "+Object.keys(n)[this.status]),!1))},t.prototype.statusTransition=function(e,t){return void 0===t&&(t=!1),this.logger.log("Attempting to transition status from "+Object.keys(n)[this.status]+" to "+Object.keys(n)[e]),e===n.STATUS_CONNECTING&&this.statusAssert(n.STATUS_CLOSED,t)||e===n.STATUS_OPEN&&this.statusAssert(n.STATUS_CONNECTING,t)||e===n.STATUS_CLOSING&&this.statusAssert(n.STATUS_OPEN,t)||e===n.STATUS_CLOSED?(this.status=e,!0):(this.logger.warn("Status transition failed - result: no-op - reason: either gave an nonexistent status or attempted illegal transition"),!1)},t.prototype.loadConfig=function(e){var t={wsServers:[{scheme:"WSS",sipUri:"<sip:edge.sip.onsip.com;transport=ws;lr>",weight:0,wsUri:"wss://edge.sip.onsip.com",isError:!1}],connectionTimeout:5,maxReconnectionAttempts:3,reconnectionTimeout:4,keepAliveInterval:0,keepAliveDebounce:10,traceSip:!1},i=this.getConfigurationCheck();for(var n in i.mandatory){if(!e.hasOwnProperty(n))throw new c.Exceptions.ConfigurationError(n);if(void 0===(r=i.mandatory[n](s=e[n])))throw new c.Exceptions.ConfigurationError(n,s);t[n]=r}for(var n in i.optional)if(e.hasOwnProperty(n)){var s,r;if((s=e[n])instanceof Array&&0===s.length||null===s||""===s||void 0===s||"number"==typeof s&&isNaN(s))continue;if(void 0===(r=i.optional[n](s)))throw new c.Exceptions.ConfigurationError(n,s);t[n]=r}var o={};for(var n in t)t.hasOwnProperty(n)&&(o[n]={value:t[n]});var a=Object.defineProperties({},o);for(var n in this.logger.log("configuration parameters after validation:"),t)t.hasOwnProperty(n)&&this.logger.log("\xb7 "+n+": "+JSON.stringify(t[n]));return a},t.prototype.getConfigurationCheck=function(){return{mandatory:{},optional:{wsServers:function(e){if("string"==typeof e)e=[{wsUri:e}];else{if(!(e instanceof Array))return;for(var t=0;t<e.length;t++)"string"==typeof e[t]&&(e[t]={wsUri:e[t]})}if(0===e.length)return!1;for(var i=0,n=e;i<n.length;i++){var s=n[i];if(!s.wsUri||s.weight&&!Number(s.weight))return;var r=o.Grammar.parse(s.wsUri,"absoluteURI");if(-1===r)return;if(["wss","ws","udp"].indexOf(r.scheme)<0)return;s.sipUri="<sip:"+r.host+(r.port?":"+r.port:"")+";transport="+r.scheme.replace(/^wss$/i,"ws")+";lr>",s.weight||(s.weight=0),s.isError=!1,s.scheme=r.scheme.toUpperCase()}return e},keepAliveInterval:function(e){if(l.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},keepAliveDebounce:function(e){if(l.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},traceSip:function(e){if("boolean"==typeof e)return e},connectionTimeout:function(e){if(l.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},maxReconnectionAttempts:function(e){if(l.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},reconnectionTimeout:function(e){if(l.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}}}}},t.C=n,t}(o.Transport);t.Transport=u},80512:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039).__importStar(i(24017));t.Modifiers=n;var s=i(17755);t.Simple=s.Simple;var r=i(41075);t.SessionDescriptionHandler=r.SessionDescriptionHandler;var o=i(68316);t.Transport=o.Transport},3667:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(21768),s=function(){function e(e,t){this.core=e,this.dialogState=t,this.core.dialogs.set(this.id,this)}return e.initialDialogStateForUserAgentClient=function(e,t){var i=t.getHeaders("record-route").reverse(),s=t.parseHeader("contact");if(!s)throw new Error("Contact undefined.");if(!(s instanceof n.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var r=s.uri,o=e.cseq,a=e.callId,c=e.fromTag,l=t.toTag;if(!a)throw new Error("Call id undefined.");if(!c)throw new Error("From tag undefined.");if(!l)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");var u=e.from.uri,h=e.to.uri;if(!t.statusCode)throw new Error("Incoming response status code undefined.");return{id:a+c+l,early:t.statusCode<200,callId:a,localTag:c,remoteTag:l,localSequenceNumber:o,remoteSequenceNumber:void 0,localURI:u,remoteURI:h,remoteTarget:r,routeSet:i,secure:!1}},e.initialDialogStateForUserAgentServer=function(e,t,i){void 0===i&&(i=!1);var s=e.getHeaders("record-route"),r=e.parseHeader("contact");if(!r)throw new Error("Contact undefined.");if(!(r instanceof n.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var o=e.callId,a=e.fromTag;return{id:o+t+a,early:i,callId:o,localTag:t,remoteTag:a,localSequenceNumber:void 0,remoteSequenceNumber:e.cseq,localURI:e.to.uri,remoteURI:e.from.uri,remoteTarget:r.uri,routeSet:s,secure:!1}},e.prototype.dispose=function(){this.core.dialogs.delete(this.id)},Object.defineProperty(e.prototype,"id",{get:function(){return this.dialogState.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"early",{get:function(){return this.dialogState.early},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callId",{get:function(){return this.dialogState.callId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localTag",{get:function(){return this.dialogState.localTag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteTag",{get:function(){return this.dialogState.remoteTag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localSequenceNumber",{get:function(){return this.dialogState.localSequenceNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteSequenceNumber",{get:function(){return this.dialogState.remoteSequenceNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localURI",{get:function(){return this.dialogState.localURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteURI",{get:function(){return this.dialogState.remoteURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteTarget",{get:function(){return this.dialogState.remoteTarget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"routeSet",{get:function(){return this.dialogState.routeSet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secure",{get:function(){return this.dialogState.secure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userAgentCore",{get:function(){return this.core},enumerable:!0,configurable:!0}),e.prototype.confirm=function(){this.dialogState.early=!1},e.prototype.receiveRequest=function(e){if(e.method!==n.C.ACK){if(this.remoteSequenceNumber){if(e.cseq<=this.remoteSequenceNumber)throw new Error("Out of sequence in dialog request. Did you forget to call sequenceGuard()?");this.dialogState.remoteSequenceNumber=e.cseq}this.remoteSequenceNumber||(this.dialogState.remoteSequenceNumber=e.cseq)}},e.prototype.recomputeRouteSet=function(e){this.dialogState.routeSet=e.getHeaders("record-route").reverse()},e.prototype.createOutgoingRequestMessage=function(e,t){var i,n=this.remoteURI,s=this.remoteTag,r=this.localURI,o=this.localTag,a=this.callId;return i=t&&t.cseq?t.cseq:this.dialogState.localSequenceNumber?this.dialogState.localSequenceNumber+=1:this.dialogState.localSequenceNumber=1,this.userAgentCore.makeOutgoingRequestMessage(e,this.remoteTarget,r,n,{callId:a,cseq:i,fromTag:o,toTag:s,routeSet:this.routeSet},t&&t.extraHeaders,t&&t.body)},e.prototype.sequenceGuard=function(e){return!(e.method!==n.C.ACK&&this.remoteSequenceNumber&&e.cseq<=this.remoteSequenceNumber&&(this.core.replyStateless(e,{statusCode:500}),1))},e}();t.Dialog=s},34756:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039);n.__exportStar(i(3667),t),n.__exportStar(i(167),t),n.__exportStar(i(63174),t)},167:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(95939),o=i(41224),a=i(16021),c=i(59677),l=i(34033),u=i(27771),h=i(66489),d=i(5002),p=i(97903),f=i(13033),m=i(98331),g=i(47076),_=i(55679),v=i(28301),b=i(71170),y=function(e){function t(t,i,n,s){var o=e.call(this,i,n)||this;return o.initialTransaction=t,o._signalingState=r.SignalingState.Initial,o.ackWait=!1,o.delegate=s,t instanceof a.InviteServerTransaction&&(o.ackWait=!0),o.early||o.start2xxRetransmissionTimer(),o.signalingStateTransition(t.request),o.logger=i.loggerFactory.getLogger("sip.invite-dialog"),o.logger.log("INVITE dialog "+o.id+" constructed"),o}return n.__extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._signalingState=r.SignalingState.Closed,this._offer=void 0,this._answer=void 0,this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.logger.log("INVITE dialog "+this.id+" destroyed")},Object.defineProperty(t.prototype,"sessionState",{get:function(){return this.early?r.SessionState.Early:this.ackWait?r.SessionState.AckWait:this._signalingState===r.SignalingState.Closed?r.SessionState.Terminated:r.SessionState.Confirmed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"signalingState",{get:function(){return this._signalingState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offer",{get:function(){return this._offer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"answer",{get:function(){return this._answer},enumerable:!0,configurable:!0}),t.prototype.confirm=function(){this.early&&this.start2xxRetransmissionTimer(),e.prototype.confirm.call(this)},t.prototype.reConfirm=function(){this.reinviteUserAgentServer&&this.startReInvite2xxRetransmissionTimer()},t.prototype.ack=function(e){var t;if(void 0===e&&(e={}),this.logger.log("INVITE dialog "+this.id+" sending ACK request"),this.reinviteUserAgentClient){if(!(this.reinviteUserAgentClient.transaction instanceof a.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");t=this.reinviteUserAgentClient.transaction,this.reinviteUserAgentClient=void 0}else{if(!(this.initialTransaction instanceof a.InviteClientTransaction))throw new Error("Initial transaction not instance of InviteClientTransaction.");t=this.initialTransaction}e.cseq=t.request.cseq;var i=this.createOutgoingRequestMessage(s.C.ACK,e);return t.ackResponse(i),this.signalingStateTransition(i),{message:i}},t.prototype.bye=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending BYE request"),this.initialTransaction instanceof a.InviteServerTransaction){if(this.early)throw new Error("UAS MUST NOT send a BYE on early dialogs.");if(this.ackWait&&this.initialTransaction.state!==a.TransactionState.Terminated)throw new Error("UAS MUST NOT send a BYE on a confirmed dialog until it has received an ACK for its 2xx response or until the server transaction times out.")}return new c.ByeUserAgentClient(this,e,t)},t.prototype.info=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending INFO request"),this.early)throw new Error("Dialog not confirmed.");return new u.InfoUserAgentClient(this,e,t)},t.prototype.invite=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending INVITE request"),this.early)throw new Error("Dialog not confirmed.");if(this.reinviteUserAgentClient)throw new Error("There is an ongoing re-INVITE client transaction.");if(this.reinviteUserAgentServer)throw new Error("There is an ongoing re-INVITE server transaction.");return new g.ReInviteUserAgentClient(this,e,t)},t.prototype.notify=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending NOTIFY request"),this.early)throw new Error("Dialog not confirmed.");return new d.NotifyUserAgentClient(this,e,t)},t.prototype.prack=function(e,t){return this.logger.log("INVITE dialog "+this.id+" sending PRACK request"),new f.PrackUserAgentClient(this,e,t)},t.prototype.refer=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending REFER request"),this.early)throw new Error("Dialog not confirmed.");return new v.ReferUserAgentClient(this,e,t)},t.prototype.receiveRequest=function(t){if(this.logger.log("INVITE dialog "+this.id+" received "+t.method+" request"),t.method===s.C.ACK){if(this.ackWait){if(this.initialTransaction instanceof a.InviteClientTransaction)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");if(this.initialTransaction.request.cseq!==t.cseq)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");this.ackWait=!1}else{if(!this.reinviteUserAgentServer)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");if(this.reinviteUserAgentServer.transaction.request.cseq!==t.cseq)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");this.reinviteUserAgentServer=void 0}return this.signalingStateTransition(t),void(this.delegate&&this.delegate.onAck&&this.delegate.onAck({message:t}))}if(this.sequenceGuard(t)){if(t.method===s.C.INVITE){if(this.reinviteUserAgentServer){var i=Math.floor(10*Math.random())+1;return void this.core.replyStateless(t,{statusCode:500,extraHeaders:["Retry-After: "+i]})}if(this.reinviteUserAgentClient)return void this.core.replyStateless(t,{statusCode:491})}if(e.prototype.receiveRequest.call(this,t),t.method===s.C.INVITE){var n=t.parseHeader("contact");if(!n)throw new Error("Contact undefined.");if(!(n instanceof s.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");this.dialogState.remoteTarget=n.uri}switch(t.method){case s.C.BYE:var r=new l.ByeUserAgentServer(this,t);this.delegate&&this.delegate.onBye?this.delegate.onBye(r):r.accept(),this.dispose();break;case s.C.INFO:r=new h.InfoUserAgentServer(this,t),this.delegate&&this.delegate.onInfo?this.delegate.onInfo(r):r.reject({statusCode:469,extraHeaders:["Recv-Info :"]});break;case s.C.INVITE:r=new _.ReInviteUserAgentServer(this,t),this.signalingStateTransition(t),this.delegate&&this.delegate.onInvite?this.delegate.onInvite(r):r.reject({statusCode:488});break;case s.C.NOTIFY:r=new p.NotifyUserAgentServer(this,t),this.delegate&&this.delegate.onNotify?this.delegate.onNotify(r):r.accept();break;case s.C.PRACK:r=new m.PrackUserAgentServer(this,t),this.delegate&&this.delegate.onPrack?this.delegate.onPrack(r):r.accept();break;case s.C.REFER:r=new b.ReferUserAgentServer(this,t),this.delegate&&this.delegate.onRefer?this.delegate.onRefer(r):r.reject();break;default:this.logger.log("INVITE dialog "+this.id+" received unimplemented "+t.method+" request"),this.core.replyStateless(t,{statusCode:501})}}else this.logger.log("INVITE dialog "+this.id+" rejected out of order "+t.method+" request.")},t.prototype.reliableSequenceGuard=function(e){var t=e.statusCode;if(!t)throw new Error("Status code undefined");if(t>100&&t<200){var i=e.getHeader("require"),n=e.getHeader("rseq"),s=i&&i.includes("100rel")&&n?Number(n):void 0;if(s){if(this.rseq&&this.rseq+1!==s)return!1;this.rseq||(this.rseq=s)}}return!0},t.prototype.signalingStateTransition=function(e){var t=s.getBody(e);if(t&&"session"===t.contentDisposition){if(e instanceof s.IncomingRequestMessage)switch(this._signalingState){case r.SignalingState.Initial:case r.SignalingState.Stable:this._signalingState=r.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case r.SignalingState.HaveLocalOffer:this._signalingState=r.SignalingState.Stable,this._answer=t;break;case r.SignalingState.HaveRemoteOffer:case r.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof s.IncomingResponseMessage)switch(this._signalingState){case r.SignalingState.Initial:case r.SignalingState.Stable:this._signalingState=r.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case r.SignalingState.HaveLocalOffer:this._signalingState=r.SignalingState.Stable,this._answer=t;break;case r.SignalingState.HaveRemoteOffer:case r.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof s.OutgoingRequestMessage)switch(this._signalingState){case r.SignalingState.Initial:case r.SignalingState.Stable:this._signalingState=r.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case r.SignalingState.HaveLocalOffer:break;case r.SignalingState.HaveRemoteOffer:this._signalingState=r.SignalingState.Stable,this._answer=t;break;case r.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(s.isBody(e))switch(this._signalingState){case r.SignalingState.Initial:case r.SignalingState.Stable:this._signalingState=r.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case r.SignalingState.HaveLocalOffer:break;case r.SignalingState.HaveRemoteOffer:this._signalingState=r.SignalingState.Stable,this._answer=t;break;case r.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}}},t.prototype.start2xxRetransmissionTimer=function(){var e=this;if(this.initialTransaction instanceof a.InviteServerTransaction){var t=this.initialTransaction,i=o.Timers.T1,n=function(){e.ackWait?(e.logger.log("No ACK for 2xx response received, attempting retransmission"),t.retransmitAcceptedResponse(),i=Math.min(2*i,o.Timers.T2),e.invite2xxTimer=setTimeout(n,i)):e.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(n,i);var s=function(){t.state===a.TransactionState.Terminated&&(t.removeListener("stateChanged",s),e.invite2xxTimer&&(clearTimeout(e.invite2xxTimer),e.invite2xxTimer=void 0),e.ackWait&&(e.delegate&&e.delegate.onAckTimeout?e.delegate.onAckTimeout():e.bye()))};t.addListener("stateChanged",s)}},t.prototype.startReInvite2xxRetransmissionTimer=function(){var e=this;if(this.reinviteUserAgentServer&&this.reinviteUserAgentServer.transaction instanceof a.InviteServerTransaction){var t=this.reinviteUserAgentServer.transaction,i=o.Timers.T1,n=function(){e.reinviteUserAgentServer?(e.logger.log("No ACK for 2xx response received, attempting retransmission"),t.retransmitAcceptedResponse(),i=Math.min(2*i,o.Timers.T2),e.invite2xxTimer=setTimeout(n,i)):e.invite2xxTimer=void 0};this.invite2xxTimer=setTimeout(n,i);var s=function(){t.state===a.TransactionState.Terminated&&(t.removeListener("stateChanged",s),e.invite2xxTimer&&(clearTimeout(e.invite2xxTimer),e.invite2xxTimer=void 0))};t.addListener("stateChanged",s)}},t}(i(3667).Dialog);t.SessionDialog=y},63174:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(32941),o=i(41224),a=i(84757),c=i(97903),l=i(77648),u=function(e){function t(t,i,n,s,r,o){var a=e.call(this,s,r)||this;return a.delegate=o,a._autoRefresh=!1,a._subscriptionEvent=t,a._subscriptionExpires=i,a._subscriptionExpiresInitial=i,a._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),a._subscriptionRefresh=void 0,a._subscriptionRefreshLastSet=void 0,a._subscriptionState=n,a.logger=s.loggerFactory.getLogger("sip.subscribe-dialog"),a.logger.log("SUBSCRIBE dialog "+a.id+" constructed"),a}return n.__extends(t,e),t.initialDialogStateForSubscription=function(e,t){var i=t.getHeaders("record-route"),n=t.parseHeader("contact");if(!n)throw new Error("Contact undefined.");if(!(n instanceof s.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var r=n.uri,o=e.cseq,a=e.callId,c=e.fromTag,l=t.fromTag;if(!a)throw new Error("Call id undefined.");if(!c)throw new Error("From tag undefined.");if(!l)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");return{id:a+c+l,early:!1,callId:a,localTag:c,remoteTag:l,localSequenceNumber:o,remoteSequenceNumber:void 0,localURI:e.from.uri,remoteURI:e.to.uri,remoteTarget:r,routeSet:i,secure:!1}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.N&&(clearTimeout(this.N),this.N=void 0),this.refreshTimerClear(),this.logger.log("SUBSCRIBE dialog "+this.id+" destroyed")},Object.defineProperty(t.prototype,"autoRefresh",{get:function(){return this._autoRefresh},set:function(e){this._autoRefresh=!0,this.refreshTimerSet()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionEvent",{get:function(){return this._subscriptionEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionExpires",{get:function(){var e=Math.floor(Date.now()/1e3)-this._subscriptionExpiresLastSet;return Math.max(this._subscriptionExpires-e,0)},set:function(e){if(e<0)throw new Error("Expires must be greater than or equal to zero.");if(this._subscriptionExpires=e,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this.autoRefresh){var t=this.subscriptionRefresh;(void 0===t||t>=e)&&this.refreshTimerSet()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionExpiresInitial",{get:function(){return this._subscriptionExpiresInitial},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionRefresh",{get:function(){if(void 0!==this._subscriptionRefresh&&void 0!==this._subscriptionRefreshLastSet){var e=Math.floor(Date.now()/1e3)-this._subscriptionRefreshLastSet;return Math.max(this._subscriptionRefresh-e,0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionState",{get:function(){return this._subscriptionState},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(t){if(this.logger.log("SUBSCRIBE dialog "+this.id+" received "+t.method+" request"),this.sequenceGuard(t))switch(e.prototype.receiveRequest.call(this,t),t.method){case s.C.NOTIFY:this.onNotify(t);break;default:this.logger.log("SUBSCRIBE dialog "+this.id+" received unimplemented "+t.method+" request"),this.core.replyStateless(t,{statusCode:501})}else this.logger.log("SUBSCRIBE dialog "+this.id+" rejected out of order "+t.method+" request.")},t.prototype.refresh=function(){var e="Allow: "+a.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: "+this.subscriptionExpiresInitial),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)},t.prototype.subscribe=function(e,t){var i=this;if(void 0===t&&(t={}),this.subscriptionState!==r.SubscriptionState.Pending&&this.subscriptionState!==r.SubscriptionState.Active)throw new Error("Invalid state "+this.subscriptionState+'. May only re-subscribe while in state "pending" or "active".');this.logger.log("SUBSCRIBE dialog "+this.id+" sending SUBSCRIBE request");var n=new l.ReSubscribeUserAgentClient(this,e,t);return this.N=setTimeout(function(){return i.timer_N()},o.Timers.TIMER_N),n},t.prototype.terminate=function(){this.stateTransition(r.SubscriptionState.Terminated),this.onTerminated()},t.prototype.unsubscribe=function(){var e="Allow: "+a.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: 0"),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)},t.prototype.onNotify=function(e){var t=e.parseHeader("Event").event;if(t&&t===this.subscriptionEvent){this.N&&(clearTimeout(this.N),this.N=void 0);var i=e.parseHeader("Subscription-State");if(i&&i.state){var n=i.state,s=i.expires?Math.max(i.expires,0):void 0;switch(n){case"pending":this.stateTransition(r.SubscriptionState.Pending,s);break;case"active":this.stateTransition(r.SubscriptionState.Active,s);break;case"terminated":this.stateTransition(r.SubscriptionState.Terminated,s);break;default:this.logger.warn("Unrecognized subscription state.")}var o=new c.NotifyUserAgentServer(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(o):o.accept()}else this.core.replyStateless(e,{statusCode:489})}else this.core.replyStateless(e,{statusCode:489})},t.prototype.onRefresh=function(e){this.delegate&&this.delegate.onRefresh&&this.delegate.onRefresh(e)},t.prototype.onTerminated=function(){this.delegate&&this.delegate.onTerminated&&this.delegate.onTerminated()},t.prototype.refreshTimerClear=function(){this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=void 0)},t.prototype.refreshTimerSet=function(){var e=this;if(this.refreshTimerClear(),this.autoRefresh&&this.subscriptionExpires>0){var t=900*this.subscriptionExpires;this._subscriptionRefresh=Math.floor(t/1e3),this._subscriptionRefreshLastSet=Math.floor(Date.now()/1e3),this.refreshTimer=setTimeout(function(){e.refreshTimer=void 0,e._subscriptionRefresh=void 0,e._subscriptionRefreshLastSet=void 0,e.onRefresh(e.refresh())},t)}},t.prototype.stateTransition=function(e,t){var i=this,n=function(){i.logger.warn("Invalid subscription state transition from "+i.subscriptionState+" to "+e)};switch(e){case r.SubscriptionState.Initial:case r.SubscriptionState.NotifyWait:return void n();case r.SubscriptionState.Pending:if(this.subscriptionState!==r.SubscriptionState.NotifyWait&&this.subscriptionState!==r.SubscriptionState.Pending)return void n();break;case r.SubscriptionState.Active:case r.SubscriptionState.Terminated:if(this.subscriptionState!==r.SubscriptionState.NotifyWait&&this.subscriptionState!==r.SubscriptionState.Pending&&this.subscriptionState!==r.SubscriptionState.Active)return void n();break;default:return void n()}e===r.SubscriptionState.Pending&&t&&(this.subscriptionExpires=t),e===r.SubscriptionState.Active&&t&&(this.subscriptionExpires=t),e===r.SubscriptionState.Terminated&&this.dispose(),this._subscriptionState=e},t.prototype.timer_N=function(){this.subscriptionState!==r.SubscriptionState.Terminated&&(this.stateTransition(r.SubscriptionState.Terminated),this.onTerminated())},t}(i(3667).Dialog);t.SubscriptionDialog=u},27711:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=function(e){function t(t){var i=this.constructor,n=e.call(this,t)||this;return Object.setPrototypeOf(n,i.prototype),n}return n.__extends(t,e),t}(Error);t.Exception=s},73708:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039);n.__exportStar(i(27711),t),n.__exportStar(i(3159),t),n.__exportStar(i(72430),t)},3159:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=function(e){function t(t){return e.call(this,t||"Transaction state error.")||this}return n.__extends(t,e),t}(i(27711).Exception);t.TransactionStateError=s},72430:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=function(e){function t(t){return e.call(this,t||"Unspecified transport error.")||this}return n.__extends(t,e),t}(i(27711).Exception);t.TransportError=s},19919:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039);n.__exportStar(i(34756),t),n.__exportStar(i(73708),t),n.__exportStar(i(26539),t),n.__exportStar(i(21768),t),n.__exportStar(i(95939),t),n.__exportStar(i(32941),t),n.__exportStar(i(16021),t),n.__exportStar(i(73449),t),n.__exportStar(i(43003),t),n.__exportStar(i(41224),t),n.__exportStar(i(8071),t)},26539:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039);n.__exportStar(i(32730),t),n.__exportStar(i(1206),t),n.__exportStar(i(17595),t)},32730:function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.Levels||(t.Levels={}))[i.error=0]="error",i[i.warn=1]="warn",i[i.log=2]="log",i[i.debug=3]="debug"},1206:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(32730),s=i(17595),r=function(){function e(){this.builtinEnabled=!0,this._level=n.Levels.log,this.loggers={},this.logger=this.getLogger("sip:loggerfactory")}return Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){e>=0&&e<=3?this._level=e:e>3?this._level=3:n.Levels.hasOwnProperty(e)?this._level=e:this.logger.error("invalid 'level' parameter value: "+JSON.stringify(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connector",{get:function(){return this._connector},set:function(e){e?"function"==typeof e?this._connector=e:this.logger.error("invalid 'connector' parameter value: "+JSON.stringify(e)):this._connector=void 0},enumerable:!0,configurable:!0}),e.prototype.getLogger=function(e,t){if(t&&3===this.level)return new s.Logger(this,e,t);if(this.loggers[e])return this.loggers[e];var i=new s.Logger(this,e);return this.loggers[e]=i,i},e.prototype.genericLog=function(e,t,i,s){this.level>=e&&this.builtinEnabled&&this.print(e,t,i,s),this.connector&&this.connector(n.Levels[e],t,i,s)},e.prototype.print=function(e,t,i,s){if("string"==typeof s){var r=[new Date,t];i&&r.push(i),s=r.concat(s).join(" | ")}switch(e){case n.Levels.error:console.error(s);break;case n.Levels.warn:console.warn(s);break;case n.Levels.log:console.log(s);break;case n.Levels.debug:console.debug(s)}},e}();t.LoggerFactory=r},17595:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(32730),s=function(){function e(e,t,i){this.logger=e,this.category=t,this.label=i}return e.prototype.error=function(e){this.genericLog(n.Levels.error,e)},e.prototype.warn=function(e){this.genericLog(n.Levels.warn,e)},e.prototype.log=function(e){this.genericLog(n.Levels.log,e)},e.prototype.debug=function(e){this.genericLog(n.Levels.debug,e)},e.prototype.genericLog=function(e,t){this.logger.genericLog(e,this.category,this.label,t)},e}();t.Logger=s},69279:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1676),s=i(91322),r=i(13543);function o(e){return!(!e||"string"!=typeof e.content||"string"!=typeof e.contentType||void 0!==e.contentDisposition)||"string"==typeof e.contentDisposition}function a(e){return"application/sdp"===e?"session":"render"}t.fromBodyLegacy=function(e){var t="string"==typeof e?e:e.body,i="string"==typeof e?"application/sdp":e.contentType;return{contentDisposition:a(i),contentType:i,content:t}},t.getBody=function(e){var t,i,c,l;if(e instanceof n.IncomingRequestMessage&&e.body&&(t=(l=e.parseHeader("Content-Disposition"))?l.type:void 0,i=e.parseHeader("Content-Type"),c=e.body),e instanceof s.IncomingResponseMessage&&e.body&&(t=(l=e.parseHeader("Content-Disposition"))?l.type:void 0,i=e.parseHeader("Content-Type"),c=e.body),e instanceof r.OutgoingRequestMessage&&e.body)if(t=e.getHeader("Content-Disposition"),i=e.getHeader("Content-Type"),"string"==typeof e.body){if(!i)throw new Error("Header content type header does not equal body content type.");c=e.body}else{if(i&&i!==e.body.contentType)throw new Error("Header content type header does not equal body content type.");i=e.body.contentType,c=e.body.body}if(o(e)&&(t=e.contentDisposition,i=e.contentType,c=e.content),c){if(i&&!t&&(t=a(i)),!t)throw new Error("Content disposition undefined.");if(!i)throw new Error("Content type undefined.");return{contentDisposition:t,contentType:i,content:c}}},t.isBody=o},89170:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039).__importDefault(i(29237)),s=i(10438),r=function(){function e(e,t,i){this.logger=e.getLogger("sipjs.digestauthentication"),this.username=t,this.password=i,this.nc=0,this.ncHex="00000000"}return e.prototype.authenticate=function(e,t,i){if(this.algorithm=t.algorithm,this.realm=t.realm,this.nonce=t.nonce,this.opaque=t.opaque,this.stale=t.stale,this.algorithm){if("MD5"!==this.algorithm)return this.logger.warn("challenge with Digest algorithm different than 'MD5', authentication aborted"),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(t.qop)if(t.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(t.qop.indexOf("auth-int")>-1))return this.logger.warn("challenge without Digest qop different than 'auth' or 'auth-int', authentication aborted"),!1;this.qop="auth-int"}else this.qop=void 0;return this.method=e.method,this.uri=e.ruri,this.cnonce=s.createRandomToken(12),this.nc+=1,this.updateNcHex(),4294967296===this.nc&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(i),!0},e.prototype.toString=function(){var e=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm="+this.algorithm),e.push('username="'+this.username+'"'),e.push('realm="'+this.realm+'"'),e.push('nonce="'+this.nonce+'"'),e.push('uri="'+this.uri+'"'),e.push('response="'+this.response+'"'),this.opaque&&e.push('opaque="'+this.opaque+'"'),this.qop&&(e.push("qop="+this.qop),e.push('cnonce="'+this.cnonce+'"'),e.push("nc="+this.ncHex)),"Digest "+e.join(", ")},e.prototype.updateNcHex=function(){var e=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-e.length)+e},e.prototype.calculateResponse=function(e){var t,i=n.default(this.username+":"+this.realm+":"+this.password);"auth"===this.qop?(t=n.default(this.method+":"+this.uri),this.response=n.default(i+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+t)):"auth-int"===this.qop?(t=n.default(this.method+":"+this.uri+":"+n.default(e||"")),this.response=n.default(i+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+t)):void 0===this.qop&&(t=n.default(this.method+":"+this.uri),this.response=n.default(i+":"+this.nonce+":"+t))},e}();t.DigestAuthentication=r},66095:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=i(62039).__importStar(i(72534));(n=t.Grammar||(t.Grammar={})).parse=function(e,t){var i={startRule:t};try{s.parse(e,i)}catch(n){i.data=-1}return i.data},n.nameAddrHeaderParse=function(e){var t=n.parse(e,"Name_Addr_Header");return-1!==t?t:void 0},n.URIParse=function(e){var t=n.parse(e,"SIP_URI");return-1!==t?t:void 0}},85746:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(66095),s=i(10438),r=function(){function e(){this.headers={}}return e.prototype.addHeader=function(e,t){var i={raw:t};e=s.headerize(e),this.headers[e]?this.headers[e].push(i):this.headers[e]=[i]},e.prototype.getHeader=function(e){var t=this.headers[s.headerize(e)];if(t)return t[0]?t[0].raw:void 0},e.prototype.getHeaders=function(e){var t=this.headers[s.headerize(e)],i=[];if(!t)return[];for(var n=0,r=t;n<r.length;n++)i.push(r[n].raw);return i},e.prototype.hasHeader=function(e){return!!this.headers[s.headerize(e)]},e.prototype.parseHeader=function(e,t){if(void 0===t&&(t=0),e=s.headerize(e),this.headers[e]&&!(t>=this.headers[e].length)){var i=this.headers[e][t];if(i.parsed)return i.parsed;var r=n.Grammar.parse(i.raw,e.replace(/-/g,"_"));return-1===r?void this.headers[e].splice(t,1):(i.parsed=r,r)}},e.prototype.s=function(e,t){return void 0===t&&(t=0),this.parseHeader(e,t)},e.prototype.setHeader=function(e,t){this.headers[s.headerize(e)]=[{raw:t}]},e.prototype.toString=function(){return this.data},e}();t.IncomingMessage=r},1676:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=function(e){function t(){return e.call(this)||this}return n.__extends(t,e),t}(i(85746).IncomingMessage);t.IncomingRequestMessage=s},91322:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=function(e){function t(){var t=e.call(this)||this;return t.headers={},t}return n.__extends(t,e),t}(i(85746).IncomingMessage);t.IncomingResponseMessage=s},21768:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039);n.__exportStar(i(41133),t),n.__exportStar(i(69279),t),n.__exportStar(i(89170),t),n.__exportStar(i(66095),t),n.__exportStar(i(85746),t),n.__exportStar(i(1676),t),n.__exportStar(i(91322),t),n.__exportStar(i(3232),t),n.__exportStar(i(13543),t),n.__exportStar(i(48093),t),n.__exportStar(i(28262),t),n.__exportStar(i(13881),t)},12928:function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.C||(t.C={})).ACK="ACK",i.BYE="BYE",i.CANCEL="CANCEL",i.INFO="INFO",i.INVITE="INVITE",i.MESSAGE="MESSAGE",i.NOTIFY="NOTIFY",i.OPTIONS="OPTIONS",i.REGISTER="REGISTER",i.UPDATE="UPDATE",i.SUBSCRIBE="SUBSCRIBE",i.PUBLISH="PUBLISH",i.REFER="REFER",i.PRACK="PRACK"},41133:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(62039).__exportStar(i(12928),t)},3232:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=function(e){function t(t,i,n){var s=e.call(this,n)||this;return s.uri=t,s._displayName=i,s}return n.__extends(t,e),Object.defineProperty(t.prototype,"friendlyName",{get:function(){return this.displayName||this.uri.aor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this._displayName},set:function(e){this._displayName=e},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.uri.clone(),this._displayName,JSON.parse(JSON.stringify(this.parameters)))},t.prototype.toString=function(){var e=this.displayName||"0"===this.displayName?'"'+this.displayName+'" ':"";for(var t in e+="<"+this.uri.toString()+">",this.parameters)this.parameters.hasOwnProperty(t)&&(e+=";"+t,null!==this.parameters[t]&&(e+="="+this.parameters[t]));return e},t}(i(28262).Parameters);t.NameAddrHeader=s},13543:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(3232),r=i(10438),o=function(){function e(t,i,s,o,a,c,l){this.headers={},this.extraHeaders=[],this.options=e.getDefaultOptions(),a&&(this.options=n.__assign({},this.options,a),this.options.optionTags&&this.options.optionTags.length&&(this.options.optionTags=this.options.optionTags.slice()),this.options.routeSet&&this.options.routeSet.length&&(this.options.routeSet=this.options.routeSet.slice())),c&&c.length&&(this.extraHeaders=c.slice()),l&&(this.body={body:l.content,contentType:l.contentType}),this.method=t,this.ruri=i.clone(),this.fromURI=s.clone(),this.fromTag=this.options.fromTag?this.options.fromTag:r.newTag(),this.from=e.makeNameAddrHeader(this.fromURI,this.options.fromDisplayName,this.fromTag),this.toURI=o.clone(),this.toTag=this.options.toTag,this.to=e.makeNameAddrHeader(this.toURI,this.options.toDisplayName,this.toTag),this.callId=this.options.callId?this.options.callId:this.options.callIdPrefix+r.createRandomToken(15),this.cseq=this.options.cseq,this.setHeader("route",this.options.routeSet),this.setHeader("via",""),this.setHeader("to",this.to.toString()),this.setHeader("from",this.from.toString()),this.setHeader("cseq",this.cseq+" "+this.method),this.setHeader("call-id",this.callId),this.setHeader("max-forwards","70")}return e.getDefaultOptions=function(){return{callId:"",callIdPrefix:"",cseq:1,toDisplayName:"",toTag:"",fromDisplayName:"",fromTag:"",forceRport:!1,hackViaTcp:!1,optionTags:["outbound"],routeSet:[],userAgentString:"sip.js",viaHost:""}},e.makeNameAddrHeader=function(e,t,i){var n={};return i&&(n.tag=i),new s.NameAddrHeader(e,t,n)},e.prototype.getHeader=function(e){var t=this.headers[r.headerize(e)];if(t){if(t[0])return t[0]}else for(var i=new RegExp("^\\s*"+e+"\\s*:","i"),n=0,s=this.extraHeaders;n<s.length;n++){var o=s[n];if(i.test(o))return o.substring(o.indexOf(":")+1).trim()}},e.prototype.getHeaders=function(e){var t=[],i=this.headers[r.headerize(e)];if(i)for(var n=0,s=i;n<s.length;n++)t.push(s[n]);else for(var o=new RegExp("^\\s*"+e+"\\s*:","i"),a=0,c=this.extraHeaders;a<c.length;a++){var l=c[a];o.test(l)&&t.push(l.substring(l.indexOf(":")+1).trim())}return t},e.prototype.hasHeader=function(e){if(this.headers[r.headerize(e)])return!0;for(var t=new RegExp("^\\s*"+e+"\\s*:","i"),i=0,n=this.extraHeaders;i<n.length;i++)if(t.test(n[i]))return!0;return!1},e.prototype.setHeader=function(e,t){this.headers[r.headerize(e)]=t instanceof Array?t:[t]},e.prototype.setViaHeader=function(e,t){void 0===t&&(t="WSS"),this.options.hackViaTcp&&(t="TCP");var i="SIP/2.0/"+t;i+=" "+this.options.viaHost+";branch="+e,this.options.forceRport&&(i+=";rport"),this.setHeader("via",i),this.branch=e},e.prototype.toString=function(){var e="";for(var t in e+=this.method+" "+this.ruri.toRaw()+" SIP/2.0\r\n",this.headers)if(this.headers[t])for(var i=0,n=this.headers[t];i<n.length;i++)e+=t+": "+n[i]+"\r\n";for(var s=0,o=this.extraHeaders;s<o.length;s++)e+=(t=o[s]).trim()+"\r\n";return e+="Supported: "+this.options.optionTags.join(", ")+"\r\n",e+="User-Agent: "+this.options.userAgentString+"\r\n",this.body?"string"==typeof this.body?(e+="Content-Length: "+r.str_utf8_length(this.body)+"\r\n\r\n",e+=this.body):this.body.body&&this.body.contentType?(e+="Content-Type: "+this.body.contentType+"\r\n",e+="Content-Length: "+r.str_utf8_length(this.body.body)+"\r\n\r\n",e+=this.body.body):e+="Content-Length: 0\r\n\r\n":e+="Content-Length: 0\r\n\r\n",e},e}();t.OutgoingRequestMessage=o},48093:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(10438);t.constructOutgoingResponse=function(e,t){var i="\r\n";if(t.statusCode<100||t.statusCode>699)throw new TypeError("Invalid statusCode: "+t.statusCode);var s=t.reasonPhrase?t.reasonPhrase:n.getReasonPhrase(t.statusCode),r="SIP/2.0 "+t.statusCode+" "+s+i,o="From: "+e.getHeader("From")+i,a="Call-ID: "+e.callId+i,c="CSeq: "+e.cseq+" "+e.method+i,l=e.getHeaders("via").reduce(function(e,t){return e+"Via: "+t+i},""),u="To: "+e.getHeader("to");if(t.statusCode>100&&!e.parseHeader("to").hasParam("tag")){var h=t.toTag;h||(h=n.newTag()),u+=";tag="+h}u+=i;var d="";t.supported&&(d="Supported: "+t.supported.join(", ")+i);var p="";t.userAgent&&(p="User-Agent: "+t.userAgent+i);var f="";return t.extraHeaders&&(f=t.extraHeaders.reduce(function(e,t){return e+t.trim()+i},"")),r+=l,r+=o,r+=u,r+=c,r+=a,r+=d,r+=p,r+=f,t.body?(r+="Content-Type: "+t.body.contentType+i,r+="Content-Length: "+n.str_utf8_length(t.body.content)+i+i,r+=t.body.content):r+="Content-Length: 0\r\n\r\n",{message:r}}},28262:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){for(var t in this.parameters={},e)e.hasOwnProperty(t)&&this.setParam(t,e[t])}return e.prototype.setParam=function(e,t){e&&(this.parameters[e.toLowerCase()]=null==t?null:t.toString())},e.prototype.getParam=function(e){if(e)return this.parameters[e.toLowerCase()]},e.prototype.hasParam=function(e){return!!e&&!!this.parameters.hasOwnProperty(e.toLowerCase())},e.prototype.deleteParam=function(e){if(e=e.toLowerCase(),this.parameters.hasOwnProperty(e)){var t=this.parameters[e];return delete this.parameters[e],t}},e.prototype.clearParams=function(){this.parameters={}},e}();t.Parameters=i},13881:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=function(e){function t(t,i,n,s,r,o){var a=e.call(this,r)||this;if(a.headers={},!n)throw new TypeError('missing or invalid "host" parameter');for(var c in t=t||"sip",o)o.hasOwnProperty(c)&&a.setHeader(c,o[c]);return a.raw={scheme:t,user:i,host:n,port:s},a.normal={scheme:t.toLowerCase(),user:i,host:n.toLowerCase(),port:s},a}return n.__extends(t,e),Object.defineProperty(t.prototype,"scheme",{get:function(){return this.normal.scheme},set:function(e){this.raw.scheme=e,this.normal.scheme=e.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.normal.user},set:function(e){this.normal.user=this.raw.user=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"host",{get:function(){return this.normal.host},set:function(e){this.raw.host=e,this.normal.host=e.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aor",{get:function(){return this.normal.user+"@"+this.normal.host},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"port",{get:function(){return this.normal.port},set:function(e){this.normal.port=this.raw.port=e},enumerable:!0,configurable:!0}),t.prototype.setHeader=function(e,t){this.headers[this.headerize(e)]=t instanceof Array?t:[t]},t.prototype.getHeader=function(e){if(e)return this.headers[this.headerize(e)]},t.prototype.hasHeader=function(e){return!!e&&!!this.headers.hasOwnProperty(this.headerize(e))},t.prototype.deleteHeader=function(e){if(e=this.headerize(e),this.headers.hasOwnProperty(e)){var t=this.headers[e];return delete this.headers[e],t}},t.prototype.clearHeaders=function(){this.headers={}},t.prototype.clone=function(){return new t(this._raw.scheme,this._raw.user||"",this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))},t.prototype.toRaw=function(){return this._toString(this._raw)},t.prototype.toString=function(){return this._toString(this._normal)},Object.defineProperty(t.prototype,"_normal",{get:function(){return this.normal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_raw",{get:function(){return this.raw},enumerable:!0,configurable:!0}),t.prototype._toString=function(e){var t=e.scheme+":";for(var i in e.scheme.toLowerCase().match("^sips?$")||(t+="//"),e.user&&(t+=this.escapeUser(e.user)+"@"),t+=e.host,(e.port||0===e.port)&&(t+=":"+e.port),this.parameters)this.parameters.hasOwnProperty(i)&&(t+=";"+i,null!==this.parameters[i]&&(t+="="+this.parameters[i]));var n=[];for(var s in this.headers)if(this.headers.hasOwnProperty(s))for(var r in this.headers[s])this.headers[s].hasOwnProperty(r)&&n.push(s+"="+this.headers[s][r]);return n.length>0&&(t+="?"+n.join("&")),t},t.prototype.escapeUser=function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},t.prototype.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},i=e.toLowerCase().replace(/_/g,"-").split("-"),n=i.length,s="",r=0;r<n;r++)0!==r&&(s+="-"),s+=i[r].charAt(0).toUpperCase()+i[r].substring(1);return t[s]&&(s=t[s]),s},t}(i(28262).Parameters);t.URI=s},10438:function(e,t){"use strict";function i(e,t){void 0===t&&(t=32);for(var i="",n=0;n<e;n++)i+=Math.floor(Math.random()*t).toString(t);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.createRandomToken=i,t.getReasonPhrase=function(e){return n[e]||""},t.newTag=function(){return i(10)},t.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},i=e.toLowerCase().replace(/_/g,"-").split("-"),n=i.length,s="",r=0;r<n;r++)0!==r&&(s+="-"),s+=i[r].charAt(0).toUpperCase()+i[r].substring(1);return t[s]&&(s=t[s]),s},t.str_utf8_length=function(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length};var n={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"}},95939:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(62039).__exportStar(i(73943),t)},73943:function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.SessionState||(t.SessionState={})).Initial="Initial",i.Early="Early",i.AckWait="AckWait",i.Confirmed="Confirmed",i.Terminated="Terminated",function(e){e.Initial="Initial",e.HaveLocalOffer="HaveLocalOffer",e.HaveRemoteOffer="HaveRemoteOffer",e.Stable="Stable",e.Closed="Closed"}(t.SignalingState||(t.SignalingState={}))},32941:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(62039).__exportStar(i(63389),t)},63389:function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.SubscriptionState||(t.SubscriptionState={})).Initial="Initial",i.NotifyWait="NotifyWait",i.Pending="Pending",i.Active="Active",i.Terminated="Terminated"},41224:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=500;t.Timers={T1:i,T2:4e3,T4:5e3,TIMER_B:64*i,TIMER_D:0,TIMER_F:64*i,TIMER_H:64*i,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:64*i,TIMER_M:64*i,TIMER_N:64*i,PROVISIONAL_RESPONSE_INTERVAL:6e4}},65617:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=function(e){function t(i,n,s,r,o){var a=e.call(this,n,s,t.makeId(i),r,o)||this;return a._request=i,a.user=s,i.setViaHeader(a.id,n.server&&n.server.scheme?n.server.scheme:void 0),a}return n.__extends(t,e),t.makeId=function(e){if("CANCEL"===e.method){if(!e.branch)throw new Error("Outgoing CANCEL request without a branch.");return e.branch}return"z9hG4bK"+Math.floor(1e7*Math.random())},Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:!0,configurable:!0}),t.prototype.onRequestTimeout=function(){this.user.onRequestTimeout&&this.user.onRequestTimeout()},t}(i(77739).Transaction);t.ClientTransaction=s},16021:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039);n.__exportStar(i(65617),t),n.__exportStar(i(97105),t),n.__exportStar(i(98914),t),n.__exportStar(i(9104),t),n.__exportStar(i(73407),t),n.__exportStar(i(97105),t),n.__exportStar(i(70654),t),n.__exportStar(i(38619),t),n.__exportStar(i(77739),t)},97105:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(41224),r=i(65617),o=i(38619),a=function(e){function t(t,i,n){var r=e.call(this,t,i,n,o.TransactionState.Calling,"sip.transaction.ict")||this;return r.ackRetransmissionCache=new Map,r.B=setTimeout(function(){return r.timer_B()},s.Timers.TIMER_B),r.send(t.toString()).catch(function(e){r.logTransportError(e,"Failed to send initial outgoing request.")}),r}return n.__extends(t,e),t.prototype.dispose=function(){this.B&&(clearTimeout(this.B),this.B=void 0),this.D&&(clearTimeout(this.D),this.D=void 0),this.M&&(clearTimeout(this.M),this.M=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"ict"},enumerable:!0,configurable:!0}),t.prototype.ackResponse=function(e){var t=this,i=e.toTag;if(!i)throw new Error("To tag undefined.");var n="z9hG4bK"+Math.floor(1e7*Math.random());e.setViaHeader(n,this.transport.server&&this.transport.server.scheme?this.transport.server.scheme:void 0),this.ackRetransmissionCache.set(i,e),this.send(e.toString()).catch(function(e){t.logTransportError(e,"Failed to send ACK to 2xx response.")})},t.prototype.receiveResponse=function(e){var t=this,i=e.statusCode;if(!i||i<100||i>699)throw new Error("Invalid status code "+i);switch(this.state){case o.TransactionState.Calling:if(i>=100&&i<=199)return this.stateTransition(o.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(i>=200&&i<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(o.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(i>=300&&i<=699)return this.stateTransition(o.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Proceeding:if(i>=100&&i<=199)return void(this.user.receiveResponse&&this.user.receiveResponse(e));if(i>=200&&i<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(o.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(i>=300&&i<=699)return this.stateTransition(o.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Accepted:if(i>=200&&i<=299){if(!this.ackRetransmissionCache.has(e.toTag))return this.ackRetransmissionCache.set(e.toTag,void 0),void(this.user.receiveResponse&&this.user.receiveResponse(e));var n=this.ackRetransmissionCache.get(e.toTag);return n?void this.send(n.toString()).catch(function(e){t.logTransportError(e,"Failed to send retransmission of ACK to 2xx response.")}):void 0}break;case o.TransactionState.Completed:if(i>=300&&i<=699)return void this.ack(e);break;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}this.logger.warn("Received unexpected "+i+" response while in state "+this.state+".")},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"INVITE client transaction"},t.prototype.ack=function(e){var t=this,i=this.request.ruri,n=this.request.callId,s=this.request.cseq,r=this.request.getHeader("from"),o=e.getHeader("to"),a=this.request.getHeader("via"),c=this.request.getHeader("route");if(!r)throw new Error("From undefined.");if(!o)throw new Error("To undefined.");if(!a)throw new Error("Via undefined.");var l="ACK "+i+" SIP/2.0\r\n";c&&(l+="Route: "+c+"\r\n"),l+="Via: "+a+"\r\n",l+="To: "+o+"\r\n",l+="From: "+r+"\r\n",l+="Call-ID: "+n+"\r\n",l+="CSeq: "+s+" ACK\r\n",l+="Max-Forwards: 70\r\n",this.send(l+="Content-Length: 0\r\n\r\n").catch(function(e){t.logTransportError(e,"Failed to send ACK to non-2xx response.")})},t.prototype.stateTransition=function(e,t){var i=this;void 0===t&&(t=!1);var n=function(){throw new Error("Invalid state transition from "+i.state+" to "+e)};switch(e){case o.TransactionState.Calling:n();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Calling&&n();break;case o.TransactionState.Accepted:case o.TransactionState.Completed:this.state!==o.TransactionState.Calling&&this.state!==o.TransactionState.Proceeding&&n();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Calling&&this.state!==o.TransactionState.Accepted&&this.state!==o.TransactionState.Completed&&(t||n());break;default:n()}this.B&&(clearTimeout(this.B),this.B=void 0),e===o.TransactionState.Completed&&(this.D=setTimeout(function(){return i.timer_D()},s.Timers.TIMER_D)),e===o.TransactionState.Accepted&&(this.M=setTimeout(function(){return i.timer_M()},s.Timers.TIMER_M)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_A=function(){},t.prototype.timer_B=function(){this.logger.debug("Timer B expired for INVITE client transaction "+this.id+"."),this.state===o.TransactionState.Calling&&(this.onRequestTimeout(),this.stateTransition(o.TransactionState.Terminated))},t.prototype.timer_D=function(){this.logger.debug("Timer D expired for INVITE client transaction "+this.id+"."),this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)},t.prototype.timer_M=function(){this.logger.debug("Timer M expired for INVITE client transaction "+this.id+"."),this.state===o.TransactionState.Accepted&&this.stateTransition(o.TransactionState.Terminated)},t}(r.ClientTransaction);t.InviteClientTransaction=a},98914:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(41224),o=i(70654),a=i(38619),c=function(e){function t(t,i,n){return e.call(this,t,i,n,a.TransactionState.Proceeding,"sip.transaction.ist")||this}return n.__extends(t,e),t.prototype.dispose=function(){this.stopProgressExtensionTimer(),this.H&&(clearTimeout(this.H),this.H=void 0),this.I&&(clearTimeout(this.I),this.I=void 0),this.L&&(clearTimeout(this.L),this.L=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"ist"},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(e){var t=this;switch(this.state){case a.TransactionState.Proceeding:if(e.method===s.C.INVITE)return void(this.lastProvisionalResponse&&this.send(this.lastProvisionalResponse).catch(function(e){t.logTransportError(e,"Failed to send retransmission of provisional response.")}));break;case a.TransactionState.Accepted:if(e.method===s.C.INVITE)return;break;case a.TransactionState.Completed:if(e.method===s.C.INVITE){if(!this.lastFinalResponse)throw new Error("Last final response undefined.");return void this.send(this.lastFinalResponse).catch(function(e){t.logTransportError(e,"Failed to send retransmission of final response.")})}if(e.method===s.C.ACK)return void this.stateTransition(a.TransactionState.Confirmed);break;case a.TransactionState.Confirmed:case a.TransactionState.Terminated:if(e.method===s.C.INVITE||e.method===s.C.ACK)return;break;default:throw new Error("Invalid state "+this.state)}this.logger.warn("INVITE server transaction received unexpected "+e.method+" request while in state "+this.state+".")},t.prototype.receiveResponse=function(e,t){var i=this;if(e<100||e>699)throw new Error("Invalid status code "+e);switch(this.state){case a.TransactionState.Proceeding:if(e>=100&&e<=199)return this.lastProvisionalResponse=t,e>100&&this.startProgressExtensionTimer(),void this.send(t).catch(function(e){i.logTransportError(e,"Failed to send 1xx response.")});if(e>=200&&e<=299)return this.lastFinalResponse=t,this.stateTransition(a.TransactionState.Accepted),void this.send(t).catch(function(e){i.logTransportError(e,"Failed to send 2xx response.")});if(e>=300&&e<=699)return this.lastFinalResponse=t,this.stateTransition(a.TransactionState.Completed),void this.send(t).catch(function(e){i.logTransportError(e,"Failed to send non-2xx final response.")});break;case a.TransactionState.Accepted:if(e>=200&&e<=299)return void this.send(t).catch(function(e){i.logTransportError(e,"Failed to send 2xx response.")});break;case a.TransactionState.Completed:case a.TransactionState.Confirmed:case a.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var n="INVITE server transaction received unexpected "+e+" response from TU while in state "+this.state+".";throw this.logger.error(n),new Error(n)},t.prototype.retransmitAcceptedResponse=function(){var e=this;this.state===a.TransactionState.Accepted&&this.lastFinalResponse&&this.send(this.lastFinalResponse).catch(function(t){e.logTransportError(t,"Failed to send 2xx response.")})},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e)},t.prototype.typeToString=function(){return"INVITE server transaction"},t.prototype.stateTransition=function(e){var t=this,i=function(){throw new Error("Invalid state transition from "+t.state+" to "+e)};switch(e){case a.TransactionState.Proceeding:i();break;case a.TransactionState.Accepted:case a.TransactionState.Completed:this.state!==a.TransactionState.Proceeding&&i();break;case a.TransactionState.Confirmed:this.state!==a.TransactionState.Completed&&i();break;case a.TransactionState.Terminated:this.state!==a.TransactionState.Accepted&&this.state!==a.TransactionState.Completed&&this.state!==a.TransactionState.Confirmed&&i();break;default:i()}this.stopProgressExtensionTimer(),e===a.TransactionState.Accepted&&(this.L=setTimeout(function(){return t.timer_L()},r.Timers.TIMER_L)),e===a.TransactionState.Completed&&(this.H=setTimeout(function(){return t.timer_H()},r.Timers.TIMER_H)),e===a.TransactionState.Confirmed&&(this.I=setTimeout(function(){return t.timer_I()},r.Timers.TIMER_I)),e===a.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.startProgressExtensionTimer=function(){var e=this;void 0===this.progressExtensionTimer&&(this.progressExtensionTimer=setInterval(function(){if(e.logger.debug("Progress extension timer expired for INVITE server transaction "+e.id+"."),!e.lastProvisionalResponse)throw new Error("Last provisional response undefined.");e.send(e.lastProvisionalResponse).catch(function(t){e.logTransportError(t,"Failed to send retransmission of provisional response.")})},r.Timers.PROVISIONAL_RESPONSE_INTERVAL))},t.prototype.stopProgressExtensionTimer=function(){void 0!==this.progressExtensionTimer&&(clearInterval(this.progressExtensionTimer),this.progressExtensionTimer=void 0)},t.prototype.timer_G=function(){},t.prototype.timer_H=function(){this.logger.debug("Timer H expired for INVITE server transaction "+this.id+"."),this.state===a.TransactionState.Completed&&(this.logger.warn("ACK to negative final response was never received, terminating transaction."),this.stateTransition(a.TransactionState.Terminated))},t.prototype.timer_I=function(){this.logger.debug("Timer I expired for INVITE server transaction "+this.id+"."),this.stateTransition(a.TransactionState.Terminated)},t.prototype.timer_L=function(){this.logger.debug("Timer L expired for INVITE server transaction "+this.id+"."),this.state===a.TransactionState.Accepted&&this.stateTransition(a.TransactionState.Terminated)},t}(o.ServerTransaction);t.InviteServerTransaction=c},9104:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(41224),r=i(65617),o=i(38619),a=function(e){function t(t,i,n){var r=e.call(this,t,i,n,o.TransactionState.Trying,"sip.transaction.nict")||this;return r.F=setTimeout(function(){return r.timer_F()},s.Timers.TIMER_F),r.send(t.toString()).catch(function(e){r.logTransportError(e,"Failed to send initial outgoing request.")}),r}return n.__extends(t,e),t.prototype.dispose=function(){this.F&&(clearTimeout(this.F),this.F=void 0),this.K&&(clearTimeout(this.K),this.K=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"nict"},enumerable:!0,configurable:!0}),t.prototype.receiveResponse=function(e){var t=e.statusCode;if(!t||t<100||t>699)throw new Error("Invalid status code "+t);switch(this.state){case o.TransactionState.Trying:if(t>=100&&t<=199)return this.stateTransition(o.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=699)return this.stateTransition(o.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Proceeding:if(t>=100&&t<=199&&this.user.receiveResponse)return this.user.receiveResponse(e);if(t>=200&&t<=699)return this.stateTransition(o.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));case o.TransactionState.Completed:case o.TransactionState.Terminated:return;default:throw new Error("Invalid state "+this.state)}this.logger.warn("Non-INVITE client transaction received unexpected "+t+" response while in state "+this.state+".")},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"non-INVITE client transaction"},t.prototype.stateTransition=function(e,t){var i=this;void 0===t&&(t=!1);var n=function(){throw new Error("Invalid state transition from "+i.state+" to "+e)};switch(e){case o.TransactionState.Trying:n();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Trying&&n();break;case o.TransactionState.Completed:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&n();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&this.state!==o.TransactionState.Completed&&(t||n());break;default:n()}e===o.TransactionState.Completed&&(this.F&&(clearTimeout(this.F),this.F=void 0),this.K=setTimeout(function(){return i.timer_K()},s.Timers.TIMER_K)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_F=function(){this.logger.debug("Timer F expired for non-INVITE client transaction "+this.id+"."),(this.state===o.TransactionState.Trying||this.state===o.TransactionState.Proceeding)&&(this.onRequestTimeout(),this.stateTransition(o.TransactionState.Terminated))},t.prototype.timer_K=function(){this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)},t}(r.ClientTransaction);t.NonInviteClientTransaction=a},73407:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(41224),r=i(70654),o=i(38619),a=function(e){function t(t,i,n){return e.call(this,t,i,n,o.TransactionState.Trying,"sip.transaction.nist")||this}return n.__extends(t,e),t.prototype.dispose=function(){this.J&&(clearTimeout(this.J),this.J=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"nist"},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(e){var t=this;switch(this.state){case o.TransactionState.Trying:break;case o.TransactionState.Proceeding:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch(function(e){t.logTransportError(e,"Failed to send retransmission of provisional response.")});break;case o.TransactionState.Completed:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch(function(e){t.logTransportError(e,"Failed to send retransmission of final response.")});break;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}},t.prototype.receiveResponse=function(e,t){var i=this;if(e<100||e>699)throw new Error("Invalid status code "+e);if(e>100&&e<=199)throw new Error("Provisional response other than 100 not allowed.");switch(this.state){case o.TransactionState.Trying:if(this.lastResponse=t,e>=100&&e<200)return this.stateTransition(o.TransactionState.Proceeding),void this.send(t).catch(function(e){i.logTransportError(e,"Failed to send provisional response.")});if(e>=200&&e<=699)return this.stateTransition(o.TransactionState.Completed),void this.send(t).catch(function(e){i.logTransportError(e,"Failed to send final response.")});break;case o.TransactionState.Proceeding:if(this.lastResponse=t,e>=200&&e<=699)return this.stateTransition(o.TransactionState.Completed),void this.send(t).catch(function(e){i.logTransportError(e,"Failed to send final response.")});break;case o.TransactionState.Completed:return;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var n="Non-INVITE server transaction received unexpected "+e+" response from TU while in state "+this.state+".";throw this.logger.error(n),new Error(n)},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"non-INVITE server transaction"},t.prototype.stateTransition=function(e,t){var i=this;void 0===t&&(t=!1);var n=function(){throw new Error("Invalid state transition from "+i.state+" to "+e)};switch(e){case o.TransactionState.Trying:n();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Trying&&n();break;case o.TransactionState.Completed:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&n();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Proceeding&&this.state!==o.TransactionState.Completed&&(t||n());break;default:n()}e===o.TransactionState.Completed&&(this.J=setTimeout(function(){return i.timer_J()},s.Timers.TIMER_J)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_J=function(){this.logger.debug("Timer J expired for NON-INVITE server transaction "+this.id+"."),this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)},t}(r.ServerTransaction);t.NonInviteServerTransaction=a},70654:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=function(e){function t(t,i,n,s,r){var o=e.call(this,i,n,t.viaBranch,s,r)||this;return o._request=t,o.user=n,o}return n.__extends(t,e),Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:!0,configurable:!0}),t}(i(77739).Transaction);t.ServerTransaction=s},38619:function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.TransactionState||(t.TransactionState={})).Accepted="Accepted",i.Calling="Calling",i.Completed="Completed",i.Confirmed="Confirmed",i.Proceeding="Proceeding",i.Terminated="Terminated",i.Trying="Trying"},77739:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(93105),r=i(73708),o=function(e){function t(t,i,n,s,r){var o=e.call(this)||this;return o._transport=t,o._user=i,o._id=n,o._state=s,o.logger=i.loggerFactory.getLogger(r,n),o.logger.debug("Constructing "+o.typeToString()+" with id "+o.id+"."),o}return n.__extends(t,e),t.prototype.dispose=function(){this.logger.debug("Destroyed "+this.typeToString()+" with id "+this.id+".")},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kind",{get:function(){throw new Error("Invalid kind.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transport",{get:function(){return this._transport},enumerable:!0,configurable:!0}),t.prototype.on=function(t,i){return e.prototype.on.call(this,t,i)},t.prototype.logTransportError=function(e,t){this.logger.error(e.message),this.logger.error("Transport error occurred in "+this.typeToString()+" with id "+this.id+"."),this.logger.error(t)},t.prototype.send=function(e){var t=this;return this.transport.send(e).catch(function(e){var i;if(!(e instanceof r.TransportError))throw i=e&&"string"==typeof e.message?new r.TransportError(e.message):new r.TransportError,t.onTransportError(i),i;t.onTransportError(e)})},t.prototype.setState=function(e){this.logger.debug('State change to "'+e+'" on '+this.typeToString()+" with id "+this.id+"."),this._state=e,this._user.onStateChange&&this._user.onStateChange(e),this.emit("stateChanged")},t.prototype.typeToString=function(){return"UnknownType"},t}(s.EventEmitter);t.Transaction=o},8071:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=function(e){function t(t,i){var n=e.call(this)||this;return n.logger=t,n}return n.__extends(t,e),t.prototype.connect=function(e){var t=this;return void 0===e&&(e={}),this.connectPromise(e).then(function(e){e.overrideEvent||t.emit("connected")})},t.prototype.send=function(e,t){var i=this;return void 0===t&&(t={}),this.sendPromise(e).then(function(e){e.overrideEvent||i.emit("messageSent",e.msg)})},t.prototype.disconnect=function(e){var t=this;return void 0===e&&(e={}),this.disconnectPromise(e).then(function(e){e.overrideEvent||t.emit("disconnected")})},t.prototype.afterConnected=function(e){this.isConnected()?e():this.once("connected",e)},t.prototype.waitForConnected=function(){var e=this;return console.warn("DEPRECATION WARNING Transport.waitForConnected(): use afterConnected() instead"),new Promise(function(t){e.afterConnected(t)})},t}(i(93105).EventEmitter);t.Transport=s},84757:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(21768);t.AllowedMethods=[n.C.ACK,n.C.BYE,n.C.CANCEL,n.C.INFO,n.C.INVITE,n.C.MESSAGE,n.C.NOTIFY,n.C.OPTIONS,n.C.PRACK,n.C.REFER,n.C.SUBSCRIBE,n.C.UPDATE]},73449:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(62039).__exportStar(i(41729),t)},41729:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(16021),o=i(43003),a=i(84757),c=["application/sdp","application/dtmf-relay"],l=function(){function e(e,t){void 0===t&&(t={}),this.userAgentClients=new Map,this.userAgentServers=new Map,this.configuration=e,this.delegate=t,this.dialogs=new Map,this.subscribers=new Map,this.logger=e.loggerFactory.getLogger("sip.user-agent-core")}return e.prototype.dispose=function(){this.reset()},e.prototype.reset=function(){this.dialogs.forEach(function(e){return e.dispose()}),this.dialogs.clear(),this.subscribers.forEach(function(e){return e.dispose()}),this.subscribers.clear(),this.userAgentClients.forEach(function(e){return e.dispose()}),this.userAgentClients.clear(),this.userAgentServers.forEach(function(e){return e.dispose()}),this.userAgentServers.clear()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.configuration.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transport",{get:function(){var e=this.configuration.transportAccessor();if(!e)throw new Error("Transport undefined.");return e},enumerable:!0,configurable:!0}),e.prototype.invite=function(e,t){return new o.InviteUserAgentClient(this,e,t)},e.prototype.message=function(e,t){return new o.MessageUserAgentClient(this,e,t)},e.prototype.publish=function(e,t){return new o.PublishUserAgentClient(this,e,t)},e.prototype.register=function(e,t){return new o.RegisterUserAgentClient(this,e,t)},e.prototype.subscribe=function(e,t){return new o.SubscribeUserAgentClient(this,e,t)},e.prototype.request=function(e,t){return new o.UserAgentClient(r.NonInviteClientTransaction,this,e,t)},e.prototype.makeOutgoingRequestMessage=function(e,t,i,r,o,a,c){var l=this.configuration.sipjsId,u=this.configuration.displayName,h=this.configuration.viaForceRport,d=this.configuration.hackViaTcp,p=this.configuration.supportedOptionTags.slice();e===s.C.REGISTER&&p.push("path","gruu"),e===s.C.INVITE&&(this.configuration.contact.pubGruu||this.configuration.contact.tempGruu)&&p.push("gruu");var f=n.__assign({},{callIdPrefix:l,forceRport:h,fromDisplayName:u,hackViaTcp:d,optionTags:p,routeSet:this.configuration.routeSet,userAgentString:this.configuration.userAgentHeaderFieldValue,viaHost:this.configuration.viaHost},o);return new s.OutgoingRequestMessage(e,t,i,r,f,a,c)},e.prototype.receiveIncomingRequestFromTransport=function(e){this.receiveRequestFromTransport(e)},e.prototype.receiveIncomingResponseFromTransport=function(e){this.receiveResponseFromTransport(e)},e.prototype.replyStateless=function(e,t){t=n.__assign({},t,{userAgent:this.configuration.userAgentHeaderFieldValue,supported:this.configuration.supportedOptionTagsResponse});var i=s.constructOutgoingResponse(e,t);return this.transport.send(i.message),i},e.prototype.receiveRequestFromTransport=function(e){var t=e.viaBranch,i=this.userAgentServers.get(t);e.method===s.C.ACK&&i&&i.transaction.state===r.TransactionState.Accepted&&i instanceof o.InviteUserAgentServer?this.logger.warn("Discarding out of dialog ACK after 2xx response sent on transaction "+t+"."):e.method!==s.C.CANCEL?i?i.transaction.receiveRequest(e):this.receiveRequest(e):i?(this.replyStateless(e,{statusCode:200}),i.transaction instanceof r.InviteServerTransaction&&i.transaction.state===r.TransactionState.Proceeding&&i instanceof o.InviteUserAgentServer&&i.receiveCancel(e)):this.replyStateless(e,{statusCode:481})},e.prototype.receiveRequest=function(e){if(a.AllowedMethods.includes(e.method)){if(!e.ruri)throw new Error("Request-URI undefined.");if("sip"===e.ruri.scheme){var t=e.ruri,i=function(e){return!!e&&e.user===t.user};if(!i(this.configuration.aor)&&!(i(this.configuration.contact.uri)||i(this.configuration.contact.pubGruu)||i(this.configuration.contact.tempGruu)))return this.logger.warn("Request-URI does not point to us."),void(e.method!==s.C.ACK&&this.replyStateless(e,{statusCode:404}));if(e.method!==s.C.INVITE||e.hasHeader("Contact")){if(!e.toTag&&!this.userAgentServers.has(e.viaBranch)&&Array.from(this.userAgentServers.values()).some(function(t){return t.transaction.request.fromTag===e.fromTag&&t.transaction.request.callId===e.callId&&t.transaction.request.cseq===e.cseq}))return void this.replyStateless(e,{statusCode:482});!e.toTag&&e.method!==s.C.UPDATE||e.method===s.C.MESSAGE?this.receiveOutsideDialogRequest(e):this.receiveInsideDialogRequest(e)}else this.replyStateless(e,{statusCode:400,reasonPhrase:"Missing Contact Header"})}else this.replyStateless(e,{statusCode:416})}else{var n="Allow: "+a.AllowedMethods.toString();this.replyStateless(e,{statusCode:405,extraHeaders:[n]})}},e.prototype.receiveInsideDialogRequest=function(e){if(e.method===s.C.NOTIFY){var t=e.parseHeader("Event");if(!t||!t.event)return void this.replyStateless(e,{statusCode:489});var i=this.subscribers.get(e.callId+e.toTag+t.event);if(i){var n=new o.NotifyUserAgentServer(this,e);return void i.onNotify(n)}}var r=this.dialogs.get(e.callId+e.toTag+e.fromTag);if(r){if(e.method===s.C.OPTIONS||e.method===s.C.UPDATE){var l="Allow: "+a.AllowedMethods.toString(),u="Accept: "+c.toString();return void this.replyStateless(e,{statusCode:200,extraHeaders:[l,u]})}r.receiveRequest(e)}else e.method!==s.C.ACK&&this.replyStateless(e,{statusCode:481})},e.prototype.receiveOutsideDialogRequest=function(e){switch(e.method){case s.C.ACK:break;case s.C.BYE:this.replyStateless(e,{statusCode:481});break;case s.C.CANCEL:throw new Error("Unexpected out of dialog request method "+e.method+".");case s.C.INFO:this.replyStateless(e,{statusCode:405});break;case s.C.INVITE:var t=new o.InviteUserAgentServer(this,e);this.delegate.onInvite?this.delegate.onInvite(t):t.reject();break;case s.C.MESSAGE:t=new o.MessageUserAgentServer(this,e),this.delegate.onMessage?this.delegate.onMessage(t):t.accept();break;case s.C.NOTIFY:t=new o.NotifyUserAgentServer(this,e),this.delegate.onNotify?this.delegate.onNotify(t):this.replyStateless(e,{statusCode:405});break;case s.C.OPTIONS:var i="Allow: "+a.AllowedMethods.toString(),n="Accept: "+c.toString();this.replyStateless(e,{statusCode:200,extraHeaders:[i,n]});break;case s.C.REFER:t=new o.ReferUserAgentServer(this,e),this.delegate.onRefer?this.delegate.onRefer(t):this.replyStateless(e,{statusCode:405});break;case s.C.SUBSCRIBE:t=new o.SubscribeUserAgentServer(this,e),this.delegate.onSubscribe?this.delegate.onSubscribe(t):t.reject();break;default:throw new Error("Unexpected out of dialog request method "+e.method+".")}},e.prototype.receiveResponseFromTransport=function(e){if(e.getHeaders("via").length>1)this.logger.warn("More than one Via header field present in the response, dropping");else{var t=e.viaBranch+e.method,i=this.userAgentClients.get(t);i?i.transaction.receiveResponse(e):this.logger.warn("Discarding unmatched "+e.statusCode+" response to "+e.method+" "+t+".")}},e}();t.UserAgentCore=l},59677:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(16021),o=function(e){function t(t,i,n){var o,a=t.createOutgoingRequestMessage(s.C.BYE,n);return o=e.call(this,r.NonInviteClientTransaction,t.userAgentCore,a,i)||this,t.dispose(),o}return n.__extends(t,e),t}(i(74651).UserAgentClient);t.ByeUserAgentClient=o},34033:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){return e.call(this,s.NonInviteServerTransaction,t.userAgentCore,i,n)||this}return n.__extends(t,e),t}(i(32980).UserAgentServer);t.ByeUserAgentServer=r},7197:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){return e.call(this,s.NonInviteClientTransaction,t,i,n)||this}return n.__extends(t,e),t}(i(74651).UserAgentClient);t.CancelUserAgentClient=r},43003:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039);n.__exportStar(i(59677),t),n.__exportStar(i(34033),t),n.__exportStar(i(7197),t),n.__exportStar(i(66489),t),n.__exportStar(i(33469),t),n.__exportStar(i(38699),t),n.__exportStar(i(93690),t),n.__exportStar(i(46494),t),n.__exportStar(i(5002),t),n.__exportStar(i(97903),t),n.__exportStar(i(53899),t),n.__exportStar(i(13033),t),n.__exportStar(i(98331),t),n.__exportStar(i(47076),t),n.__exportStar(i(55679),t),n.__exportStar(i(77648),t),n.__exportStar(i(84843),t),n.__exportStar(i(28301),t),n.__exportStar(i(71170),t),n.__exportStar(i(40416),t),n.__exportStar(i(61329),t),n.__exportStar(i(7842),t),n.__exportStar(i(74651),t),n.__exportStar(i(32980),t)},27771:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(16021),o=function(e){function t(t,i,n){var o=t.createOutgoingRequestMessage(s.C.INFO,n);return e.call(this,r.NonInviteClientTransaction,t.userAgentCore,o,i)||this}return n.__extends(t,e),t}(i(74651).UserAgentClient);t.InfoUserAgentClient=o},66489:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){return e.call(this,s.NonInviteServerTransaction,t.userAgentCore,i,n)||this}return n.__extends(t,e),t}(i(32980).UserAgentServer);t.InfoUserAgentServer=r},33469:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(34756),r=i(95939),o=i(16021),a=function(e){function t(t,i,n){var s=e.call(this,o.InviteClientTransaction,t,i,n)||this;return s.confirmedDialogAcks=new Map,s.confirmedDialogs=new Map,s.earlyDialogs=new Map,s.delegate=n,s}return n.__extends(t,e),t.prototype.dispose=function(){this.earlyDialogs.forEach(function(e){return e.dispose()}),this.earlyDialogs.clear(),e.prototype.dispose.call(this)},t.prototype.receiveResponse=function(e){var t=this;if(this.authenticationGuard(e)){var i=e.statusCode?e.statusCode.toString():"";if(!i)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(i):return void(this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e}));case/^1[0-9]{2}$/.test(i):if(!e.toTag)return void this.logger.warn("Non-100 1xx INVITE response received without a to tag, dropping.");var n=s.Dialog.initialDialogStateForUserAgentClient(this.message,e),a=this.earlyDialogs.get(n.id);if(!a){if(!((u=this.transaction)instanceof o.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");a=new s.SessionDialog(u,this.core,n),this.earlyDialogs.set(a.id,a)}if(!a.reliableSequenceGuard(e))return void this.logger.warn("1xx INVITE reliable response received out of order, dropping.");(a.signalingState===r.SignalingState.Initial||a.signalingState===r.SignalingState.HaveLocalOffer)&&a.signalingStateTransition(e);var c=a;return void(this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:c,prack:function(e){return c.prack(void 0,e)}}));case/^2[0-9]{2}$/.test(i):n=s.Dialog.initialDialogStateForUserAgentClient(this.message,e);var l=this.confirmedDialogs.get(n.id);if(l){if(d=this.confirmedDialogAcks.get(n.id)){if(!((u=this.transaction)instanceof o.InviteClientTransaction))throw new Error("Client transaction not instance of InviteClientTransaction.");u.ackResponse(d.message)}return}if(l=this.earlyDialogs.get(n.id))l.confirm(),l.recomputeRouteSet(e),this.earlyDialogs.delete(l.id),this.confirmedDialogs.set(l.id,l);else{var u;if(!((u=this.transaction)instanceof o.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");l=new s.SessionDialog(u,this.core,n),this.confirmedDialogs.set(l.id,l)}(l.signalingState===r.SignalingState.Initial||l.signalingState===r.SignalingState.HaveLocalOffer)&&l.signalingStateTransition(e);var h=l;if(this.delegate&&this.delegate.onAccept)this.delegate.onAccept({message:e,session:h,ack:function(e){var i=h.ack(e);return t.confirmedDialogAcks.set(h.id,i),i}});else{var d=h.ack();this.confirmedDialogAcks.set(h.id,d)}return;case/^3[0-9]{2}$/.test(i):return this.earlyDialogs.forEach(function(e){return e.dispose()}),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e}));case/^[4-6][0-9]{2}$/.test(i):return this.earlyDialogs.forEach(function(e){return e.dispose()}),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e}));default:throw new Error("Invalid status code "+i)}throw new Error("Executing what should be an unreachable code path receiving "+i+" response.")}},t}(i(74651).UserAgentClient);t.InviteUserAgentClient=a},38699:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(34756),r=i(73708),o=i(95939),a=i(16021),c=i(84757),l=function(e){function t(t,i,n){var s=e.call(this,a.InviteServerTransaction,t,i,n)||this;return s.core=t,s}return n.__extends(t,e),t.prototype.dispose=function(){this.earlyDialog&&this.earlyDialog.dispose(),e.prototype.dispose.call(this)},t.prototype.accept=function(t){if(void 0===t&&(t={statusCode:200}),!this.acceptable)throw new r.TransactionStateError(this.message.method+" not acceptable in state "+this.transaction.state+".");if(!this.confirmedDialog)if(this.earlyDialog)this.earlyDialog.confirm(),this.confirmedDialog=this.earlyDialog,this.earlyDialog=void 0;else{var i=this.transaction;if(!(i instanceof a.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");var l=s.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag);this.confirmedDialog=new s.SessionDialog(i,this.core,l)}var u=this.message.getHeaders("record-route").map(function(e){return"Record-Route: "+e}),h="Contact: "+this.core.configuration.contact.toString(),d="Allow: "+c.AllowedMethods.toString();if(!t.body)if(this.confirmedDialog.signalingState===o.SignalingState.Stable)t.body=this.confirmedDialog.answer;else if(this.confirmedDialog.signalingState===o.SignalingState.Initial||this.confirmedDialog.signalingState===o.SignalingState.HaveRemoteOffer)throw new Error("Response must have a body.");t.statusCode=t.statusCode||200,t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(u),t.extraHeaders.push(d),t.extraHeaders.push(h);var p=e.prototype.accept.call(this,t),f=n.__assign({},p,{session:this.confirmedDialog});return t.body&&this.confirmedDialog.signalingState!==o.SignalingState.Stable&&this.confirmedDialog.signalingStateTransition(t.body),f},t.prototype.progress=function(t){if(void 0===t&&(t={statusCode:180}),!this.progressable)throw new r.TransactionStateError(this.message.method+" not progressable in state "+this.transaction.state+".");if(!this.earlyDialog){var i=this.transaction;if(!(i instanceof a.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");var c=s.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag,!0);this.earlyDialog=new s.SessionDialog(i,this.core,c)}var l=this.message.getHeaders("record-route").map(function(e){return"Record-Route: "+e}),u="Contact: "+this.core.configuration.contact;t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(l),t.extraHeaders.push(u);var h=e.prototype.progress.call(this,t),d=n.__assign({},h,{session:this.earlyDialog});return t.body&&this.earlyDialog.signalingState!==o.SignalingState.Stable&&this.earlyDialog.signalingStateTransition(t.body),d},t.prototype.redirect=function(t,i){return void 0===i&&(i={statusCode:302}),e.prototype.redirect.call(this,t,i)},t.prototype.reject=function(t){return void 0===t&&(t={statusCode:486}),e.prototype.reject.call(this,t)},t}(i(32980).UserAgentServer);t.InviteUserAgentServer=l},93690:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){return e.call(this,s.NonInviteClientTransaction,t,i,n)||this}return n.__extends(t,e),t}(i(74651).UserAgentClient);t.MessageUserAgentClient=r},46494:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){var r=e.call(this,s.NonInviteServerTransaction,t,i,n)||this;return r.core=t,r}return n.__extends(t,e),t}(i(32980).UserAgentServer);t.MessageUserAgentServer=r},5002:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(16021),o=function(e){function t(t,i,n){var o=t.createOutgoingRequestMessage(s.C.NOTIFY,n);return e.call(this,r.NonInviteClientTransaction,t.userAgentCore,o,i)||this}return n.__extends(t,e),t}(i(74651).UserAgentClient);t.NotifyUserAgentClient=o},97903:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){var r=function(e){return void 0!==e.userAgentCore}(t)?t.userAgentCore:t;return e.call(this,s.NonInviteServerTransaction,r,i,n)||this}return n.__extends(t,e),t}(i(32980).UserAgentServer);t.NotifyUserAgentServer=r},13033:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(16021),o=function(e){function t(t,i,n){var o,a=t.createOutgoingRequestMessage(s.C.PRACK,n);return o=e.call(this,r.NonInviteClientTransaction,t.userAgentCore,a,i)||this,t.signalingStateTransition(a),o}return n.__extends(t,e),t}(i(74651).UserAgentClient);t.PrackUserAgentClient=o},98331:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){var r=e.call(this,s.NonInviteServerTransaction,t.userAgentCore,i,n)||this;return t.signalingStateTransition(i),r.dialog=t,r}return n.__extends(t,e),t.prototype.accept=function(t){return void 0===t&&(t={statusCode:200}),t.body&&this.dialog.signalingStateTransition(t.body),e.prototype.accept.call(this,t)},t}(i(32980).UserAgentServer);t.PrackUserAgentServer=r},53899:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){return e.call(this,s.NonInviteClientTransaction,t,i,n)||this}return n.__extends(t,e),t}(i(74651).UserAgentClient);t.PublishUserAgentClient=r},47076:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(16021),o=function(e){function t(t,i,n){var o=this,a=t.createOutgoingRequestMessage(s.C.INVITE,n);return(o=e.call(this,r.InviteClientTransaction,t.userAgentCore,a,i)||this).delegate=i,t.signalingStateTransition(a),t.reinviteUserAgentClient=o,o.dialog=t,o}return n.__extends(t,e),t.prototype.receiveResponse=function(e){var t=this,i=e.statusCode?e.statusCode.toString():"";if(!i)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(i):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(i):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:this.dialog,prack:function(e){throw new Error("Unimplemented.")}});break;case/^2[0-9]{2}$/.test(i):this.dialog.signalingStateTransition(e),this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e,session:this.dialog,ack:function(e){return t.dialog.ack(e)}});break;case/^3[0-9]{2}$/.test(i):this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(i):this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code "+i)}},t}(i(74651).UserAgentClient);t.ReInviteUserAgentClient=o},55679:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){var r=e.call(this,s.InviteServerTransaction,t.userAgentCore,i,n)||this;return t.reinviteUserAgentServer=r,r.dialog=t,r}return n.__extends(t,e),t.prototype.accept=function(t){void 0===t&&(t={statusCode:200}),t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(this.dialog.routeSet.map(function(e){return"Record-Route: "+e}));var i=e.prototype.accept.call(this,t),s=n.__assign({},i,{session:this.dialog});return t.body&&this.dialog.signalingStateTransition(t.body),this.dialog.reConfirm(),s},t.prototype.progress=function(t){void 0===t&&(t={statusCode:180});var i=e.prototype.progress.call(this,t),s=n.__assign({},i,{session:this.dialog});return t.body&&this.dialog.signalingStateTransition(t.body),s},t}(i(32980).UserAgentServer);t.ReInviteUserAgentServer=r},77648:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(16021),o=function(e){function t(t,i,n){var o=this,a=t.createOutgoingRequestMessage(s.C.SUBSCRIBE,n);return(o=e.call(this,r.NonInviteClientTransaction,t.userAgentCore,a,i)||this).dialog=t,o}return n.__extends(t,e),t.prototype.waitNotifyStop=function(){},t.prototype.receiveResponse=function(t){if(t.statusCode&&t.statusCode>=200&&t.statusCode<300){var i=t.getHeader("Expires");if(i){var n=Number(i);this.dialog.subscriptionExpires>n&&(this.dialog.subscriptionExpires=n)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE")}t.statusCode&&t.statusCode>=400&&t.statusCode<700&&[404,405,410,416,480,481,482,483,484,485,489,501,604].includes(t.statusCode)&&this.dialog.terminate(),e.prototype.receiveResponse.call(this,t)},t}(i(74651).UserAgentClient);t.ReSubscribeUserAgentClient=o},84843:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){return e.call(this,s.NonInviteServerTransaction,t.userAgentCore,i,n)||this}return n.__extends(t,e),t}(i(32980).UserAgentServer);t.ReSubscribeUserAgentServer=r},28301:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(21768),r=i(16021),o=function(e){function t(t,i,n){var o=t.createOutgoingRequestMessage(s.C.REFER,n);return e.call(this,r.NonInviteClientTransaction,t.userAgentCore,o,i)||this}return n.__extends(t,e),t}(i(74651).UserAgentClient);t.ReferUserAgentClient=o},71170:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){var r=function(e){return void 0!==e.userAgentCore}(t)?t.userAgentCore:t;return e.call(this,s.NonInviteServerTransaction,r,i,n)||this}return n.__extends(t,e),t}(i(32980).UserAgentServer);t.ReferUserAgentServer=r},40416:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){return e.call(this,s.NonInviteClientTransaction,t,i,n)||this}return n.__extends(t,e),t}(i(74651).UserAgentClient);t.RegisterUserAgentClient=r},61329:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(63174),r=i(32941),o=i(41224),a=i(16021),c=function(e){function t(t,i,n){var s=this,o=i.getHeader("Event");if(!o)throw new Error("Event undefined");var c=i.getHeader("Expires");if(!c)throw new Error("Expires undefined");return(s=e.call(this,a.NonInviteClientTransaction,t,i,n)||this).delegate=n,s.subscriberId=i.callId+i.fromTag+o,s.subscriptionExpiresRequested=s.subscriptionExpires=Number(c),s.subscriptionEvent=o,s.subscriptionState=r.SubscriptionState.NotifyWait,s.waitNotifyStart(),s}return n.__extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onNotify=function(e){var t=e.message.parseHeader("Event").event;if(!t||t!==this.subscriptionEvent)return this.logger.warn("Failed to parse event."),void e.reject({statusCode:489});var i=e.message.parseHeader("Subscription-State");if(!i||!i.state)return this.logger.warn("Failed to parse subscription state."),void e.reject({statusCode:489});var n=i.state;switch(n){case"pending":case"active":case"terminated":break;default:return this.logger.warn("Invalid subscription state "+n),void e.reject({statusCode:489})}if("terminated"!==n&&!e.message.parseHeader("contact"))return this.logger.warn("Failed to parse contact."),void e.reject({statusCode:489});if(this.dialog)throw new Error("Dialog already created. This implementation only supports install of single subscriptions.");switch(this.waitNotifyStop(),this.subscriptionExpires=i.expires?Math.min(this.subscriptionExpires,Math.max(i.expires,0)):this.subscriptionExpires,n){case"pending":this.subscriptionState=r.SubscriptionState.Pending;break;case"active":this.subscriptionState=r.SubscriptionState.Active;break;case"terminated":this.subscriptionState=r.SubscriptionState.Terminated;break;default:throw new Error("Unrecognized state "+n+".")}if(this.subscriptionState!==r.SubscriptionState.Terminated){var o=s.SubscriptionDialog.initialDialogStateForSubscription(this.message,e.message);this.dialog=new s.SubscriptionDialog(this.subscriptionEvent,this.subscriptionExpires,this.subscriptionState,this.core,o)}this.delegate&&this.delegate.onNotify?this.delegate.onNotify({request:e,subscription:this.dialog}):e.accept()},t.prototype.waitNotifyStart=function(){var e=this;this.N||(this.core.subscribers.set(this.subscriberId,this),this.N=setTimeout(function(){return e.timer_N()},o.Timers.TIMER_N))},t.prototype.waitNotifyStop=function(){this.N&&(this.core.subscribers.delete(this.subscriberId),clearTimeout(this.N),this.N=void 0)},t.prototype.receiveResponse=function(t){if(this.authenticationGuard(t)){if(t.statusCode&&t.statusCode>=200&&t.statusCode<300){var i=t.getHeader("Expires");if(i){var n=Number(i);n>this.subscriptionExpiresRequested&&this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),n<this.subscriptionExpires&&(this.subscriptionExpires=n)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE");this.dialog&&this.dialog.subscriptionExpires>this.subscriptionExpires&&(this.dialog.subscriptionExpires=this.subscriptionExpires)}t.statusCode&&t.statusCode>=300&&t.statusCode<700&&this.waitNotifyStop(),e.prototype.receiveResponse.call(this,t)}},t.prototype.timer_N=function(){this.logger.warn("Timer N expired for SUBSCRIBE user agent client. Timed out waiting for NOTIFY."),this.waitNotifyStop(),this.delegate&&this.delegate.onNotifyTimeout&&this.delegate.onNotifyTimeout()},t}(i(74651).UserAgentClient);t.SubscribeUserAgentClient=c},7842:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(16021),r=function(e){function t(t,i,n){var r=e.call(this,s.NonInviteServerTransaction,t,i,n)||this;return r.core=t,r}return n.__extends(t,e),t}(i(32980).UserAgentServer);t.SubscribeUserAgentServer=r},74651:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(21768),s=i(16021),r=function(){function e(e,t,i,n){this.transactionConstructor=e,this.core=t,this.message=i,this.delegate=n,this.challenged=!1,this.stale=!1,this.logger=this.loggerFactory.getLogger("sip.user-agent-client"),this.init()}return e.prototype.dispose=function(){this.transaction.dispose()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.core.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transaction",{get:function(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction},enumerable:!0,configurable:!0}),e.prototype.cancel=function(t,i){var r=this;if(void 0===i&&(i={}),!this.transaction)throw new Error("Transaction undefined.");if(!this.message.to)throw new Error("To undefined.");if(!this.message.from)throw new Error("From undefined.");var o=this.core.makeOutgoingRequestMessage(n.C.CANCEL,this.message.ruri,this.message.from.uri,this.message.to.uri,{toTag:this.message.toTag,fromTag:this.message.fromTag,callId:this.message.callId,cseq:this.message.cseq},i.extraHeaders);return o.branch=this.message.branch,this.message.headers.Route&&(o.headers.Route=this.message.headers.Route),t&&o.setHeader("Reason",t),this.transaction.state===s.TransactionState.Proceeding?new e(s.NonInviteClientTransaction,this.core,o):this.transaction.once("stateChanged",function(){r.transaction&&r.transaction.state===s.TransactionState.Proceeding&&new e(s.NonInviteClientTransaction,r.core,o)}),o},e.prototype.authenticationGuard=function(e){var t,i,n=e.statusCode;if(!n)throw new Error("Response status code undefined.");if(401!==n&&407!==n)return!0;if(401===n?(t=e.parseHeader("www-authenticate"),i="authorization"):(t=e.parseHeader("proxy-authenticate"),i="proxy-authorization"),!t)return this.logger.warn(n+" with wrong or missing challenge, cannot authenticate"),!0;if(this.challenged&&(this.stale||!0!==t.stale))return this.logger.warn(n+" apparently in authentication loop, cannot authenticate"),!0;if(!this.credentials&&(this.credentials=this.core.configuration.authenticationFactory(),!this.credentials))return this.logger.warn("Unable to obtain credentials, cannot authenticate"),!0;if(!this.credentials.authenticate(this.message,t))return!0;this.challenged=!0,t.stale&&(this.stale=!0);var s=this.message.cseq+=1;return this.message.setHeader("cseq",s+" "+this.message.method),this.message.setHeader(i,this.credentials.toString()),this.init(),!1},e.prototype.receiveResponse=function(e){if(this.authenticationGuard(e)){var t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(t):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e});break;case/^2[0-9]{2}$/.test(t):this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e});break;case/^3[0-9]{2}$/.test(t):this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(t):this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code "+t)}}},e.prototype.init=function(){var e=this,t=new this.transactionConstructor(this.message,this.core.transport,{loggerFactory:this.loggerFactory,onRequestTimeout:function(){return e.onRequestTimeout()},onStateChange:function(n){n===s.TransactionState.Terminated&&(e.core.userAgentClients.delete(i),t===e._transaction&&e.dispose())},onTransportError:function(t){return e.onTransportError(t)},receiveResponse:function(t){return e.receiveResponse(t)}});this._transaction=t;var i=t.id+t.request.method;this.core.userAgentClients.set(i,this)},e.prototype.onRequestTimeout=function(){this.logger.warn("User agent client request timed out. Generating internal 408 Request Timeout.");var e=new n.IncomingResponseMessage;e.statusCode=408,e.reasonPhrase="Request Timeout",this.receiveResponse(e)},e.prototype.onTransportError=function(e){this.logger.error(e.message),this.logger.error("User agent client request transport error. Generating internal 503 Service Unavailable.");var t=new n.IncomingResponseMessage;t.statusCode=503,t.reasonPhrase="Service Unavailable",this.receiveResponse(t)},e}();t.UserAgentClient=r},32980:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(73708),s=i(21768),r=i(10438),o=i(16021),a=function(){function e(e,t,i,n){this.transactionConstructor=e,this.core=t,this.message=i,this.delegate=n,this.logger=this.loggerFactory.getLogger("sip.user-agent-server"),this.toTag=i.toTag?i.toTag:r.newTag(),this.init()}return e.prototype.dispose=function(){this.transaction.dispose()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.core.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transaction",{get:function(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){if(void 0===e&&(e={statusCode:200}),!this.acceptable)throw new n.TransactionStateError(this.message.method+" not acceptable in state "+this.transaction.state+".");var t=e.statusCode;if(t<200||t>299)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.progress=function(e){if(void 0===e&&(e={statusCode:180}),!this.progressable)throw new n.TransactionStateError(this.message.method+" not progressable in state "+this.transaction.state+".");var t=e.statusCode;if(t<101||t>199)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.redirect=function(e,t){if(void 0===t&&(t={statusCode:302}),!this.redirectable)throw new n.TransactionStateError(this.message.method+" not redirectable in state "+this.transaction.state+".");var i=t.statusCode;if(i<300||i>399)throw new TypeError("Invalid statusCode: "+i);var s=new Array;return e.forEach(function(e){return s.push("Contact: "+e.toString())}),t.extraHeaders=(t.extraHeaders||[]).concat(s),this.reply(t)},e.prototype.reject=function(e){if(void 0===e&&(e={statusCode:480}),!this.rejectable)throw new n.TransactionStateError(this.message.method+" not rejectable in state "+this.transaction.state+".");var t=e.statusCode;if(t<400||t>699)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.trying=function(e){if(!this.tryingable)throw new n.TransactionStateError(this.message.method+" not tryingable in state "+this.transaction.state+".");return this.reply({statusCode:100})},e.prototype.receiveCancel=function(e){this.delegate&&this.delegate.onCancel&&this.delegate.onCancel(e)},Object.defineProperty(e.prototype,"acceptable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding||this.transaction.state===o.TransactionState.Accepted;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying||this.transaction.state===o.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progressable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return!1;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"redirectable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying||this.transaction.state===o.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rejectable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying||this.transaction.state===o.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tryingable",{get:function(){if(this.transaction instanceof o.InviteServerTransaction)return this.transaction.state===o.TransactionState.Proceeding;if(this.transaction instanceof o.NonInviteServerTransaction)return this.transaction.state===o.TransactionState.Trying;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),e.prototype.reply=function(e){!e.toTag&&100!==e.statusCode&&(e.toTag=this.toTag),e.userAgent=e.userAgent||this.core.configuration.userAgentHeaderFieldValue,e.supported=e.supported||this.core.configuration.supportedOptionTagsResponse;var t=s.constructOutgoingResponse(this.message,e);return this.transaction.receiveResponse(e.statusCode,t.message),t},e.prototype.init=function(){var e=this,t=new this.transactionConstructor(this.message,this.core.transport,{loggerFactory:this.loggerFactory,onStateChange:function(t){t===o.TransactionState.Terminated&&(e.core.userAgentServers.delete(i),e.dispose())},onTransportError:function(t){e.logger.error(t.message),e.delegate&&e.delegate.onTransportError?e.delegate.onTransportError(t):e.logger.error("User agent server response transport error.")}});this._transaction=t;var i=t.id;this.core.userAgentServers.set(t.id,this)},e}();t.UserAgentServer=a},72534:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(62039),s=i(3232),r=i(13881),o=function(e){function t(i,n,s,r){var o=e.call(this)||this;return o.message=i,o.expected=n,o.found=s,o.location=r,o.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return n.__extends(t,e),t.buildMessage=function(e,t){function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+i(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+i(e)})}function s(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+i(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+i(e)})}function r(e){switch(e.type){case"literal":return'"'+n(e.text)+'"';case"class":var t=e.parts.map(function(e){return Array.isArray(e)?s(e[0])+"-"+s(e[1]):s(e)});return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,i,n=e.map(r);if(n.sort(),n.length>0){for(t=1,i=1;t<n.length;t++)n[t-1]!==n[t]&&(n[i]=n[t],i++);n.length=i}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+((o=t)?'"'+n(o)+'"':"end of input")+" found.";var o},t}(Error);t.SyntaxError=o,t.parse=function(e,t){t=void 0!==t?t:{};var i,n,a,c,l={},u={Contact:119,Name_Addr_Header:156,Record_Route:176,Request_Response:81,SIP_URI:45,Subscription_State:186,Supported:191,Require:182,Via:194,absoluteURI:84,Call_ID:118,Content_Disposition:130,Content_Length:135,Content_Type:136,CSeq:146,displayName:122,Event:149,From:151,host:52,Max_Forwards:154,Min_SE:213,Proxy_Authenticate:157,quoted_string:40,Refer_To:178,Replaces:179,Session_Expires:210,stun_URI:217,To:192,turn_URI:223,uuid:226,WWW_Authenticate:209,challenge:158,sipfrag:230,Referred_By:231},h=119,d=["\r\n",C("\r\n",!1),/^[0-9]/,w([["0","9"]],!1,!1),/^[a-zA-Z]/,w([["a","z"],["A","Z"]],!1,!1),/^[0-9a-fA-F]/,w([["0","9"],["a","f"],["A","F"]],!1,!1),/^[\0-\xFF]/,w([["\0","\xff"]],!1,!1),/^["]/,w(['"'],!1,!1)," ",C(" ",!1),"\t",C("\t",!1),/^[a-zA-Z0-9]/,w([["a","z"],["A","Z"],["0","9"]],!1,!1),";",C(";",!1),"/",C("/",!1),"?",C("?",!1),":",C(":",!1),"@",C("@",!1),"&",C("&",!1),"=",C("=",!1),"+",C("+",!1),"$",C("$",!1),",",C(",",!1),"-",C("-",!1),"_",C("_",!1),".",C(".",!1),"!",C("!",!1),"~",C("~",!1),"*",C("*",!1),"'",C("'",!1),"(",C("(",!1),")",C(")",!1),"%",C("%",!1),function(){return" "},function(){return":"},/^[!-~]/,w([["!","~"]],!1,!1),/^[\x80-\uFFFF]/,w([["\x80","\uffff"]],!1,!1),/^[\x80-\xBF]/,w([["\x80","\xbf"]],!1,!1),/^[a-f]/,w([["a","f"]],!1,!1),"`",C("`",!1),"<",C("<",!1),">",C(">",!1),"\\",C("\\",!1),"[",C("[",!1),"]",C("]",!1),"{",C("{",!1),"}",C("}",!1),function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,w([["!","'"]],!1,!1),/^[*-[]/,w([["*","["]],!1,!1),/^[\]-~]/,w([["]","~"]],!1,!1),function(e){return e},/^[#-[]/,w([["#","["]],!1,!1),/^[\0-\t]/,w([["\0","\t"]],!1,!1),/^[\x0B-\f]/,w([["\v","\f"]],!1,!1),/^[\x0E-\x7F]/,w([["\x0e","\x7f"]],!1,!1),function(){(t=t||{data:{}}).data.uri=new r.URI(t.data.scheme,t.data.user,t.data.host,t.data.port),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port},function(){(t=t||{data:{}}).data.uri=new r.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params,"SIP_URI"===t.startRule&&(t.data=t.data.uri)},"sips",C("sips",!0),"sip",C("sip",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(){(t=t||{data:{}}).data.user=decodeURIComponent(y().slice(0,-1))},function(){(t=t||{data:{}}).data.password=y()},function(){return(t=t||{data:{}}).data.host=y(),t.data.host},function(){return(t=t||{data:{}}).data.host_type="domain",y()},/^[a-zA-Z0-9_\-]/,w([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),/^[a-zA-Z0-9\-]/,w([["a","z"],["A","Z"],["0","9"],"-"],!1,!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",y()},"::",C("::",!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",y()},function(){return(t=t||{data:{}}).data.host_type="IPv4",y()},"25",C("25",!1),/^[0-5]/,w([["0","5"]],!1,!1),"2",C("2",!1),/^[0-4]/,w([["0","4"]],!1,!1),"1",C("1",!1),/^[1-9]/,w([["1","9"]],!1,!1),function(e){return t=t||{data:{}},e=parseInt(e.join("")),t.data.port=e,e},"transport=",C("transport=",!0),"udp",C("udp",!0),"tcp",C("tcp",!0),"sctp",C("sctp",!0),"tls",C("tls",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.transport=e.toLowerCase()},"user=",C("user=",!0),"phone",C("phone",!0),"ip",C("ip",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.user=e.toLowerCase()},"method=",C("method=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.method=e},"ttl=",C("ttl=",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.ttl=e},"maddr=",C("maddr=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.maddr=e},"lr",C("lr",!0),function(){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.lr=void 0},function(e,i){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),i=null===i?void 0:i[1],t.data.uri_params[e.toLowerCase()]=i},function(e,i){e=e.join("").toLowerCase(),i=i.join(""),(t=t||{data:{}}).data.uri_headers||(t.data.uri_headers={}),t.data.uri_headers[e]?t.data.uri_headers[e].push(i):t.data.uri_headers[e]=[i]},function(){"Refer_To"===(t=t||{data:{}}).startRule&&(t.data.uri=new r.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params)},"//",C("//",!1),function(){(t=t||{data:{}}).data.scheme=y()},C("SIP",!0),function(){(t=t||{data:{}}).data.sip_version=y()},"INVITE",C("INVITE",!1),"ACK",C("ACK",!1),"VXACH",C("VXACH",!1),"OPTIONS",C("OPTIONS",!1),"BYE",C("BYE",!1),"CANCEL",C("CANCEL",!1),"REGISTER",C("REGISTER",!1),"SUBSCRIBE",C("SUBSCRIBE",!1),"NOTIFY",C("NOTIFY",!1),"REFER",C("REFER",!1),"PUBLISH",C("PUBLISH",!1),function(){return(t=t||{data:{}}).data.method=y(),t.data.method},function(e){(t=t||{data:{}}).data.status_code=parseInt(e.join(""))},function(){(t=t||{data:{}}).data.reason_phrase=y()},function(){(t=t||{data:{}}).data=y()},function(){var e,i;for(i=(t=t||{data:{}}).data.multi_header.length,e=0;e<i;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}t.data=null!==t.data?t.data.multi_header:-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new s.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(a){e=null}t.data.multi_header.push({position:f,offset:S().start.offset,parsed:e})},function(e){'"'===(e=y().trim())[0]&&(e=e.substring(1,e.length-1)),(t=t||{data:{}}).data.displayName=e},"q",C("q",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.q=e},"expires",C("expires",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.expires=e},function(e){return parseInt(e.join(""))},"0",C("0",!1),function(){return parseFloat(y())},function(e,i){(t=t||{data:{}}).data.params||(t.data.params={}),i=null===i?void 0:i[1],t.data.params[e.toLowerCase()]=i},"render",C("render",!0),"session",C("session",!0),"icon",C("icon",!0),"alert",C("alert",!0),function(){"Content_Disposition"===(t=t||{data:{}}).startRule&&(t.data.type=y().toLowerCase())},"handling",C("handling",!0),"optional",C("optional",!0),"required",C("required",!0),function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(){(t=t||{data:{}}).data=y()},"text",C("text",!0),"image",C("image",!0),"audio",C("audio",!0),"video",C("video",!0),"application",C("application",!0),"message",C("message",!0),"multipart",C("multipart",!0),"x-",C("x-",!0),function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(e){(t=t||{data:{}}).data.event=e.toLowerCase()},function(){var e=(t=t||{data:{}}).data.tag;t.data=new s.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"tag",C("tag",!0),function(e){(t=t||{data:{}}).data.tag=e},function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(){(t=t||{data:{}}).data=new s.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},"digest",C("Digest",!0),"realm",C("realm",!0),function(e){(t=t||{data:{}}).data.realm=e},"domain",C("domain",!0),"nonce",C("nonce",!0),function(e){(t=t||{data:{}}).data.nonce=e},"opaque",C("opaque",!0),function(e){(t=t||{data:{}}).data.opaque=e},"stale",C("stale",!0),"true",C("true",!0),function(){(t=t||{data:{}}).data.stale=!0},"false",C("false",!0),function(){(t=t||{data:{}}).data.stale=!1},"algorithm",C("algorithm",!0),"md5",C("MD5",!0),"md5-sess",C("MD5-sess",!0),function(e){(t=t||{data:{}}).data.algorithm=e.toUpperCase()},"qop",C("qop",!0),"auth-int",C("auth-int",!0),"auth",C("auth",!0),function(e){(t=t||{data:{}}).data.qop||(t.data.qop=[]),t.data.qop.push(e.toLowerCase())},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(){var e,i;for(i=(t=t||{data:{}}).data.multi_header.length,e=0;e<i;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}t.data=null!==t.data?t.data.multi_header:-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new s.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(a){e=null}t.data.multi_header.push({position:f,offset:S().start.offset,parsed:e})},function(){(t=t||{data:{}}).data=new s.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},function(){(t=t||{data:{}}).data.replaces_from_tag&&t.data.replaces_to_tag||(t.data=-1)},function(){(t=t||{data:{}}).data={call_id:t.data}},"from-tag",C("from-tag",!0),function(e){(t=t||{data:{}}).data.replaces_from_tag=e},"to-tag",C("to-tag",!0),function(e){(t=t||{data:{}}).data.replaces_to_tag=e},"early-only",C("early-only",!0),function(){(t=t||{data:{}}).data.early_only=!0},function(e,t){return t},function(e,t){return function(e,t){return[e].concat(t)}(e,t)},function(e){"Require"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},"active",C("active",!0),"pending",C("pending",!0),"terminated",C("terminated",!0),function(){(t=t||{data:{}}).data.state=y()},"reason",C("reason",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.reason=e)},function(e){t=t||{data:{}},void 0!==e&&(t.data.expires=e)},"retry_after",C("retry_after",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.retry_after=e)},"deactivated",C("deactivated",!0),"probation",C("probation",!0),"rejected",C("rejected",!0),"timeout",C("timeout",!0),"giveup",C("giveup",!0),"noresource",C("noresource",!0),"invariant",C("invariant",!0),function(e){"Supported"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(){var e=(t=t||{data:{}}).data.tag;t.data=new s.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"ttl",C("ttl",!0),function(e){(t=t||{data:{}}).data.ttl=e},"maddr",C("maddr",!0),function(e){(t=t||{data:{}}).data.maddr=e},"received",C("received",!0),function(e){(t=t||{data:{}}).data.received=e},"branch",C("branch",!0),function(e){(t=t||{data:{}}).data.branch=e},"rport",C("rport",!0),function(e){t=t||{data:{}},void 0!==e&&(t.data.rport=e.join(""))},function(e){(t=t||{data:{}}).data.protocol=e},C("UDP",!0),C("TCP",!0),C("TLS",!0),C("SCTP",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data.host=y()},function(e){(t=t||{data:{}}).data.port=parseInt(e.join(""))},function(e){return parseInt(e.join(""))},function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.deltaSeconds=e)},"refresher",C("refresher",!1),"uas",C("uas",!1),"uac",C("uac",!1),function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.refresher=e)},function(e){"Min_SE"===(t=t||{data:{}}).startRule&&(t.data=e)},"stuns",C("stuns",!0),"stun",C("stun",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(e){(t=t||{data:{}}).data.host=e},"?transport=",C("?transport=",!1),"turns",C("turns",!0),"turn",C("turn",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data=y()},"Referred-By",C("Referred-By",!1),"b",C("b",!1),"cid",C("cid",!1)],p=[x('2 ""6 7!'),x('4"""5!7#'),x('4$""5!7%'),x('4&""5!7\''),x(";'.# &;("),x('4(""5!7)'),x('4*""5!7+'),x('2,""6,7-'),x('2.""6.7/'),x('40""5!71'),x('22""6273.\x89 &24""6475.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),x(";).# &;,"),x('2F""6F7G.} &2H""6H7I.q &2J""6J7K.e &2L""6L7M.Y &2N""6N7O.M &2P""6P7Q.A &2R""6R7S.5 &2T""6T7U.) &2V""6V7W'),x('%%2X""6X7Y/5#;#/,$;#/#$+#)(#\'#("\'#&\'#/"!&,)'),x('%%$;$0#*;$&/,#; /#$+")("\'#&\'#." &"/=#$;$/&#0#*;$&&&#/\'$8":Z" )("\'#&\'#'),x(';.." &"'),x("%$;'.# &;(0)*;'.# &;(&/?#28\"\"6879/0$;//'$8#:[# )(#'#(\"'#&'#"),x('%%$;2/&#0#*;2&&&#/g#$%$;.0#*;.&/,#;2/#$+")("\'#&\'#0=*%$;.0#*;.&/,#;2/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),x('4\\""5!7].# &;3'),x('4^""5!7_'),x('4`""5!7a'),x(';!.) &4b""5!7c'),x('%$;).\x95 &2F""6F7G.\x89 &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/\x9e#0\x9b*;).\x95 &2F""6F7G.\x89 &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),x('%$;).\x89 &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/\x92#0\x8f*;).\x89 &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),x('2T""6T7U.\xe3 &2V""6V7W.\xd7 &2f""6f7g.\xcb &2h""6h7i.\xbf &2:""6:7;.\xb3 &2D""6D7E.\xa7 &22""6273.\x9b &28""6879.\x8f &2j""6j7k.\x83 &;&.} &24""6475.q &2l""6l7m.e &2n""6n7o.Y &26""6677.M &2>""6>7?.A &2p""6p7q.5 &2r""6r7s.) &;\'.# &;('),x('%$;).\u012b &2F""6F7G.\u011f &2J""6J7K.\u0113 &2L""6L7M.\u0107 &2X""6X7Y.\xfb &2P""6P7Q.\xef &2H""6H7I.\xe3 &2@""6@7A.\xd7 &2d""6d7e.\xcb &2R""6R7S.\xbf &2N""6N7O.\xb3 &2T""6T7U.\xa7 &2V""6V7W.\x9b &2f""6f7g.\x8f &2h""6h7i.\x83 &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s/\u0134#0\u0131*;).\u012b &2F""6F7G.\u011f &2J""6J7K.\u0113 &2L""6L7M.\u0107 &2X""6X7Y.\xfb &2P""6P7Q.\xef &2H""6H7I.\xe3 &2@""6@7A.\xd7 &2d""6d7e.\xcb &2R""6R7S.\xbf &2N""6N7O.\xb3 &2T""6T7U.\xa7 &2V""6V7W.\x9b &2f""6f7g.\x8f &2h""6h7i.\x83 &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s&&&#/"!&,)'),x("%;//?#2P\"\"6P7Q/0$;//'$8#:t# )(#'#(\"'#&'#"),x("%;//?#24\"\"6475/0$;//'$8#:u# )(#'#(\"'#&'#"),x("%;//?#2>\"\"6>7?/0$;//'$8#:v# )(#'#(\"'#&'#"),x("%;//?#2T\"\"6T7U/0$;//'$8#:w# )(#'#(\"'#&'#"),x("%;//?#2V\"\"6V7W/0$;//'$8#:x# )(#'#(\"'#&'#"),x('%2h""6h7i/0#;//\'$8":y" )("\'#&\'#'),x('%;//6#2f""6f7g/\'$8":z" )("\'#&\'#'),x("%;//?#2D\"\"6D7E/0$;//'$8#:{# )(#'#(\"'#&'#"),x("%;//?#22\"\"6273/0$;//'$8#:|# )(#'#(\"'#&'#"),x("%;//?#28\"\"6879/0$;//'$8#:}# )(#'#(\"'#&'#"),x("%;//0#;&/'$8\":~\" )(\"'#&'#"),x("%;&/0#;//'$8\":~\" )(\"'#&'#"),x("%;=/T#$;G.) &;K.# &;F0/*;G.) &;K.# &;F&/,$;>/#$+#)(#'#(\"'#&'#"),x('4\x7f""5!7\x80.A &4\x81""5!7\x82.5 &4\x83""5!7\x84.) &;3.# &;.'),x("%%;//Q#;&/H$$;J.# &;K0)*;J.# &;K&/,$;&/#$+$)($'#(#'#(\"'#&'#/\"!&,)"),x("%;//]#;&/T$%$;J.# &;K0)*;J.# &;K&/\"!&,)/1$;&/($8$:\x85$!!)($'#(#'#(\"'#&'#"),x(';..G &2L""6L7M.; &4\x86""5!7\x87./ &4\x83""5!7\x84.# &;3'),x('%2j""6j7k/J#4\x88""5!7\x89.5 &4\x8a""5!7\x8b.) &4\x8c""5!7\x8d/#$+")("\'#&\'#'),x("%;N/M#28\"\"6879/>$;O.\" &\"/0$;S/'$8$:\x8e$ )($'#(#'#(\"'#&'#"),x("%;N/d#28\"\"6879/U$;O.\" &\"/G$;S/>$;_/5$;l.\" &\"/'$8&:\x8f& )(&'#(%'#($'#(#'#(\"'#&'#"),x('%3\x90""5$7\x91.) &3\x92""5#7\x93/\' 8!:\x94!! )'),x('%;P/]#%28""6879/,#;R/#$+")("\'#&\'#." &"/6$2:""6:7;/\'$8#:\x95# )(#\'#("\'#&\'#'),x("$;+.) &;-.# &;Q/2#0/*;+.) &;-.# &;Q&&&#"),x('2<""6<7=.q &2>""6>7?.e &2@""6@7A.Y &2B""6B7C.M &2D""6D7E.A &22""6273.5 &26""6677.) &24""6475'),x('%$;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E0e*;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E&/& 8!:\x96! )'),x('%;T/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),x("%;U.) &;\\.# &;X/& 8!:\x97! )"),x('%$%;V/2#2J""6J7K/#$+")("\'#&\'#0<*%;V/2#2J""6J7K/#$+")("\'#&\'#&/D#;W/;$2J""6J7K." &"/\'$8#:\x98# )(#\'#("\'#&\'#'),x('$4\x99""5!7\x9a/,#0)*4\x99""5!7\x9a&&&#'),x('%4$""5!7%/?#$4\x9b""5!7\x9c0)*4\x9b""5!7\x9c&/#$+")("\'#&\'#'),x('%2l""6l7m/?#;Y/6$2n""6n7o/\'$8#:\x9d# )(#\'#("\'#&\'#'),x('%%;Z/\xb3#28""6879/\xa4$;Z/\x9b$28""6879/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+-)(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0790 &%2\x9e""6\x9e7\x9f/\xa4#;Z/\x9b$28""6879/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+,)(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u06f9 &%2\x9e""6\x9e7\x9f/\x8c#;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u067a &%2\x9e""6\x9e7\x9f/t#;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0613 &%2\x9e""6\x9e7\x9f/\\#;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+&)(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u05c4 &%2\x9e""6\x9e7\x9f/D#;Z/;$28""6879/,$;[/#$+$)($\'#(#\'#("\'#&\'#.\u058d &%2\x9e""6\x9e7\x9f/,#;[/#$+")("\'#&\'#.\u056e &%2\x9e""6\x9e7\x9f/,#;Z/#$+")("\'#&\'#.\u054f &%;Z/\x9b#2\x9e""6\x9e7\x9f/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u04c7 &%;Z/\xaa#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x83$2\x9e""6\x9e7\x9f/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0430 &%;Z/\xb9#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x92$%28""6879/,#;Z/#$+")("\'#&\'#." &"/k$2\x9e""6\x9e7\x9f/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u038a &%;Z/\xc8#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xa1$%28""6879/,#;Z/#$+")("\'#&\'#." &"/z$%28""6879/,#;Z/#$+")("\'#&\'#." &"/S$2\x9e""6\x9e7\x9f/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u02d5 &%;Z/\xd7#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xb0$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x89$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2\x9e""6\x9e7\x9f/,$;[/#$+\')(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0211 &%;Z/\xfe#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xd7$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xb0$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x89$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2\x9e""6\x9e7\x9f/,$;Z/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0126 &%;Z/\u011c#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xf5$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xce$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xa7$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x80$%28""6879/,#;Z/#$+")("\'#&\'#." &"/Y$%28""6879/,#;Z/#$+")("\'#&\'#." &"/2$2\x9e""6\x9e7\x9f/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/& 8!:\xa0! )'),x('%;#/M#;#." &"/?$;#." &"/1$;#." &"/#$+$)($\'#(#\'#("\'#&\'#'),x("%;Z/;#28\"\"6879/,$;Z/#$+#)(#'#(\"'#&'#.# &;\\"),x("%;]/o#2J\"\"6J7K/`$;]/W$2J\"\"6J7K/H$;]/?$2J\"\"6J7K/0$;]/'$8':\xa1' )(''#(&'#(%'#($'#(#'#(\"'#&'#"),x('%2\xa2""6\xa27\xa3/2#4\xa4""5!7\xa5/#$+")("\'#&\'#.\x98 &%2\xa6""6\xa67\xa7/;#4\xa8""5!7\xa9/,$;!/#$+#)(#\'#("\'#&\'#.j &%2\xaa""6\xaa7\xab/5#;!/,$;!/#$+#)(#\'#("\'#&\'#.B &%4\xac""5!7\xad/,#;!/#$+")("\'#&\'#.# &;!'),x('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:\xae!! )'),x('$%22""6273/,#;`/#$+")("\'#&\'#0<*%22""6273/,#;`/#$+")("\'#&\'#&'),x(";a.A &;b.; &;c.5 &;d./ &;e.) &;f.# &;g"),x('%3\xaf""5*7\xb0/a#3\xb1""5#7\xb2.G &3\xb3""5#7\xb4.; &3\xb5""5$7\xb6./ &3\xb7""5#7\xb8.# &;6/($8":\xb9"! )("\'#&\'#'),x('%3\xba""5%7\xbb/I#3\xbc""5%7\xbd./ &3\xbe""5"7\xbf.# &;6/($8":\xc0"! )("\'#&\'#'),x('%3\xc1""5\'7\xc2/1#;\x90/($8":\xc3"! )("\'#&\'#'),x('%3\xc4""5$7\xc5/1#;\xf0/($8":\xc6"! )("\'#&\'#'),x('%3\xc7""5&7\xc8/1#;T/($8":\xc9"! )("\'#&\'#'),x('%3\xca""5"7\xcb/N#%2>""6>7?/,#;6/#$+")("\'#&\'#." &"/\'$8":\xcc" )("\'#&\'#'),x('%;h/P#%2>""6>7?/,#;i/#$+")("\'#&\'#." &"/)$8":\xcd""! )("\'#&\'#'),x('%$;j/&#0#*;j&&&#/"!&,)'),x('%$;j/&#0#*;j&&&#/"!&,)'),x(";k.) &;+.# &;-"),x('2l""6l7m.e &2n""6n7o.Y &24""6475.M &28""6879.A &2<""6<7=.5 &2@""6@7A.) &2B""6B7C'),x('%26""6677/n#;m/e$$%2<""6<7=/,#;m/#$+")("\'#&\'#0<*%2<""6<7=/,#;m/#$+")("\'#&\'#&/#$+#)(#\'#("\'#&\'#'),x('%;n/A#2>""6>7?/2$;o/)$8#:\xce#"" )(#\'#("\'#&\'#'),x("$;p.) &;+.# &;-/2#0/*;p.) &;+.# &;-&&&#"),x("$;p.) &;+.# &;-0/*;p.) &;+.# &;-&"),x('2l""6l7m.e &2n""6n7o.Y &24""6475.M &26""6677.A &28""6879.5 &2@""6@7A.) &2B""6B7C'),x(";\x91.# &;r"),x("%;\x90/G#;'/>$;s/5$;'/,$;\x84/#$+%)(%'#($'#(#'#(\"'#&'#"),x(";M.# &;t"),x("%;\x7f/E#28\"\"6879/6$;u.# &;x/'$8#:\xcf# )(#'#(\"'#&'#"),x('%;v.# &;w/J#%26""6677/,#;\x83/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),x('%2\xd0""6\xd07\xd1/:#;\x80/1$;w." &"/#$+#)(#\'#("\'#&\'#'),x('%24""6475/,#;{/#$+")("\'#&\'#'),x("%;z/3#$;y0#*;y&/#$+\")(\"'#&'#"),x(";*.) &;+.# &;-"),x(';+.\x8f &;-.\x89 &22""6273.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),x('%;|/e#$%24""6475/,#;|/#$+")("\'#&\'#0<*%24""6475/,#;|/#$+")("\'#&\'#&/#$+")("\'#&\'#'),x('%$;~0#*;~&/e#$%22""6273/,#;}/#$+")("\'#&\'#0<*%22""6273/,#;}/#$+")("\'#&\'#&/#$+")("\'#&\'#'),x("$;~0#*;~&"),x(';+.w &;-.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),x('%%;"/\x87#$;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K0M*;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K&/#$+")("\'#&\'#/& 8!:\xd2! )'),x(";\x81.# &;\x82"),x('%%;O/2#2:""6:7;/#$+")("\'#&\'#." &"/,#;S/#$+")("\'#&\'#." &"'),x('$;+.\x83 &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A/\x8c#0\x89*;+.\x83 &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A&&&#'),x("$;y0#*;y&"),x('%3\x92""5#7\xd3/q#24""6475/b$$;!/&#0#*;!&&&#/L$2J""6J7K/=$$;!/&#0#*;!&&&#/\'$8%:\xd4% )(%\'#($\'#(#\'#("\'#&\'#'),x('2\xd5""6\xd57\xd6'),x('2\xd7""6\xd77\xd8'),x('2\xd9""6\xd97\xda'),x('2\xdb""6\xdb7\xdc'),x('2\xdd""6\xdd7\xde'),x('2\xdf""6\xdf7\xe0'),x('2\xe1""6\xe17\xe2'),x('2\xe3""6\xe37\xe4'),x('2\xe5""6\xe57\xe6'),x('2\xe7""6\xe77\xe8'),x('2\xe9""6\xe97\xea'),x("%;\x85.Y &;\x86.S &;\x88.M &;\x89.G &;\x8a.A &;\x8b.; &;\x8c.5 &;\x8f./ &;\x8d.) &;\x8e.# &;6/& 8!:\xeb! )"),x("%;\x84/G#;'/>$;\x92/5$;'/,$;\x94/#$+%)(%'#($'#(#'#(\"'#&'#"),x("%;\x93/' 8!:\xec!! )"),x("%;!/5#;!/,$;!/#$+#)(#'#(\"'#&'#"),x("%$;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(0G*;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(&/& 8!:\xed! )"),x("%;\xb6/Y#$%;A/,#;\xb6/#$+\")(\"'#&'#06*%;A/,#;\xb6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),x('%;9/N#%2:""6:7;/,#;9/#$+")("\'#&\'#." &"/\'$8":\xee" )("\'#&\'#'),x("%;:.c &%;\x98/Y#$%;A/,#;\x98/#$+\")(\"'#&'#06*%;A/,#;\x98/#$+\")(\"'#&'#&/#$+\")(\"'#&'#/& 8!:\xef! )"),x("%;L.# &;\x99/]#$%;B/,#;\x9b/#$+\")(\"'#&'#06*%;B/,#;\x9b/#$+\")(\"'#&'#&/'$8\":\xf0\" )(\"'#&'#"),x("%;\x9a.\" &\"/>#;@/5$;M/,$;?/#$+$)($'#(#'#(\"'#&'#"),x("%%;6/Y#$%;./,#;6/#$+\")(\"'#&'#06*%;./,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#.# &;H/' 8!:\xf1!! )"),x(";\x9c.) &;\x9d.# &;\xa0"),x("%3\xf2\"\"5!7\xf3/:#;</1$;\x9f/($8#:\xf4#! )(#'#(\"'#&'#"),x("%3\xf5\"\"5'7\xf6/:#;</1$;\x9e/($8#:\xf7#! )(#'#(\"'#&'#"),x("%$;!/&#0#*;!&&&#/' 8!:\xf8!! )"),x('%2\xf9""6\xf97\xfa/o#%2J""6J7K/M#;!." &"/?$;!." &"/1$;!." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/\'$8":\xfb" )("\'#&\'#'),x('%;6/J#%;</,#;\xa1/#$+")("\'#&\'#." &"/)$8":\xfc""! )("\'#&\'#'),x(";6.) &;T.# &;H"),x("%;\xa3/Y#$%;B/,#;\xa4/#$+\")(\"'#&'#06*%;B/,#;\xa4/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),x('%3\xfd""5&7\xfe.G &3\xff""5\'7\u0100.; &3\u0101""5$7\u0102./ &3\u0103""5%7\u0104.# &;6/& 8!:\u0105! )'),x(";\xa5.# &;\xa0"),x('%3\u0106""5(7\u0107/M#;</D$3\u0108""5(7\u0109./ &3\u010a""5(7\u010b.# &;6/#$+#)(#\'#("\'#&\'#'),x("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),x("%$;!/&#0#*;!&&&#/' 8!:\u010c!! )"),x("%;\xa9/& 8!:\u010d! )"),x("%;\xaa/k#;;/b$;\xaf/Y$$%;B/,#;\xb0/#$+\")(\"'#&'#06*%;B/,#;\xb0/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),x(";\xab.# &;\xac"),x('3\u010e""5$7\u010f.S &3\u0110""5%7\u0111.G &3\u0112""5%7\u0113.; &3\u0114""5%7\u0115./ &3\u0116""5+7\u0117.# &;\xad'),x('3\u0118""5\'7\u0119./ &3\u011a""5)7\u011b.# &;\xad'),x(";6.# &;\xae"),x('%3\u011c""5"7\u011d/,#;6/#$+")("\'#&\'#'),x(";\xad.# &;6"),x("%;6/5#;</,$;\xb1/#$+#)(#'#(\"'#&'#"),x(";6.# &;H"),x("%;\xb3/5#;./,$;\x90/#$+#)(#'#(\"'#&'#"),x("%$;!/&#0#*;!&&&#/' 8!:\u011e!! )"),x("%;\x9e/' 8!:\u011f!! )"),x('%;\xb6/^#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/($8":\u0120"!!)("\'#&\'#'),x('%%;7/e#$%2J""6J7K/,#;7/#$+")("\'#&\'#0<*%2J""6J7K/,#;7/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),x("%;L.# &;\x99/]#$%;B/,#;\xb8/#$+\")(\"'#&'#06*%;B/,#;\xb8/#$+\")(\"'#&'#&/'$8\":\u0121\" )(\"'#&'#"),x(";\xb9.# &;\xa0"),x("%3\u0122\"\"5#7\u0123/:#;</1$;6/($8#:\u0124#! )(#'#(\"'#&'#"),x("%$;!/&#0#*;!&&&#/' 8!:\u0125!! )"),x("%;\x9e/' 8!:\u0126!! )"),x("%$;\x9a0#*;\x9a&/x#;@/o$;M/f$;?/]$$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/'$8%:\u0127% )(%'#($'#(#'#(\"'#&'#"),x(";\xbe"),x("%3\u0128\"\"5&7\u0129/k#;./b$;\xc1/Y$$%;A/,#;\xc1/#$+\")(\"'#&'#06*%;A/,#;\xc1/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#.# &;\xbf"),x("%;6/k#;./b$;\xc0/Y$$%;A/,#;\xc0/#$+\")(\"'#&'#06*%;A/,#;\xc0/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),x("%;6/;#;</2$;6.# &;H/#$+#)(#'#(\"'#&'#"),x(";\xc2.G &;\xc4.A &;\xc6.; &;\xc8.5 &;\xc9./ &;\xca.) &;\xcb.# &;\xc0"),x("%3\u012a\"\"5%7\u012b/5#;</,$;\xc3/#$+#)(#'#(\"'#&'#"),x("%;I/' 8!:\u012c!! )"),x("%3\u012d\"\"5&7\u012e/\x97#;</\x8e$;D/\x85$;\xc5/|$$%$;'/&#0#*;'&&&#/,#;\xc5/#$+\")(\"'#&'#0C*%$;'/&#0#*;'&&&#/,#;\xc5/#$+\")(\"'#&'#&/,$;E/#$+&)(&'#(%'#($'#(#'#(\"'#&'#"),x(";t.# &;w"),x("%3\u012f\"\"5%7\u0130/5#;</,$;\xc7/#$+#)(#'#(\"'#&'#"),x("%;I/' 8!:\u0131!! )"),x("%3\u0132\"\"5&7\u0133/:#;</1$;I/($8#:\u0134#! )(#'#(\"'#&'#"),x('%3\u0135""5%7\u0136/]#;</T$%3\u0137""5$7\u0138/& 8!:\u0139! ).4 &%3\u013a""5%7\u013b/& 8!:\u013c! )/#$+#)(#\'#("\'#&\'#'),x('%3\u013d""5)7\u013e/R#;</I$3\u013f""5#7\u0140./ &3\u0141""5(7\u0142.# &;6/($8#:\u0143#! )(#\'#("\'#&\'#'),x('%3\u0144""5#7\u0145/\x93#;</\x8a$;D/\x81$%;\xcc/e#$%2D""6D7E/,#;\xcc/#$+")("\'#&\'#0<*%2D""6D7E/,#;\xcc/#$+")("\'#&\'#&/#$+")("\'#&\'#/,$;E/#$+%)(%\'#($\'#(#\'#("\'#&\'#'),x('%3\u0146""5(7\u0147./ &3\u0148""5$7\u0149.# &;6/\' 8!:\u014a!! )'),x("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),x("%;\xcf/G#;./>$;\xcf/5$;./,$;\x90/#$+%)(%'#($'#(#'#(\"'#&'#"),x("%$;!/&#0#*;!&&&#/' 8!:\u014b!! )"),x("%;\xd1/]#$%;A/,#;\xd1/#$+\")(\"'#&'#06*%;A/,#;\xd1/#$+\")(\"'#&'#&/'$8\":\u014c\" )(\"'#&'#"),x("%;\x99/]#$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/'$8\":\u014d\" )(\"'#&'#"),x('%;L.O &;\x99.I &%;@." &"/:#;t/1$;?." &"/#$+#)(#\'#("\'#&\'#/]#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/\'$8":\u014e" )("\'#&\'#'),x("%;\xd4/]#$%;B/,#;\xd5/#$+\")(\"'#&'#06*%;B/,#;\xd5/#$+\")(\"'#&'#&/'$8\":\u014f\" )(\"'#&'#"),x("%;\x96/& 8!:\u0150! )"),x('%3\u0151""5(7\u0152/:#;</1$;6/($8#:\u0153#! )(#\'#("\'#&\'#.g &%3\u0154""5&7\u0155/:#;</1$;6/($8#:\u0156#! )(#\'#("\'#&\'#.: &%3\u0157""5*7\u0158/& 8!:\u0159! ).# &;\xa0'),x('%%;6/k#$%;A/2#;6/)$8":\u015a""$ )("\'#&\'#0<*%;A/2#;6/)$8":\u015a""$ )("\'#&\'#&/)$8":\u015b""! )("\'#&\'#." &"/\' 8!:\u015c!! )'),x("%;\xd8/Y#$%;A/,#;\xd8/#$+\")(\"'#&'#06*%;A/,#;\xd8/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),x("%;\x99/Y#$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),x("%$;!/&#0#*;!&&&#/' 8!:\u015d!! )"),x("%;\xdb/Y#$%;B/,#;\xdc/#$+\")(\"'#&'#06*%;B/,#;\xdc/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),x('%3\u015e""5&7\u015f.; &3\u0160""5\'7\u0161./ &3\u0162""5*7\u0163.# &;6/& 8!:\u0164! )'),x("%3\u0165\"\"5&7\u0166/:#;</1$;\xdd/($8#:\u0167#! )(#'#(\"'#&'#.} &%3\xf5\"\"5'7\xf6/:#;</1$;\x9e/($8#:\u0168#! )(#'#(\"'#&'#.P &%3\u0169\"\"5+7\u016a/:#;</1$;\x9e/($8#:\u016b#! )(#'#(\"'#&'#.# &;\xa0"),x('3\u016c""5+7\u016d.k &3\u016e""5)7\u016f._ &3\u0170""5(7\u0171.S &3\u0172""5\'7\u0173.G &3\u0174""5&7\u0175.; &3\u0176""5*7\u0177./ &3\u0178""5)7\u0179.# &;6'),x(';1." &"'),x('%%;6/k#$%;A/2#;6/)$8":\u015a""$ )("\'#&\'#0<*%;A/2#;6/)$8":\u015a""$ )("\'#&\'#&/)$8":\u015b""! )("\'#&\'#." &"/\' 8!:\u017a!! )'),x("%;L.# &;\x99/]#$%;B/,#;\xe1/#$+\")(\"'#&'#06*%;B/,#;\xe1/#$+\")(\"'#&'#&/'$8\":\u017b\" )(\"'#&'#"),x(";\xb9.# &;\xa0"),x("%;\xe3/Y#$%;A/,#;\xe3/#$+\")(\"'#&'#06*%;A/,#;\xe3/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),x("%;\xea/k#;./b$;\xed/Y$$%;B/,#;\xe4/#$+\")(\"'#&'#06*%;B/,#;\xe4/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),x(";\xe5.; &;\xe6.5 &;\xe7./ &;\xe8.) &;\xe9.# &;\xa0"),x("%3\u017c\"\"5#7\u017d/:#;</1$;\xf0/($8#:\u017e#! )(#'#(\"'#&'#"),x("%3\u017f\"\"5%7\u0180/:#;</1$;T/($8#:\u0181#! )(#'#(\"'#&'#"),x("%3\u0182\"\"5(7\u0183/F#;</=$;\\.) &;Y.# &;X/($8#:\u0184#! )(#'#(\"'#&'#"),x("%3\u0185\"\"5&7\u0186/:#;</1$;6/($8#:\u0187#! )(#'#(\"'#&'#"),x("%3\u0188\"\"5%7\u0189/A#;</8$$;!0#*;!&/($8#:\u018a#! )(#'#(\"'#&'#"),x("%;\xeb/G#;;/>$;6/5$;;/,$;\xec/#$+%)(%'#($'#(#'#(\"'#&'#"),x('%3\x92""5#7\xd3.# &;6/\' 8!:\u018b!! )'),x('%3\xb1""5#7\u018c.G &3\xb3""5#7\u018d.; &3\xb7""5#7\u018e./ &3\xb5""5$7\u018f.# &;6/\' 8!:\u0190!! )'),x('%;\xee/D#%;C/,#;\xef/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),x("%;U.) &;\\.# &;X/& 8!:\u0191! )"),x('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:\u0192!! )'),x('%%;!/?#;!." &"/1$;!." &"/#$+#)(#\'#("\'#&\'#/\' 8!:\u0193!! )'),x(";\xbe"),x('%;\x9e/^#$%;B/,#;\xf3/#$+")("\'#&\'#06*%;B/,#;\xf3/#$+")("\'#&\'#&/($8":\u0194"!!)("\'#&\'#'),x(";\xf4.# &;\xa0"),x('%2\u0195""6\u01957\u0196/L#;</C$2\u0197""6\u01977\u0198.) &2\u0199""6\u01997\u019a/($8#:\u019b#! )(#\'#("\'#&\'#'),x('%;\x9e/^#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/($8":\u019c"!!)("\'#&\'#'),x("%;6/5#;0/,$;\xf7/#$+#)(#'#(\"'#&'#"),x("$;2.) &;4.# &;.0/*;2.) &;4.# &;.&"),x("$;%0#*;%&"),x("%;\xfa/;#28\"\"6879/,$;\xfb/#$+#)(#'#(\"'#&'#"),x('%3\u019d""5%7\u019e.) &3\u019f""5$7\u01a0/\' 8!:\u01a1!! )'),x('%;\xfc/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),x("%;\\.) &;X.# &;\x82/' 8!:\u01a2!! )"),x(';".S &;!.M &2F""6F7G.A &2J""6J7K.5 &2H""6H7I.) &2N""6N7O'),x('2L""6L7M.\x95 &2B""6B7C.\x89 &2<""6<7=.} &2R""6R7S.q &2T""6T7U.e &2V""6V7W.Y &2P""6P7Q.M &2@""6@7A.A &2D""6D7E.5 &22""6273.) &2>""6>7?'),x('%;\u0100/b#28""6879/S$;\xfb/J$%2\u01a3""6\u01a37\u01a4/,#;\xec/#$+")("\'#&\'#." &"/#$+$)($\'#(#\'#("\'#&\'#'),x('%3\u01a5""5%7\u01a6.) &3\u01a7""5$7\u01a8/\' 8!:\u01a1!! )'),x('%3\xb1""5#7\xb2.6 &3\xb3""5#7\xb4.* &$;+0#*;+&/\' 8!:\u01a9!! )'),x("%;\u0104/\x87#2F\"\"6F7G/x$;\u0103/o$2F\"\"6F7G/`$;\u0103/W$2F\"\"6F7G/H$;\u0103/?$2F\"\"6F7G/0$;\u0105/'$8):\u01aa) )()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),x("%;#/>#;#/5$;#/,$;#/#$+$)($'#(#'#(\"'#&'#"),x("%;\u0103/,#;\u0103/#$+\")(\"'#&'#"),x("%;\u0103/5#;\u0103/,$;\u0103/#$+#)(#'#(\"'#&'#"),x("%;q/T#$;m0#*;m&/D$%; /,#;\xf8/#$+\")(\"'#&'#.\" &\"/#$+#)(#'#(\"'#&'#"),x('%2\u01ab""6\u01ab7\u01ac.) &2\u01ad""6\u01ad7\u01ae/w#;0/n$;\u0108/e$$%;B/2#;\u0109.# &;\xa0/#$+")("\'#&\'#0<*%;B/2#;\u0109.# &;\xa0/#$+")("\'#&\'#&/#$+$)($\'#(#\'#("\'#&\'#'),x(";\x99.# &;L"),x("%2\u01af\"\"6\u01af7\u01b0/5#;</,$;\u010a/#$+#)(#'#(\"'#&'#"),x("%;D/S#;,/J$2:\"\"6:7;/;$;,.# &;T/,$;E/#$+%)(%'#($'#(#'#(\"'#&'#")],f=0,m=0,g=[{line:1,column:1}],_=0,v=[],b=0;if(void 0!==t.startRule){if(!(t.startRule in u))throw new Error("Can't start parsing from rule \""+t.startRule+'".');h=u[t.startRule]}function y(){return e.substring(m,f)}function S(){return T(m,f)}function C(e,t){return{type:"literal",text:e,ignoreCase:t}}function w(e,t,i){return{type:"class",parts:e,inverted:t,ignoreCase:i}}function E(t){var i,n=g[t];if(n)return n;for(i=t-1;!g[i];)i--;for(n={line:(n=g[i]).line,column:n.column};i<t;)10===e.charCodeAt(i)?(n.line++,n.column=1):n.column++,i++;return g[t]=n,n}function T(e,t){var i=E(e),n=E(t);return{start:{offset:e,line:i.line,column:i.column},end:{offset:t,line:n.line,column:n.column}}}function k(e){f<_||(f>_&&(_=f,v=[]),v.push(e))}function x(e){return e.split("").map(function(e){return e.charCodeAt(0)-32})}if(t.data={},(i=function t(i){for(var n,s=p[i],r=0,o=[],a=s.length,c=[],u=[];;){for(;r<a;)switch(s[r]){case 0:u.push(d[s[r+1]]),r+=2;break;case 1:u.push(void 0),r++;break;case 2:u.push(null),r++;break;case 3:u.push(l),r++;break;case 4:u.push([]),r++;break;case 5:u.push(f),r++;break;case 6:u.pop(),r++;break;case 7:f=u.pop(),r++;break;case 8:u.length-=s[r+1],r+=2;break;case 9:u.splice(-2,1),r++;break;case 10:u[u.length-2].push(u.pop()),r++;break;case 11:u.push(u.splice(u.length-s[r+1],s[r+1])),r+=2;break;case 12:u.push(e.substring(u.pop(),f)),r++;break;case 13:c.push(a),o.push(r+3+s[r+1]+s[r+2]),u[u.length-1]?(a=r+3+s[r+1],r+=3):(a=r+3+s[r+1]+s[r+2],r+=3+s[r+1]);break;case 14:c.push(a),o.push(r+3+s[r+1]+s[r+2]),u[u.length-1]===l?(a=r+3+s[r+1],r+=3):(a=r+3+s[r+1]+s[r+2],r+=3+s[r+1]);break;case 15:c.push(a),o.push(r+3+s[r+1]+s[r+2]),u[u.length-1]!==l?(a=r+3+s[r+1],r+=3):(a=r+3+s[r+1]+s[r+2],r+=3+s[r+1]);break;case 16:u[u.length-1]!==l?(c.push(a),o.push(r),a=r+2+s[r+1],r+=2):r+=2+s[r+1];break;case 17:c.push(a),o.push(r+3+s[r+1]+s[r+2]),e.length>f?(a=r+3+s[r+1],r+=3):(a=r+3+s[r+1]+s[r+2],r+=3+s[r+1]);break;case 18:c.push(a),o.push(r+4+s[r+2]+s[r+3]),e.substr(f,d[s[r+1]].length)===d[s[r+1]]?(a=r+4+s[r+2],r+=4):(a=r+4+s[r+2]+s[r+3],r+=4+s[r+2]);break;case 19:c.push(a),o.push(r+4+s[r+2]+s[r+3]),e.substr(f,d[s[r+1]].length).toLowerCase()===d[s[r+1]]?(a=r+4+s[r+2],r+=4):(a=r+4+s[r+2]+s[r+3],r+=4+s[r+2]);break;case 20:c.push(a),o.push(r+4+s[r+2]+s[r+3]),d[s[r+1]].test(e.charAt(f))?(a=r+4+s[r+2],r+=4):(a=r+4+s[r+2]+s[r+3],r+=4+s[r+2]);break;case 21:u.push(e.substr(f,s[r+1])),f+=s[r+1],r+=2;break;case 22:u.push(d[s[r+1]]),f+=d[s[r+1]].length,r+=2;break;case 23:u.push(l),0===b&&k(d[s[r+1]]),r+=2;break;case 24:m=u[u.length-1-s[r+1]],r+=2;break;case 25:m=f,r++;break;case 26:n=s.slice(r+4,r+4+s[r+3]).map(function(e){return u[u.length-1-e]}),u.splice(u.length-s[r+2],s[r+2],d[s[r+1]].apply(null,n)),r+=4+s[r+3];break;case 27:u.push(t(s[r+1])),r+=2;break;case 28:b++,r++;break;case 29:b--,r++;break;default:throw new Error("Invalid opcode: "+s[r]+".")}if(!(c.length>0))break;a=c.pop(),r=o.pop()}return u[0]}(h))!==l&&f===e.length)return i;throw i!==l&&f<e.length&&k({type:"end"}),n=v,a=_<e.length?e.charAt(_):null,c=T(_,_<e.length?_+1:_),new o(o.buildMessage(n,a),n,a,c)}},80278:function(e,t,i){"use strict";var n=i(62039);i(19919);i(85920);i(58159),i(21127);i(12355),i(28707),i(19372);var s=i(66638);t.n7=s.ReferClientContext,i(16356),i(65780);i(32285);i(87121);i(16021);var r=i(80845);t.UA=r.UA,i(5756),n.__importStar(i(80512)),n.__importStar(i(19919))},17238:function(e,t,i){"use strict";i.d(t,{l3:function(){return r},_j:function(){return n},LC:function(){return s},ZN:function(){return g},jt:function(){return a},pV:function(){return p},F4:function(){return h},IO:function(){return f},vP:function(){return c},SB:function(){return u},oB:function(){return l},eR:function(){return d},X$:function(){return o},ZE:function(){return _},k1:function(){return v}});class n{}class s{}const r="*";function o(e,t){return{type:7,name:e,definitions:t,options:{}}}function a(e,t=null){return{type:4,styles:t,timings:e}}function c(e,t=null){return{type:2,steps:e,options:t}}function l(e){return{type:6,styles:e,offset:null}}function u(e,t,i){return{type:0,name:e,styles:t,options:i}}function h(e){return{type:5,steps:e}}function d(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}function p(e=null){return{type:9,options:e}}function f(e,t,i=null){return{type:11,selector:e,animation:t,options:i}}function m(e){Promise.resolve(null).then(e)}class g{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){m(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class _{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,n=0;const s=this.players.length;0==s?m(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==s&&this._onFinish()}),e.onDestroy(()=>{++i==s&&this._onDestroy()}),e.onStart(()=>{++n==s&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const v="!"},19238:function(e,t,i){"use strict";i.d(t,{rt:function(){return ie},s1:function(){return P},$s:function(){return A},kH:function(){return J},Em:function(){return D},tE:function(){return W},qV:function(){return U},qm:function(){return te},Kd:function(){return Z},X6:function(){return H},yG:function(){return B}});var n=i(38583),s=i(37716),r=i(79765),o=i(75319),a=i(26215),c=i(25917),l=i(36461),u=i(68307),h=i(54395),d=i(45435),p=i(88002),f=i(15257),m=i(13653),g=i(87519),_=i(46782),v=i(39490),b=i(80521),y=i(18553);function S(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}const C="cdk-describedby-message-container",w="cdk-describedby-message",E="cdk-describedby-host";let T=0;const k=new Map;let x=null,A=(()=>{class e{constructor(e){this._document=e}describe(e,t,i){if(!this._canBeDescribed(e,t))return;const n=I(t,i);"string"!=typeof t?(O(t),k.set(n,{messageElement:t,referenceCount:0})):k.has(n)||this._createMessageElement(t,i),this._isElementDescribedByMessage(e,n)||this._addMessageReference(e,n)}removeDescription(e,t,i){if(!t||!this._isElementNode(e))return;const n=I(t,i);if(this._isElementDescribedByMessage(e,n)&&this._removeMessageReference(e,n),"string"==typeof t){const e=k.get(n);e&&0===e.referenceCount&&this._deleteMessageElement(n)}x&&0===x.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${E}]`);for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute(E);x&&this._deleteMessagesContainer(),k.clear()}_createMessageElement(e,t){const i=this._document.createElement("div");O(i),i.textContent=e,t&&i.setAttribute("role",t),this._createMessagesContainer(),x.appendChild(i),k.set(I(e,t),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){const t=k.get(e),i=t&&t.messageElement;x&&i&&x.removeChild(i),k.delete(e)}_createMessagesContainer(){if(!x){const e=this._document.getElementById(C);e&&e.parentNode&&e.parentNode.removeChild(e),x=this._document.createElement("div"),x.id=C,x.style.visibility="hidden",x.classList.add("cdk-visually-hidden"),this._document.body.appendChild(x)}}_deleteMessagesContainer(){x&&x.parentNode&&(x.parentNode.removeChild(x),x=null)}_removeCdkDescribedByReferenceIds(e){const t=S(e,"aria-describedby").filter(e=>0!=e.indexOf(w));e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){const i=k.get(t);(function(e,t,i){const n=S(e,t);n.some(e=>e.trim()==i.trim())||(n.push(i.trim()),e.setAttribute(t,n.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute(E,""),i.referenceCount++}_removeMessageReference(e,t){const i=k.get(t);i.referenceCount--,function(e,t,i){const n=S(e,t).filter(e=>e!=i.trim());n.length?e.setAttribute(t,n.join(" ")):e.removeAttribute(t)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute(E)}_isElementDescribedByMessage(e,t){const i=S(e,"aria-describedby"),n=k.get(t),s=n&&n.messageElement.id;return!!s&&-1!=i.indexOf(s)}_canBeDescribed(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;const i=null==t?"":`${t}`.trim(),n=e.getAttribute("aria-label");return!(!i||n&&n.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.K0))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(n.K0))},token:e,providedIn:"root"}),e})();function I(e,t){return"string"==typeof e?`${t||""}/${e}`:e}function O(e){e.id||(e.id=`${w}-${T++}`)}class R{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new r.xQ,this._typeaheadSubscription=o.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new r.xQ,this.change=new r.xQ,e instanceof s.n_E&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,u.b)(e=>this._pressedLetters.push(e)),(0,h.b)(e),(0,d.h)(()=>this._pressedLetters.length>0),(0,p.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let i=1;i<t.length+1;i++){const n=(this._activeItemIndex+i)%t.length,s=t[n];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(n);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case l.Mf:return void this.tabOut.next();case l.JH:if(this._vertical&&i){this.setNextItemActive();break}return;case l.LH:if(this._vertical&&i){this.setPreviousItemActive();break}return;case l.SV:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case l.oh:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case l.Sd:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case l.uR:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||(0,l.Vb)(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=l.A&&t<=l.Z||t>=l.xE&&t<=l.aO)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),n=t[i];this._activeItem=null==n?null:n,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const n=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[n]))return void this.setActiveItem(n)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class P extends R{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class D extends R{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let N=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(t){return null}}(function(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(e));if(t&&(-1===M(t)||!this.isVisible(t)))return!1;let i=e.nodeName.toLowerCase(),n=M(e);return e.hasAttribute("contenteditable")?-1!==n:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),i="input"===t&&e.type;return"text"===i||"password"===i||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==n:"video"===i?-1!==n&&(null!==n||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||L(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(b.t4))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(b.t4))},token:e,providedIn:"root"}),e})();function L(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function M(e){if(!L(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class F{constructor(e,t,i,n,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let i=0;i<t.length;i++)t[i].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[i]):t[i].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[i]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let i=0;i<t.length;i++){let e=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let i=t.length-1;i>=0;i--){let e=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,f.q)(1)).subscribe(e)}}let U=(()=>{class e{constructor(e,t,i){this._checker=e,this._ngZone=t,this._document=i}create(e,t=!1){return new F(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(N),s.LFG(s.R0b),s.LFG(n.K0))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(N),s.LFG(s.R0b),s.LFG(n.K0))},token:e,providedIn:"root"}),e})();function H(e){return 0===e.offsetX&&0===e.offsetY}function B(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const $=new s.OlP("cdk-input-modality-detector-options"),j={ignoreKeys:[l.zL,l.jx,l.b2,l.MW,l.JU]},G=(0,b.i$)({passive:!0,capture:!0});let V=(()=>{class e{constructor(e,t,i,n){this._platform=e,this._mostRecentTarget=null,this._modality=new a.X(null),this._lastTouchMs=0,this._onKeydown=e=>{var t,i;(null===(i=null===(t=this._options)||void 0===t?void 0:t.ignoreKeys)||void 0===i?void 0:i.some(t=>t===e.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,b.sA)(e))},this._onMousedown=e=>{Date.now()-this._lastTouchMs<650||(this._modality.next(H(e)?"keyboard":"mouse"),this._mostRecentTarget=(0,b.sA)(e))},this._onTouchstart=e=>{B(e)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,b.sA)(e))},this._options=Object.assign(Object.assign({},j),n),this.modalityDetected=this._modality.pipe((0,m.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,g.x)()),e.isBrowser&&t.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,G),i.addEventListener("mousedown",this._onMousedown,G),i.addEventListener("touchstart",this._onTouchstart,G)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,G),document.removeEventListener("mousedown",this._onMousedown,G),document.removeEventListener("touchstart",this._onTouchstart,G))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(b.t4),s.LFG(s.R0b),s.LFG(n.K0),s.LFG($,8))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(b.t4),s.LFG(s.R0b),s.LFG(n.K0),s.LFG($,8))},token:e,providedIn:"root"}),e})();const q=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Y=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Z=(()=>{class e{constructor(e,t,i,n){this._ngZone=t,this._defaultOptions=n,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...t){const i=this._defaultOptions;let n,s;return 1===t.length&&"number"==typeof t[0]?s=t[0]:[n,s]=t,this.clear(),clearTimeout(this._previousTimeout),n||(n=i&&i.politeness?i.politeness:"polite"),null==s&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",t=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(q,8),s.LFG(s.R0b),s.LFG(n.K0),s.LFG(Y,8))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(q,8),s.LFG(s.R0b),s.LFG(n.K0),s.LFG(Y,8))},token:e,providedIn:"root"}),e})();const z=new s.OlP("cdk-focus-monitor-default-options"),K=(0,b.i$)({passive:!0,capture:!0});let W=(()=>{class e{constructor(e,t,i,n,s){this._ngZone=e,this._platform=t,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new r.xQ,this._rootNodeFocusAndBlurListener=e=>{const t=(0,b.sA)(e),i="focus"===e.type?this._onFocus:this._onBlur;for(let n=t;n;n=n.parentElement)i.call(this,e,n)},this._document=n,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(e,t=!1){const i=(0,v.fI)(e);if(!this._platform.isBrowser||1!==i.nodeType)return(0,c.of)(null);const n=(0,b.kV)(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return t&&(s.checkChildren=!0),s.subject;const o={checkChildren:t,subject:new r.xQ,rootNode:n};return this._elementInfo.set(i,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){const t=(0,v.fI)(e),i=this._elementInfo.get(t);i&&(i.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(i))}focusVia(e,t,i){const n=(0,v.fI)(e);n===this._getDocument().activeElement?this._getClosestElementsInfo(n).forEach(([e,i])=>this._originChanged(e,t,i)):(this._setOrigin(t),"function"==typeof n.focus&&n.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,i){i?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&t,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,t){const i=this._elementInfo.get(t),n=(0,b.sA)(e);!i||!i.checkChildren&&t!==n||this._originChanged(t,this._getFocusOrigin(n),i)}_onBlur(e,t){const i=this._elementInfo.get(t);!i||i.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(i.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,i=this._rootNodeFocusListenerCount.get(t)||0;i||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,K),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,K)}),this._rootNodeFocusListenerCount.set(t,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,_.R)(this._stopInputModalityDetector)).subscribe(e=>{this._setOrigin(e,!0)}))}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,K),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,K),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,i){this._setClasses(e,t),this._emitOrigin(i.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((i,n)=>{(n===e||i.checkChildren&&n.contains(e))&&t.push([n,i])}),t}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.R0b),s.LFG(b.t4),s.LFG(V),s.LFG(n.K0,8),s.LFG(z,8))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(s.R0b),s.LFG(b.t4),s.LFG(V),s.LFG(n.K0,8),s.LFG(z,8))},token:e,providedIn:"root"}),e})(),J=(()=>{class e{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new s.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(W))},e.\u0275dir=s.lG2({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),e})();const Q="cdk-high-contrast-black-on-white",X="cdk-high-contrast-white-on-black",ee="cdk-high-contrast-active";let te=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,i=t&&t.getComputedStyle?t.getComputedStyle(e):null,n=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),n){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(ee),e.remove(Q),e.remove(X),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(ee),e.add(Q)):2===t&&(e.add(ee),e.add(X))}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(b.t4),s.LFG(n.K0))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(b.t4),s.LFG(n.K0))},token:e,providedIn:"root"}),e})(),ie=(()=>{class e{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(te))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[b.ud,y.Q8]]}),e})()},70946:function(e,t,i){"use strict";i.d(t,{vT:function(){return a},Is:function(){return o}});var n=i(37716),s=i(38583);const r=new n.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,n.f3M)(s.K0)}});let o=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new n.vpe,e){const t=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||t;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(r,8))},e.\u0275prov=n.Yz7({factory:function(){return new e(n.LFG(r,8))},token:e,providedIn:"root"}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e})()},14785:function(e,t,i){"use strict";i.d(t,{TU:function(){return o},Iq:function(){return a}});var n=i(38583),s=i(37716);class r{constructor(e,t){this._document=t;const i=this._textarea=this._document.createElement("textarea"),n=i.style;n.position="fixed",n.top=n.opacity="0",n.left="-999em",i.setAttribute("aria-hidden","true"),i.value=e,this._document.body.appendChild(i)}copy(){const e=this._textarea;let t=!1;try{if(e){const i=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch(i){}return t}destroy(){const e=this._textarea;e&&(e.parentNode&&e.parentNode.removeChild(e),this._textarea=void 0)}}let o=(()=>{class e{constructor(e){this._document=e}copy(e){const t=this.beginCopy(e),i=t.copy();return t.destroy(),i}beginCopy(e){return new r(e,this._document)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.K0))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(n.K0))},token:e,providedIn:"root"}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e})()},38345:function(e,t,i){"use strict";i.d(t,{P3:function(){return l},o2:function(){return a},Ov:function(){return d},A8:function(){return p},yy:function(){return u},eX:function(){return h},k:function(){return f},Z9:function(){return c}});var n=i(95639),s=i(25917),r=i(79765),o=i(37716);class a{}function c(e){return e&&"function"==typeof e.connect}class l extends a{constructor(e){super(),this._data=e}connect(){return(0,n.b)(this._data)?this._data:(0,s.of)(this._data)}disconnect(){}}class u{applyChanges(e,t,i,n,s){e.forEachOperation((e,n,r)=>{let o,a;if(null==e.previousIndex){const s=i(e,n,r);o=t.createEmbeddedView(s.templateRef,s.context,s.index),a=1}else null==r?(t.remove(n),a=3):(o=t.get(n),t.move(o,r),a=2);s&&s({context:null==o?void 0:o.context,operation:a,record:e})})}detach(){}}class h{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,i,n,s){e.forEachOperation((e,r,o)=>{let a,c;null==e.previousIndex?(a=this._insertView(()=>i(e,r,o),o,t,n(e)),c=a?1:0):null==o?(this._detachAndCacheView(r,t),c=3):(a=this._moveView(r,o,t,n(e)),c=2),s&&s({context:null==a?void 0:a.context,operation:c,record:e})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,i,n){const s=this._insertViewFromCache(t,i);if(s)return void(s.context.$implicit=n);const r=e();return i.createEmbeddedView(r.templateRef,r.context,r.index)}_detachAndCacheView(e,t){const i=t.detach(e);this._maybeCacheView(i,t)}_moveView(e,t,i,n){const s=i.get(e);return i.move(s,t),s.context.$implicit=n,s}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const i=t.indexOf(e);-1===i?e.destroy():t.remove(i)}}_insertViewFromCache(e,t){const i=this._viewCache.pop();return i&&t.insert(i,e),i||null}}class d{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new r.xQ,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let p=(()=>{class e{constructor(){this._listeners=[]}notify(e,t){for(let i of this._listeners)i(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}ngOnDestroy(){this._listeners=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const f=new o.OlP("_ViewRepeater")},77310:function(e,t,i){"use strict";i.d(t,{Zt:function(){return ge},pV:function(){return me},Wj:function(){return he},_t:function(){return ve},bA:function(){return z}});var n=i(37716),s=i(38583),r=i(71386),o=i(80521),a=i(39490),c=i(19238),l=i(79765),u=i(75319),h=i(20945),d=i(61927),p=i(18891),f=i(66682),m=i(46782),g=i(39761),_=i(88002),v=i(15257),b=i(68307),y=i(43190),S=i(70946);function C(e,t,i){for(let n in t)if(t.hasOwnProperty(n)){const s=t[n];s?e.setProperty(n,s,(null==i?void 0:i.has(n))?"important":""):e.removeProperty(n)}return e}function w(e,t){const i=t?"":"none";C(e.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function E(e,t,i){C(e.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},i)}function T(e,t){return t&&"none"!=t?e+" "+t:e}function k(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function x(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}function A(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function I(e,t,i){const{top:n,bottom:s,left:r,right:o}=e;return i>=n&&i<=s&&t>=r&&t<=o}function O(e,t,i){e.top+=t,e.bottom=e.top+e.height,e.left+=i,e.right=e.left+e.width}function R(e,t,i,n){const{top:s,right:r,bottom:o,left:a,width:c,height:l}=e,u=c*t,h=l*t;return n>s-h&&n<o+h&&i>a-u&&i<r+u}class P{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:A(e)})})}handleScroll(e){const t=(0,o.sA)(e),i=this.positions.get(t);if(!i)return null;const n=t===this._document?t.documentElement:t,s=i.scrollPosition;let r,a;if(t===this._document){const e=this._viewportRuler.getViewportScrollPosition();r=e.top,a=e.left}else r=t.scrollTop,a=t.scrollLeft;const c=s.top-r,l=s.left-a;return this.positions.forEach((e,i)=>{e.clientRect&&t!==i&&n.contains(i)&&O(e.clientRect,c,l)}),s.top=r,s.left=a,{top:c,left:l}}}function D(e){const t=e.cloneNode(!0),i=t.querySelectorAll("[id]"),n=e.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<i.length;s++)i[s].removeAttribute("id");return"canvas"===n?F(e,t):("input"===n||"select"===n||"textarea"===n)&&M(e,t),N("canvas",e,t,F),N("input, textarea, select",e,t,M),t}function N(e,t,i,n){const s=t.querySelectorAll(e);if(s.length){const t=i.querySelectorAll(e);for(let e=0;e<s.length;e++)n(s[e],t[e])}}let L=0;function M(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${L++}`)}function F(e,t){const i=t.getContext("2d");if(i)try{i.drawImage(e,0,0)}catch(n){}}const U=(0,o.i$)({passive:!0}),H=(0,o.i$)({passive:!1}),B=new Set(["position"]);class ${constructor(e,t,i,n,s,r){this._config=t,this._document=i,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new l.xQ,this._pointerMoveSubscription=u.w.EMPTY,this._pointerUpSubscription=u.w.EMPTY,this._scrollSubscription=u.w.EMPTY,this._resizeSubscription=u.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new l.xQ,this.started=new l.xQ,this.released=new l.xQ,this.ended=new l.xQ,this.entered=new l.xQ,this.exited=new l.xQ,this.dropped=new l.xQ,this.moved=this._moveEvents,this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const i=(0,o.sA)(e);return!!i&&(i===t||t.contains(i))});t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const t=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),i=this._dropContainer;if(!t)return void this._endDragSequence(e);(!i||!i.isDragging()&&!i.isReceiving())&&(e.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),e.preventDefault();const i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else{const e=this._activeTransform;e.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(e.x,e.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${e.x} ${e.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{this._endDragSequence(e)},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new P(i,s),r.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=(0,a.Ig)(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>w(e,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(e=>(0,a.fI)(e)),this._handles.forEach(e=>w(e,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=(0,a.fI)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,H),t.addEventListener("touchstart",this._pointerDown,U)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?(0,a.fI)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&V(this._rootElement),V(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),w(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),w(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&V(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&V(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){q(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const e=this._rootElement,i=e.parentNode,n=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),r=this._getShadowRoot();i.insertBefore(s,e),this._initialTransform=e.style.transform||"",this._preview=this._createPreviewElement(),E(e,!1,B),this._document.body.appendChild(i.replaceChild(n,e)),this._getPreviewInsertionPoint(i,r).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),n=q(t),s=!n&&0!==t.button,r=this._rootElement,a=(0,o.sA)(t),l=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),u=n?(0,c.yG)(t):(0,c.X6)(t);if(a&&a.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||l||u)return;this._handles.length&&(this._rootElementTapHighlight=r.style.webkitTapHighlightColor||"",r.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>this._updateOnScroll(e)),this._boundaryElement&&(this._boundaryRect=A(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){E(this._rootElement,!0,B),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),n=this._getPointerPositionOnPage(e),s=this._getDragDistance(n),r=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:s,dropPoint:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:n}),t.drop(this,i,this._initialIndex,this._initialContainer,r,s,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:n}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let n;if(i&&e){const t=e.matchSize?this._rootElement.getBoundingClientRect():null,s=e.viewContainer.createEmbeddedView(i,e.context);s.detectChanges(),n=Y(s,this._document),this._previewRef=s,e.matchSize?Z(n,t):n.style.transform=j(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement;n=D(e),Z(n,e.getBoundingClientRect()),this._initialTransform&&(n.style.transform=this._initialTransform)}return C(n.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},B),w(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(e=>n.classList.add(e)):n.classList.add(t)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function(e){const t=getComputedStyle(e),i=x(t,"transition-property"),n=i.find(e=>"transform"===e||"all"===e);if(!n)return 0;const s=i.indexOf(n),r=x(t,"transition-duration"),o=x(t,"transition-delay");return k(r[s])+k(o[s])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const i=t=>{var s;(!t||(0,o.sA)(t)===this._preview&&"transform"===t.propertyName)&&(null===(s=this._preview)||void 0===s||s.removeEventListener("transitionend",i),e(),clearTimeout(n))},n=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=Y(this._placeholderRef,this._document)):i=D(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t){const i=this._rootElement.getBoundingClientRect(),n=e===this._rootElement?null:e,s=n?n.getBoundingClientRect():i,r=q(t)?t.targetTouches[0]:t,o=this._getViewportScrollPosition();return{x:s.left-i.left+(r.pageX-s.left-o.left),y:s.top-i.top+(r.pageY-s.top-o.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=q(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,n=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const e=this._ownerSVGElement.getScreenCTM();if(e){const t=this._ownerSVGElement.createSVGPoint();return t.x=n,t.y=s,t.matrixTransform(e.inverse())}}return{x:n,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:n}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?n=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:t}=this._pickupPositionInElement,s=this._boundaryRect,r=this._previewRect,o=s.top+t,a=s.bottom-(r.height-t);i=G(i,s.left+e,s.right-(r.width-e)),n=G(n,o,a)}return{x:i,y:n}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-s.x),o=Math.abs(i-s.y);return r>this._config.pointerDirectionChangeThreshold&&(n.x=t>s.x?1:-1,s.x=t),o>this._config.pointerDirectionChangeThreshold&&(n.y=i>s.y?1:-1,s.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,w(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,H),e.removeEventListener("touchstart",this._pointerDown,U)}_applyRootElementTransform(e,t){const i=j(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=T(i,this._initialTransform)}_applyPreviewTransform(e,t){var i;const n=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,s=j(e,t);this._preview.style.transform=T(s,n)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===n.width&&0===n.height)return;const s=i.left-n.left,r=n.right-i.right,o=i.top-n.top,a=n.bottom-i.bottom;i.width>n.width?(s>0&&(e+=s),r>0&&(e-=r)):e=0,i.height>n.height?(o>0&&(t+=o),a>0&&(t-=a)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:q(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=(0,o.sA)(e);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&O(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,o.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const e=this._document;return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}return(0,a.fI)(i)}}function j(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function G(e,t,i){return Math.max(t,Math.min(i,e))}function V(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function q(e){return"t"===e.type[0]}function Y(e,t){const i=e.rootNodes;if(1===i.length&&i[0].nodeType===t.ELEMENT_NODE)return i[0];const n=t.createElement("div");return i.forEach(e=>n.appendChild(e)),n}function Z(e,t){e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform=j(t.left,t.top)}function z(e,t,i){const n=K(t,e.length-1),s=K(i,e.length-1);if(n===s)return;const r=e[n],o=s<n?-1:1;for(let a=n;a!==s;a+=o)e[a]=e[a+o];e[s]=r}function K(e,t){return Math.max(0,Math.min(t,e))}class W{constructor(e,t,i,n,s){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new l.xQ,this.entered=new l.xQ,this.exited=new l.xQ,this.dropped=new l.xQ,this.sorted=new l.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=u.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new l.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,h.F)(0,d.r).pipe((0,m.R)(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode,t=this.autoScrollStep;1===this._verticalScrollDirection?Q(e,-t):2===this._verticalScrollDirection&&Q(e,t),1===this._horizontalScrollDirection?X(e,-t):2===this._horizontalScrollDirection&&X(e,t)})},this.element=(0,a.fI)(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new P(i,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,n){let s;this._draggingStarted(),null==n?(s=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(e,t,i))):s=n;const r=this._activeDraggables,o=r.indexOf(e),c=e.getPlaceholderElement();let l=r[s];if(l===e&&(l=r[s+1]),o>-1&&r.splice(o,1),l&&!this._dragDropRegistry.isDragging(l)){const t=l.getRootElement();t.parentElement.insertBefore(c,t),r.splice(s,0,e)}else if(this._shouldEnterAsFirstChild(t,i)){const t=r[0].getRootElement();t.parentNode.insertBefore(c,t),r.unshift(e)}else(0,a.fI)(this.element).appendChild(c),r.push(e);c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,n,s,r,o){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:s,distance:r,dropPoint:o})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(e=>e.isDragging()).every(t=>-1===e.indexOf(t))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=(0,a.fI)(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?J("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,n){if(this.sortingDisabled||!this._clientRect||!R(this._clientRect,.05,t,i))return;const s=this._itemPositions,r=this._getItemIndexFromPointerPosition(e,t,i,n);if(-1===r&&s.length>0)return;const o="horizontal"===this._orientation,a=J(s,t=>t.drag===e),c=s[r],l=c.clientRect,u=a>r?1:-1,h=this._getItemOffsetPx(s[a].clientRect,l,u),d=this._getSiblingOffsetPx(a,s,u),p=s.slice();z(s,a,r),this.sorted.next({previousIndex:a,currentIndex:r,container:this,item:e}),s.forEach((t,i)=>{if(p[i]===t)return;const n=t.drag===e,s=n?h:d,r=n?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=s,o?(r.style.transform=T(`translate3d(${Math.round(t.offset)}px, 0, 0)`,t.initialTransform),O(t.clientRect,0,s)):(r.style.transform=T(`translate3d(0, ${Math.round(t.offset)}px, 0)`,t.initialTransform),O(t.clientRect,s,0))}),this._previousSwap.overlaps=I(l,t,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=o?n.x:n.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,n=0,s=0;if(this._parentPositions.positions.forEach((r,o)=>{o===this._document||!r.clientRect||i||R(r.clientRect,.05,e,t)&&([n,s]=function(e,t,i,n){const s=ee(t,n),r=te(t,i);let o=0,a=0;if(s){const t=e.scrollTop;1===s?t>0&&(o=1):e.scrollHeight-t>e.clientHeight&&(o=2)}if(r){const t=e.scrollLeft;1===r?t>0&&(a=1):e.scrollWidth-t>e.clientWidth&&(a=2)}return[o,a]}(o,r.clientRect,e,t),(n||s)&&(i=o))}),!n&&!s){const{width:r,height:o}=this._viewportRuler.getViewportSize(),a={width:r,height:o,top:0,right:r,bottom:o,left:0};n=ee(a,t),s=te(a,e),i=window}i&&(n!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=s,this._scrollNode=i,(n||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=(0,a.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=(0,a.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:A(t)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const e=(0,a.fI)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var t;const i=e.getRootElement();if(i){const n=null===(t=this._itemPositions.find(t=>t.drag===e))||void 0===t?void 0:t.initialTransform;i.style.transform=n||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,i){const n="horizontal"===this._orientation,s=t[e].clientRect,r=t[e+-1*i];let o=s[n?"width":"height"]*i;if(r){const e=n?"left":"top",t=n?"right":"bottom";-1===i?o-=r.clientRect[e]-s[t]:o+=s[e]-r.clientRect[t]}return o}_getItemOffsetPx(e,t,i){const n="horizontal"===this._orientation;let s=n?t.left-e.left:t.top-e.top;return-1===i&&(s+=n?t.width-e.width:t.height-e.height),s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return n?e>=s.right:t>=s.bottom}{const s=i[0].clientRect;return n?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,i,n){const s="horizontal"===this._orientation,r=J(this._itemPositions,({drag:r,clientRect:o},a,c)=>{if(r===e)return c.length<2;if(n){const e=s?n.x:n.y;if(r===this._previousSwap.drag&&this._previousSwap.overlaps&&e===this._previousSwap.delta)return!1}return s?t>=Math.floor(o.left)&&t<Math.floor(o.right):i>=Math.floor(o.top)&&i<Math.floor(o.bottom)});return-1!==r&&this.sortPredicate(r,e,this)?r:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&I(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(n=>n._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!I(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const n=this._getShadowRoot().elementFromPoint(t,i);if(!n)return!1;const s=(0,a.fI)(this.element);return n===s||s.contains(n)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(e=>this.enterPredicate(e,this)||this._draggables.indexOf(e)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:e})=>{O(e,t.top,t.left)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=(0,o.kV)((0,a.fI)(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function J(e,t){for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1}function Q(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function X(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function ee(e,t){const{top:i,bottom:n,height:s}=e,r=.05*s;return t>=i-r&&t<=i+r?1:t>=n-r&&t<=n+r?2:0}function te(e,t){const{left:i,right:n,width:s}=e,r=.05*s;return t>=i-r&&t<=i+r?1:t>=n-r&&t<=n+r?2:0}const ie=(0,o.i$)({passive:!1,capture:!0});let ne=(()=>{class e{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=e=>e.isDragging(),this.pointerMove=new l.xQ,this.pointerUp=new l.xQ,this.scroll=new l.xQ,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=e=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ie)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ie)}startDragging(e,t){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const e=t.type.startsWith("touch");this._globalListeners.set(e?"touchend":"mouseup",{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ie}),e||this._globalListeners.set("mousemove",{handler:e=>this.pointerMove.next(e),options:ie}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){const t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const t=[this.scroll];return e&&e!==this._document&&t.push(new p.y(t=>this._ngZone.runOutsideAngular(()=>{const i=e=>{this._activeDragInstances.length&&t.next(e)};return e.addEventListener("scroll",i,!0),()=>{e.removeEventListener("scroll",i,!0)}}))),(0,f.T)(...t)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(n.R0b),n.LFG(s.K0))},e.\u0275prov=n.Yz7({factory:function(){return new e(n.LFG(n.R0b),n.LFG(s.K0))},token:e,providedIn:"root"}),e})();const se={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let re=(()=>{class e{constructor(e,t,i,n){this._document=e,this._ngZone=t,this._viewportRuler=i,this._dragDropRegistry=n}createDrag(e,t=se){return new $(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new W(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.K0),n.LFG(n.R0b),n.LFG(r.rL),n.LFG(ne))},e.\u0275prov=n.Yz7({factory:function(){return new e(n.LFG(s.K0),n.LFG(n.R0b),n.LFG(r.rL),n.LFG(ne))},token:e,providedIn:"root"}),e})();const oe=new n.OlP("CDK_DRAG_PARENT"),ae=new n.OlP("CdkDropListGroup"),ce=new n.OlP("CDK_DRAG_CONFIG");let le=0;const ue=new n.OlP("CdkDropList");let he=(()=>{class e{constructor(t,i,s,r,o,a,c){this.element=t,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=o,this._group=a,this._destroyed=new l.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+le++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.sorted=new n.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(e,t)=>this.enterPredicate(e.data,t.data),this._dropListRef.sortPredicate=(e,t,i)=>this.sortPredicate(e,t.data,i.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,a.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,g.O)(this._dir.value),(0,m.R)(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{const i=(0,a.Eq)(this.connectedTo).map(t=>"string"==typeof t?e._dropLists.find(e=>e.id===t):t);if(this._group&&this._group._items.forEach(e=>{-1===i.indexOf(e)&&i.push(e)}),!this._scrollableParentsResolved){const e=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(e=>e.getElementRef().nativeElement);this._dropListRef.withScrollableParents(e),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=(0,a.Ig)(this.sortingDisabled),t.autoScrollDisabled=(0,a.Ig)(this.autoScrollDisabled),t.autoScrollStep=(0,a.su)(this.autoScrollStep,2),t.connectedTo(i.filter(e=>e&&e!==this).map(e=>e._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance,dropPoint:e.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:t,draggingDisabled:i,sortingDisabled:n,listAutoScrollDisabled:s,listOrientation:r}=e;this.disabled=null!=i&&i,this.sortingDisabled=null!=n&&n,this.autoScrollDisabled=null!=s&&s,this.orientation=r||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(re),n.Y36(n.sBO),n.Y36(r.mF),n.Y36(S.Is,8),n.Y36(ae,12),n.Y36(ce,8))},e.\u0275dir=n.lG2({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(n.uIk("id",t.id),n.ekj("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[n._Bn([{provide:ae,useValue:void 0},{provide:ue,useExisting:e}])]}),e._dropLists=[],e})();const de=new n.OlP("CdkDragHandle"),pe=new n.OlP("CdkDragPlaceholder"),fe=new n.OlP("CdkDragPreview");let me=(()=>{class e{constructor(e){this.templateRef=e,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(e){this._matchSize=(0,a.Ig)(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Rgc))},e.\u0275dir=n.lG2({type:e,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"},features:[n._Bn([{provide:fe,useExisting:e}])]}),e})(),ge=(()=>{class e{constructor(t,i,s,r,o,a,c,u,h,d,f){this.element=t,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=o,this._dir=c,this._changeDetectorRef=h,this._selfHandle=d,this._parentDrag=f,this._destroyed=new l.xQ,this.started=new n.vpe,this.released=new n.vpe,this.ended=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.dropped=new n.vpe,this.moved=new p.y(e=>{const t=this._dragRef.moved.pipe((0,_.U)(e=>({source:this,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}))).subscribe(e);return()=>{t.unsubscribe()}}),this._dragRef=u.createDrag(t,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,a.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,v.q)(1),(0,m.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const t=e.rootElementSelector,i=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,t=this.rootElementSelector?_e(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?_e(this.element.nativeElement,e):(0,a.fI)(e):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,i=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:(0,a.su)(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe((0,v.q)(1)).subscribe(()=>{var i,n;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let s=this.element.nativeElement.parentElement;for(;s;){if(null===(i=s.classList)||void 0===i?void 0:i.contains("cdk-drag")){t.withParent((null===(n=e._dragInstances.find(e=>e.element.nativeElement===s))||void 0===n?void 0:n._dragRef)||null);break}s=s.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint})})}_assignDefaults(e){const{lockAxis:t,dragStartDelay:i,constrainPosition:n,previewClass:s,boundaryElement:r,draggingDisabled:o,rootElementSelector:a,previewContainer:c}=e;this.disabled=null!=o&&o,this.dragStartDelay=i||0,t&&(this.lockAxis=t),n&&(this.constrainPosition=n),s&&(this.previewClass=s),r&&(this.boundaryElement=r),a&&(this.rootElementSelector=a),c&&(this.previewContainer=c)}_setupHandlesListener(){this._handles.changes.pipe((0,g.O)(this._handles),(0,b.b)(e=>{const t=e.filter(e=>e._parentDrag===this).map(e=>e.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),(0,y.w)(e=>(0,f.T)(...e.map(e=>e._stateChanges.pipe((0,g.O)(e))))),(0,m.R)(this._destroyed)).subscribe(e=>{const t=this._dragRef,i=e.element.nativeElement;e.disabled?t.disableHandle(i):t.enableHandle(i)})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(ue,12),n.Y36(s.K0),n.Y36(n.R0b),n.Y36(n.s_b),n.Y36(ce,8),n.Y36(S.Is,8),n.Y36(re),n.Y36(n.sBO),n.Y36(de,10),n.Y36(oe,12))},e.\u0275dir=n.lG2({type:e,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,i){if(1&e&&(n.Suo(i,fe,5),n.Suo(i,pe,5),n.Suo(i,de,5)),2&e){let e;n.iGM(e=n.CRH())&&(t._previewTemplate=e.first),n.iGM(e=n.CRH())&&(t._placeholderTemplate=e.first),n.iGM(e=n.CRH())&&(t._handles=e)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&n.ekj("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[n._Bn([{provide:oe,useExisting:e}]),n.TTD]}),e._dragInstances=[],e})();function _e(e,t){let i=e.parentElement;for(;i;){if(i.matches?i.matches(t):i.msMatchesSelector(t))return i;i=i.parentElement}return null}let ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[re],imports:[r.ZD]}),e})()},36461:function(e,t,i){"use strict";i.d(t,{A:function(){return y},zL:function(){return a},jx:function(){return o},JH:function(){return _},uR:function(){return d},K5:function(){return s},hY:function(){return c},Sd:function(){return p},oh:function(){return f},b2:function(){return w},MW:function(){return C},aO:function(){return b},VM:function(){return h},Ku:function(){return u},SV:function(){return g},JU:function(){return r},L_:function(){return l},Mf:function(){return n},LH:function(){return m},Z:function(){return S},xE:function(){return v},Vb:function(){return E}});const n=9,s=13,r=16,o=17,a=18,c=27,l=32,u=33,h=34,d=35,p=36,f=37,m=38,g=39,_=40,v=48,b=57,y=65,S=90,C=91,w=224;function E(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}},65072:function(e,t,i){"use strict";i.d(t,{Yg:function(){return y},u3:function(){return C}});var n=i(37716),s=i(39490),r=i(79765),o=i(9112),a=i(58071),c=i(18891),l=i(15257),u=i(13653),h=i(54395),d=i(88002),p=i(39761),f=i(46782),m=i(80521);const g=new Set;let _,v=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):b}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(e){if(!g.has(e))try{_||(_=document.createElement("style"),_.setAttribute("type","text/css"),document.head.appendChild(_)),_.sheet&&(_.sheet.insertRule(`@media ${e} {body{ }}`,0),g.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(m.t4))},e.\u0275prov=n.Yz7({factory:function(){return new e(n.LFG(m.t4))},token:e,providedIn:"root"}),e})();function b(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let y=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new r.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return S((0,s.Eq)(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){const t=S((0,s.Eq)(e)).map(e=>this._registerQuery(e).observable);let i=(0,o.aj)(t);return i=(0,a.z)(i.pipe((0,l.q)(1)),i.pipe((0,u.T)(1),(0,h.b)(0))),i.pipe((0,d.U)(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(({matches:e,query:i})=>{t.matches=t.matches||e,t.breakpoints[i]=e}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),i={observable:new c.y(e=>{const i=t=>this._zone.run(()=>e.next(t));return t.addListener(i),()=>{t.removeListener(i)}}).pipe((0,p.O)(t),(0,d.U)(({matches:t})=>({query:e,matches:t})),(0,f.R)(this._destroySubject)),mql:t};return this._queries.set(e,i),i}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(v),n.LFG(n.R0b))},e.\u0275prov=n.Yz7({factory:function(){return new e(n.LFG(v),n.LFG(n.R0b))},token:e,providedIn:"root"}),e})();function S(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const C={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},18553:function(e,t,i){"use strict";i.d(t,{wD:function(){return u},yq:function(){return l},Q8:function(){return h}});var n=i(39490),s=i(37716),r=i(18891),o=i(79765),a=i(54395);let c=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),l=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=(0,n.fI)(e);return new r.y(e=>{const i=this._observeElement(t).subscribe(e);return()=>{i.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new o.xQ,i=this._mutationObserverFactory.create(e=>t.next(e));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:i}=this._observedElements.get(e);t&&t.disconnect(),i.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(c))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(c))},token:e,providedIn:"root"}),e})(),u=(()=>{class e{constructor(e,t,i){this._contentObserver=e,this._elementRef=t,this._ngZone=i,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,n.Ig)(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=(0,n.su)(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe((0,a.b)(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(l),s.Y36(s.SBq),s.Y36(s.R0b))},e.\u0275dir=s.lG2({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[c]}),e})()},90625:function(e,t,i){"use strict";i.d(t,{pI:function(){return W},xu:function(){return K},YJ:function(){return X},aV:function(){return Y},X_:function(){return x},Xj:function(){return D},U8:function(){return Q}});var n=i(71386),s=i(37716),r=i(80521),o=i(70946),a=i(38583),c=i(39490),l=i(87636),u=i(79765),h=i(75319),d=i(66682),p=i(77393);class f{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new m(e,this.predicate,this.inclusive))}}class m extends p.L{constructor(e,t,i){super(e),this.predicate=t,this.inclusive=i,this.index=0}_next(e){const t=this.destination;let i;try{i=this.predicate(e,this.index++)}catch(n){return void t.error(n)}this.nextOrComplete(e,i)}nextOrComplete(e,t){const i=this.destination;Boolean(t)?i.next(e):(this.inclusive&&i.next(e),i.complete())}}var g=i(15257),_=i(46782),v=i(36461);const b=(0,r.Mq)();class y{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=(0,c.HM)(-this._previousScrollPosition.left),e.style.top=(0,c.HM)(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,i=this._document.body.style,n=t.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),b&&(t.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),b&&(t.scrollBehavior=n,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class S{constructor(e,t,i,n){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class C{enable(){}disable(){}attach(){}}function w(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function E(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class T{constructor(e,t,i,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:i}=this._viewportRuler.getViewportSize();w(e,[{width:t,height:i,bottom:i,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let k=(()=>{class e{constructor(e,t,i,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this.noop=()=>new C,this.close=e=>new S(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new y(this._viewportRuler,this._document),this.reposition=e=>new T(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=n}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.mF),s.LFG(n.rL),s.LFG(s.R0b),s.LFG(a.K0))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(n.mF),s.LFG(n.rL),s.LFG(s.R0b),s.LFG(a.K0))},token:e,providedIn:"root"}),e})();class x{constructor(e){if(this.scrollStrategy=new C,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class A{constructor(e,t,i,n,s){this.offsetX=i,this.offsetY=n,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class I{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let O=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.K0))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(a.K0))},token:e,providedIn:"root"}),e})(),R=(()=>{class e extends O{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let i=t.length-1;i>-1;i--)if(t[i]._keydownEvents.observers.length>0){t[i]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.K0))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(a.K0))},token:e,providedIn:"root"}),e})(),P=(()=>{class e extends O{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._pointerDownListener=e=>{this._pointerDownEventTarget=(0,r.sA)(e)},this._clickListener=e=>{const t=(0,r.sA)(e),i="click"===e.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:t;this._pointerDownEventTarget=null;const n=this._attachedOverlays.slice();for(let s=n.length-1;s>-1;s--){const r=n[s];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(t)||r.overlayElement.contains(i))break;r._outsidePointerEvents.next(e)}}}}add(e){if(super.add(e),!this._isAttached){const e=this._document.body;e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.K0),s.LFG(r.t4))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(a.K0),s.LFG(r.t4))},token:e,providedIn:"root"}),e})(),D=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||(0,r.Oy)()){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add(e),(0,r.Oy)()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.K0),s.LFG(r.t4))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(a.K0),s.LFG(r.t4))},token:e,providedIn:"root"}),e})();class N{constructor(e,t,i,n,s,r,o,a,c){this._portalOutlet=e,this._host=t,this._pane=i,this._config=n,this._ngZone=s,this._keyboardDispatcher=r,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new u.xQ,this._attachments=new u.xQ,this._detachments=new u.xQ,this._locationChanges=h.w.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new u.xQ,this._outsidePointerEvents=new u.xQ,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,g.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=(0,c.HM)(this._config.width),e.height=(0,c.HM)(this._config.height),e.minWidth=(0,c.HM)(this._config.minWidth),e.minHeight=(0,c.HM)(this._config.minHeight),e.maxWidth=(0,c.HM)(this._config.maxWidth),e.maxHeight=(0,c.HM)(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const n=e.classList;(0,c.Eq)(t).forEach(e=>{e&&(i?n.add(e):n.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,_.R)((0,d.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const L="cdk-overlay-connected-position-bounding-box",M=/([A-Za-z%]+)$/;class F{constructor(e,t,i,n,s){this._viewportRuler=t,this._document=i,this._platform=n,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new u.xQ,this._resizeSubscription=h.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(L),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,n=[];let s;for(let r of this._preferredPositions){let o=this._getOriginPoint(e,r),a=this._getOverlayPoint(o,t,r),c=this._getOverlayFit(a,t,i,r);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(r,o);this._canFitWithFlexibleDimensions(c,a,i)?n.push({position:r,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,r)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:a,originPoint:o,position:r,overlayRect:t})}if(n.length){let e=null,t=-1;for(const i of n){const n=i.boundingBoxRect.width*i.boundingBoxRect.height*(i.position.weight||1);n>t&&(t=n,e=i)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&U(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(L),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,n;if("center"==t.originX)i=e.left+e.width/2;else{const n=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;i="start"==t.originX?n:s}return n="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:n}}_getOverlayPoint(e,t,i){let n,s;return n="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+n,y:e.y+s}}_getOverlayFit(e,t,i,n){const s=B(t);let{x:r,y:o}=e,a=this._getOffset(n,"x"),c=this._getOffset(n,"y");a&&(r+=a),c&&(o+=c);let l=0-o,u=o+s.height-i.height,h=this._subtractOverflows(s.width,0-r,r+s.width-i.width),d=this._subtractOverflows(s.height,l,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:s.width*s.height===p,fitsInViewportVertically:d===s.height,fitsInViewportHorizontally:h==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const n=i.bottom-t.y,s=i.right-t.x,r=H(this._overlayRef.getConfig().minHeight),o=H(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=s;return(e.fitsInViewportVertically||null!=r&&r<=n)&&a}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const n=B(t),s=this._viewportRect,r=Math.max(e.x+n.width-s.width,0),o=Math.max(e.y+n.height-s.height,0),a=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let l=0,u=0;return l=n.width<=s.width?c||-r:e.x<this._viewportMargin?s.left-i.left-e.x:0,u=n.height<=s.height?a||-o:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:l,y:u},{x:e.x+l,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),i=new I(e,t);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,n=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,n=this._isRtl();let s,r,o,a,c,l;if("top"===t.overlayY)r=e.y,s=i.height-r+this._viewportMargin;else if("bottom"===t.overlayY)o=i.height-e.y+2*this._viewportMargin,s=i.height-o+this._viewportMargin;else{const t=Math.min(i.bottom-e.y+i.top,e.y),n=this._lastBoundingBoxSize.height;s=2*t,r=e.y-t,s>n&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.y-n/2)}if("end"===t.overlayX&&!n||"start"===t.overlayX&&n)l=i.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!n||"end"===t.overlayX&&n)c=e.x,a=i.right-e.x;else{const t=Math.min(i.right-e.x+i.left,e.x),n=this._lastBoundingBoxSize.width;a=2*t,c=e.x-t,a>n&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.x-n/2)}return{top:r,left:c,bottom:o,right:l,width:a,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;n.height=(0,c.HM)(i.height),n.top=(0,c.HM)(i.top),n.bottom=(0,c.HM)(i.bottom),n.width=(0,c.HM)(i.width),n.left=(0,c.HM)(i.left),n.right=(0,c.HM)(i.right),n.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",n.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(n.maxHeight=(0,c.HM)(e)),s&&(n.maxWidth=(0,c.HM)(s))}this._lastBoundingBoxSize=i,U(this._boundingBox.style,n)}_resetBoundingBoxStyles(){U(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){U(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},n=this._hasExactPosition(),s=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(n){const n=this._viewportRuler.getViewportScrollPosition();U(i,this._getExactOverlayY(t,e,n)),U(i,this._getExactOverlayX(t,e,n))}else i.position="static";let o="",a=this._getOffset(t,"x"),l=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),i.transform=o.trim(),r.maxHeight&&(n?i.maxHeight=(0,c.HM)(r.maxHeight):s&&(i.maxHeight="")),r.maxWidth&&(n?i.maxWidth=(0,c.HM)(r.maxWidth):s&&(i.maxWidth="")),U(this._pane.style,i)}_getExactOverlayY(e,t,i){let n={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let r=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=r,"bottom"===e.overlayY?n.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":n.top=(0,c.HM)(s.y),n}_getExactOverlayX(e,t,i){let n,s={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),n=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===n?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=(0,c.HM)(r.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:E(e,i),isOriginOutsideView:w(e,i),isOverlayClipped:E(t,i),isOverlayOutsideView:w(t,i)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&(0,c.Eq)(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof s.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function U(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function H(e){if("number"!=typeof e&&null!=e){const[t,i]=e.split(M);return i&&"px"!==i?null:parseFloat(t)}return e||null}function B(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}class ${constructor(e,t,i,n,s,r,o){this._preferredPositions=[],this._positionStrategy=new F(i,n,s,r,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,i,n){const s=new A(e,t,i,n);return this._preferredPositions.push(s),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const j="cdk-global-overlay-wrapper";class G{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(j),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:s,maxWidth:r,maxHeight:o}=i,a=!("100%"!==n&&"100vw"!==n||r&&"100%"!==r&&"100vw"!==r),c=!("100%"!==s&&"100vh"!==s||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(j),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let V=(()=>{class e{constructor(e,t,i,n){this._viewportRuler=e,this._document=t,this._platform=i,this._overlayContainer=n}global(){return new G}connectedTo(e,t,i){return new $(t,i,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new F(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.rL),s.LFG(a.K0),s.LFG(r.t4),s.LFG(D))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(n.rL),s.LFG(a.K0),s.LFG(r.t4),s.LFG(D))},token:e,providedIn:"root"}),e})(),q=0,Y=(()=>{class e{constructor(e,t,i,n,s,r,o,a,c,l,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=i,this._positionBuilder=n,this._keyboardDispatcher=s,this._injector=r,this._ngZone=o,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(e){const t=this._createHostElement(),i=this._createPaneElement(t),n=this._createPortalOutlet(i),s=new x(e);return s.direction=s.direction||this._directionality.value,new N(n,t,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+q++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new l.u0(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(k),s.LFG(D),s.LFG(s._Vd),s.LFG(V),s.LFG(R),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(a.K0),s.LFG(o.Is),s.LFG(a.Ye),s.LFG(P))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const Z=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],z=new s.OlP("cdk-connected-overlay-scroll-strategy");let K=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e})(),W=(()=>{class e{constructor(e,t,i,n,r){this._overlay=e,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.w.EMPTY,this._attachSubscription=h.w.EMPTY,this._detachSubscription=h.w.EMPTY,this._positionSubscription=h.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new l.UE(t,i),this._scrollStrategyFactory=n,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=(0,c.Ig)(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=(0,c.Ig)(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=(0,c.Ig)(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=(0,c.Ig)(e)}get push(){return this._push}set push(e){this._push=(0,c.Ig)(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Z);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),e.keyCode===v.hY&&!this.disableClose&&!(0,v.Vb)(e)&&(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new x({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e,t=!1){return i=>i.lift(new f(e,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(Y),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(z),s.Y36(o.Is,8))},e.\u0275dir=s.lG2({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),e})();const J={provide:z,deps:[Y],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Y,J],imports:[[o.vT,l.eL,n.Cl],n.Cl]}),e})(),X=(()=>{class e extends D{constructor(e,t){super(e,t)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(e){const t=this._getEventName();t&&(this._fullScreenListener&&this._document.removeEventListener(t,this._fullScreenListener),this._document.addEventListener(t,e),this._fullScreenListener=e)}_getEventName(){if(!this._fullScreenEventName){const e=this._document;e.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":e.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":e.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":e.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const e=this._document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||null}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.K0),s.LFG(r.t4))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(a.K0),s.LFG(r.t4))},token:e,providedIn:"root"}),e})()},80521:function(e,t,i){"use strict";i.d(t,{t4:function(){return a},ud:function(){return c},sA:function(){return y},ht:function(){return b},kV:function(){return v},Oy:function(){return S},_i:function(){return _},qK:function(){return u},i$:function(){return m},Mq:function(){return g}});var n=i(37716),s=i(38583);let r;try{r="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(C){r=!1}let o,a=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,s.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!r)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(n.Lbi))},e.\u0275prov=n.Yz7({factory:function(){return new e(n.LFG(n.Lbi))},token:e,providedIn:"root"}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e})();const l=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function u(){if(o)return o;if("object"!=typeof document||!document)return o=new Set(l),o;let e=document.createElement("input");return o=new Set(l.filter(t=>(e.setAttribute("type",t),e.type===t))),o}let h,d,p,f;function m(e){return function(){if(null==h&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?e:!!e.capture}function g(){if(null==p){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return p=!1,p;if("scrollBehavior"in document.documentElement.style)p=!0;else{const e=Element.prototype.scrollTo;p=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return p}function _(){if("object"!=typeof document||!document)return 0;if(null==d){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",e.appendChild(i),document.body.appendChild(e),d=0,0===e.scrollLeft&&(e.scrollLeft=1,d=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return d}function v(e){if(function(){if(null==f){const e="undefined"!=typeof document?document.head:null;f=!(!e||!e.createShadowRoot&&!e.attachShadow)}return f}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function b(){let e="undefined"!=typeof document&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function y(e){return e.composedPath?e.composedPath()[0]:e.target}function S(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},87636:function(e,t,i){"use strict";i.d(t,{en:function(){return l},ig:function(){return h},Pl:function(){return p},C5:function(){return o},u0:function(){return u},eL:function(){return f},UE:function(){return a},bH:function(){return d}});var n=i(37716),s=i(38583);class r{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class o extends r{constructor(e,t,i,n){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=n}}class a extends r{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class c extends r{constructor(e){super(),this.element=e instanceof n.SBq?e.nativeElement:e}}class l{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof o?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof a?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof c?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class u extends l{constructor(e,t,i,n,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=e=>{const t=e.element,i=this._document.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})},this._document=s}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=t.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(e=>this.outletElement.appendChild(e)),i.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(i);-1!==e&&t.remove(e)}),this._attachedPortal=e,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let h=(()=>{class e extends a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Rgc),n.Y36(n.s_b))},e.\u0275dir=n.lG2({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[n.qOj]}),e})(),d=(()=>{class e extends h{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[n._Bn([{provide:h,useExisting:e}]),n.qOj]}),e})(),p=(()=>{class e extends l{constructor(e,t,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new n.vpe,this.attachDomPortal=e=>{const t=e.element,i=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(i,t),this._getRootNode().appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),n=t.createComponent(i,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(n.hostView.rootNodes[0]),super.setDisposeFn(()=>n.destroy()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n._Vd),n.Y36(n.s_b),n.Y36(s.K0))},e.\u0275dir=n.lG2({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[n.qOj]}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e})()},71386:function(e,t,i){"use strict";i.d(t,{PQ:function(){return g},ZD:function(){return v},mF:function(){return m},Cl:function(){return b},rL:function(){return _}});var n=i(39490),s=i(37716),r=i(79765),o=i(25917),a=i(18891),c=i(22759),l=(i(61927),i(64581),i(75319),i(95639),i(87519),i(80013)),u=i(45435),h=i(46782),d=(i(39761),i(59328),i(43190),i(47349),i(80521)),p=i(38583),f=i(70946);i(38345);let m=(()=>{class e{constructor(e,t,i){this._ngZone=e,this._platform=t,this._scrolled=new r.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new a.y(t=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe((0,l.e)(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,o.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const i=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe((0,u.h)(e=>!e||i.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((i,n)=>{this._scrollableContainsElement(n,e)&&t.push(n)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let i=(0,n.fI)(t),s=e.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return(0,c.R)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.R0b),s.LFG(d.t4),s.LFG(p.K0,8))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(s.R0b),s.LFG(d.t4),s.LFG(p.K0,8))},token:e,providedIn:"root"}),e})(),g=(()=>{class e{constructor(e,t,i,n){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=i,this.dir=n,this._destroyed=new r.xQ,this._elementScrolled=new a.y(e=>this.ngZone.runOutsideAngular(()=>(0,c.R)(this.elementRef.nativeElement,"scroll").pipe((0,h.R)(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),i&&0!=(0,d._i)()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==(0,d._i)()?e.left=e.right:1==(0,d._i)()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;(0,d.Mq)()?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t="left",i=this.elementRef.nativeElement;if("top"==e)return i.scrollTop;if("bottom"==e)return i.scrollHeight-i.clientHeight-i.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==e?e=n?"right":t:"end"==e&&(e=n?t:"right"),n&&2==(0,d._i)()?e==t?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:n&&1==(0,d._i)()?e==t?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:e==t?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(m),s.Y36(s.R0b),s.Y36(f.Is,8))},e.\u0275dir=s.lG2({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e})(),_=(()=>{class e{constructor(e,t,i){this._platform=e,this._change=new r.xQ,this._changeListener=e=>{this._change.next(e)},this._document=i,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+t,height:i,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),i=e.documentElement,n=i.getBoundingClientRect();return{top:-n.top||e.body.scrollTop||t.scrollY||i.scrollTop||0,left:-n.left||e.body.scrollLeft||t.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe((0,l.e)(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(d.t4),s.LFG(s.R0b),s.LFG(p.K0,8))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(d.t4),s.LFG(s.R0b),s.LFG(p.K0,8))},token:e,providedIn:"root"}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[f.vT,d.ud,v],f.vT,v]}),e})()},96109:function(e,t,i){"use strict";i.d(t,{Lq:function(){return p},IC:function(){return f},Ky:function(){return m}});var n=i(80521),s=i(37716),r=i(39490),o=i(59193),a=i(79765),c=i(22759),l=i(80013),u=i(46782),h=i(38583);const d=(0,n.i$)({passive:!0});let p=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return o.E;const t=(0,r.fI)(e),i=this._monitoredElements.get(t);if(i)return i.subject;const n=new a.xQ,s="cdk-text-field-autofilled",c=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(s)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(s)&&(t.classList.remove(s),this._ngZone.run(()=>n.next({target:e.target,isAutofilled:!1}))):(t.classList.add(s),this._ngZone.run(()=>n.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",c,d),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:n,unlisten:()=>{t.removeEventListener("animationstart",c,d)}}),n}stopMonitoring(e){const t=(0,r.fI)(e),i=this._monitoredElements.get(t);i&&(i.unlisten(),i.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.t4),s.LFG(s.R0b))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(n.t4),s.LFG(s.R0b))},token:e,providedIn:"root"}),e})(),f=(()=>{class e{constructor(e,t,i,n){this._elementRef=e,this._platform=t,this._ngZone=i,this._destroyed=new a.xQ,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=e=>{this._hasFocus="focus"===e.type},this._document=n,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(e){this._minRows=(0,r.su)(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=(0,r.su)(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=(0,r.Ig)(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,this._textareaElement.placeholder=e,this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();(0,c.R)(e,"resize").pipe((0,l.e)(16),(0,u.R)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,this._textareaElement.parentNode.removeChild(e),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,t=e.style.marginBottom||"",i=this._platform.FIREFOX,n=i&&this._hasFocus,s=i?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";n&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(s);const r=e.scrollHeight-4;return e.classList.remove(s),n&&(e.style.marginBottom=t),r}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const t=this._elementRef.nativeElement,i=t.value;if(!e&&this._minRows===this._previousMinRows&&i===this._previousValue)return;const n=this._measureScrollHeight(),s=Math.max(n,this._cachedPlaceholderHeight||0);t.style.height=`${s}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(t)):setTimeout(()=>this._scrollToCaretPosition(t))}),this._previousValue=i,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:t,selectionEnd:i}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(t,i)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(n.t4),s.Y36(s.R0b),s.Y36(h.K0,8))},e.\u0275dir=s.lG2({type:e,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,t){1&e&&s.NdJ("input",function(){return t._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),e})(),m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ud]]}),e})()},39490:function(e,t,i){"use strict";i.d(t,{t6:function(){return o},Eq:function(){return a},Ig:function(){return s},HM:function(){return c},fI:function(){return l},su:function(){return r},du:function(){return u}});var n=i(37716);function s(e){return null!=e&&"false"!=`${e}`}function r(e,t=0){return o(e)?Number(e):t}function o(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function a(e){return Array.isArray(e)?e:[e]}function c(e){return null==e?"":"string"==typeof e?e:`${e}px`}function l(e){return e instanceof n.SBq?e.nativeElement:e}function u(e,t=/\s+/){const i=[];if(null!=e){const n=Array.isArray(e)?e:`${e}`.split(t);for(const e of n){const t=`${e}`.trim();t&&i.push(t)}}return i}},38583:function(e,t,i){"use strict";i.d(t,{mr:function(){return y},Ov:function(){return Oe},ez:function(){return Ne},K0:function(){return c},uU:function(){return Pe},JJ:function(){return De},Do:function(){return C},V_:function(){return h},Ye:function(){return w},S$:function(){return v},mk:function(){return de},sg:function(){return fe},O5:function(){return ge},PC:function(){return we},RF:function(){return ye},n9:function(){return Se},ED:function(){return Ce},tP:function(){return Ee},b0:function(){return S},lw:function(){return l},gd:function(){return Re},EM:function(){return Fe},JF:function(){return Be},p6:function(){return Y},NF:function(){return Me},qS:function(){return ue},w_:function(){return a},bD:function(){return Le},q:function(){return r},Mx:function(){return he},HT:function(){return o}});var n=i(37716);let s=null;function r(){return s}function o(e){s||(s=e)}class a{}const c=new n.OlP("DocumentToken");let l=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,n.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,n.LFG)(d)}const h=new n.OlP("Location Initialized");let d=(()=>{class e extends l{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState(e){const t=r().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=r().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,i){p()?this._history.pushState(e,t,i):this.location.hash=i}replaceState(e,t,i){p()?this._history.replaceState(e,t,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(c))},e.\u0275prov=(0,n.Yz7)({factory:f,token:e,providedIn:"platform"}),e})();function p(){return!!window.history.pushState}function f(){return new d((0,n.LFG)(c))}function m(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function g(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function _(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,n.Yz7)({factory:b,token:e,providedIn:"root"}),e})();function b(e){const t=(0,n.LFG)(c).location;return new S((0,n.LFG)(l),t&&t.origin||"")}const y=new n.OlP("appBaseHref");let S=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return m(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+_(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${t}${i}`:t}pushState(e,t,i,n){const s=this.prepareExternalUrl(i+_(n));this._platformLocation.pushState(e,t,s)}replaceState(e,t,i,n){const s=this.prepareExternalUrl(i+_(n));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,i;null===(i=(t=this._platformLocation).historyGo)||void 0===i||i.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(l),n.LFG(y,8))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=m(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,i,n){let s=this.prepareExternalUrl(i+_(n));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,i,n){let s=this.prepareExternalUrl(i+_(n));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,i;null===(i=(t=this._platformLocation).historyGo)||void 0===i||i.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(l),n.LFG(y,8))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e{constructor(e,t){this._subject=new n.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=g(T(i)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+_(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",i=null){this._platformStrategy.pushState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_(t)),i)}replaceState(e,t="",i=null){this._platformStrategy.replaceState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_(t)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,i;null===(i=(t=this._platformStrategy).historyGo)||void 0===i||i.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(i=>i(e,t))}subscribe(e,t,i){return this._subject.subscribe({next:e,error:t,complete:i})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(v),n.LFG(l))},e.normalizeQueryParams=_,e.joinWithSlash=m,e.stripTrailingSlash=g,e.\u0275prov=(0,n.Yz7)({factory:E,token:e,providedIn:"root"}),e})();function E(){return new w((0,n.LFG)(v),(0,n.LFG)(l))}function T(e){return e.replace(/\/index.html$/,"")}var k=(()=>((k=k||{})[k.Decimal=0]="Decimal",k[k.Percent=1]="Percent",k[k.Currency=2]="Currency",k[k.Scientific=3]="Scientific",k))(),x=(()=>((x=x||{})[x.Zero=0]="Zero",x[x.One=1]="One",x[x.Two=2]="Two",x[x.Few=3]="Few",x[x.Many=4]="Many",x[x.Other=5]="Other",x))(),A=(()=>((A=A||{})[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A))(),I=(()=>((I=I||{})[I.Narrow=0]="Narrow",I[I.Abbreviated=1]="Abbreviated",I[I.Wide=2]="Wide",I[I.Short=3]="Short",I))(),O=(()=>((O=O||{})[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O))(),R=(()=>((R=R||{})[R.Decimal=0]="Decimal",R[R.Group=1]="Group",R[R.List=2]="List",R[R.PercentSign=3]="PercentSign",R[R.PlusSign=4]="PlusSign",R[R.MinusSign=5]="MinusSign",R[R.Exponential=6]="Exponential",R[R.SuperscriptingExponent=7]="SuperscriptingExponent",R[R.PerMille=8]="PerMille",R[R.Infinity=9]="Infinity",R[R.NaN=10]="NaN",R[R.TimeSeparator=11]="TimeSeparator",R[R.CurrencyDecimal=12]="CurrencyDecimal",R[R.CurrencyGroup=13]="CurrencyGroup",R))();function P(e,t){return U((0,n.cg1)(e)[n.wAp.DateFormat],t)}function D(e,t){return U((0,n.cg1)(e)[n.wAp.TimeFormat],t)}function N(e,t){return U((0,n.cg1)(e)[n.wAp.DateTimeFormat],t)}function L(e,t){const i=(0,n.cg1)(e),s=i[n.wAp.NumberSymbols][t];if(void 0===s){if(t===R.CurrencyDecimal)return i[n.wAp.NumberSymbols][R.Decimal];if(t===R.CurrencyGroup)return i[n.wAp.NumberSymbols][R.Group]}return s}const M=n.kL8;function F(e){if(!e[n.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[n.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function U(e,t){for(let i=t;i>-1;i--)if(void 0!==e[i])return e[i];throw new Error("Locale data API: locale data undefined")}function H(e){const[t,i]=e.split(":");return{hours:+t,minutes:+i}}const B=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$={},j=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var G=(()=>((G=G||{})[G.Short=0]="Short",G[G.ShortGMT=1]="ShortGMT",G[G.Long=2]="Long",G[G.Extended=3]="Extended",G))(),V=(()=>((V=V||{})[V.FullYear=0]="FullYear",V[V.Month=1]="Month",V[V.Date=2]="Date",V[V.Hours=3]="Hours",V[V.Minutes=4]="Minutes",V[V.Seconds=5]="Seconds",V[V.FractionalSeconds=6]="FractionalSeconds",V[V.Day=7]="Day",V))(),q=(()=>((q=q||{})[q.DayPeriods=0]="DayPeriods",q[q.Days=1]="Days",q[q.Months=2]="Months",q[q.Eras=3]="Eras",q))();function Y(e,t,i,n){let s=function(e){if(re(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,i=1,n=1]=e.split("-").map(e=>+e);return Z(t,i-1,n)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(B))return function(e){const t=new Date(0);let i=0,n=0;const s=e[8]?t.setUTCFullYear:t.setFullYear,r=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),s.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,o,a,c,l),t}(i)}const t=new Date(e);if(!re(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=z(i,t)||t;let r,o=[];for(;t;){if(r=j.exec(t),!r){o.push(t);break}{o=o.concat(r.slice(1));const e=o.pop();if(!e)break;t=e}}let a=s.getTimezoneOffset();n&&(a=se(n,a),s=function(e,t,i){const n=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(se(t,n)-n))}(s,n));let c="";return o.forEach(e=>{const t=function(e){if(ne[e])return ne[e];let t;switch(e){case"G":case"GG":case"GGG":t=Q(q.Eras,I.Abbreviated);break;case"GGGG":t=Q(q.Eras,I.Wide);break;case"GGGGG":t=Q(q.Eras,I.Narrow);break;case"y":t=J(V.FullYear,1,0,!1,!0);break;case"yy":t=J(V.FullYear,2,0,!0,!0);break;case"yyy":t=J(V.FullYear,3,0,!1,!0);break;case"yyyy":t=J(V.FullYear,4,0,!1,!0);break;case"Y":t=ie(1);break;case"YY":t=ie(2,!0);break;case"YYY":t=ie(3);break;case"YYYY":t=ie(4);break;case"M":case"L":t=J(V.Month,1,1);break;case"MM":case"LL":t=J(V.Month,2,1);break;case"MMM":t=Q(q.Months,I.Abbreviated);break;case"MMMM":t=Q(q.Months,I.Wide);break;case"MMMMM":t=Q(q.Months,I.Narrow);break;case"LLL":t=Q(q.Months,I.Abbreviated,A.Standalone);break;case"LLLL":t=Q(q.Months,I.Wide,A.Standalone);break;case"LLLLL":t=Q(q.Months,I.Narrow,A.Standalone);break;case"w":t=te(1);break;case"ww":t=te(2);break;case"W":t=te(1,!0);break;case"d":t=J(V.Date,1);break;case"dd":t=J(V.Date,2);break;case"c":case"cc":t=J(V.Day,1);break;case"ccc":t=Q(q.Days,I.Abbreviated,A.Standalone);break;case"cccc":t=Q(q.Days,I.Wide,A.Standalone);break;case"ccccc":t=Q(q.Days,I.Narrow,A.Standalone);break;case"cccccc":t=Q(q.Days,I.Short,A.Standalone);break;case"E":case"EE":case"EEE":t=Q(q.Days,I.Abbreviated);break;case"EEEE":t=Q(q.Days,I.Wide);break;case"EEEEE":t=Q(q.Days,I.Narrow);break;case"EEEEEE":t=Q(q.Days,I.Short);break;case"a":case"aa":case"aaa":t=Q(q.DayPeriods,I.Abbreviated);break;case"aaaa":t=Q(q.DayPeriods,I.Wide);break;case"aaaaa":t=Q(q.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":t=Q(q.DayPeriods,I.Abbreviated,A.Standalone,!0);break;case"bbbb":t=Q(q.DayPeriods,I.Wide,A.Standalone,!0);break;case"bbbbb":t=Q(q.DayPeriods,I.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":t=Q(q.DayPeriods,I.Abbreviated,A.Format,!0);break;case"BBBB":t=Q(q.DayPeriods,I.Wide,A.Format,!0);break;case"BBBBB":t=Q(q.DayPeriods,I.Narrow,A.Format,!0);break;case"h":t=J(V.Hours,1,-12);break;case"hh":t=J(V.Hours,2,-12);break;case"H":t=J(V.Hours,1);break;case"HH":t=J(V.Hours,2);break;case"m":t=J(V.Minutes,1);break;case"mm":t=J(V.Minutes,2);break;case"s":t=J(V.Seconds,1);break;case"ss":t=J(V.Seconds,2);break;case"S":t=J(V.FractionalSeconds,1);break;case"SS":t=J(V.FractionalSeconds,2);break;case"SSS":t=J(V.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=X(G.Short);break;case"ZZZZZ":t=X(G.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=X(G.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=X(G.Long);break;default:return null}return ne[e]=t,t}(e);c+=t?t(s,i,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Z(e,t,i){const n=new Date(0);return n.setFullYear(e,t,i),n.setHours(0,0,0),n}function z(e,t){const i=function(e){return(0,n.cg1)(e)[n.wAp.LocaleId]}(e);if($[i]=$[i]||{},$[i][t])return $[i][t];let s="";switch(t){case"shortDate":s=P(e,O.Short);break;case"mediumDate":s=P(e,O.Medium);break;case"longDate":s=P(e,O.Long);break;case"fullDate":s=P(e,O.Full);break;case"shortTime":s=D(e,O.Short);break;case"mediumTime":s=D(e,O.Medium);break;case"longTime":s=D(e,O.Long);break;case"fullTime":s=D(e,O.Full);break;case"short":const t=z(e,"shortTime"),i=z(e,"shortDate");s=K(N(e,O.Short),[t,i]);break;case"medium":const n=z(e,"mediumTime"),r=z(e,"mediumDate");s=K(N(e,O.Medium),[n,r]);break;case"long":const o=z(e,"longTime"),a=z(e,"longDate");s=K(N(e,O.Long),[o,a]);break;case"full":const c=z(e,"fullTime"),l=z(e,"fullDate");s=K(N(e,O.Full),[c,l])}return s&&($[i][t]=s),s}function K(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),e}function W(e,t,i="-",n,s){let r="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,r=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.substr(o.length-t)),r+o}function J(e,t,i=0,n=!1,s=!1){return function(r,o){let a=function(e,t){switch(e){case V.FullYear:return t.getFullYear();case V.Month:return t.getMonth();case V.Date:return t.getDate();case V.Hours:return t.getHours();case V.Minutes:return t.getMinutes();case V.Seconds:return t.getSeconds();case V.FractionalSeconds:return t.getMilliseconds();case V.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,r);if((i>0||a>-i)&&(a+=i),e===V.Hours)0===a&&-12===i&&(a=12);else if(e===V.FractionalSeconds)return function(e,t){return W(e,3).substr(0,t)}(a,t);const c=L(o,R.MinusSign);return W(a,t,c,n,s)}}function Q(e,t,i=A.Format,s=!1){return function(r,o){return function(e,t,i,s,r,o){switch(i){case q.Months:return function(e,t,i){const s=(0,n.cg1)(e),r=U([s[n.wAp.MonthsFormat],s[n.wAp.MonthsStandalone]],t);return U(r,i)}(t,r,s)[e.getMonth()];case q.Days:return function(e,t,i){const s=(0,n.cg1)(e),r=U([s[n.wAp.DaysFormat],s[n.wAp.DaysStandalone]],t);return U(r,i)}(t,r,s)[e.getDay()];case q.DayPeriods:const a=e.getHours(),c=e.getMinutes();if(o){const e=function(e){const t=(0,n.cg1)(e);return F(t),(t[n.wAp.ExtraData][2]||[]).map(e=>"string"==typeof e?H(e):[H(e[0]),H(e[1])])}(t),i=function(e,t,i){const s=(0,n.cg1)(e);F(s);const r=U([s[n.wAp.ExtraData][0],s[n.wAp.ExtraData][1]],t)||[];return U(r,i)||[]}(t,r,s),o=e.findIndex(e=>{if(Array.isArray(e)){const[t,i]=e,n=a>=t.hours&&c>=t.minutes,s=a<i.hours||a===i.hours&&c<i.minutes;if(t.hours<i.hours){if(n&&s)return!0}else if(n||s)return!0}else if(e.hours===a&&e.minutes===c)return!0;return!1});if(-1!==o)return i[o]}return function(e,t,i){const s=(0,n.cg1)(e),r=U([s[n.wAp.DayPeriodsFormat],s[n.wAp.DayPeriodsStandalone]],t);return U(r,i)}(t,r,s)[a<12?0:1];case q.Eras:return function(e,t){return U((0,n.cg1)(e)[n.wAp.Eras],t)}(t,s)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(r,o,e,t,i,s)}}function X(e){return function(t,i,n){const s=-1*n,r=L(i,R.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case G.Short:return(s>=0?"+":"")+W(o,2,r)+W(Math.abs(s%60),2,r);case G.ShortGMT:return"GMT"+(s>=0?"+":"")+W(o,1,r);case G.Long:return"GMT"+(s>=0?"+":"")+W(o,2,r)+":"+W(Math.abs(s%60),2,r);case G.Extended:return 0===n?"Z":(s>=0?"+":"")+W(o,2,r)+":"+W(Math.abs(s%60),2,r);default:throw new Error(`Unknown zone width "${e}"`)}}}function ee(e){return Z(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function te(e,t=!1){return function(i,n){let s;if(t){const e=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,t=i.getDate();s=1+Math.floor((t+e)/7)}else{const e=ee(i),t=function(e){const t=Z(e,0,1).getDay();return Z(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),n=e.getTime()-t.getTime();s=1+Math.round(n/6048e5)}return W(s,e,L(n,R.MinusSign))}}function ie(e,t=!1){return function(i,n){return W(ee(i).getFullYear(),e,L(n,R.MinusSign),t)}}const ne={};function se(e,t){e=e.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function re(e){return e instanceof Date&&!isNaN(e.valueOf())}const oe=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ae(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class ce{}let le=(()=>{class e extends ce{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(M(t||this.locale)(e)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(n.soG))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();function ue(e,t,i){return(0,n.dwT)(e,t,i)}function he(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const e=i.indexOf("="),[n,s]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(n.trim()===t)return decodeURIComponent(s)}return null}let de=(()=>{class e{constructor(e,t,i,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=n,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,n.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,n.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.ZZ4),n.Y36(n.aQg),n.Y36(n.SBq),n.Y36(n.Qsj))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class pe{constructor(e,t,i,n){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fe=(()=>{class e{constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(e){return e.name||typeof e}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,i,n)=>{if(null==e.previousIndex){const i=this._viewContainer.createEmbeddedView(this._template,new pe(null,this._ngForOf,-1,-1),null===n?void 0:n),s=new me(e,i);t.push(s)}else if(null==n)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const s=this._viewContainer.get(i);this._viewContainer.move(s,n);const r=new me(e,s);t.push(r)}});for(let i=0;i<t.length;i++)this._perViewChange(t[i].view,t[i].record);for(let i=0,n=this._viewContainer.length;i<n;i++){const e=this._viewContainer.get(i);e.context.index=i,e.context.count=n,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(n.ZZ4))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class me{constructor(e,t){this.record=e,this.view=t}}let ge=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new _e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ve("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ve("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.s_b),n.Y36(n.Rgc))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class _e{constructor(){this.$implicit=null,this.ngIf=null}}function ve(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,n.AaK)(t)}'.`)}class be{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ye=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Se=(()=>{class e{constructor(e,t,i){this.ngSwitch=i,i._addCase(),this._view=new be(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(ye,9))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),Ce=(()=>{class e{constructor(e,t,i){i._addDefault(new be(e,t))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(ye,9))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),we=(()=>{class e{constructor(e,t,i){this._ngEl=e,this._differs=t,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[i,n]=e.split(".");null!=(t=null!=t&&n?`${t}${n}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.aQg),n.Y36(n.Qsj))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Ee=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.s_b))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[n.TTD]}),e})();function Te(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,n.AaK)(e)}'`)}class ke{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class xe{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Ae=new xe,Ie=new ke;let Oe=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,n.QGY)(t))return Ae;if((0,n.F4k)(t))return Ie;throw Te(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.sBO,16))},e.\u0275pipe=n.Yjl({name:"async",type:e,pure:!1}),e})(),Re=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Te(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"uppercase",type:e,pure:!0}),e})(),Pe=(()=>{class e{constructor(e){this.locale=e}transform(t,i="mediumDate",n,s){if(null==t||""===t||t!=t)return null;try{return Y(t,i,s||this.locale,n)}catch(r){throw Te(e,r.message)}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.soG,16))},e.\u0275pipe=n.Yjl({name:"date",type:e,pure:!0}),e})(),De=(()=>{class e{constructor(e){this._locale=e}transform(t,i,s){if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;s=s||this._locale;try{return function(e,t,i){return function(e,t,i,n,s,r,o=!1){let a="",c=!1;if(isFinite(e)){let l=function(e){let t,i,n,s,r,o=Math.abs(e)+"",a=0;for((i=o.indexOf("."))>-1&&(o=o.replace(".","")),(n=o.search(/e/i))>0?(i<0&&(i=n),i+=+o.slice(n+1),o=o.substring(0,n)):i<0&&(i=o.length),n=0;"0"===o.charAt(n);n++);if(n===(r=o.length))t=[0],i=1;else{for(r--;"0"===o.charAt(r);)r--;for(i-=n,t=[],s=0;n<=r;n++,s++)t[s]=Number(o.charAt(n))}return i>22&&(t=t.splice(0,21),a=i-1,i=1),{digits:t,exponent:a,integerLen:i}}(e);o&&(l=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(l));let u=t.minInt,h=t.minFrac,d=t.maxFrac;if(r){const e=r.match(oe);if(null===e)throw new Error(`${r} is not a valid digit info`);const t=e[1],i=e[3],n=e[5];null!=t&&(u=ae(t)),null!=i&&(h=ae(i)),null!=n?d=ae(n):null!=i&&h>d&&(d=h)}!function(e,t,i){if(t>i)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${i}).`);let n=e.digits,s=n.length-e.integerLen;const r=Math.min(Math.max(t,s),i);let o=r+e.integerLen,a=n[o];if(o>0){n.splice(Math.max(e.integerLen,o));for(let e=o;e<n.length;e++)n[e]=0}else{s=Math.max(0,s),e.integerLen=1,n.length=Math.max(1,o=r+1),n[0]=0;for(let e=1;e<o;e++)n[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[o-1]++;for(;s<Math.max(0,r);s++)n.push(0);let c=0!==r;const l=t+e.integerLen,u=n.reduceRight(function(e,t,i,n){return n[i]=(t+=e)<10?t:t-10,c&&(0===n[i]&&i>=l?n.pop():c=!1),t>=10?1:0},0);u&&(n.unshift(u),e.integerLen++)}(l,h,d);let p=l.digits,f=l.integerLen;const m=l.exponent;let g=[];for(c=p.every(e=>!e);f<u;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?g=p.splice(f,p.length):(g=p,p=[0]);const _=[];for(p.length>=t.lgSize&&_.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)_.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&_.unshift(p.join("")),a=_.join(L(i,n)),g.length&&(a+=L(i,s)+g.join("")),m&&(a+=L(i,R.Exponential)+"+"+m)}else a=L(i,R.Infinity);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(e,function(e,t="-"){const i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(";"),s=n[0],r=n[1],o=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";i.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const e=c.charAt(u);"0"===e?i.minFrac=i.maxFrac=u+1:"#"===e?i.maxFrac=u+1:i.posSuf+=e}const l=a.split(",");if(i.gSize=l[1]?l[1].length:0,i.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,r){const e=s.length-i.posPre.length-i.posSuf.length,t=r.indexOf("#");i.negPre=r.substr(0,t).replace(/'/g,""),i.negSuf=r.substr(t+e).replace(/'/g,"")}else i.negPre=t+i.posPre,i.negSuf=i.posSuf;return i}(function(e,t){return(0,n.cg1)(e)[n.wAp.NumberFormats][t]}(t,k.Decimal),L(t,R.MinusSign)),t,R.Group,R.Decimal,i)}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),s,i)}catch(r){throw Te(e,r.message)}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.soG,16))},e.\u0275pipe=n.Yjl({name:"number",type:e,pure:!0}),e})();let Ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[{provide:ce,useClass:le}]}),e})();const Le="browser";function Me(e){return e===Le}let Fe=(()=>{class e{}return e.\u0275prov=(0,n.Yz7)({token:e,providedIn:"root",factory:()=>new Ue((0,n.LFG)(c),window)}),e})();class Ue{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let n=i.currentNode;for(;n;){const e=n.shadowRoot;if(e){const i=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(i)return i}n=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,n=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],n-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=He(this.window.history)||He(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function He(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Be{}},91841:function(e,t,i){"use strict";i.d(t,{TP:function(){return P},jN:function(){return h},eN:function(){return O},JF:function(){return G},WM:function(){return d},LE:function(){return v},aW:function(){return w},Zn:function(){return x}});var n=i(38583),s=i(37716),r=i(25917),o=i(18891),a=i(94612),c=i(45435),l=i(88002);class u{}class h{}class d{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const i=e.slice(0,t),n=i.toLowerCase(),s=e.slice(t+1).trim();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(s):this.headers.set(n,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const n=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(n,i),this.maybeSetNormalizedName(t,n))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new d;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":const s=e.value;if(s){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===s.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class p{encodeKey(e){return g(e)}encodeValue(e){return g(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const f=/%(\d[a-f0-9])/gi,m={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function g(e){return encodeURIComponent(e).replace(f,(e,t)=>{var i;return null!==(i=m[t])&&void 0!==i?i:e})}function _(e){return`${e}`}class v{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new p,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const n=e.indexOf("="),[s,r]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],o=i.get(s)||[];o.push(r),i.set(s,o)}),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const n=e[i];Array.isArray(n)?n.forEach(e=>{t.push({param:i,value:e,op:"a"})}):t.push({param:i,value:n,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new v({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const i=t.indexOf(_(e.value));-1!==i&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class b{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function y(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function S(e){return"undefined"!=typeof Blob&&e instanceof Blob}function C(e){return"undefined"!=typeof FormData&&e instanceof FormData}class w{constructor(e,t,i,n){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,s=n):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new d),this.context||(this.context=new b),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const i=t.indexOf("?");this.urlWithParams=t+(-1===i?"?":i<t.length-1?"&":"")+e}}else this.params=new v,this.urlWithParams=t}serializeBody(){return null===this.body?null:y(this.body)||S(this.body)||C(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||C(this.body)?null:S(this.body)?this.body.type||null:y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,n=e.url||this.url,s=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((t,i)=>t.set(i,e.setHeaders[i]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,i)=>t.set(i,e.setParams[i]),l)),new w(i,n,r,{params:l,headers:c,context:u,reportProgress:a,responseType:s,withCredentials:o})}}var E=(()=>((E=E||{})[E.Sent=0]="Sent",E[E.UploadProgress=1]="UploadProgress",E[E.ResponseHeader=2]="ResponseHeader",E[E.DownloadProgress=3]="DownloadProgress",E[E.Response=4]="Response",E[E.User=5]="User",E))();class T{constructor(e,t=200,i="OK"){this.headers=e.headers||new d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class k extends T{constructor(e={}){super(e),this.type=E.ResponseHeader}clone(e={}){return new k({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class x extends T{constructor(e={}){super(e),this.type=E.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new x({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class A extends T{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function I(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let O=(()=>{class e{constructor(e){this.handler=e}request(e,t,i={}){let n;if(e instanceof w)n=e;else{let s,r;s=i.headers instanceof d?i.headers:new d(i.headers),i.params&&(r=i.params instanceof v?i.params:new v({fromObject:i.params})),n=new w(e,t,void 0!==i.body?i.body:null,{headers:s,context:i.context,params:r,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=(0,r.of)(n).pipe((0,a.b)(e=>this.handler.handle(e)));if(e instanceof w||"events"===i.observe)return s;const o=s.pipe((0,c.h)(e=>e instanceof x));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return o.pipe((0,l.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe((0,l.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe((0,l.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe((0,l.U)(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new v).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,i={}){return this.request("PATCH",e,I(i,t))}post(e,t,i={}){return this.request("POST",e,I(i,t))}put(e,t,i={}){return this.request("PUT",e,I(i,t))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(u))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class R{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const P=new s.OlP("HTTP_INTERCEPTORS");let D=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const N=/^\)\]\}',?\n/;let L=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new o.y(t=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((e,t)=>i.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&i.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();i.responseType="json"!==t?t:"text"}const n=e.serializeBody();let s=null;const r=()=>{if(null!==s)return s;const t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new d(i.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new k({headers:r,status:t,statusText:n,url:o}),s},o=()=>{let{headers:n,status:s,statusText:o,url:a}=r(),c=null;204!==s&&(c=void 0===i.response?i.responseText:i.response),0===s&&(s=c?200:0);let l=s>=200&&s<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(N,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=e,l&&(l=!1,c={error:u,text:c})}}l?(t.next(new x({body:c,headers:n,status:s,statusText:o,url:a||void 0})),t.complete()):t.error(new A({error:c,headers:n,status:s,statusText:o,url:a||void 0}))},a=e=>{const{url:n}=r(),s=new A({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:n||void 0});t.error(s)};let c=!1;const l=n=>{c||(t.next(r()),c=!0);let s={type:E.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(s.total=n.total),"text"===e.responseType&&!!i.responseText&&(s.partialText=i.responseText),t.next(s)},u=e=>{let i={type:E.UploadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),t.next(i)};return i.addEventListener("load",o),i.addEventListener("error",a),i.addEventListener("timeout",a),i.addEventListener("abort",a),e.reportProgress&&(i.addEventListener("progress",l),null!==n&&i.upload&&i.upload.addEventListener("progress",u)),i.send(n),t.next({type:E.Sent}),()=>{i.removeEventListener("error",a),i.removeEventListener("abort",a),i.removeEventListener("load",o),i.removeEventListener("timeout",a),e.reportProgress&&(i.removeEventListener("progress",l),null!==n&&i.upload&&i.upload.removeEventListener("progress",u)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.JF))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const M=new s.OlP("XSRF_COOKIE_NAME"),F=new s.OlP("XSRF_HEADER_NAME");class U{}let H=(()=>{class e{constructor(e,t,i){this.doc=e,this.platform=t,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,n.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.K0),s.LFG(s.Lbi),s.LFG(M))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),B=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return t.handle(e);const n=this.tokenService.getToken();return null!==n&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(U),s.LFG(F))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),$=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(P,[]);this.chain=e.reduceRight((e,t)=>new R(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(h),s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),j=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:B,useClass:D}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:M,useValue:t.cookieName}:[],t.headerName?{provide:F,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[B,{provide:P,useExisting:B,multi:!0},{provide:U,useClass:H},{provide:M,useValue:"XSRF-TOKEN"},{provide:F,useValue:"X-XSRF-TOKEN"}]}),e})(),G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[O,{provide:u,useClass:$},L,{provide:h,useExisting:L}],imports:[[j.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})()},37716:function(e,t,i){"use strict";i.d(t,{deG:function(){return ui},tb:function(){return Al},AFp:function(){return wl},ip1:function(){return Sl},CZH:function(){return Cl},hGG:function(){return Su},z2F:function(){return hu},sBO:function(){return ac},Sil:function(){return Hl},_Vd:function(){return Ra},EJc:function(){return Rl},SBq:function(){return La},qLn:function(){return Mn},vpe:function(){return Qc},L6J:function(){return yl},gxx:function(){return kr},tBr:function(){return Fi},XFs:function(){return O},OlP:function(){return li},zs3:function(){return $r},IIB:function(){return vl},ZZ4:function(){return ec},aQg:function(){return ic},soG:function(){return Ol},YKP:function(){return _c},v3s:function(){return pu},h0i:function(){return gc},PXZ:function(){return ou},R0b:function(){return jl},FiY:function(){return Ui},r_U:function(){return bl},Lbi:function(){return xl},g9A:function(){return kl},n_E:function(){return el},Qsj:function(){return Ua},FYo:function(){return Fa},JOm:function(){return $n},Tiy:function(){return Ba},q3G:function(){return xn},tp0:function(){return Hi},EAV:function(){return gu},Rgc:function(){return dc},dDg:function(){return Kl},DyG:function(){return pi},GfV:function(){return $a},i9L:function(){return di},s_b:function(){return bc},ifc:function(){return M},eFA:function(){return au},G48:function(){return nu},Gpc:function(){return p},f3M:function(){return Pi},X6Q:function(){return iu},_c5:function(){return bu},VLi:function(){return Ql},c2e:function(){return Il},zSh:function(){return Ar},wAp:function(){return ga},vHH:function(){return g},EiD:function(){return Tn},mCW:function(){return ln},qzn:function(){return Ji},JVY:function(){return Xi},pB0:function(){return sn},eBb:function(){return tn},L6k:function(){return en},LAX:function(){return nn},cg1:function(){return pa},Tjo:function(){return vu},kL8:function(){return fa},yhl:function(){return Qi},dqk:function(){return B},sIi:function(){return Jr},CqO:function(){return Co},QGY:function(){return yo},F4k:function(){return So},dwT:function(){return da},RDi:function(){return ke},AaK:function(){return u},z3N:function(){return Wi},qOj:function(){return Gr},TTD:function(){return ve},_Bn:function(){return xa},xp6:function(){return As},uIk:function(){return so},Tol:function(){return jo},Gre:function(){return oa},ekj:function(){return $o},Suo:function(){return dl},Xpm:function(){return J},lG2:function(){return re},Yz7:function(){return S},cJS:function(){return C},oAB:function(){return ie},Yjl:function(){return oe},Y36:function(){return co},_UZ:function(){return mo},GkF:function(){return vo},BQk:function(){return _o},ynx:function(){return go},qZA:function(){return fo},TgZ:function(){return po},EpF:function(){return bo},n5z:function(){return ti},Ikx:function(){return aa},LFG:function(){return Ri},$8M:function(){return ni},$Z:function(){return lo},NdJ:function(){return wo},CRH:function(){return pl},kcU:function(){return yt},O4$:function(){return bt},oxw:function(){return Ao},ALo:function(){return Vc},lcZ:function(){return qc},xi3:function(){return Yc},Dn7:function(){return Zc},gM2:function(){return zc},Hsn:function(){return Ro},F$t:function(){return Oo},Q6J:function(){return uo},s9C:function(){return Po},MGl:function(){return Do},DdM:function(){return Nc},VKq:function(){return Lc},WLB:function(){return Mc},kEZ:function(){return Fc},l5B:function(){return Uc},iGM:function(){return ul},MAs:function(){return ao},evT:function(){return Hn},Jf7:function(){return Un},CHM:function(){return qe},oJD:function(){return An},LSH:function(){return In},B6R:function(){return Q},kYT:function(){return ne},Udp:function(){return Bo},WFA:function(){return Eo},d8E:function(){return ca},YNc:function(){return oo},W1O:function(){return _l},_uU:function(){return ea},Oqu:function(){return ta},hij:function(){return ia},AsE:function(){return na},lnq:function(){return sa},HOy:function(){return ra},Gf:function(){return hl}});var n=i(79765),s=i(75319),r=i(18891),o=i(66682),a=i(78345);function c(e){for(let t in e)if(e[t]===c)return t;throw Error("Could not find renamed property on target object.")}function l(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=c({__forward_ref__:c});function p(e){return e.__forward_ref__=p,e.toString=function(){return u(this())},e}function f(e){return m(e)?e():e}function m(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===p}class g extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function _(e){return"string"==typeof e?e:null==e?"":String(e)}function v(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_(e)}function b(e,t){const i=t?` in ${t}`:"";throw new g("201",`No provider for ${v(e)} found${i}`)}function y(e,t){null==e&&function(e,t,i,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${i} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function C(e){return{providers:e.providers||[],imports:e.imports||[]}}function w(e){return E(e,k)||E(e,A)}function E(e,t){return e.hasOwnProperty(t)?e[t]:null}function T(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(I))?e[x]:null}const k=c({"\u0275prov":c}),x=c({"\u0275inj":c}),A=c({ngInjectableDef:c}),I=c({ngInjectorDef:c});var O=(()=>((O=O||{})[O.Default=0]="Default",O[O.Host=1]="Host",O[O.Self=2]="Self",O[O.SkipSelf=4]="SkipSelf",O[O.Optional=8]="Optional",O))();let R;function P(e){const t=R;return R=e,t}function D(e,t,i){const n=w(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&O.Optional?null:void 0!==t?t:void b(u(e),"Injector")}function N(e){return{toString:e}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),M=(()=>((M=M||{})[M.Emulated=0]="Emulated",M[M.None=2]="None",M[M.ShadowDom=3]="ShadowDom",M))();const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B=F||"undefined"!=typeof global&&global||U||H,$={},j=[],G=c({"\u0275cmp":c}),V=c({"\u0275dir":c}),q=c({"\u0275pipe":c}),Y=c({"\u0275mod":c}),Z=c({"\u0275loc":c}),z=c({"\u0275fac":c}),K=c({__NG_ELEMENT_ID__:c});let W=0;function J(e){return N(()=>{const t={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||j,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||M.Emulated,id:"c",styles:e.styles||j,_:null,setInput:null,schemas:e.schemas||null,tView:null},n=e.directives,s=e.features,r=e.pipes;return i.id+=W++,i.inputs=se(e.inputs,t),i.outputs=se(e.outputs),s&&s.forEach(e=>e(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(X):null,i.pipeDefs=r?()=>("function"==typeof r?r():r).map(ee):null,i})}function Q(e,t,i){const n=e.\u0275cmp;n.directiveDefs=()=>t.map(X),n.pipeDefs=()=>i.map(ee)}function X(e){return ae(e)||function(e){return e[V]||null}(e)}function ee(e){return function(e){return e[q]||null}(e)}const te={};function ie(e){return N(()=>{const t={type:e.type,bootstrap:e.bootstrap||j,declarations:e.declarations||j,imports:e.imports||j,exports:e.exports||j,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(te[e.id]=e.type),t})}function ne(e,t){return N(()=>{const i=ce(e,!0);i.declarations=t.declarations||j,i.imports=t.imports||j,i.exports=t.exports||j})}function se(e,t){if(null==e)return $;const i={};for(const n in e)if(e.hasOwnProperty(n)){let s=e[n],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),i[s]=n,t&&(t[s]=r)}return i}const re=J;function oe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ae(e){return e[G]||null}function ce(e,t){const i=e[Y]||null;if(!i&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return i}function le(e){return Array.isArray(e)&&"object"==typeof e[1]}function ue(e){return Array.isArray(e)&&!0===e[1]}function he(e){return 0!=(8&e.flags)}function de(e){return 2==(2&e.flags)}function pe(e){return 1==(1&e.flags)}function fe(e){return null!==e.template}function me(e){return 0!=(512&e[2])}function ge(e,t){return e.hasOwnProperty(z)?e[z]:null}class _e{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ve(){return be}function be(e){return e.type.prototype.ngOnChanges&&(e.setInput=Se),ye}function ye(){const e=we(this),t=null==e?void 0:e.current;if(t){const i=e.previous;if(i===$)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Se(e,t,i,n){const s=we(e)||function(e,t){return e[Ce]=t}(e,{previous:$,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[i],c=o[a];r[a]=new _e(c&&c.currentValue,t,o===$),e[n]=t}ve.ngInherit=!0;const Ce="__ngSimpleChanges__";function we(e){return e[Ce]||null}const Ee="http://www.w3.org/2000/svg";let Te;function ke(e){Te=e}function xe(){return void 0!==Te?Te:"undefined"!=typeof document?document:void 0}function Ae(e){return!!e.listen}const Ie={createRenderer:(e,t)=>xe()};function Oe(e){for(;Array.isArray(e);)e=e[0];return e}function Re(e,t){return Oe(t[e])}function Pe(e,t){return Oe(t[e.index])}function De(e,t){return e.data[t]}function Ne(e,t){return e[t]}function Le(e,t){const i=t[e];return le(i)?i:i[0]}function Me(e){return 4==(4&e[2])}function Fe(e){return 128==(128&e[2])}function Ue(e,t){return null==t?null:e[t]}function He(e){e[18]=0}function Be(e,t){e[5]+=t;let i=e,n=e[3];for(;null!==n&&(1===t&&1===i[5]||-1===t&&0===i[5]);)n[5]+=t,i=n,n=n[3]}const $e={lFrame:dt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function je(){return $e.bindingsEnabled}function Ge(){return $e.lFrame.lView}function Ve(){return $e.lFrame.tView}function qe(e){return $e.lFrame.contextLView=e,e[8]}function Ye(){let e=Ze();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ze(){return $e.lFrame.currentTNode}function ze(e,t){const i=$e.lFrame;i.currentTNode=e,i.isParent=t}function Ke(){return $e.lFrame.isParent}function We(){$e.lFrame.isParent=!1}function Je(){return $e.isInCheckNoChangesMode}function Qe(e){$e.isInCheckNoChangesMode=e}function Xe(){const e=$e.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function et(){return $e.lFrame.bindingIndex}function tt(){return $e.lFrame.bindingIndex++}function it(e){const t=$e.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function nt(e,t){const i=$e.lFrame;i.bindingIndex=i.bindingRootIndex=e,st(t)}function st(e){$e.lFrame.currentDirectiveIndex=e}function rt(e){const t=$e.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function ot(){return $e.lFrame.currentQueryIndex}function at(e){$e.lFrame.currentQueryIndex=e}function ct(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function lt(e,t,i){if(i&O.SkipSelf){let n=t,s=e;for(;!(n=n.parent,null!==n||i&O.Host||(n=ct(s),null===n||(s=s[15],10&n.type))););if(null===n)return!1;t=n,e=s}const n=$e.lFrame=ht();return n.currentTNode=t,n.lView=e,!0}function ut(e){const t=ht(),i=e[1];$e.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function ht(){const e=$e.lFrame,t=null===e?null:e.child;return null===t?dt(e):t}function dt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pt(){const e=$e.lFrame;return $e.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ft=pt;function mt(){const e=pt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gt(){return $e.lFrame.selectedIndex}function _t(e){$e.lFrame.selectedIndex=e}function vt(){const e=$e.lFrame;return De(e.tView,e.selectedIndex)}function bt(){$e.lFrame.currentNamespace=Ee}function yt(){$e.lFrame.currentNamespace=null}function St(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){const t=e.data[i].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:s,ngAfterViewInit:r,ngAfterViewChecked:o,ngOnDestroy:a}=t;n&&(e.contentHooks||(e.contentHooks=[])).push(-i,n),s&&((e.contentHooks||(e.contentHooks=[])).push(i,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,s)),r&&(e.viewHooks||(e.viewHooks=[])).push(-i,r),o&&((e.viewHooks||(e.viewHooks=[])).push(i,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(i,a)}}function Ct(e,t,i){Tt(e,t,3,i)}function wt(e,t,i,n){(3&e[2])===i&&Tt(e,t,i,n)}function Et(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function Tt(e,t,i,n){const s=null!=n?n:-1,r=t.length-1;let o=0;for(let a=void 0!==n?65535&e[18]:0;a<r;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=n&&o>=n)break}else t[a]<0&&(e[18]+=65536),(o<s||-1==s)&&(kt(e,i,t,a),e[18]=(4294901760&e[18])+a+2),a++}function kt(e,t,i,n){const s=i[n]<0,r=i[n+1],o=e[s?-i[n]:i[n]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{r.call(o)}finally{}}}else try{r.call(o)}finally{}}class xt{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function At(e,t,i){const n=Ae(e);let s=0;for(;s<i.length;){const r=i[s];if("number"==typeof r){if(0!==r)break;s++;const o=i[s++],a=i[s++],c=i[s++];n?e.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=r,a=i[++s];Ot(o)?n&&e.setProperty(t,o,a):n?e.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function It(e){return 3===e||4===e||6===e}function Ot(e){return 64===e.charCodeAt(0)}function Rt(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){const s=t[n];"number"==typeof s?i=s:0===i||Pt(e,i,s,null,-1===i||2===i?t[++n]:null)}}return e}function Pt(e,t,i,n,s){let r=0,o=e.length;if(-1===t)o=-1;else for(;r<e.length;){const i=e[r++];if("number"==typeof i){if(i===t){o=-1;break}if(i>t){o=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===i){if(null===n)return void(null!==s&&(e[r+1]=s));if(n===e[r+1])return void(e[r+2]=s)}r++,null!==n&&r++,null!==s&&r++}-1!==o&&(e.splice(o,0,t),r=o+1),e.splice(r++,0,i),null!==n&&e.splice(r++,0,n),null!==s&&e.splice(r++,0,s)}function Dt(e){return-1!==e}function Nt(e){return 32767&e}function Lt(e,t){let i=function(e){return e>>16}(e),n=t;for(;i>0;)n=n[15],i--;return n}let Mt=!0;function Ft(e){const t=Mt;return Mt=e,t}let Ut=0;function Ht(e,t){const i=$t(e,t);if(-1!==i)return i;const n=t[1];n.firstCreatePass&&(e.injectorIndex=t.length,Bt(n.data,e),Bt(t,null),Bt(n.blueprint,null));const s=jt(e,t),r=e.injectorIndex;if(Dt(s)){const e=Nt(s),i=Lt(s,t),n=i[1].data;for(let s=0;s<8;s++)t[r+s]=i[e+s]|n[e+s]}return t[r+8]=s,r}function Bt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $t(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function jt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,n=null,s=t;for(;null!==s;){const e=s[1],t=e.type;if(n=2===t?e.declTNode:1===t?s[6]:null,null===n)return-1;if(i++,s=s[15],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return-1}function Gt(e,t,i){!function(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(K)&&(n=i[K]),null==n&&(n=i[K]=Ut++);const s=255&n;t.data[e+(s>>5)]|=1<<s}(e,t,i)}function Vt(e,t,i){if(i&O.Optional)return e;b(t,"NodeInjector")}function qt(e,t,i,n){if(i&O.Optional&&void 0===n&&(n=null),0==(i&(O.Self|O.Host))){const s=e[9],r=P(void 0);try{return s?s.get(t,n,i&O.Optional):D(t,n,i&O.Optional)}finally{P(r)}}return Vt(n,t,i)}function Yt(e,t,i,n=O.Default,s){if(null!==e){const r=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(K)?e[K]:void 0;return"number"==typeof t?t>=0?255&t:zt:t}(i);if("function"==typeof r){if(!lt(t,e,n))return n&O.Host?Vt(s,i,n):qt(t,i,n,s);try{const e=r(n);if(null!=e||n&O.Optional)return e;b(i)}finally{ft()}}else if("number"==typeof r){let s=null,o=$t(e,t),a=-1,c=n&O.Host?t[16][6]:null;for((-1===o||n&O.SkipSelf)&&(a=-1===o?jt(e,t):t[o+8],-1!==a&&Xt(n,!1)?(s=t[1],o=Nt(a),t=Lt(a,t)):o=-1);-1!==o;){const e=t[1];if(Qt(r,o,e.data)){const e=Kt(o,t,i,s,n,c);if(e!==Zt)return e}a=t[o+8],-1!==a&&Xt(n,t[1].data[o+8]===c)&&Qt(r,o,t)?(s=e,o=Nt(a),t=Lt(a,t)):o=-1}}}return qt(t,i,n,s)}const Zt={};function zt(){return new ei(Ye(),Ge())}function Kt(e,t,i,n,s,r){const o=t[1],a=o.data[e+8],c=Wt(a,o,i,null==n?de(a)&&Mt:n!=o&&0!=(3&a.type),s&O.Host&&r===a);return null!==c?Jt(t,o,c,a):Zt}function Wt(e,t,i,n,s){const r=e.providerIndexes,o=t.data,a=1048575&r,c=e.directiveStart,l=r>>20,u=s?a+l:e.directiveEnd;for(let h=n?a:a+l;h<u;h++){const e=o[h];if(h<c&&i===e||h>=c&&e.type===i)return h}if(s){const e=o[c];if(e&&fe(e)&&e.type===i)return c}return null}function Jt(e,t,i,n){let s=e[i];const r=t.data;if(function(e){return e instanceof xt}(s)){const o=s;o.resolving&&function(e,t){throw new g("200",`Circular dependency in DI detected for ${e}`)}(v(r[i]));const a=Ft(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?P(o.injectImpl):null;lt(e,n,O.Default);try{s=e[i]=o.factory(void 0,r,e,n),t.firstCreatePass&&i>=n.directiveStart&&function(e,t,i){const{ngOnChanges:n,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(n){const n=be(t);(i.preOrderHooks||(i.preOrderHooks=[])).push(e,n),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,n)}s&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-e,s),r&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,r),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,r))}(i,r[i],t)}finally{null!==c&&P(c),Ft(a),o.resolving=!1,ft()}}return s}function Qt(e,t,i){return!!(i[t+(e>>5)]&1<<e)}function Xt(e,t){return!(e&O.Self||e&O.Host&&t)}class ei{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Yt(this._tNode,this._lView,e,i,t)}}function ti(e){return N(()=>{const t=e.prototype.constructor,i=t[z]||ii(t),n=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==n;){const e=s[z]||ii(s);if(e&&e!==i)return e;s=Object.getPrototypeOf(s)}return e=>new e})}function ii(e){return m(e)?()=>{const t=ii(f(e));return t&&t()}:ge(e)}function ni(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const e=i.length;let n=0;for(;n<e;){const s=i[n];if(It(s))break;if(0===s)n+=2;else if("number"==typeof s)for(n++;n<e&&"string"==typeof i[n];)n++;else{if(s===t)return i[n+1];n+=2}}}return null}(Ye(),e)}const si="__parameters__",ri="__prop__metadata__";function oi(e){return function(...t){if(e){const i=e(...t);for(const e in i)this[e]=i[e]}}}function ai(e,t,i){return N(()=>{const n=oi(t);function s(...e){if(this instanceof s)return n.apply(this,e),this;const t=new s(...e);return i.annotation=t,i;function i(e,i,n){const s=e.hasOwnProperty(si)?e[si]:Object.defineProperty(e,si,{value:[]})[si];for(;s.length<=n;)s.push(null);return(s[n]=s[n]||[]).push(t),e}}return i&&(s.prototype=Object.create(i.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function ci(e,t,i,n){return N(()=>{const s=oi(t);function r(...e){if(this instanceof r)return s.apply(this,e),this;const t=new r(...e);return function(i,s){const r=i.constructor,o=r.hasOwnProperty(ri)?r[ri]:Object.defineProperty(r,ri,{value:{}})[ri];o[s]=o.hasOwnProperty(s)&&o[s]||[],o[s].unshift(t),n&&n(i,s,...e)}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class li{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ui=new li("AnalyzeForEntryComponents");class hi{}const di=ci("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),hi),pi=Function;function fi(e,t){void 0===t&&(t=e);for(let i=0;i<e.length;i++){let n=e[i];Array.isArray(n)?(t===e&&(t=e.slice(0,i)),fi(n,t)):t!==e&&t.push(n)}return t}function mi(e,t){e.forEach(e=>Array.isArray(e)?mi(e,t):t(e))}function gi(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function _i(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function vi(e,t){const i=[];for(let n=0;n<e;n++)i.push(t);return i}function bi(e,t,i){let n=Si(e,t);return n>=0?e[1|n]=i:(n=~n,function(e,t,i,n){let s=e.length;if(s==t)e.push(i,n);else if(1===s)e.push(n,e[0]),e[0]=i;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function yi(e,t){const i=Si(e,t);if(i>=0)return e[1|i]}function Si(e,t){return function(e,t,i){let n=0,s=e.length>>i;for(;s!==n;){const r=n+(s-n>>1),o=e[r<<i];if(t===o)return r<<i;o>t?s=r:n=r+1}return~(s<<i)}(e,t,1)}const Ci={},wi="__NG_DI_FLAG__",Ei="ngTempTokenPath",Ti=/\n/gm,ki="__source",xi=c({provide:String,useValue:c});let Ai;function Ii(e){const t=Ai;return Ai=e,t}function Oi(e,t=O.Default){if(void 0===Ai)throw new Error("inject() must be called from an injection context");return null===Ai?D(e,void 0,t):Ai.get(e,t&O.Optional?null:void 0,t)}function Ri(e,t=O.Default){return(R||Oi)(f(e),t)}const Pi=Ri;function Di(e){const t=[];for(let i=0;i<e.length;i++){const n=f(e[i]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let e,i=O.Default;for(let t=0;t<n.length;t++){const s=n[t],r=Li(s);"number"==typeof r?-1===r?e=s.token:i|=r:e=s}t.push(Ri(e,i))}else t.push(Ri(n))}return t}function Ni(e,t){return e[wi]=t,e.prototype[wi]=t,e}function Li(e){return e[wi]}function Mi(e,t,i,n){const s=e[Ei];throw t[ki]&&s.unshift(t[ki]),e.message=function(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=u(t);if(Array.isArray(t))s=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];e.push(i+":"+("string"==typeof n?JSON.stringify(n):u(n)))}s=`{${e.join(", ")}}`}return`${i}${n?"("+n+")":""}[${s}]: ${e.replace(Ti,"\n  ")}`}("\n"+e.message,s,i,n),e.ngTokenPath=s,e[Ei]=null,e}const Fi=Ni(ai("Inject",e=>({token:e})),-1),Ui=Ni(ai("Optional"),8),Hi=Ni(ai("SkipSelf"),4);let Bi,$i;function ji(e){var t;return(null===(t=function(){if(void 0===Bi&&(Bi=null,B.trustedTypes))try{Bi=B.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Bi}())||void 0===t?void 0:t.createHTML(e))||e}function Gi(e){var t;return(null===(t=function(){if(void 0===$i&&($i=null,B.trustedTypes))try{$i=B.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return $i}())||void 0===t?void 0:t.createHTML(e))||e}class Vi{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qi extends Vi{getTypeName(){return"HTML"}}class Yi extends Vi{getTypeName(){return"Style"}}class Zi extends Vi{getTypeName(){return"Script"}}class zi extends Vi{getTypeName(){return"URL"}}class Ki extends Vi{getTypeName(){return"ResourceURL"}}function Wi(e){return e instanceof Vi?e.changingThisBreaksApplicationSecurity:e}function Ji(e,t){const i=Qi(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===t}function Qi(e){return e instanceof Vi&&e.getTypeName()||null}function Xi(e){return new qi(e)}function en(e){return new Yi(e)}function tn(e){return new Zi(e)}function nn(e){return new zi(e)}function sn(e){return new Ki(e)}class rn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ji(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class on{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ji(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=ji(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const i=t.item(n).name;("xmlns:ns1"===i||0===i.indexOf("ns1:"))&&e.removeAttribute(i)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const an=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,cn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ln(e){return(e=String(e)).match(an)||e.match(cn)?e:"unsafe:"+e}function un(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function hn(...e){const t={};for(const i of e)for(const e in i)i.hasOwnProperty(e)&&(t[e]=!0);return t}const dn=un("area,br,col,hr,img,wbr"),pn=un("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fn=un("rp,rt"),mn=hn(dn,hn(pn,un("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hn(fn,un("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hn(fn,pn)),gn=un("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_n=un("srcset"),vn=hn(gn,_n,un("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),un("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bn=un("script,style,template");class yn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!mn.hasOwnProperty(t))return this.sanitizedSomething=!0,!bn.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let s=0;s<i.length;s++){const e=i.item(s),t=e.name,r=t.toLowerCase();if(!vn.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let o=e.value;gn[r]&&(o=ln(o)),_n[r]&&(n=o,o=(n=String(n)).split(",").map(e=>ln(e.trim())).join(", ")),this.buf.push(" ",t,'="',wn(o),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();mn.hasOwnProperty(t)&&!dn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(wn(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Sn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cn=/([^\#-~ |!])/g;function wn(e){return e.replace(/&/g,"&amp;").replace(Sn,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Cn,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let En;function Tn(e,t){let i=null;try{En=En||function(e){const t=new on(e);return function(){try{return!!(new window.DOMParser).parseFromString(ji(""),"text/html")}catch(e){return!1}}()?new rn(t):t}(e);let n=t?String(t):"";i=En.getInertBodyElement(n);let s=5,r=n;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,n=r,r=i.innerHTML,i=En.getInertBodyElement(n)}while(n!==r);return ji((new yn).sanitizeChildren(kn(i)||i))}finally{if(i){const e=kn(i)||i;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function kn(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var xn=(()=>((xn=xn||{})[xn.NONE=0]="NONE",xn[xn.HTML=1]="HTML",xn[xn.STYLE=2]="STYLE",xn[xn.SCRIPT=3]="SCRIPT",xn[xn.URL=4]="URL",xn[xn.RESOURCE_URL=5]="RESOURCE_URL",xn))();function An(e){const t=On();return t?Gi(t.sanitize(xn.HTML,e)||""):Ji(e,"HTML")?Gi(Wi(e)):Tn(xe(),_(e))}function In(e){const t=On();return t?t.sanitize(xn.URL,e)||"":Ji(e,"URL")?Wi(e):ln(_(e))}function On(){const e=Ge();return e&&e[12]}const Rn="__ngContext__";function Pn(e,t){e[Rn]=t}function Dn(e){const t=function(e){return e[Rn]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Nn(e){return e.ngOriginalError}function Ln(e,...t){e.error(...t)}class Mn{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),n=(s=e)&&s.ngErrorLogger||Ln;var s;n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t),i&&n(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?e.ngDebugContext||this._findContext(Nn(e)):null}_findOriginalError(e){let t=e&&Nn(e);for(;t&&Nn(t);)t=Nn(t);return t||null}}const Fn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Un(e){return e.ownerDocument.defaultView}function Hn(e){return e.ownerDocument}function Bn(e){return e instanceof Function?e():e}var $n=(()=>(($n=$n||{})[$n.Important=1]="Important",$n[$n.DashCase=2]="DashCase",$n))();function jn(e,t){return undefined(e,t)}function Gn(e){const t=e[3];return ue(t)?t[3]:t}function Vn(e){return Yn(e[13])}function qn(e){return Yn(e[4])}function Yn(e){for(;null!==e&&!ue(e);)e=e[4];return e}function Zn(e,t,i,n,s){if(null!=n){let r,o=!1;ue(n)?r=n:le(n)&&(o=!0,n=n[0]);const a=Oe(n);0===e&&null!==i?null==s?ts(t,i,a):es(t,i,a,s||null,!0):1===e&&null!==i?es(t,i,a,s||null,!0):2===e?function(e,t,i){const n=ns(e,t);n&&function(e,t,i,n){Ae(e)?e.removeChild(t,i,n):t.removeChild(i)}(e,n,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=r&&function(e,t,i,n,s){const r=i[7];r!==Oe(i)&&Zn(t,e,n,r,s);for(let o=10;o<i.length;o++){const s=i[o];hs(s[1],s,e,t,n,r)}}(t,e,r,i,s)}}function zn(e,t,i){return Ae(e)?e.createElement(t,i):null===i?e.createElement(t):e.createElementNS(i,t)}function Kn(e,t){const i=e[9],n=i.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Be(s,-1)),i.splice(n,1)}function Wn(e,t){if(e.length<=10)return;const i=10+t,n=e[i];if(n){const s=n[17];null!==s&&s!==e&&Kn(s,n),t>0&&(e[i-1][4]=n[4]);const r=_i(e,10+t);!function(e,t){hs(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(n[1],n);const o=r[19];null!==o&&o.detachView(r[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function Jn(e,t){if(!(256&t[2])){const i=t[11];Ae(i)&&i.destroyNode&&hs(e,t,i,3,null,null),function(e){let t=e[13];if(!t)return Qn(e[1],e);for(;t;){let i=null;if(le(t))i=t[13];else{const e=t[10];e&&(i=e)}if(!i){for(;t&&!t[4]&&t!==e;)le(t)&&Qn(t[1],t),t=t[3];null===t&&(t=e),le(t)&&Qn(t[1],t),i=t&&t[4]}t=i}}(t)}}function Qn(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let n=0;n<i.length;n+=2){const e=t[i[n]];if(!(e instanceof xt)){const t=i[n+1];if(Array.isArray(t))for(let i=0;i<t.length;i+=2){const n=e[t[i]],s=t[i+1];try{s.call(n)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const i=e.cleanup,n=t[7];let s=-1;if(null!==i)for(let r=0;r<i.length-1;r+=2)if("string"==typeof i[r]){const e=i[r+1],o="function"==typeof e?e(t):Oe(t[e]),a=n[s=i[r+2]],c=i[r+3];"boolean"==typeof c?o.removeEventListener(i[r],a,c):c>=0?n[s=c]():n[s=-c].unsubscribe(),r+=2}else{const e=n[s=i[r+1]];i[r].call(e)}if(null!==n){for(let e=s+1;e<n.length;e++)n[e]();t[7]=null}}(e,t),1===t[1].type&&Ae(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&ue(t[3])){i!==t[3]&&Kn(i,t);const n=t[19];null!==n&&n.detachView(e)}}}function Xn(e,t,i){return function(e,t,i){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return i[0];if(2&n.flags){const t=e.data[n.directiveStart].encapsulation;if(t===M.None||t===M.Emulated)return null}return Pe(n,i)}(e,t.parent,i)}function es(e,t,i,n,s){Ae(e)?e.insertBefore(t,i,n,s):t.insertBefore(i,n,s)}function ts(e,t,i){Ae(e)?e.appendChild(t,i):t.appendChild(i)}function is(e,t,i,n,s){null!==n?es(e,t,i,n,s):ts(e,t,i)}function ns(e,t){return Ae(e)?e.parentNode(t):t.parentNode}function ss(e,t,i){return rs(e,t,i)}let rs=function(e,t,i){return 40&e.type?Pe(e,i):null};function os(e,t,i,n){const s=Xn(e,n,t),r=t[11],o=ss(n.parent||t[6],n,t);if(null!=s)if(Array.isArray(i))for(let a=0;a<i.length;a++)is(r,s,i[a],o,!1);else is(r,s,i,o,!1)}function as(e,t){if(null!==t){const i=t.type;if(3&i)return Pe(t,e);if(4&i)return ls(-1,e[t.index]);if(8&i){const i=t.child;if(null!==i)return as(e,i);{const i=e[t.index];return ue(i)?ls(-1,i):Oe(i)}}if(32&i)return jn(t,e)()||Oe(e[t.index]);{const i=cs(e,t);return null!==i?Array.isArray(i)?i[0]:as(Gn(e[16]),i):as(e,t.next)}}return null}function cs(e,t){return null!==t?e[16][6].projection[t.projection]:null}function ls(e,t){const i=10+e+1;if(i<t.length){const e=t[i],n=e[1].firstChild;if(null!==n)return as(e,n)}return t[7]}function us(e,t,i,n,s,r,o){for(;null!=i;){const a=n[i.index],c=i.type;if(o&&0===t&&(a&&Pn(Oe(a),n),i.flags|=4),64!=(64&i.flags))if(8&c)us(e,t,i.child,n,s,r,!1),Zn(t,e,s,a,r);else if(32&c){const o=jn(i,n);let c;for(;c=o();)Zn(t,e,s,c,r);Zn(t,e,s,a,r)}else 16&c?ds(e,t,n,i,s,r):Zn(t,e,s,a,r);i=o?i.projectionNext:i.next}}function hs(e,t,i,n,s,r){us(i,n,e.firstChild,t,s,r,!1)}function ds(e,t,i,n,s,r){const o=i[16],a=o[6].projection[n.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Zn(t,e,s,a[c],r);else us(e,t,a,o[3],s,r,!0)}function ps(e,t,i){Ae(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function fs(e,t,i){Ae(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}function ms(e,t,i){let n=e.length;for(;;){const s=e.indexOf(t,i);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const i=t.length;if(s+i===n||e.charCodeAt(s+i)<=32)return s}i=s+1}}const gs="ng-template";function _s(e,t,i){let n=0;for(;n<e.length;){let s=e[n++];if(i&&"class"===s){if(s=e[n],-1!==ms(s.toLowerCase(),t,0))return!0}else if(1===s){for(;n<e.length&&"string"==typeof(s=e[n++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function vs(e){return 4===e.type&&e.value!==gs}function bs(e,t,i){return t===(4!==e.type||i?e.value:gs)}function ys(e,t,i){let n=4;const s=e.attrs||[],r=function(e){for(let t=0;t<e.length;t++)if(It(e[t]))return t;return e.length}(s);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&n){if(n=2|1&n,""!==c&&!bs(e,c,i)||""===c&&1===t.length){if(Ss(n))return!1;o=!0}}else{const l=8&n?c:t[++a];if(8&n&&null!==e.attrs){if(!_s(e.attrs,l,i)){if(Ss(n))return!1;o=!0}continue}const u=Cs(8&n?"class":c,s,vs(e),i);if(-1===u){if(Ss(n))return!1;o=!0;continue}if(""!==l){let e;e=u>r?"":s[u+1].toLowerCase();const t=8&n?e:null;if(t&&-1!==ms(t,l,0)||2&n&&l!==e){if(Ss(n))return!1;o=!0}}}}else{if(!o&&!Ss(n)&&!Ss(c))return!1;if(o&&Ss(c))continue;o=!1,n=c|1&n}}return Ss(n)||o}function Ss(e){return 0==(1&e)}function Cs(e,t,i,n){if(null===t)return-1;let s=0;if(n||!i){let i=!1;for(;s<t.length;){const n=t[s];if(n===e)return s;if(3===n||6===n)i=!0;else{if(1===n||2===n){let e=t[++s];for(;"string"==typeof e;)e=t[++s];continue}if(4===n)break;if(0===n){s+=4;continue}}s+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function ws(e,t,i=!1){for(let n=0;n<t.length;n++)if(ys(e,t[n],i))return!0;return!1}function Es(e,t){e:for(let i=0;i<t.length;i++){const n=t[i];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function Ts(e,t){return e?":not("+t.trim()+")":t}function ks(e){let t=e[0],i=1,n=2,s="",r=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){const t=e[++i];s+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?s+="."+o:4&n&&(s+=" "+o);else""!==s&&!Ss(o)&&(t+=Ts(r,s),s=""),n=o,r=r||!Ss(n);i++}return""!==s&&(t+=Ts(r,s)),t}const xs={};function As(e){Is(Ve(),Ge(),gt()+e,Je())}function Is(e,t,i,n){if(!n)if(3==(3&t[2])){const n=e.preOrderCheckHooks;null!==n&&Ct(t,n,i)}else{const n=e.preOrderHooks;null!==n&&wt(t,n,0,i)}_t(i)}function Os(e,t){return e<<17|t<<2}function Rs(e){return e>>17&32767}function Ps(e){return 2|e}function Ds(e){return(131068&e)>>2}function Ns(e,t){return-131069&e|t<<2}function Ls(e){return 1|e}function Ms(e,t){const i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const s=i[n],r=i[n+1];if(-1!==r){const i=e.data[r];at(s),i.contentQueries(2,t[r],r)}}}function Fs(e,t,i,n,s,r,o,a,c,l){const u=t.blueprint.slice();return u[0]=s,u[2]=140|n,He(u),u[3]=u[15]=e,u[8]=i,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=r,u[16]=2==t.type?e[16]:u,u}function Us(e,t,i,n,s){let r=e.data[t];if(null===r)r=function(e,t,i,n,s){const r=Ze(),o=Ke(),a=e.data[t]=function(e,t,i,n,s,r){return{type:i,index:n,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,i,t,n,s);return null===e.firstChild&&(e.firstChild=a),null!==r&&(o?null==r.child&&null!==a.parent&&(r.child=a):null===r.next&&(r.next=a)),a}(e,t,i,n,s),$e.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=i,r.value=n,r.attrs=s;const e=function(){const e=$e.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();r.injectorIndex=null===e?-1:e.injectorIndex}return ze(r,!0),r}function Hs(e,t,i,n){if(0===i)return-1;const s=t.length;for(let r=0;r<i;r++)t.push(n),e.blueprint.push(n),e.data.push(null);return s}function Bs(e,t,i){ut(t);try{const n=e.viewQuery;null!==n&&_r(1,n,i);const s=e.template;null!==s&&Gs(e,t,s,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ms(e,t),e.staticViewQueries&&_r(2,e.viewQuery,i);const r=e.components;null!==r&&function(e,t){for(let i=0;i<t.length;i++)dr(e,t[i])}(t,r)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[2]&=-5,mt()}}function $s(e,t,i,n){const s=t[2];if(256==(256&s))return;ut(t);const r=Je();try{He(t),function(e){$e.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&Gs(e,t,i,2,n);const o=3==(3&s);if(!r)if(o){const i=e.preOrderCheckHooks;null!==i&&Ct(t,i,null)}else{const i=e.preOrderHooks;null!==i&&wt(t,i,0,null),Et(t,0)}if(function(e){for(let t=Vn(e);null!==t;t=qn(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const i=e[t],n=i[3];0==(1024&i[2])&&Be(n,1),i[2]|=1024}}}(t),function(e){for(let t=Vn(e);null!==t;t=qn(t))for(let e=10;e<t.length;e++){const i=t[e],n=i[1];Fe(i)&&$s(n,i,n.template,i[8])}}(t),null!==e.contentQueries&&Ms(e,t),!r)if(o){const i=e.contentCheckHooks;null!==i&&Ct(t,i)}else{const i=e.contentHooks;null!==i&&wt(t,i,1),Et(t,1)}!function(e,t){const i=e.hostBindingOpCodes;if(null!==i)try{for(let e=0;e<i.length;e++){const n=i[e];if(n<0)_t(~n);else{const s=n,r=i[++e],o=i[++e];nt(r,s),o(2,t[s])}}}finally{_t(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let i=0;i<t.length;i++)ur(e,t[i])}(t,a);const c=e.viewQuery;if(null!==c&&_r(2,c,n),!r)if(o){const i=e.viewCheckHooks;null!==i&&Ct(t,i)}else{const i=e.viewHooks;null!==i&&wt(t,i,2),Et(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Be(t[3],-1))}finally{mt()}}function js(e,t,i,n){const s=t[10],r=!Je(),o=Me(t);try{r&&!o&&s.begin&&s.begin(),o&&Bs(e,t,n),$s(e,t,i,n)}finally{r&&!o&&s.end&&s.end()}}function Gs(e,t,i,n,s){const r=gt(),o=2&n;try{_t(-1),o&&t.length>20&&Is(e,t,20,Je()),i(n,s)}finally{_t(r)}}function Vs(e,t,i){if(he(t)){const n=t.directiveEnd;for(let s=t.directiveStart;s<n;s++){const t=e.data[s];t.contentQueries&&t.contentQueries(1,i[s],s)}}}function qs(e,t,i){!je()||(function(e,t,i,n){const s=i.directiveStart,r=i.directiveEnd;e.firstCreatePass||Ht(i,t),Pn(n,t);const o=i.initialInputs;for(let a=s;a<r;a++){const n=e.data[a],r=fe(n);r&&rr(t,i,n);const c=Jt(t,e,a,i);Pn(c,t),null!==o&&ar(0,a-s,c,n,0,o),r&&(Le(i.index,t)[8]=c)}}(e,t,i,Pe(i,t)),128==(128&i.flags)&&function(e,t,i){const n=i.directiveStart,s=i.directiveEnd,r=i.index,o=$e.lFrame.currentDirectiveIndex;try{_t(r);for(let i=n;i<s;i++){const n=e.data[i],s=t[i];st(i),(null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs)&&er(n,s)}}finally{_t(-1),st(o)}}(e,t,i))}function Ys(e,t,i=Pe){const n=t.localNames;if(null!==n){let s=t.index+1;for(let r=0;r<n.length;r+=2){const o=n[r+1],a=-1===o?i(t,e):e[o];e[s++]=a}}}function Zs(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=zs(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function zs(e,t,i,n,s,r,o,a,c,l){const u=20+n,h=u+s,d=function(e,t){const i=[];for(let n=0;n<t;n++)i.push(n<e?null:xs);return i}(u,h),p="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:i,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Ks(e,t,i,n){const s=br(t);null===i?s.push(n):(s.push(i),e.firstCreatePass&&yr(e).push(n,s.length-1))}function Ws(e,t,i){for(let n in e)if(e.hasOwnProperty(n)){const s=e[n];(i=null===i?{}:i).hasOwnProperty(n)?i[n].push(t,s):i[n]=[t,s]}return i}function Js(e,t,i,n,s,r,o,a){const c=Pe(t,i);let l,u=t.inputs;!a&&null!=u&&(l=u[n])?(wr(e,i,l,n,s),de(t)&&function(e,t){const i=Le(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):3&t.type&&(n=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),s=null!=o?o(s,t.value||"",n):s,Ae(r)?r.setProperty(c,n,s):Ot(n)||(c.setProperty?c.setProperty(n,s):c[n]=s))}function Qs(e,t,i,n){let s=!1;if(je()){const r=function(e,t,i){const n=e.directiveRegistry;let s=null;if(n)for(let r=0;r<n.length;r++){const o=n[r];ws(i,o.selectors,!1)&&(s||(s=[]),Gt(Ht(i,t),e,o.type),fe(o)?(tr(e,i),s.unshift(o)):s.push(o))}return s}(e,t,i),o=null===n?null:{"":-1};if(null!==r){s=!0,nr(i,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}let n=!1,a=!1,c=Hs(e,t,r.length,null);for(let s=0;s<r.length;s++){const l=r[s];i.mergedAttrs=Rt(i.mergedAttrs,l.hostAttrs),sr(e,i,t,c,l),ir(c,l,o),null!==l.contentQueries&&(i.flags|=8),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(i.flags|=128);const u=l.type.prototype;!n&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index),n=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index),a=!0),c++}!function(e,t){const i=t.directiveEnd,n=e.data,s=t.attrs,r=[];let o=null,a=null;for(let c=t.directiveStart;c<i;c++){const e=n[c],i=e.inputs,l=null===s||vs(t)?null:cr(i,s);r.push(l),o=Ws(i,c,o),a=Ws(e.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=o,t.outputs=a}(e,i)}o&&function(e,t,i){if(t){const n=e.localNames=[];for(let e=0;e<t.length;e+=2){const s=i[t[e+1]];if(null==s)throw new g("301",`Export of name '${t[e+1]}' not found!`);n.push(t[e],s)}}}(i,n,o)}return i.mergedAttrs=Rt(i.mergedAttrs,i.attrs),s}function Xs(e,t,i,n,s,r){const o=r.hostBindings;if(o){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const r=~t.index;(function(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(i)!=r&&i.push(r),i.push(n,s,o)}}function er(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function tr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ir(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;fe(t)&&(i[""]=e)}}function nr(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function sr(e,t,i,n,s){e.data[n]=s;const r=s.factory||(s.factory=ge(s.type)),o=new xt(r,fe(s),null);e.blueprint[n]=o,i[n]=o,Xs(e,t,0,n,Hs(e,i,s.hostVars,xs),s)}function rr(e,t,i){const n=Pe(t,e),s=Zs(i),r=e[10],o=pr(e,Fs(e,s,null,i.onPush?64:16,n,t,r,r.createRenderer(n,i),null,null));e[t.index]=o}function or(e,t,i,n,s,r){const o=Pe(e,t);!function(e,t,i,n,s,r,o){if(null==r)Ae(e)?e.removeAttribute(t,s,i):t.removeAttribute(s);else{const a=null==o?_(r):o(r,n||"",s);Ae(e)?e.setAttribute(t,s,a,i):i?t.setAttributeNS(i,s,a):t.setAttribute(s,a)}}(t[11],o,r,e.value,i,n,s)}function ar(e,t,i,n,s,r){const o=r[t];if(null!==o){const e=n.setInput;for(let t=0;t<o.length;){const s=o[t++],r=o[t++],a=o[t++];null!==e?n.setInput(i,a,s,r):i[r]=a}}}function cr(e,t){let i=null,n=0;for(;n<t.length;){const s=t[n];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===i&&(i=[]),i.push(s,e[s],t[n+1])),n+=2}else n+=2;else n+=4}return i}function lr(e,t,i,n){return new Array(e,!0,!1,t,null,0,n,i,null,null)}function ur(e,t){const i=Le(t,e);if(Fe(i)){const e=i[1];80&i[2]?$s(e,i,e.template,i[8]):i[5]>0&&hr(i)}}function hr(e){for(let i=Vn(e);null!==i;i=qn(i))for(let e=10;e<i.length;e++){const t=i[e];if(1024&t[2]){const e=t[1];$s(e,t,e.template,t[8])}else t[5]>0&&hr(t)}const t=e[1].components;if(null!==t)for(let i=0;i<t.length;i++){const n=Le(t[i],e);Fe(n)&&n[5]>0&&hr(n)}}function dr(e,t){const i=Le(t,e),n=i[1];(function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])})(n,i),Bs(n,i,i[8])}function pr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function fr(e){for(;e;){e[2]|=64;const t=Gn(e);if(me(e)&&!t)return e;e=t}return null}function mr(e,t,i){const n=t[10];n.begin&&n.begin();try{$s(e,t,e.template,i)}catch(s){throw Cr(t,s),s}finally{n.end&&n.end()}}function gr(e){!function(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],n=Dn(i),s=n[1];js(s,n,s.template,i)}}(e[8])}function _r(e,t,i){at(0),t(e,i)}const vr=(()=>Promise.resolve(null))();function br(e){return e[7]||(e[7]=[])}function yr(e){return e.cleanup||(e.cleanup=[])}function Sr(e,t,i){return(null===e||fe(e))&&(i=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(i[t.index])),i[11]}function Cr(e,t){const i=e[9],n=i?i.get(Mn,null):null;n&&n.handleError(t)}function wr(e,t,i,n,s){for(let r=0;r<i.length;){const o=i[r++],a=i[r++],c=t[o],l=e.data[o];null!==l.setInput?l.setInput(c,s,n,a):c[a]=s}}function Er(e,t,i){const n=Re(t,e);!function(e,t,i){Ae(e)?e.setValue(t,i):t.textContent=i}(e[11],n,i)}function Tr(e,t,i){let n=i?e.styles:null,s=i?e.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?r=e:1==r?s=h(s,e):2==r&&(n=h(n,e+": "+t[++o]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=s:e.classesWithoutHost=s}const kr=new li("INJECTOR",-1);class xr{get(e,t=Ci){if(t===Ci){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const Ar=new li("Set Injector scope."),Ir={},Or={};let Rr;function Pr(){return void 0===Rr&&(Rr=new xr),Rr}function Dr(e,t=null,i=null,n){return new Nr(e,i,t||Pr(),n)}class Nr{constructor(e,t,i,n=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&mi(t,i=>this.processProvider(i,e,t)),mi([e],e=>this.processInjectorType(e,[],s)),this.records.set(kr,Fr(void 0,this));const r=this.records.get(Ar);this.scope=null!=r?r.value:null,this.source=n||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Ci,i=O.Default){this.assertNotDestroyed();const n=Ii(this),s=P(void 0);try{if(!(i&O.SkipSelf)){let t=this.records.get(e);if(void 0===t){const i=("function"==typeof(r=e)||"object"==typeof r&&r instanceof li)&&w(e);t=i&&this.injectableDefInScope(i)?Fr(Lr(e),Ir):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(i&O.Self?Pr():this.parent).get(e,t=i&O.Optional&&t===Ci?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ei]=o[Ei]||[]).unshift(u(e)),n)throw o;return Mi(o,e,"R3InjectorError",this.source)}throw o}finally{P(s),Ii(n)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,i)=>e.push(u(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=f(e)))return!1;let n=T(e);const s=null==n&&e.ngModule||void 0,r=void 0===s?e:s,o=-1!==i.indexOf(r);if(void 0!==s&&(n=T(s)),null==n)return!1;if(null!=n.imports&&!o){let e;i.push(r);try{mi(n.imports,n=>{this.processInjectorType(n,t,i)&&(void 0===e&&(e=[]),e.push(n))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:i,providers:n}=e[t];mi(n,e=>this.processProvider(e,i,n||j))}}this.injectorDefTypes.add(r);const a=ge(r)||(()=>new r);this.records.set(r,Fr(a,Ir));const c=n.providers;if(null!=c&&!o){const t=e;mi(c,e=>this.processProvider(e,t,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let n=Hr(e=f(e))?e:f(e&&e.provide);const s=Ur(r=e)?Fr(void 0,r.useValue):Fr(Mr(r),Ir);var r;if(Hr(e)||!0!==e.multi)this.records.get(n);else{let t=this.records.get(n);t||(t=Fr(void 0,Ir,!0),t.factory=()=>Di(t.multi),this.records.set(n,t)),n=e,t.multi.push(e)}this.records.set(n,s)}hydrate(e,t){return t.value===Ir&&(t.value=Or,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(i=t.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var i}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Lr(e){const t=w(e),i=null!==t?t.factory:ge(e);if(null!==i)return i;if(e instanceof li)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=vi(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${i.join(", ")}).`)}const i=function(e){const t=e&&(e[k]||e[A]);if(t){const i=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Error("unreachable")}function Mr(e,t,i){let n;if(Hr(e)){const t=f(e);return ge(t)||Lr(t)}if(Ur(e))n=()=>f(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Di(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>Ri(f(e.useExisting));else{const t=f(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ge(t)||Lr(t);n=()=>new t(...Di(e.deps))}return n}function Fr(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function Ur(e){return null!==e&&"object"==typeof e&&xi in e}function Hr(e){return"function"==typeof e}const Br=function(e,t,i){return function(e,t=null,i=null,n){const s=Dr(e,t,i,n);return s._resolveInjectorDefTypes(),s}({name:i},t,e,i)};let $r=(()=>{class e{static create(e,t){return Array.isArray(e)?Br(e,t,""):Br(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ci,e.NULL=new xr,e.\u0275prov=S({token:e,providedIn:"any",factory:()=>Ri(kr)}),e.__NG_ELEMENT_ID__=-1,e})();function jr(e,t){St(Dn(e)[1],Ye())}function Gr(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const n=[e];for(;t;){let s;if(fe(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(i){n.push(s);const t=e;t.inputs=Vr(e.inputs),t.declaredInputs=Vr(e.declaredInputs),t.outputs=Vr(e.outputs);const i=s.hostBindings;i&&Zr(e,i);const r=s.viewQuery,o=s.contentQueries;if(r&&qr(e,r),o&&Yr(e,o),l(e.inputs,s.inputs),l(e.declaredInputs,s.declaredInputs),l(e.outputs,s.outputs),fe(s)&&s.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(s.data.animation)}}const t=s.features;if(t)for(let n=0;n<t.length;n++){const s=t[n];s&&s.ngInherit&&s(e),s===Gr&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){const s=e[n];s.hostVars=t+=s.hostVars,s.hostAttrs=Rt(s.hostAttrs,i=Rt(i,s.hostAttrs))}}(n)}function Vr(e){return e===$?{}:e===j?[]:e}function qr(e,t){const i=e.viewQuery;e.viewQuery=i?(e,n)=>{t(e,n),i(e,n)}:t}function Yr(e,t){const i=e.contentQueries;e.contentQueries=i?(e,n,s)=>{t(e,n,s),i(e,n,s)}:t}function Zr(e,t){const i=e.hostBindings;e.hostBindings=i?(e,n)=>{t(e,n),i(e,n)}:t}let zr=null;function Kr(){if(!zr){const e=B.Symbol;if(e&&e.iterator)zr=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(zr=i)}}}return zr}class Wr{constructor(e){this.wrapped=e}static wrap(e){return new Wr(e)}static unwrap(e){return Wr.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Wr}}function Jr(e){return!!Qr(e)&&(Array.isArray(e)||!(e instanceof Map)&&Kr()in e)}function Qr(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Xr(e,t,i){return e[t]=i}function eo(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function to(e,t,i,n){const s=eo(e,t,i);return eo(e,t+1,n)||s}function io(e,t,i,n,s){const r=to(e,t,i,n);return eo(e,t+2,s)||r}function no(e,t,i,n,s,r){const o=to(e,t,i,n);return to(e,t+2,s,r)||o}function so(e,t,i,n){const s=Ge();return eo(s,tt(),t)&&(Ve(),or(vt(),s,e,t,i,n)),so}function ro(e,t,i,n){return eo(e,tt(),i)?t+_(i)+n:xs}function oo(e,t,i,n,s,r,o,a){const c=Ge(),l=Ve(),u=e+20,h=l.firstCreatePass?function(e,t,i,n,s,r,o,a,c){const l=t.consts,u=Us(t,e,4,o||null,Ue(l,a));Qs(t,i,u,Ue(l,c)),St(t,u);const h=u.tViews=zs(2,u,n,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,i,n,s,r,o):l.data[u];ze(h,!1);const d=c[11].createComment("");os(l,c,d,h),Pn(d,c),pr(c,c[u]=lr(d,c,d,h)),pe(h)&&qs(l,c,h),null!=o&&Ys(c,h,a)}function ao(e){return Ne($e.lFrame.contextLView,20+e)}function co(e,t=O.Default){const i=Ge();return null===i?Ri(e,t):Yt(Ye(),i,f(e),t)}function lo(){throw new Error("invalid")}function uo(e,t,i){const n=Ge();return eo(n,tt(),t)&&Js(Ve(),vt(),n,e,t,n[11],i,!1),uo}function ho(e,t,i,n,s){const r=s?"class":"style";wr(e,i,t.inputs[r],r,n)}function po(e,t,i,n){const s=Ge(),r=Ve(),o=20+e,a=s[11],c=s[o]=zn(a,t,$e.lFrame.currentNamespace),l=r.firstCreatePass?function(e,t,i,n,s,r,o){const a=t.consts,c=Us(t,e,2,s,Ue(a,r));return Qs(t,i,c,Ue(a,o)),null!==c.attrs&&Tr(c,c.attrs,!1),null!==c.mergedAttrs&&Tr(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,r,s,0,t,i,n):r.data[o];ze(l,!0);const u=l.mergedAttrs;null!==u&&At(a,c,u);const h=l.classes;null!==h&&fs(a,c,h);const d=l.styles;null!==d&&ps(a,c,d),64!=(64&l.flags)&&os(r,s,c,l),0===$e.lFrame.elementDepthCount&&Pn(c,s),$e.lFrame.elementDepthCount++,pe(l)&&(qs(r,s,l),Vs(r,l,s)),null!==n&&Ys(s,l)}function fo(){let e=Ye();Ke()?We():(e=e.parent,ze(e,!1));const t=e;$e.lFrame.elementDepthCount--;const i=Ve();i.firstCreatePass&&(St(i,e),he(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ho(i,t,Ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ho(i,t,Ge(),t.stylesWithoutHost,!1)}function mo(e,t,i,n){po(e,t,i,n),fo()}function go(e,t,i){const n=Ge(),s=Ve(),r=e+20,o=s.firstCreatePass?function(e,t,i,n,s){const r=t.consts,o=Ue(r,n),a=Us(t,e,8,"ng-container",o);return null!==o&&Tr(a,o,!0),Qs(t,i,a,Ue(r,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(r,s,n,t,i):s.data[r];ze(o,!0);const a=n[r]=n[11].createComment("");os(s,n,a,o),Pn(a,n),pe(o)&&(qs(s,n,o),Vs(s,o,n)),null!=i&&Ys(n,o)}function _o(){let e=Ye();const t=Ve();Ke()?We():(e=e.parent,ze(e,!1)),t.firstCreatePass&&(St(t,e),he(e)&&t.queries.elementEnd(e))}function vo(e,t,i){go(e,t,i),_o()}function bo(){return Ge()}function yo(e){return!!e&&"function"==typeof e.then}function So(e){return!!e&&"function"==typeof e.subscribe}const Co=So;function wo(e,t,i,n){const s=Ge(),r=Ve(),o=Ye();return To(r,s,s[11],o,e,t,!!i,n),wo}function Eo(e,t){const i=Ye(),n=Ge(),s=Ve();return To(s,n,Sr(rt(s.data),i,n),i,e,t,!1),Eo}function To(e,t,i,n,s,r,o,a){const c=pe(n),l=e.firstCreatePass&&yr(e),u=t[8],h=br(t);let d=!0;if(3&n.type||a){const p=Pe(n,t),f=a?a(p):p,m=h.length,g=a?e=>a(Oe(e[n.index])):n.index;if(Ae(i)){let o=null;if(!a&&c&&(o=function(e,t,i,n){const s=e.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const e=s[r];if(e===i&&s[r+1]===n){const e=t[7],i=s[r+2];return e.length>i?e[i]:null}"string"==typeof e&&(r+=2)}return null}(e,t,s,n.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=r,o.__ngLastListenerFn__=r,d=!1;else{r=xo(n,t,u,r,!1);const e=i.listen(f,s,r);h.push(r,e),l&&l.push(s,g,m,m+1)}}else r=xo(n,t,u,r,!0),f.addEventListener(s,r,o),h.push(r),l&&l.push(s,g,m,o)}else r=xo(n,t,u,r,!1);const p=n.outputs;let f;if(d&&null!==p&&(f=p[s])){const e=f.length;if(e)for(let i=0;i<e;i+=2){const e=t[f[i]][f[i+1]].subscribe(r),o=h.length;h.push(r,e),l&&l.push(s,n.index,o,-(o+1))}}}function ko(e,t,i,n){try{return!1!==i(n)}catch(s){return Cr(e,s),!1}}function xo(e,t,i,n,s){return function i(r){if(r===Function)return n;const o=2&e.flags?Le(e.index,t):t;0==(32&t[2])&&fr(o);let a=ko(t,0,n,r),c=i.__ngNextListenerFn__;for(;c;)a=ko(t,0,c,r)&&a,c=c.__ngNextListenerFn__;return s&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function Ao(e=1){return function(e){return($e.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,$e.lFrame.contextLView))[8]}(e)}function Io(e,t){let i=null;const n=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let s=0;s<t.length;s++){const r=t[s];if("*"!==r){if(null===n?ws(e,r,!0):Es(n,r))return s}else i=s}return i}function Oo(e){const t=Ge()[16][6];if(!t.projection){const i=t.projection=vi(e?e.length:1,null),n=i.slice();let s=t.child;for(;null!==s;){const t=e?Io(s,e):0;null!==t&&(n[t]?n[t].projectionNext=s:i[t]=s,n[t]=s),s=s.next}}}function Ro(e,t=0,i){const n=Ge(),s=Ve(),r=Us(s,20+e,16,null,i||null);null===r.projection&&(r.projection=t),We(),64!=(64&r.flags)&&function(e,t,i){ds(t[11],0,t,i,Xn(e,i,t),ss(i.parent||t[6],i,t))}(s,n,r)}function Po(e,t,i){return Do(e,"",t,"",i),Po}function Do(e,t,i,n,s){const r=Ge(),o=ro(r,t,i,n);return o!==xs&&Js(Ve(),vt(),r,e,o,r[11],s,!1),Do}function No(e,t,i,n,s){const r=e[i+1],o=null===t;let a=n?Rs(r):Ds(r),c=!1;for(;0!==a&&(!1===c||o);){const i=e[a+1];Lo(e[a],t)&&(c=!0,e[a+1]=n?Ls(i):Ps(i)),a=n?Rs(i):Ds(i)}c&&(e[i+1]=n?Ps(r):Ls(r))}function Lo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Si(e,t)>=0}const Mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fo(e){return e.substring(Mo.key,Mo.keyEnd)}function Uo(e,t){const i=Mo.textEnd;return i===t?-1:(t=Mo.keyEnd=function(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,Mo.key=t,i),Ho(e,t,i))}function Ho(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function Bo(e,t,i){return Vo(e,t,i,!1),Bo}function $o(e,t){return Vo(e,t,null,!0),$o}function jo(e){qo(bi,Go,e,!0)}function Go(e,t){for(let i=function(e){return function(e){Mo.key=0,Mo.keyEnd=0,Mo.value=0,Mo.valueEnd=0,Mo.textEnd=e.length}(e),Uo(e,Ho(e,0,Mo.textEnd))}(t);i>=0;i=Uo(t,i))bi(e,Fo(t),!0)}function Vo(e,t,i,n){const s=Ge(),r=Ve(),o=it(2);r.firstUpdatePass&&Zo(r,e,o,n),t!==xs&&eo(s,o,t)&&Wo(r,r.data[gt()],s,s[11],e,s[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Wi(e)))),e}(t,i),n,o)}function qo(e,t,i,n){const s=Ve(),r=it(2);s.firstUpdatePass&&Zo(s,null,r,n);const o=Ge();if(i!==xs&&eo(o,r,i)){const a=s.data[gt()];if(Xo(a,n)&&!Yo(s,r)){let e=n?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(i=h(e,i||"")),ho(s,a,o,i,n)}else!function(e,t,i,n,s,r,o,a){s===xs&&(s=j);let c=0,l=0,u=0<s.length?s[0]:null,h=0<r.length?r[0]:null;for(;null!==u||null!==h;){const d=c<s.length?s[c+1]:void 0,p=l<r.length?r[l+1]:void 0;let f,m=null;u===h?(c+=2,l+=2,d!==p&&(m=h,f=p)):null===h||null!==u&&u<h?(c+=2,m=u):(l+=2,m=h,f=p),null!==m&&Wo(e,t,i,n,m,f,o,a),u=c<s.length?s[c]:null,h=l<r.length?r[l]:null}}(s,a,o,o[11],o[r+1],o[r+1]=function(e,t,i){if(null==i||""===i)return j;const n=[],s=Wi(i);if(Array.isArray(s))for(let r=0;r<s.length;r++)e(n,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&e(n,r,s[r]);else"string"==typeof s&&t(n,s);return n}(e,t,i),n,r)}}function Yo(e,t){return t>=e.expandoStartIndex}function Zo(e,t,i,n){const s=e.data;if(null===s[i+1]){const r=s[gt()],o=Yo(e,i);Xo(r,n)&&null===t&&!o&&(t=!1),t=function(e,t,i,n){const s=rt(e);let r=n?t.residualClasses:t.residualStyles;if(null===s)0===(n?t.classBindings:t.styleBindings)&&(i=Ko(i=zo(null,e,t,i,n),t.attrs,n),r=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==s)if(i=zo(s,e,t,i,n),null===r){let i=function(e,t,i){const n=i?t.classBindings:t.styleBindings;if(0!==Ds(n))return e[Rs(n)]}(e,t,n);void 0!==i&&Array.isArray(i)&&(i=zo(null,e,t,i[1],n),i=Ko(i,t.attrs,n),function(e,t,i,n){e[Rs(i?t.classBindings:t.styleBindings)]=n}(e,t,n,i))}else r=function(e,t,i){let n;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)n=Ko(n,e[r].hostAttrs,i);return Ko(n,t.attrs,i)}(e,t,n)}return void 0!==r&&(n?t.residualClasses=r:t.residualStyles=r),i}(s,r,t,n),function(e,t,i,n,s,r){let o=r?t.classBindings:t.styleBindings,a=Rs(o),c=Ds(o);e[n]=i;let l,u=!1;if(Array.isArray(i)){const e=i;l=e[1],(null===l||Si(e,l)>0)&&(u=!0)}else l=i;if(s)if(0!==c){const t=Rs(e[a+1]);e[n+1]=Os(t,a),0!==t&&(e[t+1]=Ns(e[t+1],n)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Os(a,0),0!==a&&(e[a+1]=Ns(e[a+1],n)),a=n;else e[n+1]=Os(c,0),0===a?a=n:e[c+1]=Ns(e[c+1],n),c=n;u&&(e[n+1]=Ps(e[n+1])),No(e,l,n,!0),No(e,l,n,!1),function(e,t,i,n,s){const r=s?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&Si(r,t)>=0&&(i[n+1]=Ls(i[n+1]))}(t,l,e,n,r),o=Os(a,c),r?t.classBindings=o:t.styleBindings=o}(s,r,t,i,o,n)}}function zo(e,t,i,n,s){let r=null;const o=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(r=t[a],n=Ko(n,r.hostAttrs,s),r!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function Ko(e,t,i){const n=i?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),bi(e,o,!!i||t[++r]))}return void 0===e?null:e}function Wo(e,t,i,n,s,r,o,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];Qo(function(e){return 1==(1&e)}(l)?Jo(c,t,i,s,Ds(l),o):void 0)||(Qo(r)||function(e){return 2==(2&e)}(l)&&(r=Jo(c,null,i,s,a,o)),function(e,t,i,n,s){const r=Ae(e);if(t)s?r?e.addClass(i,n):i.classList.add(n):r?e.removeClass(i,n):i.classList.remove(n);else{let t=-1===n.indexOf("-")?void 0:$n.DashCase;if(null==s)r?e.removeStyle(i,n,t):i.style.removeProperty(n);else{const o="string"==typeof s&&s.endsWith("!important");o&&(s=s.slice(0,-10),t|=$n.Important),r?e.setStyle(i,n,s,t):i.style.setProperty(n,s,o?"important":"")}}}(n,o,Re(gt(),i),s,r))}function Jo(e,t,i,n,s,r){const o=null===t;let a;for(;s>0;){const t=e[s],r=Array.isArray(t),c=r?t[1]:t,l=null===c;let u=i[s+1];u===xs&&(u=l?j:void 0);let h=l?yi(u,n):c===n?u:void 0;if(r&&!Qo(h)&&(h=yi(t,n)),Qo(h)&&(a=h,o))return a;const d=e[s+1];s=o?Rs(d):Ds(d)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=yi(e,n))}return a}function Qo(e){return void 0!==e}function Xo(e,t){return 0!=(e.flags&(t?16:32))}function ea(e,t=""){const i=Ge(),n=Ve(),s=e+20,r=n.firstCreatePass?Us(n,s,1,t,null):n.data[s],o=i[s]=function(e,t){return Ae(e)?e.createText(t):e.createTextNode(t)}(i[11],t);os(n,i,o,r),ze(r,!1)}function ta(e){return ia("",e,""),ta}function ia(e,t,i){const n=Ge(),s=ro(n,e,t,i);return s!==xs&&Er(n,gt(),s),ia}function na(e,t,i,n,s){const r=Ge(),o=function(e,t,i,n,s,r){const o=to(e,et(),i,s);return it(2),o?t+_(i)+n+_(s)+r:xs}(r,e,t,i,n,s);return o!==xs&&Er(r,gt(),o),na}function sa(e,t,i,n,s,r,o){const a=Ge(),c=function(e,t,i,n,s,r,o,a){const c=io(e,et(),i,s,o);return it(3),c?t+_(i)+n+_(s)+r+_(o)+a:xs}(a,e,t,i,n,s,r,o);return c!==xs&&Er(a,gt(),c),sa}function ra(e,t,i,n,s,r,o,a,c){const l=Ge(),u=function(e,t,i,n,s,r,o,a,c,l){const u=no(e,et(),i,s,o,c);return it(4),u?t+_(i)+n+_(s)+r+_(o)+a+_(c)+l:xs}(l,e,t,i,n,s,r,o,a,c);return u!==xs&&Er(l,gt(),u),ra}function oa(e,t,i){qo(bi,Go,ro(Ge(),e,t,i),!0)}function aa(e,t,i){const n=Ge();return eo(n,tt(),t)&&Js(Ve(),vt(),n,e,t,n[11],i,!0),aa}function ca(e,t,i){const n=Ge();if(eo(n,tt(),t)){const s=Ve(),r=vt();Js(s,r,n,e,t,Sr(rt(s.data),r,n),i,!0)}return ca}const la=void 0;var ua=["en",[["a","p"],["AM","PM"],la],[["AM","PM"],la,la],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],la,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],la,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",la,"{1} 'at' {0}",la],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let ha={};function da(e,t,i){"string"!=typeof t&&(i=t,t=e[ga.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ha[t]=e,i&&(ha[t][ga.ExtraData]=i)}function pa(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=ma(t);if(i)return i;const n=t.split("-")[0];if(i=ma(n),i)return i;if("en"===n)return ua;throw new Error(`Missing locale data for the locale "${e}".`)}function fa(e){return pa(e)[ga.PluralCase]}function ma(e){return e in ha||(ha[e]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[e]),ha[e]}var ga=(()=>((ga=ga||{})[ga.LocaleId=0]="LocaleId",ga[ga.DayPeriodsFormat=1]="DayPeriodsFormat",ga[ga.DayPeriodsStandalone=2]="DayPeriodsStandalone",ga[ga.DaysFormat=3]="DaysFormat",ga[ga.DaysStandalone=4]="DaysStandalone",ga[ga.MonthsFormat=5]="MonthsFormat",ga[ga.MonthsStandalone=6]="MonthsStandalone",ga[ga.Eras=7]="Eras",ga[ga.FirstDayOfWeek=8]="FirstDayOfWeek",ga[ga.WeekendRange=9]="WeekendRange",ga[ga.DateFormat=10]="DateFormat",ga[ga.TimeFormat=11]="TimeFormat",ga[ga.DateTimeFormat=12]="DateTimeFormat",ga[ga.NumberSymbols=13]="NumberSymbols",ga[ga.NumberFormats=14]="NumberFormats",ga[ga.CurrencyCode=15]="CurrencyCode",ga[ga.CurrencySymbol=16]="CurrencySymbol",ga[ga.CurrencyName=17]="CurrencyName",ga[ga.Currencies=18]="Currencies",ga[ga.Directionality=19]="Directionality",ga[ga.PluralCase=20]="PluralCase",ga[ga.ExtraData=21]="ExtraData",ga))();const _a="en-US";let va=_a;function ba(e){y(e,"Expected localeId to be defined"),"string"==typeof e&&(va=e.toLowerCase().replace(/_/g,"-"))}function ya(e,t,i,n,s){if(e=f(e),Array.isArray(e))for(let r=0;r<e.length;r++)ya(e[r],t,i,n,s);else{const r=Ve(),o=Ge();let a=Hr(e)?e:f(e.provide),c=Mr(e);const l=Ye(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Hr(e)||!e.multi){const n=new xt(c,s,co),p=wa(a,t,s?u:u+d,h);-1===p?(Gt(Ht(l,o),r,a),Sa(r,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),i.push(n),o.push(n)):(i[p]=n,o[p]=n)}else{const p=wa(a,t,u+d,h),f=wa(a,t,u,u+d),m=p>=0&&i[p],g=f>=0&&i[f];if(s&&!g||!s&&!m){Gt(Ht(l,o),r,a);const u=function(e,t,i,n,s){const r=new xt(e,i,co);return r.multi=[],r.index=t,r.componentProviders=0,Ca(r,s,n&&!i),r}(s?Ta:Ea,i.length,s,n,c);!s&&g&&(i[f].providerFactory=u),Sa(r,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),i.push(u),o.push(u)}else Sa(r,e,p>-1?p:f,Ca(i[s?f:p],c,!s&&n));!s&&n&&g&&i[f].componentProviders++}}}function Sa(e,t,i,n){const s=Hr(t);if(s||function(e){return!!e.useClass}(t)){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const o=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const e=o.indexOf(i);-1===e?o.push(i,[n,r]):o[e+1].push(n,r)}else o.push(i,r)}}}function Ca(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function wa(e,t,i,n){for(let s=i;s<n;s++)if(t[s]===e)return s;return-1}function Ea(e,t,i,n){return ka(this.multi,[])}function Ta(e,t,i,n){const s=this.multi;let r;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Jt(i,i[1],this.providerFactory.index,n);r=t.slice(0,e),ka(s,r);for(let i=e;i<t.length;i++)r.push(t[i])}else r=[],ka(s,r);return r}function ka(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function xa(e,t=[]){return i=>{i.providersResolver=(i,n)=>function(e,t,i){const n=Ve();if(n.firstCreatePass){const s=fe(e);ya(i,n.data,n.blueprint,s,!0),ya(t,n.data,n.blueprint,s,!1)}}(i,n?n(e):e,t)}}class Aa{}const Ia="ngComponent";class Oa{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t[Ia]=e,t}(e)}}let Ra=(()=>{class e{}return e.NULL=new Oa,e})();function Pa(...e){}function Da(e,t){return new La(Pe(e,t))}const Na=function(){return Da(Ye(),Ge())};let La=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Na,e})();function Ma(e){return e instanceof La?e.nativeElement:e}class Fa{}let Ua=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ha(),e})();const Ha=function(){const e=Ge(),t=Le(Ye().index,e);return function(e){return e[11]}(le(t)?t:e)};let Ba=(()=>{class e{}return e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null}),e})();class $a{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ja=new $a("12.2.16");class Ga{constructor(){}supports(e){return Jr(e)}create(e){return new qa(e)}}const Va=(e,t)=>t;class qa{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Va}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,n=0,s=null;for(;t||i;){const r=!i||t&&t.currentIndex<Ka(i,n,s)?t:i,o=Ka(r,n,s),a=r.currentIndex;if(r===i)n--,i=i._nextRemoved;else if(t=t._next,null==r.previousIndex)n++;else{s||(s=[]);const e=o-n,t=a-n;if(e!=t){for(let i=0;i<e;i++){const n=i<s.length?s[i]:s[i]=0,r=n+i;t<=r&&r<e&&(s[i]=n+1)}s[r.previousIndex]=t-e}}o!==a&&e(r,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Jr(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,n,s=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],n=this._trackByFn(t,i),null!==s&&Object.is(s.trackById,n)?(r&&(s=this._verifyReinsertion(s,i,n,t)),Object.is(s.item,i)||this._addIdentityChange(s,i)):(s=this._mismatch(s,i,n,t),r=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Kr()]();let n;for(;!(n=i.next()).done;)t(n.value)}}(e,e=>{n=this._trackByFn(t,e),null!==s&&Object.is(s.trackById,n)?(r&&(s=this._verifyReinsertion(s,e,n,t)),Object.is(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,n,t),r=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,n){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,n)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,n)):e=this._addAfter(new Ya(t,i),s,n),e}_verifyReinsertion(e,t,i,n){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const n=e._prevRemoved,s=e._nextRemoved;return null===n?this._removalsHead=s:n._nextRemoved=s,null===s?this._removalsTail=n:s._prevRemoved=n,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new za),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new za),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ya{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Za{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class za{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Za,this.map.set(t,i)),i.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ka(e,t,i){const n=e.previousIndex;if(null===n)return n;let s=0;return i&&n<i.length&&(s=i[n]),n+t+s}class Wa{constructor(){}supports(e){return e instanceof Map||Qr(e)}create(){return new Ja}}class Ja{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Qr(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const n=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,n)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const n=i._prev,s=i._next;return n&&(n._next=s),s&&(s._prev=n),i._next=null,i._prev=null,i}const i=new Qa(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class Qa{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xa(){return new ec([new Ga])}let ec=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(null!=i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Xa()),deps:[[e,new Hi,new Ui]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(e){return e.name||typeof e}(e)}'`)}}return e.\u0275prov=S({token:e,providedIn:"root",factory:Xa}),e})();function tc(){return new ic([new Wa])}let ic=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||tc()),deps:[[e,new Hi,new Ui]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=S({token:e,providedIn:"root",factory:tc}),e})();function nc(e,t,i,n,s=!1){for(;null!==i;){const r=t[i.index];if(null!==r&&n.push(Oe(r)),ue(r))for(let e=10;e<r.length;e++){const t=r[e],i=t[1].firstChild;null!==i&&nc(t[1],t,i,n)}const o=i.type;if(8&o)nc(e,t,i.child,n);else if(32&o){const e=jn(i,t);let s;for(;s=e();)n.push(s)}else if(16&o){const e=cs(t,i);if(Array.isArray(e))n.push(...e);else{const i=Gn(t[16]);nc(i[1],i,e,n,!0)}}i=s?i.projectionNext:i.next}return n}class sc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return nc(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ue(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Wn(e,i),_i(t,i))}this._attachedToViewContainer=!1}Jn(this._lView[1],this._lView)}onDestroy(e){Ks(this._lView[1],this._lView,null,e)}markForCheck(){fr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){mr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,i){Qe(!0);try{mr(e,t,i)}finally{Qe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,hs(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class rc extends sc{constructor(e){super(e),this._view=e}detectChanges(){gr(this._view)}checkNoChanges(){!function(e){Qe(!0);try{gr(e)}finally{Qe(!1)}}(this._view)}get context(){return null}}const oc=function(e){return function(e,t,i){if(de(e)&&!i){const i=Le(e.index,t);return new sc(i,i)}return 47&e.type?new sc(t[16],t):null}(Ye(),Ge(),16==(16&e))};let ac=(()=>{class e{}return e.__NG_ELEMENT_ID__=oc,e})();const cc=[new Wa],lc=new ec([new Ga]),uc=new ic(cc),hc=function(){return mc(Ye(),Ge())};let dc=(()=>{class e{}return e.__NG_ELEMENT_ID__=hc,e})();const pc=dc,fc=class extends pc{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=Fs(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const n=this._declarationLView[19];return null!==n&&(i[19]=n.createEmbeddedView(t)),Bs(t,i,e),new sc(i)}};function mc(e,t){return 4&e.type?new fc(t,e,Da(e,t)):null}class gc{}class _c{}const vc=function(){return Ec(Ye(),Ge())};let bc=(()=>{class e{}return e.__NG_ELEMENT_ID__=vc,e})();const yc=bc,Sc=class extends yc{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Da(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){const e=jt(this._hostTNode,this._hostLView);if(Dt(e)){const t=Lt(e,this._hostLView),i=Nt(e);return new ei(t[1].data[i+8],t)}return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Cc(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const n=e.createEmbeddedView(t||{});return this.insert(n,i),n}createComponent(e,t,i,n,s){const r=i||this.parentInjector;if(!s&&null==e.ngModule&&r){const e=r.get(gc,null);e&&(s=e)}const o=e.create(r,n,void 0,s);return this.insert(o.hostView,t),o}insert(e,t){const i=e._lView,n=i[1];if(ue(i[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=i[3],n=new Sc(t,t[6],t[3]);n.detach(n.indexOf(e))}}const s=this._adjustIndex(t),r=this._lContainer;!function(e,t,i,n){const s=10+n,r=i.length;n>0&&(i[s-1][4]=t),n<r-10?(t[4]=i[s],gi(i,10+n,t)):(i.push(t),t[4]=null),t[3]=i;const o=t[17];null!==o&&i!==o&&function(e,t){const i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(n,i,r,s);const o=ls(s,r),a=i[11],c=ns(a,r[7]);return null!==c&&function(e,t,i,n,s,r){n[0]=s,n[6]=t,hs(e,n,i,1,s,r)}(n,r[6],a,i,c,o),e.attachToViewContainerRef(),gi(wc(r),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Cc(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Wn(this._lContainer,t);i&&(_i(wc(this._lContainer),t),Jn(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=Wn(this._lContainer,t);return i&&null!=_i(wc(this._lContainer),t)?new sc(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Cc(e){return e[8]}function wc(e){return e[8]||(e[8]=[])}function Ec(e,t){let i;const n=t[e.index];if(ue(n))i=n;else{let s;if(8&e.type)s=Oe(n);else{const i=t[11];s=i.createComment("");const n=Pe(e,t);es(i,ns(i,n),s,function(e,t){return Ae(e)?e.nextSibling(t):t.nextSibling}(i,n),!1)}t[e.index]=i=lr(n,t,s,e),pr(t,i)}return new Sc(i,e,t)}const Tc={};class kc extends Ra{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ae(e);return new Ic(t,this.ngModule)}}function xc(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}const Ac=new li("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Fn});class Ic extends Aa{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ks).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return xc(this.componentDef.inputs)}get outputs(){return xc(this.componentDef.outputs)}create(e,t,i,n){const s=(n=n||this.ngModule)?function(e,t){return{get:(i,n,s)=>{const r=e.get(i,Tc,s);return r!==Tc||n===Tc?r:t.get(i,n,s)}}}(e,n.injector):e,r=s.get(Fa,Ie),o=s.get(Ba,null),a=r.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=i?function(e,t,i){if(Ae(e))return e.selectRootElement(t,i===M.ShadowDom);let n="string"==typeof t?e.querySelector(t):t;return n.textContent="",n}(a,i,this.componentDef.encapsulation):zn(r.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?Ee:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h=function(e,t){return{components:[],scheduler:e||Fn,clean:vr,playerHandler:t||null,flags:0}}(),d=zs(0,null,null,1,0,null,null,null,null,null),p=Fs(null,d,h,u,null,null,r,a,o,s);let f,m;ut(p);try{const e=function(e,t,i,n,s,r){const o=i[1];i[20]=e;const a=Us(o,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(Tr(a,c,!0),null!==e&&(At(s,e,c),null!==a.classes&&fs(s,e,a.classes),null!==a.styles&&ps(s,e,a.styles)));const l=n.createRenderer(e,t),u=Fs(i,Zs(t),null,t.onPush?64:16,i[20],a,n,l,r||null,null);return o.firstCreatePass&&(Gt(Ht(a,i),o,t.type),tr(o,a),nr(a,i.length,1)),pr(i,u),i[20]=u}(l,this.componentDef,p,r,a);if(l)if(i)At(a,l,["ng-version",ja.full]);else{const{attrs:e,classes:t}=function(e){const t=[],i=[];let n=1,s=2;for(;n<e.length;){let r=e[n];if("string"==typeof r)2===s?""!==r&&t.push(r,e[++n]):8===s&&i.push(r);else{if(!Ss(s))break;s=r}n++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);e&&At(a,l,e),t&&t.length>0&&fs(a,l,t.join(" "))}if(m=De(d,20),void 0!==t){const e=m.projection=[];for(let i=0;i<this.ngContentSelectors.length;i++){const n=t[i];e.push(null!=n?Array.from(n):null)}}f=function(e,t,i,n,s){const r=i[1],o=function(e,t,i){const n=Ye();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),sr(e,n,t,Hs(e,t,1,null),i));const s=Jt(t,e,n.directiveStart,n);Pn(s,t);const r=Pe(n,t);return r&&Pn(r,t),s}(r,i,t);if(n.components.push(o),e[8]=o,s&&s.forEach(e=>e(o,t)),t.contentQueries){const e=Ye();t.contentQueries(1,o,e.directiveStart)}const a=Ye();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(_t(a.index),Xs(i[1],a,0,a.directiveStart,a.directiveEnd,t),er(t,o)),o}(e,this.componentDef,p,h,[jr]),Bs(d,p,null)}finally{mt()}return new Oc(this.componentType,f,Da(m,p),p,m)}}class Oc extends class{}{constructor(e,t,i,n,s){super(),this.location=i,this._rootLView=n,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new rc(n),this.componentType=e}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Rc=new Map;class Pc extends gc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kc(this);const i=ce(e),n=e[Z]||null;n&&ba(n),this._bootstrapComponents=Bn(i.bootstrap),this._r3Injector=Dr(e,t,[{provide:gc,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=$r.THROW_IF_NOT_FOUND,i=O.Default){return e===$r||e===gc||e===kr?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dc extends _c{constructor(e){super(),this.moduleType=e,null!==ce(e)&&function(e){const t=new Set;!function e(i){const n=ce(i,!0),s=n.id;null!==s&&(function(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(s,Rc.get(s),i),Rc.set(s,i));const r=Bn(n.imports);for(const o of r)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Pc(this.moduleType,e)}}function Nc(e,t,i){const n=Xe()+e,s=Ge();return s[n]===xs?Xr(s,n,i?t.call(i):t()):function(e,t){return e[t]}(s,n)}function Lc(e,t,i,n){return Bc(Ge(),Xe(),e,t,i,n)}function Mc(e,t,i,n,s){return $c(Ge(),Xe(),e,t,i,n,s)}function Fc(e,t,i,n,s,r){return jc(Ge(),Xe(),e,t,i,n,s,r)}function Uc(e,t,i,n,s,r,o){return Gc(Ge(),Xe(),e,t,i,n,s,r,o)}function Hc(e,t){const i=e[t];return i===xs?void 0:i}function Bc(e,t,i,n,s,r){const o=t+i;return eo(e,o,s)?Xr(e,o+1,r?n.call(r,s):n(s)):Hc(e,o+1)}function $c(e,t,i,n,s,r,o){const a=t+i;return to(e,a,s,r)?Xr(e,a+2,o?n.call(o,s,r):n(s,r)):Hc(e,a+2)}function jc(e,t,i,n,s,r,o,a){const c=t+i;return io(e,c,s,r,o)?Xr(e,c+3,a?n.call(a,s,r,o):n(s,r,o)):Hc(e,c+3)}function Gc(e,t,i,n,s,r,o,a,c){const l=t+i;return no(e,l,s,r,o,a)?Xr(e,l+4,c?n.call(c,s,r,o,a):n(s,r,o,a)):Hc(e,l+4)}function Vc(e,t){const i=Ve();let n;const s=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){const n=t[i];if(e===n.name)return n}throw new g("302",`The pipe '${e}' could not be found!`)}(t,i.pipeRegistry),i.data[s]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(s,n.onDestroy)):n=i.data[s];const r=n.factory||(n.factory=ge(n.type)),o=P(co);try{const e=Ft(!1),t=r();return Ft(e),function(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}(i,Ge(),s,t),t}finally{P(o)}}function qc(e,t,i){const n=e+20,s=Ge(),r=Ne(s,n);return Wc(s,Kc(s,n)?Bc(s,Xe(),t,r.transform,i,r):r.transform(i))}function Yc(e,t,i,n){const s=e+20,r=Ge(),o=Ne(r,s);return Wc(r,Kc(r,s)?$c(r,Xe(),t,o.transform,i,n,o):o.transform(i,n))}function Zc(e,t,i,n,s){const r=e+20,o=Ge(),a=Ne(o,r);return Wc(o,Kc(o,r)?jc(o,Xe(),t,a.transform,i,n,s,a):a.transform(i,n,s))}function zc(e,t,i,n,s,r){const o=e+20,a=Ge(),c=Ne(a,o);return Wc(a,Kc(a,o)?Gc(a,Xe(),t,c.transform,i,n,s,r,c):c.transform(i,n,s,r))}function Kc(e,t){return e[1].data[t].pure}function Wc(e,t){return Wr.isWrapped(t)&&(t=Wr.unwrap(t),e[et()]=xs),t}function Jc(e){return t=>{setTimeout(e,void 0,t)}}const Qc=class extends n.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var n,r,o;let a=e,c=t||(()=>null),l=i;if(e&&"object"==typeof e){const t=e;a=null===(n=t.next)||void 0===n?void 0:n.bind(t),c=null===(r=t.error)||void 0===r?void 0:r.bind(t),l=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(c=Jc(c),a&&(a=Jc(a)),l&&(l=Jc(l)));const u=super.subscribe({next:a,error:c,complete:l});return e instanceof s.w&&e.add(u),u}};function Xc(){return this._results[Kr()]()}class el{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Kr(),i=el.prototype;i[t]||(i[t]=Xc)}get changes(){return this._changes||(this._changes=new Qc)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const n=fi(e);(this._changesDetected=!function(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],r=t[n];if(i&&(s=i(s),r=i(r)),r!==s)return!1}return!0}(i._results,n,t))&&(i._results=n,i.length=n.length,i.last=n[this.length-1],i.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tl{constructor(e){this.queryList=e,this.matches=null}clone(){return new tl(this.queryList)}setDirty(){this.queryList.setDirty()}}class il{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,n=[];for(let e=0;e<i;e++){const i=t.getByIndex(e);n.push(this.queries[i.indexInDeclarationView].clone())}return new il(n)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==gl(e,t).matches&&this.queries[t].setDirty()}}class nl{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class sl{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const n=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,n);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new sl(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class rl{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new rl(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){const s=i[n];this.matchTNodeWithReadOption(e,t,ol(t,s)),this.matchTNodeWithReadOption(e,t,Wt(t,e,s,!1,!1))}else i===dc?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Wt(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===La||n===bc||n===dc&&4&t.type)this.addMatch(t.index,-2);else{const i=Wt(t,e,n,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function ol(e,t){const i=e.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1];return null}function al(e,t,i,n){return-1===i?function(e,t){return 11&e.type?Da(e,t):4&e.type?mc(e,t):null}(t,e):-2===i?function(e,t,i){return i===La?Da(t,e):i===dc?mc(t,e):i===bc?Ec(t,e):void 0}(e,t,n):Jt(e,e[1],i,t)}function cl(e,t,i,n){const s=t[19].queries[n];if(null===s.matches){const n=e.data,r=i.matches,o=[];for(let e=0;e<r.length;e+=2){const s=r[e];o.push(s<0?null:al(t,n[s],r[e+1],i.metadata.read))}s.matches=o}return s.matches}function ll(e,t,i,n){const s=e.queries.getByIndex(i),r=s.matches;if(null!==r){const o=cl(e,t,s,i);for(let e=0;e<r.length;e+=2){const i=r[e];if(i>0)n.push(o[e/2]);else{const s=r[e+1],o=t[-i];for(let e=10;e<o.length;e++){const t=o[e];t[17]===t[3]&&ll(t[1],t,s,n)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const i=e[t];ll(i[1],i,s,n)}}}}}return n}function ul(e){const t=Ge(),i=Ve(),n=ot();at(n+1);const s=gl(i,n);if(e.dirty&&Me(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const r=s.crossesNgTemplate?ll(i,t,n,[]):cl(i,t,s,n);e.reset(r,Ma),e.notifyOnChanges()}return!0}return!1}function hl(e,t,i){const n=Ve();n.firstCreatePass&&(ml(n,new nl(e,t,i),-1),2==(2&t)&&(n.staticViewQueries=!0)),fl(n,Ge(),t)}function dl(e,t,i,n){const s=Ve();if(s.firstCreatePass){const r=Ye();ml(s,new nl(t,i,n),r.index),function(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(s,e),2==(2&i)&&(s.staticContentQueries=!0)}fl(s,Ge(),i)}function pl(){return e=Ge(),t=ot(),e[19].queries[t].queryList;var e,t}function fl(e,t,i){const n=new el(4==(4&i));Ks(e,t,n,n.destroy),null===t[19]&&(t[19]=new il),t[19].queries.push(new tl(n))}function ml(e,t,i){null===e.queries&&(e.queries=new sl),e.queries.track(new rl(t,i))}function gl(e,t){return e.queries.getByIndex(t)}function _l(e,t){return mc(e,t)}const vl=ci("Input",e=>({bindingPropertyName:e})),bl=ci("Output",e=>({bindingPropertyName:e})),yl=ci("HostListener",(e,t)=>({eventName:e,args:t})),Sl=new li("Application Initializer");let Cl=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Pa,this.reject=Pa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const t=this.appInits[i]();if(yo(t))e.push(t);else if(Co(t)){const i=new Promise((e,i)=>{t.subscribe({complete:e,error:i})});e.push(i)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Ri(Sl,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const wl=new li("AppId"),El={provide:wl,useFactory:function(){return`${Tl()}${Tl()}${Tl()}`},deps:[]};function Tl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kl=new li("Platform Initializer"),xl=new li("Platform ID"),Al=new li("appBootstrapListener");let Il=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const Ol=new li("LocaleId"),Rl=new li("DefaultCurrencyCode");class Pl{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Dl=function(e){return new Dc(e)},Nl=Dl,Ll=function(e){return Promise.resolve(Dl(e))},Ml=function(e){const t=Dl(e),i=Bn(ce(e).declarations).reduce((e,t)=>{const i=ae(t);return i&&e.push(new Ic(i)),e},[]);return new Pl(t,i)},Fl=Ml,Ul=function(e){return Promise.resolve(Ml(e))};let Hl=(()=>{class e{constructor(){this.compileModuleSync=Nl,this.compileModuleAsync=Ll,this.compileModuleAndAllComponentsSync=Fl,this.compileModuleAndAllComponentsAsync=Ul}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const Bl=(()=>Promise.resolve(0))();function $l(e){"undefined"==typeof Zone?Bl.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class jl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qc(!1),this.onMicrotaskEmpty=new Qc(!1),this.onStable=new Qc(!1),this.onError=new Qc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&t,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let e=B.requestAnimationFrame,t=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(B,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ql(e),e.isCheckStableRunning=!0,Vl(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ql(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,s,r,o,a)=>{try{return Yl(e),i.invokeTask(s,r,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||e.shouldCoalesceRunChangeDetection)&&t(),Zl(e)}},onInvoke:(i,n,s,r,o,a,c)=>{try{return Yl(e),i.invoke(s,r,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Zl(e)}},onHasTask:(t,i,n,s)=>{t.hasTask(n,s),i===n&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,ql(e),Vl(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,n,s)=>(t.handleError(n,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,n){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+n,e,Gl,Pa,Pa);try{return s.runTask(r,t,i)}finally{s.cancelTask(r)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Gl={};function Vl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ql(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Yl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Zl(e){e._nesting--,Vl(e)}class zl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qc,this.onMicrotaskEmpty=new Qc,this.onStable=new Qc,this.onError=new Qc}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,n){return e.apply(t,i)}}let Kl=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jl.assertNotInAngularZone(),$l(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$l(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,i){let n=-1;t&&t>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==n),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(Ri(jl))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})(),Wl=(()=>{class e{constructor(){this._applications=new Map,Xl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Xl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();class Jl{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}function Ql(e){Xl=e}let Xl=new Jl,eu=!0,tu=!1;function iu(){return tu=!0,eu}function nu(){if(tu)throw new Error("Cannot enable prod mode after platform setup.");eu=!1}let su;const ru=new li("AllowMultipleToken");class ou{constructor(e,t){this.name=e,this.token=t}}function au(e,t,i=[]){const n=`Platform: ${t}`,s=new li(n);return(t=[])=>{let r=cu();if(!r||r.injector.get(ru,!1))if(e)e(i.concat(t).concat({provide:s,useValue:!0}));else{const e=i.concat(t).concat({provide:s,useValue:!0},{provide:Ar,useValue:"platform"});!function(e){if(su&&!su.destroyed&&!su.injector.get(ru,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");su=e.get(lu);const t=e.get(kl,null);t&&t.forEach(e=>e())}($r.create({providers:e,name:n}))}return function(e){const t=cu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function cu(){return su&&!su.destroyed?su:null}let lu=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const i=function(e,t){let i;return i="noop"===e?new zl:("zone.js"===e?void 0:e)||new jl({enableLongStackTrace:iu(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),i}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),n=[{provide:jl,useValue:i}];return i.run(()=>{const s=$r.create({providers:n,parent:this.injector,name:e.moduleType.name}),r=e.create(s),o=r.injector.get(Mn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.runOutsideAngular(()=>{const e=i.onError.subscribe({next:e=>{o.handleError(e)}});r.onDestroy(()=>{du(this._modules,r),e.unsubscribe()})}),function(e,i,n){try{const t=n();return yo(t)?t.catch(t=>{throw i.runOutsideAngular(()=>e.handleError(t)),t}):t}catch(t){throw i.runOutsideAngular(()=>e.handleError(t)),t}}(o,i,()=>{const e=r.injector.get(Cl);return e.runInitializers(),e.donePromise.then(()=>(ba(r.injector.get(Ol,_a)||_a),this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const i=uu({},t);return function(e,t,i){const n=new Dc(i);return Promise.resolve(n)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,i))}_moduleDoBootstrap(e){const t=e.injector.get(hu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Ri($r))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function uu(e,t){return Array.isArray(t)?t.reduce(uu,e):Object.assign(Object.assign({},e),t)}let hu=(()=>{class e{constructor(e,t,i,n,s){this._zone=e,this._injector=t,this._exceptionHandler=i,this._componentFactoryResolver=n,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new r.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),l=new r.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{jl.assertNotInAngularZone(),$l(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,e.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{jl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),i.unsubscribe()}});this.isStable=(0,o.T)(c,l.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof Aa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const n=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(gc),s=i.create($r.NULL,[],t||i.selector,n),r=s.location.nativeElement,o=s.injector.get(Kl,null),a=o&&s.injector.get(Wl);return o&&a&&a.registerApplication(r,o),s.onDestroy(()=>{this.detachView(s.hostView),du(this.components,s),a&&a.unregisterApplication(r)}),this._loadComponent(s),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;du(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Al,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Ri(jl),Ri($r),Ri(Mn),Ri(Ra),Ri(Cl))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function du(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class pu{}class fu{}const mu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gu=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||mu}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,n]=e.split("#");return void 0===n&&(n="default"),i(98255)(t).then(e=>e[n]).then(e=>_u(e,t,n)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,n]=e.split("#"),s="NgFactory";return void 0===n&&(n="default",s=""),i(98255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[n+s]).then(e=>_u(e,t,n))}}return e.\u0275fac=function(t){return new(t||e)(Ri(Hl),Ri(fu,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function _u(e,t,i){if(!e)throw new Error(`Cannot find '${i}' in '${t}'`);return e}const vu=function(e){return null},bu=au(null,"core",[{provide:xl,useValue:"unknown"},{provide:lu,deps:[$r]},{provide:Wl,deps:[]},{provide:Il,deps:[]}]),yu=[{provide:hu,useClass:hu,deps:[jl,$r,Mn,Ra,Cl]},{provide:Ac,deps:[jl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Cl,useClass:Cl,deps:[[new Ui,Sl]]},{provide:Hl,useClass:Hl,deps:[]},El,{provide:ec,useFactory:function(){return lc},deps:[]},{provide:ic,useFactory:function(){return uc},deps:[]},{provide:Ol,useFactory:function(e){return ba(e=e||"undefined"!=typeof $localize&&$localize.locale||_a),e},deps:[[new Fi(Ol),new Ui,new Hi]]},{provide:Rl,useValue:"USD"}];let Su=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Ri(hu))},e.\u0275mod=ie({type:e}),e.\u0275inj=C({providers:yu}),e})()},3679:function(e,t,i){"use strict";i.d(t,{Zs:function(){return Ze},Fj:function(){return p},CE:function(){return He},qu:function(){return nt},NI:function(){return ge},oH:function(){return De},u:function(){return je},cw:function(){return _e},sg:function(){return Le},x0:function(){return Fe},u5:function(){return tt},nD:function(){return Je},wO:function(){return Ke},Cf:function(){return g},JU:function(){return u},a5:function(){return V},JJ:function(){return Y},JL:function(){return Z},F:function(){return Se},On:function(){return Te},c5:function(){return Xe},_:function(){return Oe},UX:function(){return it},Q7:function(){return Ye},kI:function(){return b},_Y:function(){return ke}});var n=i(37716),s=i(38583),r=i(94402),o=i(35758),a=i(88002);let c=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Qsj),n.Y36(n.SBq))},e.\u0275dir=n.lG2({type:e}),e})(),l=(()=>{class e extends c{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,features:[n.qOj]}),e})();const u=new n.OlP("NgValueAccessor"),h={provide:u,useExisting:(0,n.Gpc)(()=>p),multi:!0},d=new n.OlP("CompositionEventMode");let p=(()=>{class e extends c{constructor(e,t,i){super(e,t),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,s.q)()?(0,s.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(d,8))},e.\u0275dir=n.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&n.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[n._Bn([h]),n.qOj]}),e})();function f(e){return null==e||0===e.length}function m(e){return null!=e&&"number"==typeof e.length}const g=new n.OlP("NgValidators"),_=new n.OlP("NgAsyncValidators"),v=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class b{static min(e){return t=e,e=>{if(f(e.value)||f(t))return null;const i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null};var t}static max(e){return t=e,e=>{if(f(e.value)||f(t))return null;const i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null};var t}static required(e){return y(e)}static requiredTrue(e){return S(e)}static email(e){return f((t=e).value)||v.test(t.value)?null:{email:!0};var t}static minLength(e){return C(e)}static maxLength(e){return w(e)}static pattern(e){return E(e)}static nullValidator(e){return null}static compose(e){return R(e)}static composeAsync(e){return D(e)}}function y(e){return f(e.value)?{required:!0}:null}function S(e){return!0===e.value?null:{required:!0}}function C(e){return t=>f(t.value)||!m(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function w(e){return t=>m(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function E(e){if(!e)return T;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(f(e.value))return null;const n=e.value;return t.test(n)?null:{pattern:{requiredPattern:i,actualValue:n}}}}function T(e){return null}function k(e){return null!=e}function x(e){const t=(0,n.QGY)(e)?(0,r.D)(e):e;return(0,n.CqO)(t),t}function A(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function I(e,t){return t.map(t=>t(e))}function O(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function R(e){if(!e)return null;const t=e.filter(k);return 0==t.length?null:function(e){return A(I(e,t))}}function P(e){return null!=e?R(O(e)):null}function D(e){if(!e)return null;const t=e.filter(k);return 0==t.length?null:function(e){const i=I(e,t).map(x);return(0,o.D)(i).pipe((0,a.U)(A))}}function N(e){return null!=e?D(O(e)):null}function L(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function M(e){return e._rawValidators}function F(e){return e._rawAsyncValidators}function U(e){return e?Array.isArray(e)?e:[e]:[]}function H(e,t){return Array.isArray(e)?e.includes(t):e===t}function B(e,t){const i=U(t);return U(e).forEach(e=>{H(i,e)||i.push(e)}),i}function $(e,t){return U(t).filter(t=>!H(e,t))}let j=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=P(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=N(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e}),e})(),G=(()=>{class e extends j{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,features:[n.qOj]}),e})();class V extends j{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class q{constructor(e){this._cd=e}is(e){var t,i,n;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(n=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===n?void 0:n[e])}}let Y=(()=>{class e extends q{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(V,2))},e.\u0275dir=n.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&n.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[n.qOj]}),e})(),Z=(()=>{class e extends q{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(G,10))},e.\u0275dir=n.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&n.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[n.qOj]}),e})();function z(e,t){return[...t.path,e]}function K(e,t){Q(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ee(e,t)})}(e,t),function(e,t){const i=(e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ee(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const i=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}(e,t)}function W(e,t,i=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),X(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function J(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Q(e,t){const i=M(e);null!==t.validator?e.setValidators(L(i,t.validator)):"function"==typeof i&&e.setValidators([i]);const n=F(e);null!==t.asyncValidator?e.setAsyncValidators(L(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const s=()=>e.updateValueAndValidity();J(t._rawValidators,s),J(t._rawAsyncValidators,s)}function X(e,t){let i=!1;if(null!==e){if(null!==t.validator){const n=M(e);if(Array.isArray(n)&&n.length>0){const s=n.filter(e=>e!==t.validator);s.length!==n.length&&(i=!0,e.setValidators(s))}}if(null!==t.asyncValidator){const n=F(e);if(Array.isArray(n)&&n.length>0){const s=n.filter(e=>e!==t.asyncValidator);s.length!==n.length&&(i=!0,e.setAsyncValidators(s))}}}const n=()=>{};return J(t._rawValidators,n),J(t._rawAsyncValidators,n),i}function ee(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function te(e,t){Q(e,t)}function ie(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}function ne(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function se(e,t){if(!t)return null;let i,n,s;return Array.isArray(t),t.forEach(e=>{e.constructor===p?i=e:function(e){return Object.getPrototypeOf(e.constructor)===l}(e)?n=e:s=e}),s||n||i||null}function re(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const oe="VALID",ae="INVALID",ce="PENDING",le="DISABLED";function ue(e){return(fe(e)?e.validators:e)||null}function he(e){return Array.isArray(e)?P(e):e||null}function de(e,t){return(fe(t)?t.asyncValidators:e)||null}function pe(e){return Array.isArray(e)?N(e):e||null}function fe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class me{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=he(this._rawValidators),this._composedAsyncValidatorFn=pe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===oe}get invalid(){return this.status===ae}get pending(){return this.status==ce}get disabled(){return this.status===le}get enabled(){return this.status!==le}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=he(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=pe(e)}addValidators(e){this.setValidators(B(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(B(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($(e,this._rawAsyncValidators))}hasValidator(e){return H(this._rawValidators,e)}hasAsyncValidator(e){return H(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ce,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=le,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=oe,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oe||this.status===ce)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?le:oe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ce,this._hasOwnPendingAsyncValidator=!0;const t=x(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,i){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let n=e;return t.forEach(e=>{n=n instanceof _e?n.controls.hasOwnProperty(e)?n.controls[e]:null:n instanceof ve&&n.at(e)||null}),n}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new n.vpe,this.statusChanges=new n.vpe}_calculateStatus(){return this._allControlsDisabled()?le:this.errors?ae:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ce)?ce:this._anyControlsHaveStatus(ae)?ae:oe}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fe(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ge extends me{constructor(e=null,t,i){super(ue(t),de(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){re(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){re(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class _e extends me{constructor(e,t,i){super(ue(t),de(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof ge?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((e,n)=>{i=t(i,e,n)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class ve extends me{constructor(e,t,i){super(ue(t),de(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,i)=>{this.at(i)&&this.at(i).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ge?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const be={provide:G,useExisting:(0,n.Gpc)(()=>Se)},ye=(()=>Promise.resolve(null))();let Se=(()=>{class e extends G{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new n.vpe,this.form=new _e({},P(e),N(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ye.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),K(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ye.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),re(this._directives,e)})}addFormGroup(e){ye.then(()=>{const t=this._findContainer(e.path),i=new _e({});te(i,e),t.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ye.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){ye.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,ne(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(g,10),n.Y36(_,10))},e.\u0275dir=n.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&n.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([be]),n.qOj]}),e})(),Ce=(()=>{class e extends G{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return z(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,features:[n.qOj]}),e})();const we={provide:V,useExisting:(0,n.Gpc)(()=>Te)},Ee=(()=>Promise.resolve(null))();let Te=(()=>{class e extends V{constructor(e,t,i,s){super(),this.control=new ge,this._registered=!1,this.update=new n.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=se(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),ie(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?z(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){K(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Ee.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,i=""===t||t&&"false"!==t;Ee.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(G,9),n.Y36(g,10),n.Y36(_,10),n.Y36(u,10))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[n._Bn([we]),n.qOj,n.TTD]}),e})(),ke=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const xe={provide:u,useExisting:(0,n.Gpc)(()=>Oe),multi:!0};let Ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e})(),Ie=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,n.Yz7)({factory:function(){return new e},token:e,providedIn:Ae}),e})(),Oe=(()=>{class e extends l{constructor(e,t,i,n){super(e,t),this._registry=i,this._injector=n,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(V),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(Ie),n.Y36(n.zs3))},e.\u0275dir=n.lG2({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&n.NdJ("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[n._Bn([xe]),n.qOj]}),e})();const Re=new n.OlP("NgModelWithFormControlWarning"),Pe={provide:V,useExisting:(0,n.Gpc)(()=>De)};let De=(()=>{class e extends V{constructor(e,t,i,s){super(),this._ngModelWarningConfig=s,this.update=new n.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=se(0,i)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const t=e.form.previousValue;t&&W(t,this,!1),K(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}ie(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&W(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(g,10),n.Y36(_,10),n.Y36(u,10),n.Y36(Re,8))},e.\u0275dir=n.lG2({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[n._Bn([Pe]),n.qOj,n.TTD]}),e._ngModelWarningSentOnce=!1,e})();const Ne={provide:G,useExisting:(0,n.Gpc)(()=>Le)};let Le=(()=>{class e extends G{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new n.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(X(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return K(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){W(e.control||null,e,!1),re(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,ne(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,i=this.form.get(e.path);t!==i&&(W(t||null,e),i instanceof ge&&(K(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);te(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return X(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Q(this.form,this),this._oldForm&&X(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(g,10),n.Y36(_,10))},e.\u0275dir=n.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&n.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([Ne]),n.qOj,n.TTD]}),e})();const Me={provide:G,useExisting:(0,n.Gpc)(()=>Fe)};let Fe=(()=>{class e extends Ce{constructor(e,t,i){super(),this._parent=e,this._setValidators(t),this._setAsyncValidators(i)}_checkParentType(){Be(this._parent)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(G,13),n.Y36(g,10),n.Y36(_,10))},e.\u0275dir=n.lG2({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[n._Bn([Me]),n.qOj]}),e})();const Ue={provide:G,useExisting:(0,n.Gpc)(()=>He)};let He=(()=>{class e extends G{constructor(e,t,i){super(),this._parent=e,this._setValidators(t),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return z(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Be(this._parent)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(G,13),n.Y36(g,10),n.Y36(_,10))},e.\u0275dir=n.lG2({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[n._Bn([Ue]),n.qOj]}),e})();function Be(e){return!(e instanceof Fe||e instanceof Le||e instanceof He)}const $e={provide:V,useExisting:(0,n.Gpc)(()=>je)};let je=(()=>{class e extends V{constructor(e,t,i,s,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new n.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=se(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),ie(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return z(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(G,13),n.Y36(g,10),n.Y36(_,10),n.Y36(u,10),n.Y36(Re,8))},e.\u0275dir=n.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[n._Bn([$e]),n.qOj,n.TTD]}),e._ngModelWarningSentOnce=!1,e})();function Ge(e){return"number"==typeof e?e:parseInt(e,10)}const Ve={provide:g,useExisting:(0,n.Gpc)(()=>Ye),multi:!0},qe={provide:g,useExisting:(0,n.Gpc)(()=>Ze),multi:!0};let Ye=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?y(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&n.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[n._Bn([Ve])]}),e})(),Ze=(()=>{class e extends Ye{validate(e){return this.required?S(e):null}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&n.uIk("required",t.required?"":null)},features:[n._Bn([qe]),n.qOj]}),e})();const ze={provide:g,useExisting:(0,n.Gpc)(()=>Ke),multi:!0};let Ke=(()=>{class e{constructor(){this._validator=T}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this.enabled()?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=this.enabled()?C(Ge(this.minlength)):T}enabled(){return null!=this.minlength}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&n.uIk("minlength",t.enabled()?t.minlength:null)},inputs:{minlength:"minlength"},features:[n._Bn([ze]),n.TTD]}),e})();const We={provide:g,useExisting:(0,n.Gpc)(()=>Je),multi:!0};let Je=(()=>{class e{constructor(){this._validator=T}ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this.enabled()?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=this.enabled()?w(Ge(this.maxlength)):T}enabled(){return null!=this.maxlength}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&n.uIk("maxlength",t.enabled()?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[n._Bn([We]),n.TTD]}),e})();const Qe={provide:g,useExisting:(0,n.Gpc)(()=>Xe),multi:!0};let Xe=(()=>{class e{constructor(){this._validator=T}ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=E(this.pattern)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&n.uIk("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[n._Bn([Qe]),n.TTD]}),e})(),et=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[Ae]]}),e})(),tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[et]}),e})(),it=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Re,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[et]}),e})(),nt=(()=>{class e{group(e,t=null){const i=this._reduceControls(e);let n,s=null,r=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(s=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,n=null!=t.updateOn?t.updateOn:void 0):(s=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new _e(i,{asyncValidators:r,updateOn:n,validators:s})}control(e,t,i){return new ge(e,t,i)}array(e,t,i){const n=e.map(e=>this._createControl(e));return new ve(n,t,i)}_reduceControls(e){const t={};return Object.keys(e).forEach(i=>{t[i]=this._createControl(e[i])}),t}_createControl(e){return e instanceof ge||e instanceof _e||e instanceof ve?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,n.Yz7)({factory:function(){return new e},token:e,providedIn:it}),e})()},21554:function(e,t,i){"use strict";i.d(t,{XC:function(){return M},Bb:function(){return j},ZL:function(){return $}});var n=i(19238),s=i(39490),r=i(80521),o=i(37716),a=i(72458),c=i(75319),l=i(79765),u=i(41439),h=i(66682),d=i(25917),p=i(22759),f=i(38583),m=i(90625),g=i(71386),_=i(36461),v=i(87636),b=i(3679),y=i(98295),S=i(15257),C=i(43190),w=i(45435),E=i(88002),T=i(68307),k=i(71289),x=i(70946);const A=["panel"];function I(e,t){if(1&e&&(o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA()),2&e){const e=t.id,i=o.oxw();o.Q6J("id",i.id)("ngClass",i._classList),o.uIk("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}const O=["*"];let R=0;class P{constructor(e,t){this.source=e,this.option=t}}const D=(0,a.Kr)(class{}),N=new o.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let L=(()=>{class e extends D{constructor(e,t,i,n){super(),this._changeDetectorRef=e,this._elementRef=t,this._activeOptionChanges=c.w.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new o.vpe,this.opened=new o.vpe,this.closed=new o.vpe,this.optionActivated=new o.vpe,this._classList={},this.id="mat-autocomplete-"+R++,this.inertGroups=(null==n?void 0:n.SAFARI)||!1,this._autoActiveFirstOption=!!i.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(e){this._autoActiveFirstOption=(0,s.Ig)(e)}set classList(e){this._classList=e&&e.length?(0,s.du)(e).reduce((e,t)=>(e[t]=!0,e),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new n.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const t=new P(this,e);this.optionSelected.emit(t)}_getPanelAriaLabelledby(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_setVisibilityClasses(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(N),o.Y36(r.t4))},e.\u0275dir=o.lG2({type:e,viewQuery:function(e,t){if(1&e&&(o.Gf(o.Rgc,7),o.Gf(A,5)),2&e){let e;o.iGM(e=o.CRH())&&(t.template=e.first),o.iGM(e=o.CRH())&&(t.panel=e.first)}},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[o.qOj]}),e})(),M=(()=>{class e extends L{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(e)))(i||e)}}(),e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(e,t,i){if(1&e&&(o.Suo(i,a.K7,5),o.Suo(i,a.ey,5)),2&e){let e;o.iGM(e=o.CRH())&&(t.optionGroups=e),o.iGM(e=o.CRH())&&(t.options=e)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[o._Bn([{provide:a.HF,useExisting:e}]),o.qOj],ngContentSelectors:O,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(e,t){1&e&&(o.F$t(),o.YNc(0,I,3,4,"ng-template"))},directives:[f.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),e})();const F=new o.OlP("mat-autocomplete-scroll-strategy"),U={provide:F,deps:[m.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition()}},H={provide:b.JU,useExisting:(0,o.Gpc)(()=>$),multi:!0};let B=(()=>{class e{constructor(e,t,i,n,s,r,o,a,d,p,f){this._element=e,this._overlay=t,this._viewContainerRef=i,this._zone=n,this._changeDetectorRef=s,this._dir=o,this._formField=a,this._document=d,this._viewportRuler=p,this._defaults=f,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=c.w.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new l.xQ,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,u.P)(()=>this.autocomplete&&this.autocomplete.options?(0,h.T)(...this.autocomplete.options.map(e=>e.onSelectionChange)):this._zone.onStable.pipe((0,S.q)(1),(0,C.w)(()=>this.optionSelections))),this._scrollStrategy=r}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(e){this._autocompleteDisabled=(0,s.Ig)(e)}ngAfterViewInit(){const e=this._getWindow();void 0!==e&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();void 0!==e&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,h.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,w.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,w.h)(()=>this._overlayAttached)):(0,d.of)()).pipe((0,E.U)(e=>e instanceof a.rN?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,h.T)((0,p.R)(this._document,"click"),(0,p.R)(this._document,"auxclick"),(0,p.R)(this._document,"touchend")).pipe((0,w.h)(e=>{const t=(0,r.sA)(e),i=this._formField?this._formField._elementRef.nativeElement:null,n=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&t!==this._element.nativeElement&&(!i||!i.contains(t))&&(!n||!n.contains(t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(t)}))}writeValue(e){Promise.resolve(null).then(()=>this._setTriggerValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const t=e.keyCode;if(t===_.hY&&!(0,_.Vb)(e)&&e.preventDefault(),this.activeOption&&t===_.K5&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const i=this.autocomplete._keyManager.activeItem,n=t===_.LH||t===_.JH;this.panelOpen||t===_.Mf?this.autocomplete._keyManager.onKeydown(e):n&&this._canOpen()&&this.openPanel(),(n||this.autocomplete._keyManager.activeItem!==i)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(e){let t=e.target,i=t.value;"number"===t.type&&(i=""==i?null:parseFloat(i)),this._previousValue!==i&&(this._previousValue=i,this._onChange(i),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const e=this._zone.onStable.pipe((0,S.q)(1)),t=this.autocomplete.options.changes.pipe((0,T.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,k.g)(0));return(0,h.T)(e,t).pipe((0,C.w)(()=>{const e=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),e!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),(0,S.q)(1)).subscribe(e=>this._setValueAndClose(e))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(e){const t=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e,i=null!=t?t:"";this._formField?this._formField._control.value=i:this._element.nativeElement.value=i,this._previousValue=i}_setValueAndClose(e){e&&e.source&&(this._clearPreviousSelectedOption(e.source),this._setTriggerValue(e.source.value),this._onChange(e.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(e.source)),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(t=>{t!==e&&t.selected&&t.deselect()})}_attachOverlay(){var e;let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new v.UE(this.autocomplete.template,this._viewContainerRef,{id:null===(e=this._formField)||void 0===e?void 0:e.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe(e=>{(e.keyCode===_.hY&&!(0,_.Vb)(e)||e.keyCode===_.LH&&(0,_.Vb)(e,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var e;return new m.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(e=this._defaults)||void 0===e?void 0:e.overlayPanelClass})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}];let s;s="above"===this.position?n:"below"===this.position?t:[...t,...n],e.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const e=this.autocomplete;e.autoActiveFirstOption?e._keyManager.setFirstItemActive():e._keyManager.setActiveItem(-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}_getWindow(){var e;return(null===(e=this._document)||void 0===e?void 0:e.defaultView)||window}_scrollToOption(e){const t=this.autocomplete,i=(0,a.CB)(e,t.options,t.optionGroups);if(0===e&&1===i)t._setScrollTop(0);else if(t.panel){const i=t.options.toArray()[e];if(i){const e=i._getHostElement(),n=(0,a.jH)(e.offsetTop,e.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(n)}}}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq),o.Y36(m.aV),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(F),o.Y36(x.Is,8),o.Y36(y.G_,9),o.Y36(f.K0,8),o.Y36(g.rL),o.Y36(N,8))},e.\u0275dir=o.lG2({type:e,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[o.TTD]}),e})(),$=(()=>{class e extends B{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(e)))(i||e)}}(),e.\u0275dir=o.lG2({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(e,t){1&e&&o.NdJ("focusin",function(){return t._handleFocus()})("blur",function(){return t._onTouched()})("input",function(e){return t._handleInput(e)})("keydown",function(e){return t._handleKeydown(e)}),2&e&&o.uIk("autocomplete",t.autocompleteAttribute)("role",t.autocompleteDisabled?null:"combobox")("aria-autocomplete",t.autocompleteDisabled?null:"list")("aria-activedescendant",t.panelOpen&&t.activeOption?t.activeOption.id:null)("aria-expanded",t.autocompleteDisabled?null:t.panelOpen.toString())("aria-owns",t.autocompleteDisabled||!t.panelOpen||null==t.autocomplete?null:t.autocomplete.id)("aria-haspopup",!t.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[o._Bn([H]),o.qOj]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[U],imports:[[m.U8,a.Ng,a.BQ,f.ez],g.ZD,a.Ng,a.BQ]}),e})()},70346:function(e,t,i){"use strict";i.d(t,{k:function(){return u},g:function(){return h}});var n=i(72458),s=i(19238),r=i(39490),o=i(46237),a=i(37716);let c=0;const l=(0,n.Id)(class{});let u=(()=>{class e extends l{constructor(e,t,i,n,s){super(),this._ngZone=e,this._elementRef=t,this._ariaDescriber=i,this._renderer=n,this._animationMode=s,this._hasContent=!1,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=c++}get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=(0,r.Ig)(e)}get description(){return this._description}set description(e){if(e!==this._description){const t=this._badgeElement;this._updateHostAriaDescription(e,this._description),this._description=e,t&&(e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label"))}}get hidden(){return this._hidden}set hidden(e){this._hidden=(0,r.Ig)(e)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}ngOnChanges(e){const t=e.content;if(t){const e=t.currentValue;this._hasContent=null!=e&&`${e}`.trim().length>0,this._updateTextContent()}}ngOnDestroy(){const e=this._badgeElement;e&&(this.description&&this._ariaDescriber.removeDescription(e,this.description),this._renderer.destroyNode&&this._renderer.destroyNode(e))}getBadgeElement(){return this._badgeElement}_updateTextContent(){return this._badgeElement?this._badgeElement.textContent=this._stringifyContent():this._badgeElement=this._createBadgeElement(),this._badgeElement}_createBadgeElement(){const e=this._renderer.createElement("span"),t="mat-badge-active",i="mat-badge-content";return this._clearExistingBadges(i),e.setAttribute("id",`mat-badge-content-${this._id}`),e.classList.add(i),e.textContent=this._stringifyContent(),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this.description&&e.setAttribute("aria-label",this.description),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(t)})}):e.classList.add(t),e}_updateHostAriaDescription(e,t){const i=this._updateTextContent();t&&this._ariaDescriber.removeDescription(i,t),e&&this._ariaDescriber.describe(i,e)}_setColor(e){if(e!==this._color){const t=this._elementRef.nativeElement.classList;this._color&&t.remove(`mat-badge-${this._color}`),e&&t.add(`mat-badge-${e}`)}}_clearExistingBadges(e){const t=this._elementRef.nativeElement;let i=t.children.length;for(;i--;){const n=t.children[i];n.classList.contains(e)&&t.removeChild(n)}}_stringifyContent(){const e=this.content;return null==e?"":`${e}`}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(s.$s),a.Y36(a.Qsj),a.Y36(o.Qb,8))},e.\u0275dir=a.lG2({type:e,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,t){2&e&&a.ekj("mat-badge-overlap",t.overlap)("mat-badge-above",t.isAbove())("mat-badge-below",!t.isAbove())("mat-badge-before",!t.isAfter())("mat-badge-after",t.isAfter())("mat-badge-small","small"===t.size)("mat-badge-medium","medium"===t.size)("mat-badge-large","large"===t.size)("mat-badge-hidden",t.hidden||!t._hasContent)("mat-badge-disabled",t.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],position:["matBadgePosition","position"],size:["matBadgeSize","size"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],description:["matBadgeDescription","description"],hidden:["matBadgeHidden","hidden"],content:["matBadge","content"]},features:[a.qOj,a.TTD]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.rt,n.BQ],n.BQ]}),e})()},51095:function(e,t,i){"use strict";i.d(t,{zs:function(){return p},lW:function(){return d},ot:function(){return f}});var n=i(72458),s=i(46237),r=i(37716),o=i(19238);const a=["mat-button",""],c=["*"],l=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",u=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],h=(0,n.pj)((0,n.Id)((0,n.Kr)(class{constructor(e){this._elementRef=e}})));let d=(()=>{class e extends h{constructor(e,t,i){super(e),this._focusMonitor=t,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const n of u)this._hasHostAttributes(n)&&this._getHostElement().classList.add(n);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(o.tE),r.Y36(s.Qb,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&r.Gf(n.wG,5),2&e){let e;r.iGM(e=r.CRH())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(r.uIk("disabled",t.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:a,ngContentSelectors:c,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&e&&(r.xp6(2),r.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),r.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[n.wG],styles:[l],encapsulation:2,changeDetection:0}),e})(),p=(()=>{class e extends d{constructor(e,t,i){super(t,e,i)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.tE),r.Y36(r.SBq),r.Y36(s.Qb,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t._haltDisabledEvents(e)}),2&e&&(r.uIk("tabindex",t.disabled?-1:t.tabIndex||0)("disabled",t.disabled||null)("aria-disabled",t.disabled.toString()),r.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[r.qOj],attrs:a,ngContentSelectors:c,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&e&&(r.xp6(2),r.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),r.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[n.wG],styles:[l],encapsulation:2,changeDetection:0}),e})(),f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[n.si,n.BQ],n.BQ]}),e})()},7539:function(e,t,i){"use strict";i.d(t,{oG:function(){return y},p9:function(){return C}});var n=i(39490),s=i(37716),r=i(3679),o=i(72458),a=i(46237),c=i(18553),l=i(19238);const u=["input"],h=function(e){return{enterDuration:e}},d=["*"],p=new s.OlP("mat-checkbox-default-options",{providedIn:"root",factory:f});function f(){return{color:"accent",clickAction:"check-indeterminate"}}let m=0;const g=f(),_={provide:r.JU,useExisting:(0,s.Gpc)(()=>y),multi:!0};class v{}const b=(0,o.sb)((0,o.pj)((0,o.Kr)((0,o.Id)(class{constructor(e){this._elementRef=e}}))));let y=(()=>{class e extends b{constructor(e,t,i,n,r,o,a){super(e),this._changeDetectorRef=t,this._focusMonitor=i,this._ngZone=n,this._animationMode=o,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++m,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new s.vpe,this.indeterminateChange=new s.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||g,this.color=this.defaultColor=this._options.color||g.color,this.tabIndex=parseInt(r)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=(0,n.Ig)(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const t=(0,n.Ig)(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const t=e!=this._indeterminate;this._indeterminate=(0,n.Ig)(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let t=this._currentCheckState,i=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const e=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(e)},1e3)})}}_emitChangeEvent(){const e=new v;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var t;const i=null===(t=this._options)||void 0===t?void 0:t.clickAction;e.stopPropagation(),this.disabled||"noop"===i?!this.disabled&&"noop"===i&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==i&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,t){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,t){if("NoopAnimations"===this._animationMode)return"";let i="";switch(e){case 0:if(1===t)i="unchecked-checked";else{if(3!=t)return"";i="unchecked-indeterminate"}break;case 2:i=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:i=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:i=1===t?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${i}`}_syncIndeterminate(e){const t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(l.tE),s.Y36(s.R0b),s.$8M("tabindex"),s.Y36(a.Qb,8),s.Y36(p,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-checkbox"]],viewQuery:function(e,t){if(1&e&&(s.Gf(u,5),s.Gf(o.wG,5)),2&e){let e;s.iGM(e=s.CRH())&&(t._inputElement=e.first),s.iGM(e=s.CRH())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(s.Ikx("id",t.id),s.uIk("tabindex",null),s.ekj("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[s._Bn([_]),s.qOj],ngContentSelectors:d,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1),s.TgZ(2,"span",2),s.TgZ(3,"input",3,4),s.NdJ("change",function(e){return t._onInteractionEvent(e)})("click",function(e){return t._onInputClick(e)}),s.qZA(),s.TgZ(5,"span",5),s._UZ(6,"span",6),s.qZA(),s._UZ(7,"span",7),s.TgZ(8,"span",8),s.O4$(),s.TgZ(9,"svg",9),s._UZ(10,"path",10),s.qZA(),s.kcU(),s._UZ(11,"span",11),s.qZA(),s.qZA(),s.TgZ(12,"span",12,13),s.NdJ("cdkObserveContent",function(){return t._onLabelTextChange()}),s.TgZ(14,"span",14),s._uU(15,"\xa0"),s.qZA(),s.Hsn(16),s.qZA(),s.qZA()),2&e){const e=s.MAs(1),i=s.MAs(13);s.uIk("for",t.inputId),s.xp6(2),s.ekj("mat-checkbox-inner-container-no-side-margin",!i.textContent||!i.textContent.trim()),s.xp6(1),s.Q6J("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),s.uIk("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked())("aria-describedby",t.ariaDescribedby),s.xp6(2),s.Q6J("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",s.VKq(19,h,"NoopAnimations"===t._animationMode?0:150))}},directives:[o.wG,c.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e})(),C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.si,o.BQ,c.Q8,S],o.BQ,S]}),e})()},72458:function(e,t,i){"use strict";i.d(t,{yN:function(){return v},mZ:function(){return b},rD:function(){return O},K7:function(){return W},HF:function(){return Y},Y2:function(){return $},BQ:function(){return w},X2:function(){return R},uc:function(){return N},ey:function(){return ee},Ng:function(){return ne},rN:function(){return Q},nP:function(){return V},us:function(){return q},wG:function(){return j},si:function(){return G},IR:function(){return B},CB:function(){return te},jH:function(){return ie},pj:function(){return T},Kr:function(){return k},Id:function(){return E},FD:function(){return A},dB:function(){return I},sb:function(){return x},E0:function(){return P}});var n=i(37716),s=i(19238),r=i(70946);const o=new n.GfV("12.2.13");var a=i(38583),c=i(80521),l=i(39490),u=i(79765),h=i(18891),d=i(39761),p=i(46237),f=i(36461);function m(e,t){if(1&e&&n._UZ(0,"mat-pseudo-checkbox",4),2&e){const e=n.oxw();n.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function g(e,t){if(1&e&&(n.TgZ(0,"span",5),n._uU(1),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.hij("(",e.group.label,")")}}const _=["*"];let v=(()=>{class e{}return e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",e})(),b=(()=>{class e{}return e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms",e})();const y=new n.GfV("12.2.13"),S=new n.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let C,w=(()=>{class e{constructor(e,t,i){this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,n.X6Q)()||(0,c.Oy)())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&y.full!==o.full&&console.warn("The Angular Material version ("+y.full+") does not match the Angular CDK version ("+o.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.qm),n.LFG(S,8),n.LFG(a.K0))},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[r.vT],r.vT]}),e})();function E(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,l.Ig)(e)}}}function T(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}function k(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=(0,l.Ig)(e)}}}function x(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?(0,l.su)(e):this.defaultTabIndex}}}function A(e){return class extends e{constructor(...e){super(...e),this.stateChanges=new u.xQ,this.errorState=!1}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}function I(e){return class extends e{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new h.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}try{C="undefined"!=typeof Intl}catch(se){C=!1}let O=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),e})();function P(e,t,i="mat"){e.changes.pipe((0,d.O)(e)).subscribe(({length:e})=>{D(t,`${i}-2-line`,!1),D(t,`${i}-3-line`,!1),D(t,`${i}-multi-line`,!1),2===e||3===e?D(t,`${i}-${e}-line`,!0):e>3&&D(t,`${i}-multi-line`,!0)})}function D(e,t,i){const n=e.nativeElement.classList;i?n.add(t):n.remove(t)}let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[w],w]}),e})();class L{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const M={enterDuration:225,exitDuration:150},F=(0,c.i$)({passive:!0}),U=["mousedown","touchstart"],H=["mouseup","mouseleave","touchend","touchcancel"];class B{constructor(e,t,i,n){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=(0,l.fI)(i))}fadeInRipple(e,t,i={}){const n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},M),i.animation);i.centered&&(e=n.left+n.width/2,t=n.top+n.height/2);const r=i.radius||function(e,t,i){const n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),s=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+s*s)}(e,t,n),o=e-n.left,a=t-n.top,c=s.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-r+"px",l.style.top=a-r+"px",l.style.height=2*r+"px",l.style.width=2*r+"px",null!=i.color&&(l.style.backgroundColor=i.color),l.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new L(this,l,i);return u.state=0,this._activeRipples.add(u),i.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const e=u===this._mostRecentTransientRipple;u.state=1,!i.persistent&&(!e||!this._isPointerDown)&&u.fadeOut()},c),u}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,n=Object.assign(Object.assign({},M),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.parentNode.removeChild(i)},n.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=(0,l.fI)(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(U))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(H),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=(0,s.X6)(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!(0,s.yG)(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,F)})})}_removeTriggerEvents(){this._triggerElement&&(U.forEach(e=>{this._triggerElement.removeEventListener(e,this,F)}),this._pointerUpEventsRegistered&&H.forEach(e=>{this._triggerElement.removeEventListener(e,this,F)}))}}const $=new n.OlP("mat-ripple-global-options");let j=(()=>{class e{constructor(e,t,i,n,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=n||{},this._rippleRenderer=new B(this,t,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(c.t4),n.Y36($,8),n.Y36(p.Qb,8))},e.\u0275dir=n.lG2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&n.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[w,c.ud],w]}),e})(),V=(()=>{class e{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.Qb,8))},e.\u0275cmp=n.Xpm({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&n.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),e})(),q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[w]]}),e})();const Y=new n.OlP("MAT_OPTION_PARENT_COMPONENT"),Z=E(class{});let z=0,K=(()=>{class e extends Z{constructor(e){var t;super(),this._labelId="mat-optgroup-label-"+z++,this._inert=null!==(t=null==e?void 0:e.inertGroups)&&void 0!==t&&t}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(Y,8))},e.\u0275dir=n.lG2({type:e,inputs:{label:"label"},features:[n.qOj]}),e})();const W=new n.OlP("MatOptgroup");let J=0;class Q{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let X=(()=>{class e{constructor(e,t,i,s){this._element=e,this._changeDetectorRef=t,this._parent=i,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+J++,this.onSelectionChange=new n.vpe,this._stateChanges=new u.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=(0,l.Ig)(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===f.K5||e.keyCode===f.L_)&&!(0,f.Vb)(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Q(this,e))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(void 0),n.Y36(K))},e.\u0275dir=n.lG2({type:e,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),e})(),ee=(()=>{class e extends X{constructor(e,t,i,n){super(e,t,i,n)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Y,8),n.Y36(W,8))},e.\u0275cmp=n.Xpm({type:e,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&n.NdJ("click",function(){return t._selectViaInteraction()})("keydown",function(e){return t._handleKeydown(e)}),2&e&&(n.Ikx("id",t.id),n.uIk("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),n.ekj("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[n.qOj],ngContentSelectors:_,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,t){1&e&&(n.F$t(),n.YNc(0,m,1,2,"mat-pseudo-checkbox",0),n.TgZ(1,"span",1),n.Hsn(2),n.qZA(),n.YNc(3,g,2,1,"span",2),n._UZ(4,"div",3)),2&e&&(n.Q6J("ngIf",t.multiple),n.xp6(3),n.Q6J("ngIf",t.group&&t.group._inert),n.xp6(1),n.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[a.O5,j,V],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),e})();function te(e,t,i){if(i.length){let n=t.toArray(),s=i.toArray(),r=0;for(let t=0;t<e+1;t++)n[t].group&&n[t].group===s[r]&&r++;return r}return 0}function ie(e,t,i,n){return e<i?e:e+t>i+n?Math.max(0,e-n+t):i}let ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[G,a.ez,w,q]]}),e})()},22238:function(e,t,i){"use strict";i.d(t,{WI:function(){return x},uw:function(){return P},H8:function(){return F},ZT:function(){return N},vA:function(){return y},xY:function(){return M},Is:function(){return H},so:function(){return T},uh:function(){return L}});var n=i(90625),s=i(87636),r=i(37716),o=i(72458),a=i(70946),c=i(38583),l=i(79765),u=i(41439),h=i(25917),d=i(45435),p=i(15257),f=i(39761),m=i(80521),g=i(17238),_=i(36461),v=i(19238);function b(e,t){}class y{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const S={dialogContainer:(0,g.X$)("dialogContainer",[(0,g.SB)("void, exit",(0,g.oB)({opacity:0,transform:"scale(0.7)"})),(0,g.SB)("enter",(0,g.oB)({transform:"none"})),(0,g.eR)("* => enter",(0,g.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,g.oB)({transform:"none",opacity:1}))),(0,g.eR)("* => void, * => exit",(0,g.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,g.oB)({opacity:0})))])};let C=(()=>{class e extends s.en{constructor(e,t,i,n,s,o){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=i,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=e=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=n}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=(0,m.ht)(),i=this._elementRef.nativeElement;(!t||t===this._document.body||t===i||i.contains(t))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,m.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=(0,m.ht)();return e===t||e.contains(t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(v.qV),r.Y36(r.sBO),r.Y36(c.K0,8),r.Y36(y),r.Y36(v.tE))},e.\u0275dir=r.lG2({type:e,viewQuery:function(e,t){if(1&e&&r.Gf(s.Pl,7),2&e){let e;r.iGM(e=r.CRH())&&(t._portalOutlet=e.first)}},features:[r.qOj]}),e})(),w=(()=>{class e extends C{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&r.WFA("@dialogContainer.start",function(e){return t._onAnimationStart(e)})("@dialogContainer.done",function(e){return t._onAnimationDone(e)}),2&e&&(r.Ikx("id",t._id),r.uIk("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),r.d8E("@dialogContainer",t._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&r.YNc(0,b,0,0,"ng-template",0)},directives:[s.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[S.dialogContainer]}}),e})(),E=0;class T{constructor(e,t,i="mat-dialog-"+E++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new l.xQ,this._afterClosed=new l.xQ,this._beforeClosed=new l.xQ,this._state=0,t._id=i,t._animationStateChanged.pipe((0,d.h)(e=>"opened"===e.state),(0,p.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe((0,d.h)(e=>"closed"===e.state),(0,p.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe((0,d.h)(e=>e.keyCode===_.hY&&!this.disableClose&&!(0,_.Vb)(e))).subscribe(e=>{e.preventDefault(),k(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():k(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe((0,d.h)(e=>"closing"===e.state),(0,p.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function k(e,t,i){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(i)}const x=new r.OlP("MatDialogData"),A=new r.OlP("mat-dialog-default-options"),I=new r.OlP("mat-dialog-scroll-strategy"),O={provide:I,deps:[n.aV],useFactory:function(e){return()=>e.scrollStrategies.block()}};let R=(()=>{class e{constructor(e,t,i,n,s,r,o,a,c){this._overlay=e,this._injector=t,this._defaultOptions=i,this._parentDialog=n,this._overlayContainer=s,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new l.xQ,this._afterOpenedAtThisLevel=new l.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,u.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,f.O)(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new y)).id&&this.getDialogById(t.id);const i=this._createOverlay(t),n=this._attachDialogContainer(i,t),s=this._attachDialogContent(e,n,i,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),n._initializeWithAttachedContent(),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new n.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const i=r.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:y,useValue:t}]}),n=new s.C5(this._dialogContainerType,t.viewContainerRef,i,t.componentFactoryResolver);return e.attach(n).instance}_attachDialogContent(e,t,i,n){const o=new this._dialogRefConstructor(i,t,n.id);if(e instanceof r.Rgc)t.attachTemplatePortal(new s.UE(e,null,{$implicit:n.data,dialogRef:o}));else{const i=this._createInjector(n,o,t),r=t.attachComponentPortal(new s.C5(e,n.viewContainerRef,i));o.componentInstance=r.instance}return o.updateSize(n.width,n.height).updatePosition(n.position),o}_createInjector(e,t,i){const n=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return e.direction&&(!n||!n.get(a.Is,null,r.XFs.Optional))&&s.push({provide:a.Is,useValue:{value:e.direction,change:(0,h.of)()}}),r.zs3.create({parent:n||this._injector,providers:s})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let n=t[i];n!==e&&"SCRIPT"!==n.nodeName&&"STYLE"!==n.nodeName&&!n.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(n.aV),r.Y36(r.zs3),r.Y36(void 0),r.Y36(void 0),r.Y36(n.Xj),r.Y36(void 0),r.Y36(r.DyG),r.Y36(r.DyG),r.Y36(r.OlP))},e.\u0275dir=r.lG2({type:e}),e})(),P=(()=>{class e extends R{constructor(e,t,i,n,s,r,o){super(e,t,n,r,o,s,T,w,x)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(n.aV),r.LFG(r.zs3),r.LFG(c.Ye,8),r.LFG(A,8),r.LFG(I),r.LFG(e,12),r.LFG(n.Xj))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),D=0,N=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this._elementRef=t,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=U(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){k(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(T,8),r.Y36(r.SBq),r.Y36(P))},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t._onButtonClick(e)}),2&e&&r.uIk("aria-label",t.ariaLabel||null)("type",t.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.TTD]}),e})(),L=(()=>{class e{constructor(e,t,i){this._dialogRef=e,this._elementRef=t,this._dialog=i,this.id="mat-dialog-title-"+D++}ngOnInit(){this._dialogRef||(this._dialogRef=U(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(T,8),r.Y36(r.SBq),r.Y36(P))},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,t){2&e&&r.Ikx("id",t.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),e})();function U(e,t){let i=e.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-dialog-container");)i=i.parentElement;return i?t.find(e=>e.id===i.id):null}let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[P,O],imports:[[n.U8,s.eL,o.BQ],o.BQ]}),e})()},1769:function(e,t,i){"use strict";i.d(t,{d:function(){return o},t:function(){return a}});var n=i(39490),s=i(72458),r=i(37716);let o=(()=>{class e{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=(0,n.Ig)(e)}get inset(){return this._inset}set inset(e){this._inset=(0,n.Ig)(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,t){2&e&&(r.uIk("aria-orientation",t.vertical?"vertical":"horizontal"),r.ekj("mat-divider-vertical",t.vertical)("mat-divider-horizontal",!t.vertical)("mat-divider-inset",t.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,t){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.BQ],s.BQ]}),e})()},98295:function(e,t,i){"use strict";i.d(t,{G_:function(){return Q},TO:function(){return F},KE:function(){return X},Eo:function(){return H},lN:function(){return ee},bx:function(){return j},hX:function(){return G},qo:function(){return Y},R9:function(){return z}});var n=i(18553),s=i(38583),r=i(37716),o=i(72458),a=i(39490),c=i(79765),l=i(66682),u=i(22759),h=i(39761),d=i(46782),p=i(15257),f=i(17238),m=i(46237),g=i(70946),_=i(80521);const v=["underline"],b=["connectionContainer"],y=["inputContainer"],S=["label"];function C(e,t){1&e&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15),r._UZ(3,"div",16),r._UZ(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15),r._UZ(7,"div",16),r._UZ(8,"div",17),r.qZA(),r.BQk())}function w(e,t){1&e&&(r.TgZ(0,"div",19),r.Hsn(1,1),r.qZA())}function E(e,t){if(1&e&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&e){const e=r.oxw(2);r.xp6(3),r.Oqu(e._control.placeholder)}}function T(e,t){1&e&&r.Hsn(0,3,["*ngSwitchCase","true"])}function k(e,t){1&e&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function x(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(e),r.oxw().updateOutlineGap()}),r.YNc(2,E,4,1,"ng-container",12),r.YNc(3,T,1,0,"ng-content",12),r.YNc(4,k,2,0,"span",22),r.qZA()}if(2&e){const e=r.oxw();r.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),r.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),r.uIk("for",e._control.id)("aria-owns",e._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function A(e,t){1&e&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function I(e,t){if(1&e&&(r.TgZ(0,"div",25,26),r._UZ(2,"span",27),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function O(e,t){if(1&e&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&e){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState)}}function R(e,t){if(1&e&&(r.TgZ(0,"div",31),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.Q6J("id",e._hintLabelId),r.xp6(1),r.Oqu(e.hintLabel)}}function P(e,t){if(1&e&&(r.TgZ(0,"div",28),r.YNc(1,R,2,2,"div",29),r.Hsn(2,6),r._UZ(3,"div",30),r.Hsn(4,7),r.qZA()),2&e){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",e.hintLabel)}}const D=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],N=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let L=0;const M=new r.OlP("MatError");let F=(()=>{class e{constructor(e,t){this.id="mat-error-"+L++,e||t.nativeElement.setAttribute("aria-live","polite")}}return e.\u0275fac=function(t){return new(t||e)(r.$8M("aria-live"),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("id",t.id)},inputs:{id:"id"},features:[r._Bn([{provide:M,useExisting:e}])]}),e})();const U={transitionMessages:(0,f.X$)("transitionMessages",[(0,f.SB)("enter",(0,f.oB)({opacity:1,transform:"translateY(0%)"})),(0,f.eR)("void => enter",[(0,f.oB)({opacity:0,transform:"translateY(-5px)"}),(0,f.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),B=0;const $=new r.OlP("MatHint");let j=(()=>{class e{constructor(){this.align="start",this.id="mat-hint-"+B++}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,t){2&e&&(r.uIk("id",t.id)("align",null),r.ekj("mat-form-field-hint-end","end"===t.align))},inputs:{align:"align",id:"id"},features:[r._Bn([{provide:$,useExisting:e}])]}),e})(),G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-label"]]}),e})(),V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-placeholder"]]}),e})();const q=new r.OlP("MatPrefix");let Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","matPrefix",""]],features:[r._Bn([{provide:q,useExisting:e}])]}),e})();const Z=new r.OlP("MatSuffix");let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","matSuffix",""]],features:[r._Bn([{provide:Z,useExisting:e}])]}),e})(),K=0;const W=(0,o.pj)(class{constructor(e){this._elementRef=e}},"primary"),J=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Q=new r.OlP("MatFormField");let X=(()=>{class e extends W{constructor(e,t,i,n,s,r,o,a){super(e),this._changeDetectorRef=t,this._dir=n,this._defaults=s,this._platform=r,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new c.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+K++,this._labelId="mat-form-field-label-"+K++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=(0,a.Ig)(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe((0,h.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe((0,d.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,d.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,l.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,d.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,u.R)(this._label.nativeElement,"transitionend").pipe((0,p.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,i=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,i=0;const n=this._connectionContainerRef.nativeElement,s=n.querySelectorAll(".mat-form-field-outline-start"),r=n.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const s=n.getBoundingClientRect();if(0===s.width&&0===s.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const r=this._getStartEnd(s),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let e=0;e<o.length;e++)c+=o[e].offsetWidth;t=Math.abs(a-r)-5,i=c>0?.75*c+10:0}for(let o=0;o<s.length;o++)s[o].style.width=`${t}px`;for(let o=0;o<r.length;o++)r[o].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(g.Is,8),r.Y36(J,8),r.Y36(_.t4),r.Y36(r.R0b),r.Y36(m.Qb,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,i){if(1&e&&(r.Suo(i,H,5),r.Suo(i,H,7),r.Suo(i,G,5),r.Suo(i,G,7),r.Suo(i,V,5),r.Suo(i,M,5),r.Suo(i,$,5),r.Suo(i,q,5),r.Suo(i,Z,5)),2&e){let e;r.iGM(e=r.CRH())&&(t._controlNonStatic=e.first),r.iGM(e=r.CRH())&&(t._controlStatic=e.first),r.iGM(e=r.CRH())&&(t._labelChildNonStatic=e.first),r.iGM(e=r.CRH())&&(t._labelChildStatic=e.first),r.iGM(e=r.CRH())&&(t._placeholderChild=e.first),r.iGM(e=r.CRH())&&(t._errorChildren=e),r.iGM(e=r.CRH())&&(t._hintChildren=e),r.iGM(e=r.CRH())&&(t._prefixChildren=e),r.iGM(e=r.CRH())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(r.Gf(v,5),r.Gf(b,7),r.Gf(y,5),r.Gf(S,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.underlineRef=e.first),r.iGM(e=r.CRH())&&(t._connectionContainerRef=e.first),r.iGM(e=r.CRH())&&(t._inputContainerRef=e.first),r.iGM(e=r.CRH())&&(t._label=e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&r.ekj("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:Q,useExisting:e}]),r.qOj],ngContentSelectors:N,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(r.F$t(D),r.TgZ(0,"div",0),r.TgZ(1,"div",1,2),r.NdJ("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),r.YNc(3,C,9,0,"ng-container",3),r.YNc(4,w,2,0,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,x,5,16,"label",8),r.qZA(),r.qZA(),r.YNc(10,A,2,0,"div",9),r.qZA(),r.YNc(11,I,3,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,O,2,1,"div",12),r.YNc(14,P,5,2,"div",13),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngIf","outline"==t.appearance),r.xp6(1),r.Q6J("ngIf",t._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",t._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",t._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=t.appearance),r.xp6(1),r.Q6J("ngSwitch",t._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[s.O5,s.RF,s.n9,n.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[U.transitionMessages]},changeDetection:0}),e})(),ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.ez,o.BQ,n.Q8],o.BQ]}),e})()},4929:function(e,t,i){"use strict";i.d(t,{Il:function(){return y},N6:function(){return S},DX:function(){return d}});var n=i(37716),s=i(72458),r=i(39490),o=i(70946);const a=["*"],c=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class l{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(e=>this._trackTile(e))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new u(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class u{constructor(e,t){this.row=e,this.col=t}}const h=new n.OlP("MAT_GRID_LIST");let d=(()=>{class e{constructor(e,t){this._element=e,this._gridList=t,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round((0,r.su)(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round((0,r.su)(e))}_setStyle(e,t){this._element.nativeElement.style[e]=t}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(h,8))},e.\u0275cmp=n.Xpm({type:e,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,t){2&e&&n.uIk("rowspan",t.rowspan)("colspan",t.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:a,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,t){1&e&&(n.F$t(),n.TgZ(0,"div",0),n.Hsn(1),n.qZA())},styles:[c],encapsulation:2,changeDetection:0}),e})();const p=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class f{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,n){this._gutterSize=b(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=n}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":v(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let n=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(e,i,n,s),this.setRowStyles(e,t,n,s)}setColStyles(e,t,i,n){let s=this.getBaseTileSize(i,n);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,t)),e._setStyle("width",v(this.getTileSize(s,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class m extends f{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,n){super.init(e,t,i,n),this.fixedRowHeight=b(this.fixedRowHeight),p.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",v(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",v(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class g extends f{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,n){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,n),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",v(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",v(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class _ extends f{setRowStyles(e,t){let i=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(i,t)),e._setStyle("height",v(this.getTileSize(i,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function v(e){return`calc(${e})`}function b(e){return e.match(/([A-Za-z%]+)$/)?e:`${e}px`}let y=(()=>{class e{constructor(e,t){this._element=e,this._dir=t,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round((0,r.su)(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const t=`${null==e?"":e}`;t!==this._rowHeight&&(this._rowHeight=t,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new _:e&&e.indexOf(":")>-1?new g(e):new m(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new l);const e=this._tileCoordinator,t=this._tiles.filter(e=>!e._gridList||e._gridList===this),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,t),this._tileStyler.init(this.gutterSize,e,this.cols,i),t.forEach((t,i)=>{const n=e.positions[i];this._tileStyler.setStyle(t,n.row,n.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(o.Is,8))},e.\u0275cmp=n.Xpm({type:e,selectors:[["mat-grid-list"]],contentQueries:function(e,t,i){if(1&e&&n.Suo(i,d,5),2&e){let e;n.iGM(e=n.CRH())&&(t._tiles=e)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,t){2&e&&n.uIk("cols",t.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[n._Bn([{provide:h,useExisting:e}])],ngContentSelectors:a,decls:2,vars:0,template:function(e,t){1&e&&(n.F$t(),n.TgZ(0,"div"),n.Hsn(1),n.qZA())},styles:[c],encapsulation:2,changeDetection:0}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.uc,s.BQ],s.uc,s.BQ]}),e})()},83166:function(e,t,i){"use strict";i.d(t,{Nt:function(){return m},c:function(){return g}});var n=i(96109),s=i(37716),r=i(39490),o=i(80521),a=i(72458),c=i(98295),l=i(79765),u=i(3679);const h=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),d=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let p=0;const f=(0,a.FD)(class{constructor(e,t,i,n){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=n}});let m=(()=>{class e extends f{constructor(e,t,i,n,s,r,a,c,u,h){super(r,n,s,i),this._elementRef=e,this._platform=t,this._autofillMonitor=c,this._formField=h,this._uid="mat-input-"+p++,this.focused=!1,this.stateChanges=new l.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>(0,o.qK)().has(e));const d=this._elementRef.nativeElement,f=d.nodeName.toLowerCase();this._inputValueAccessor=a||d,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{const t=e.target;!t.value&&0===t.selectionStart&&0===t.selectionEnd&&(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,r.Ig)(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=(0,r.Ig)(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&(0,o.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=(0,r.Ig)(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const i=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(i!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=i,i?e.setAttribute("placeholder",i):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){d.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(o.t4),s.Y36(u.a5,10),s.Y36(u.F,8),s.Y36(u.sg,8),s.Y36(a.rD),s.Y36(h,10),s.Y36(n.Lq),s.Y36(s.R0b),s.Y36(c.G_,8))},e.\u0275dir=s.lG2({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,t){1&e&&s.NdJ("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(s.Ikx("disabled",t.disabled)("required",t.required),s.uIk("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.empty&&t.required?null:t.errorState)("aria-required",t.required),s.ekj("mat-input-server",t._isServer)("mat-native-select-inline",t._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[s._Bn([{provide:c.Eo,useExisting:e}]),s.qOj,s.TTD]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[a.rD],imports:[[n.Ky,c.lN,a.BQ],n.Ky,c.lN]}),e})()},77746:function(e,t,i){"use strict";i.d(t,{i$:function(){return x},Tg:function(){return R},ie:function(){return U},vS:function(){return M},gs:function(){return O},Ub:function(){return F}});var n=i(38583),s=i(37716),r=i(72458),o=i(39490),a=i(79765),c=i(46782),l=i(39761),u=i(19238),h=i(38345),d=i(36461),p=i(3679),f=i(1769);const m=["*"],g='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n',_=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],v=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],b=["text"];function y(e,t){if(1&e&&s._UZ(0,"mat-pseudo-checkbox",5),2&e){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}const S=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],C=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"],w=(0,r.Id)((0,r.Kr)(class{})),E=(0,r.Kr)(class{}),T=new s.OlP("MatList"),k=new s.OlP("MatNavList");let x=(()=>{class e extends w{constructor(e){super(),this._elementRef=e,this._stateChanges=new a.xQ,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[s._Bn([{provide:T,useExisting:e}]),s.qOj,s.TTD],ngContentSelectors:m,decls:1,vars:0,template:function(e,t){1&e&&(s.F$t(),s.Hsn(0))},styles:[g],encapsulation:2,changeDetection:0}),e})(),A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),e})(),R=(()=>{class e extends E{constructor(e,t,i,n){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new a.xQ,this._disabled=!1,this._isInteractiveList=!!(i||n&&"action-list"===n._getListType()),this._list=i||n;const s=this._getHostElement();"button"===s.nodeName.toLowerCase()&&!s.hasAttribute("type")&&s.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,c.R)(this._destroyed)).subscribe(()=>{t.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=(0,o.Ig)(e)}ngAfterContentInit(){(0,r.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(k,8),s.Y36(T,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,t,i){if(1&e&&(s.Suo(i,A,5),s.Suo(i,I,5),s.Suo(i,r.X2,5)),2&e){let e;s.iGM(e=s.CRH())&&(t._avatar=e.first),s.iGM(e=s.CRH())&&(t._icon=e.first),s.iGM(e=s.CRH())&&(t._lines=e)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,t){2&e&&s.ekj("mat-list-item-disabled",t.disabled)("mat-list-item-avatar",t._avatar||t._icon)("mat-list-item-with-avatar",t._avatar||t._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:v,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,t){1&e&&(s.F$t(_),s.TgZ(0,"div",0),s._UZ(1,"div",1),s.Hsn(2),s.TgZ(3,"div",2),s.Hsn(4,1),s.qZA(),s.Hsn(5,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t._isRippleDisabled()))},directives:[r.wG],encapsulation:2,changeDetection:0}),e})();const P=(0,r.Kr)(class{}),D=(0,r.Kr)(class{}),N={provide:p.JU,useExisting:(0,s.Gpc)(()=>F),multi:!0};class L{constructor(e,t,i){this.source=e,this.option=t,this.options=i}}let M=(()=>{class e extends D{constructor(e,t,i){super(),this._element=e,this._changeDetector=t,this.selectionList=i,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new s.vpe,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(e){this._color=e}get value(){return this._value}set value(e){this.selected&&!this.selectionList.compareWith(e,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=e}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(e){const t=(0,o.Ig)(e);t!==this._disabled&&(this._disabled=t,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(e){const t=(0,o.Ig)(e);t!==this._selected&&(this._setSelected(t),(t||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const e=this.selectionList;e._value&&e._value.some(t=>e.compareWith(t,this._value))&&this._setSelected(!0);const t=this._selected;Promise.resolve().then(()=>{(this._selected||t)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){(0,r.E0)(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const e=this._hasFocus,t=this.selectionList._removeOptionFromList(this);e&&t&&t.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(e){return e!==this._selected&&(this._selected=e,e?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>F)))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-list-option"]],contentQueries:function(e,t,i){if(1&e&&(s.Suo(i,A,5),s.Suo(i,I,5),s.Suo(i,r.X2,5)),2&e){let e;s.iGM(e=s.CRH())&&(t._avatar=e.first),s.iGM(e=s.CRH())&&(t._icon=e.first),s.iGM(e=s.CRH())&&(t._lines=e)}},viewQuery:function(e,t){if(1&e&&s.Gf(b,5),2&e){let e;s.iGM(e=s.CRH())&&(t._text=e.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(e,t){1&e&&s.NdJ("focus",function(){return t._handleFocus()})("blur",function(){return t._handleBlur()})("click",function(){return t._handleClick()}),2&e&&(s.uIk("aria-selected",t.selected)("aria-disabled",t.disabled)("tabindex",-1),s.ekj("mat-list-item-disabled",t.disabled)("mat-list-item-with-avatar",t._avatar||t._icon)("mat-primary","primary"===t.color)("mat-accent","primary"!==t.color&&"warn"!==t.color)("mat-warn","warn"===t.color)("mat-list-single-selected-option",t.selected&&!t.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[s.qOj],ngContentSelectors:C,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(e,t){1&e&&(s.F$t(S),s.TgZ(0,"div",0),s._UZ(1,"div",1),s.YNc(2,y,1,2,"mat-pseudo-checkbox",2),s.TgZ(3,"div",3,4),s.Hsn(5),s.qZA(),s.Hsn(6,1),s.qZA()),2&e&&(s.ekj("mat-list-item-content-reverse","after"==t.checkboxPosition),s.xp6(1),s.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t._isRippleDisabled()),s.xp6(1),s.Q6J("ngIf",t.selectionList.multiple))},directives:[r.wG,n.O5,r.nP],encapsulation:2,changeDetection:0}),e})(),F=(()=>{class e extends P{constructor(e,t,i,n){super(),this._element=e,this._changeDetector=i,this._focusMonitor=n,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new s.vpe,this.tabIndex=0,this.color="accent",this.compareWith=(e,t)=>e===t,this._disabled=!1,this.selectedOptions=new h.Ov(this._multiple),this._tabIndex=-1,this._onChange=e=>{},this._destroyed=new a.xQ,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,o.Ig)(e),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(e){const t=(0,o.Ig)(e);t!==this._multiple&&(this._multiple=t,this.selectedOptions=new h.Ov(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var e;this._contentInitialized=!0,this._keyManager=new u.Em(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe((0,c.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe((0,l.O)(null),(0,c.R)(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe((0,c.R)(this._destroyed)).subscribe(e=>{if(e.added)for(let t of e.added)t.selected=!0;if(e.removed)for(let t of e.removed)t.selected=!1}),null===(e=this._focusMonitor)||void 0===e||e.monitor(this._element).pipe((0,c.R)(this._destroyed)).subscribe(e=>{var t;if("keyboard"===e||"program"===e){let e=0;for(let i=0;i<this.options.length;i++)if(null===(t=this.options.get(i))||void 0===t?void 0:t.selected){e=i;break}this._keyManager.setActiveItem(e)}})}ngOnChanges(e){const t=e.disableRipple,i=e.color;(t&&!t.firstChange||i&&!i.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var e;null===(e=this._focusMonitor)||void 0===e||e.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(e){this._keyManager.updateActiveItem(e)}_removeOptionFromList(e){const t=this._getOptionIndex(e);return t>-1&&this._keyManager.activeItemIndex===t&&(t>0?this._keyManager.updateActiveItem(t-1):0===t&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(t+1,this.options.length-1))),this._keyManager.activeItem}_keydown(e){const t=e.keyCode,i=this._keyManager,n=i.activeItemIndex,s=(0,d.Vb)(e);switch(t){case d.L_:case d.K5:!s&&!i.isTyping()&&(this._toggleFocusedOption(),e.preventDefault());break;default:if(t===d.A&&this.multiple&&(0,d.Vb)(e,"ctrlKey")&&!i.isTyping()){const t=this.options.some(e=>!e.disabled&&!e.selected);this._setAllOptionsSelected(t,!0,!0),e.preventDefault()}else i.onKeydown(e)}this.multiple&&(t===d.LH||t===d.JH)&&e.shiftKey&&i.activeItemIndex!==n&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new L(this,e[0],e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_setOptionsFromValues(e){this.options.forEach(e=>e._setSelected(!1)),e.forEach(e=>{const t=this.options.find(t=>!t.selected&&this.compareWith(t.value,e));t&&t._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_toggleFocusedOption(){let e=this._keyManager.activeItemIndex;if(null!=e&&this._isValidIndex(e)){let t=this.options.toArray()[e];t&&!t.disabled&&(this._multiple||!t.selected)&&(t.toggle(),this._emitChangeEvent([t]))}}_setAllOptionsSelected(e,t,i){const n=[];return this.options.forEach(i=>{(!t||!i.disabled)&&i._setSelected(e)&&n.push(i)}),n.length&&(this._reportValueChange(),i&&this._emitChangeEvent(n)),n}_isValidIndex(e){return e>=0&&e<this.options.length}_getOptionIndex(e){return this.options.toArray().indexOf(e)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.$8M("tabindex"),s.Y36(s.sBO),s.Y36(u.tE))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-selection-list"]],contentQueries:function(e,t,i){if(1&e&&s.Suo(i,M,5),2&e){let e;s.iGM(e=s.CRH())&&(t.options=e)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(e,t){1&e&&s.NdJ("keydown",function(e){return t._keydown(e)}),2&e&&s.uIk("aria-multiselectable",t.multiple)("aria-disabled",t.disabled.toString())("tabindex",t._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[s._Bn([N]),s.qOj,s.TTD],ngContentSelectors:m,decls:1,vars:0,template:function(e,t){1&e&&(s.F$t(),s.Hsn(0))},styles:[g],encapsulation:2,changeDetection:0}),e})(),U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.uc,r.si,r.BQ,r.us,n.ez],r.uc,r.BQ,r.us,f.t]}),e})()},33935:function(e,t,i){"use strict";i.d(t,{VK:function(){return U},OP:function(){return N},Tx:function(){return V},p6:function(){return G}});var n=i(19238),s=i(39490),r=i(36461),o=i(37716),a=i(79765),c=i(75319),l=i(66682),u=i(25917),h=i(64581),d=i(39761),p=i(43190),f=i(15257),m=i(45435),g=i(46782),_=i(71289),v=i(17238),b=i(87636),y=i(38583),S=i(72458),C=i(90625),w=i(80521),E=i(71386),T=i(70946);const k=["mat-menu-item",""];function x(e,t){1&e&&(o.O4$(),o.TgZ(0,"svg",2),o._UZ(1,"polygon",3),o.qZA())}const A=["*"];function I(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(t){return o.CHM(e),o.oxw()._handleKeydown(t)})("click",function(){return o.CHM(e),o.oxw().closed.emit("click")})("@transformMenu.start",function(t){return o.CHM(e),o.oxw()._onAnimationStart(t)})("@transformMenu.done",function(t){return o.CHM(e),o.oxw()._onAnimationDone(t)}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const O={transformMenu:(0,v.X$)("transformMenu",[(0,v.SB)("void",(0,v.oB)({opacity:0,transform:"scale(0.8)"})),(0,v.eR)("void => enter",(0,v.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,v.oB)({opacity:1,transform:"scale(1)"}))),(0,v.eR)("* => void",(0,v.jt)("100ms 25ms linear",(0,v.oB)({opacity:0})))]),fadeInItems:(0,v.X$)("fadeInItems",[(0,v.SB)("showing",(0,v.oB)({opacity:1})),(0,v.eR)("void => *",[(0,v.oB)({opacity:0}),(0,v.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},R=new o.OlP("MatMenuContent"),P=new o.OlP("MAT_MENU_PANEL"),D=(0,S.Kr)((0,S.Id)(class{}));let N=(()=>{class e extends D{constructor(e,t,i,n,s){super(),this._elementRef=e,this._focusMonitor=i,this._parentMenu=n,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new a.xQ,this._focused=new a.xQ,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.addItem&&n.addItem(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,t;const i=this._elementRef.nativeElement.cloneNode(!0),n=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<n.length;s++){const t=n[s];null===(e=t.parentNode)||void 0===e||e.removeChild(t)}return(null===(t=i.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(e){var t;this._highlighted=e,null===(t=this._changeDetectorRef)||void 0===t||t.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq),o.Y36(y.K0),o.Y36(n.tE),o.Y36(P,8),o.Y36(o.sBO))},e.\u0275cmp=o.Xpm({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,t){1&e&&o.NdJ("click",function(e){return t._checkDisabled(e)})("mouseenter",function(){return t._handleMouseEnter()}),2&e&&(o.uIk("role",t.role)("tabindex",t._getTabIndex())("aria-disabled",t.disabled.toString())("disabled",t.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",t._highlighted)("mat-menu-item-submenu-trigger",t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:k,ngContentSelectors:A,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,t){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0),o.YNc(2,x,2,0,"svg",1)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",t.disableRipple||t.disabled)("matRippleTrigger",t._getHostElement()),o.xp6(1),o.Q6J("ngIf",t._triggersSubmenu))},directives:[S.wG,y.O5],encapsulation:2,changeDetection:0}),e})();const L=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let M=0,F=(()=>{class e{constructor(e,t,i){this._elementRef=e,this._ngZone=t,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=c.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new a.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+M++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=(0,s.Ig)(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=(0,s.Ig)(e)}set panelClass(e){const t=this._previousPanelClass;t&&t.length&&t.split(" ").forEach(e=>{this._classList[e]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(e=>{this._classList[e]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new n.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,d.O)(this._directDescendantItems),(0,p.w)(e=>(0,l.T)(...e.map(e=>e._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,d.O)(this._directDescendantItems),(0,p.w)(e=>(0,l.T)(...e.map(e=>e._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const t=e.keyCode,i=this._keyManager;switch(t){case r.hY:(0,r.Vb)(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case r.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case r.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(t===r.LH||t===r.JH)&&i.setFocusOrigin("keyboard"),i.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe((0,f.q)(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const t=this._keyManager;if(t.setFocusOrigin(e).setFirstItemActive(),!t.activeItem&&this._directDescendantItems.length){let e=this._directDescendantItems.first._getHostElement().parentElement;for(;e;){if("menu"===e.getAttribute("role")){e.focus();break}e=e.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const t=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${t}`,n=Object.keys(this._classList).find(e=>e.startsWith(this._elevationPrefix));(!n||n===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,t=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===t,i["mat-menu-below"]="below"===t}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,d.O)(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(e=>e._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(L))},e.\u0275dir=o.lG2({type:e,contentQueries:function(e,t,i){if(1&e&&(o.Suo(i,R,5),o.Suo(i,N,5),o.Suo(i,N,4)),2&e){let e;o.iGM(e=o.CRH())&&(t.lazyContent=e.first),o.iGM(e=o.CRH())&&(t._allItems=e),o.iGM(e=o.CRH())&&(t.items=e)}},viewQuery:function(e,t){if(1&e&&o.Gf(o.Rgc,5),2&e){let e;o.iGM(e=o.CRH())&&(t.templateRef=e.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),e})(),U=(()=>{class e extends F{constructor(e,t,i){super(e,t,i),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(L))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,t){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:P,useExisting:e}]),o.qOj],ngContentSelectors:A,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,t){1&e&&(o.F$t(),o.YNc(0,I,3,6,"ng-template"))},directives:[y.mk],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[O.transformMenu,O.fadeInItems]},changeDetection:0}),e})();const H=new o.OlP("mat-menu-scroll-strategy"),B={provide:H,deps:[C.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition()}},$=(0,w.i$)({passive:!0});let j=(()=>{class e{constructor(e,t,i,s,r,a,l,u){this._overlay=e,this._element=t,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=l,this._focusMonitor=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=c.w.EMPTY,this._hoverSubscription=c.w.EMPTY,this._menuCloseSubscription=c.w.EMPTY,this._handleTouchStart=e=>{(0,n.yG)(e)||(this._openedBy="touch")},this._openedBy=void 0,this._ariaHaspopup=!0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=r instanceof F?r:void 0,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,$),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _ariaExpanded(){return this.menuOpen||null}get _ariaControl(){return this.menuOpen?this.menu.panelId:null}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(e=>{this._destroyMenu(e),("click"===e||"tab"===e)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(e)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,$),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),t=e.getConfig();this._setPosition(t.positionStrategy),t.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof F&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,t instanceof F?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe((0,m.h)(e=>"void"===e.toState),(0,f.q)(1),(0,g.R)(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,t=this.menu.parentMenu;for(;t;)e++,t=t.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new C.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(e=>{this.menu.setPositionClasses("start"===e.connectionPair.overlayX?"after":"before","top"===e.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[t,i]="before"===this.menu.xPosition?["end","start"]:["start","end"],[n,s]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[r,o]=[n,s],[a,c]=[t,i],l=0;this.triggersSubmenu()?(c=t="before"===this.menu.xPosition?"start":"end",i=a="end"===t?"start":"end",l="bottom"===n?8:-8):this.menu.overlapTrigger||(r="top"===n?"bottom":"top",o="top"===s?"bottom":"top"),e.withPositions([{originX:t,originY:r,overlayX:a,overlayY:n,offsetY:l},{originX:i,originY:r,overlayX:c,overlayY:n,offsetY:l},{originX:t,originY:o,overlayX:a,overlayY:s,offsetY:-l},{originX:i,originY:o,overlayX:c,overlayY:s,offsetY:-l}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,u.of)(),n=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,m.h)(e=>e!==this._menuItemInstance),(0,m.h)(()=>this._menuOpen)):(0,u.of)();return(0,l.T)(e,i,n,t)}_handleMousedown(e){(0,n.X6)(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const t=e.keyCode;(t===r.K5||t===r.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===r.SV&&"ltr"===this.dir||t===r.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,m.h)(e=>e===this._menuItemInstance&&!e.disabled),(0,_.g)(0,h.e)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof F&&this.menu._isAnimating?this.menu._animationDone.pipe((0,f.q)(1),(0,_.g)(0,h.e),(0,g.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new b.UE(this.menu.templateRef,this._viewContainerRef)),this._portal}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(C.aV),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(H),o.Y36(P,8),o.Y36(N,10),o.Y36(T.Is,8),o.Y36(n.tE))},e.\u0275dir=o.lG2({type:e,hostVars:3,hostBindings:function(e,t){1&e&&o.NdJ("mousedown",function(e){return t._handleMousedown(e)})("keydown",function(e){return t._handleKeydown(e)})("click",function(e){return t._handleClick(e)}),2&e&&o.uIk("aria-haspopup",t._ariaHaspopup)("aria-expanded",t._ariaExpanded)("aria-controls",t._ariaControl)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),e})(),G=(()=>{class e extends j{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(e)))(i||e)}}(),e.\u0275dir=o.lG2({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]}),e})(),V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[B],imports:[[y.ez,S.BQ,S.si,C.U8],E.ZD,S.BQ]}),e})()},4885:function(e,t,i){"use strict";i.d(t,{Ou:function(){return g},Cq:function(){return v},$g:function(){return _}});var n=i(37716),s=i(38583),r=i(72458),o=i(39490),a=i(80521),c=i(46237);function l(e,t){if(1&e&&(n.O4$(),n._UZ(0,"circle",3)),2&e){const e=n.oxw();n.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),n.uIk("r",e._getCircleRadius())}}function u(e,t){if(1&e&&(n.O4$(),n._UZ(0,"circle",3)),2&e){const e=n.oxw();n.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),n.uIk("r",e._getCircleRadius())}}function h(e,t){if(1&e&&(n.O4$(),n._UZ(0,"circle",3)),2&e){const e=n.oxw();n.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),n.uIk("r",e._getCircleRadius())}}function d(e,t){if(1&e&&(n.O4$(),n._UZ(0,"circle",3)),2&e){const e=n.oxw();n.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),n.uIk("r",e._getCircleRadius())}}const p=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",f=(0,r.pj)(class{constructor(e){this._elementRef=e}},"primary"),m=new n.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class g extends f{constructor(e,t,i,n,s){super(e),this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const r=g._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),r.has(i.head)||r.set(i.head,new Set([100])),this._fallbackAnimation=t.EDGE||t.TRIDENT,this._noopAnimations="NoopAnimations"===n&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=(0,o.su)(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=(0,o.su)(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,(0,o.su)(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=(0,a.kV)(e)||this._document.head,this._attachStyleNode(),e.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=g._diameters;let n=i.get(e);if(!n||!n.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),n||(n=new Set,i.set(e,n)),n.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}g.\u0275fac=function(e){return new(e||g)(n.Y36(n.SBq),n.Y36(a.t4),n.Y36(s.K0,8),n.Y36(c.Qb,8),n.Y36(m))},g.\u0275cmp=n.Xpm({type:g,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(n.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),n.Udp("width",t.diameter,"px")("height",t.diameter,"px"),n.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[n.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(n.O4$(),n.TgZ(0,"svg",0),n.YNc(1,l,1,9,"circle",1),n.YNc(2,u,1,7,"circle",2),n.qZA()),2&e&&(n.Udp("width",t.diameter,"px")("height",t.diameter,"px"),n.Q6J("ngSwitch","indeterminate"===t.mode),n.uIk("viewBox",t._getViewBox()),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1))},directives:[s.RF,s.n9],styles:[p],encapsulation:2,changeDetection:0}),g._diameters=new WeakMap;let _=(()=>{class e extends g{constructor(e,t,i,n,s){super(e,t,i,n,s),this.mode="indeterminate"}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(a.t4),n.Y36(s.K0,8),n.Y36(c.Qb,8),n.Y36(m))},e.\u0275cmp=n.Xpm({type:e,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,t){2&e&&(n.Udp("width",t.diameter,"px")("height",t.diameter,"px"),n.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color"},features:[n.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(n.O4$(),n.TgZ(0,"svg",0),n.YNc(1,h,1,9,"circle",1),n.YNc(2,d,1,7,"circle",2),n.qZA()),2&e&&(n.Udp("width",t.diameter,"px")("height",t.diameter,"px"),n.Q6J("ngSwitch","indeterminate"===t.mode),n.uIk("viewBox",t._getViewBox()),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1))},directives:[s.RF,s.n9],styles:[p],encapsulation:2,changeDetection:0}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[r.BQ,s.ez],r.BQ]}),e})()},82613:function(e,t,i){"use strict";i.d(t,{U0:function(){return w},VQ:function(){return b},Fk:function(){return E}});var n=i(37716),s=i(72458),r=i(39490),o=i(3679),a=i(46237),c=i(19238),l=i(38345);const u=["input"],h=function(e){return{enterDuration:e}},d=["*"],p=new n.OlP("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let f=0;const m={provide:o.JU,useExisting:(0,n.Gpc)(()=>b),multi:!0};class g{constructor(e,t){this.source=e,this.value=t}}const _=new n.OlP("MatRadioGroup");let v=(()=>{class e{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+f++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new n.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,r.Ig)(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=(0,r.Ig)(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(e=>{e.checked=this.value===e.value,e.checked&&(this._selected=e)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new g(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.sBO))},e.\u0275dir=n.lG2({type:e,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),e})(),b=(()=>{class e extends v{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,selectors:[["mat-radio-group"]],contentQueries:function(e,t,i){if(1&e&&n.Suo(i,w,5),2&e){let e;n.iGM(e=n.CRH())&&(t._radios=e)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[n._Bn([m,{provide:_,useExisting:e}]),n.qOj]}),e})();class y{constructor(e){this._elementRef=e}}const S=(0,s.Kr)((0,s.sb)(y));let C=(()=>{class e extends S{constructor(e,t,i,s,o,a,c,l){super(t),this._changeDetector=i,this._focusMonitor=s,this._radioDispatcher=o,this._providerOverride=c,this._uniqueId="mat-radio-"+ ++f,this.id=this._uniqueId,this.change=new n.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===a,l&&(this.tabIndex=(0,r.su)(l,0)),this._removeUniqueSelectionListener=o.listen((e,t)=>{e!==this.id&&t===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const t=(0,r.Ig)(e);this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled((0,r.Ig)(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=(0,r.Ig)(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new g(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),e&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(v),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(c.tE),n.Y36(l.A8),n.Y36(String),n.Y36(void 0),n.Y36(String))},e.\u0275dir=n.lG2({type:e,viewQuery:function(e,t){if(1&e&&n.Gf(u,5),2&e){let e;n.iGM(e=n.CRH())&&(t._inputElement=e.first)}},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[n.qOj]}),e})(),w=(()=>{class e extends C{constructor(e,t,i,n,s,r,o,a){super(e,t,i,n,s,r,o,a)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(_,8),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(c.tE),n.Y36(l.A8),n.Y36(a.Qb,8),n.Y36(p,8),n.$8M("tabindex"))},e.\u0275cmp=n.Xpm({type:e,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,t){1&e&&n.NdJ("focus",function(){return t._inputElement.nativeElement.focus()}),2&e&&(n.uIk("tabindex",null)("id",t.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),n.ekj("mat-radio-checked",t.checked)("mat-radio-disabled",t.disabled)("_mat-animation-noopable",t._noopAnimations)("mat-primary","primary"===t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[n.qOj],ngContentSelectors:d,decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,t){if(1&e&&(n.F$t(),n.TgZ(0,"label",0,1),n.TgZ(2,"span",2),n._UZ(3,"span",3),n._UZ(4,"span",4),n.TgZ(5,"input",5,6),n.NdJ("change",function(e){return t._onInputInteraction(e)})("click",function(e){return t._onInputClick(e)}),n.qZA(),n.TgZ(7,"span",7),n._UZ(8,"span",8),n.qZA(),n.qZA(),n.TgZ(9,"span",9),n.TgZ(10,"span",10),n._uU(11,"\xa0"),n.qZA(),n.Hsn(12),n.qZA(),n.qZA()),2&e){const e=n.MAs(1);n.uIk("for",t.inputId),n.xp6(5),n.Q6J("id",t.inputId)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex)("required",t.required),n.uIk("name",t.name)("value",t.value)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),n.xp6(2),n.Q6J("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",n.VKq(18,h,t._noopAnimations?0:150)),n.xp6(2),n.ekj("mat-radio-label-before","before"==t.labelPosition)}},directives:[s.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),e})(),E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.si,s.BQ],s.BQ]}),e})()},67441:function(e,t,i){"use strict";i.d(t,{gD:function(){return q},LD:function(){return Y}});var n=i(90625),s=i(38583),r=i(37716),o=i(72458),a=i(98295),c=i(71386),l=i(19238),u=i(39490),h=i(38345),d=i(36461),p=i(79765),f=i(41439),m=i(66682),g=i(39761),_=i(43190),v=i(15257),b=i(45435),y=i(88002),S=i(87519),C=i(46782),w=i(17238),E=i(70946),T=i(3679);const k=["trigger"],x=["panel"];function A(e,t){if(1&e&&(r.TgZ(0,"span",8),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Oqu(e.placeholder)}}function I(e,t){if(1&e&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Oqu(e.triggerValue)}}function O(e,t){1&e&&r.Hsn(0,0,["*ngSwitchCase","true"])}function R(e,t){if(1&e&&(r.TgZ(0,"span",9),r.YNc(1,I,2,1,"span",10),r.YNc(2,O,1,0,"ng-content",11),r.qZA()),2&e){const e=r.oxw();r.Q6J("ngSwitch",!!e.customTrigger),r.xp6(2),r.Q6J("ngSwitchCase",!0)}}function P(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"div",14,15),r.NdJ("@transformPanel.done",function(t){return r.CHM(e),r.oxw()._panelDoneAnimatingStream.next(t.toState)})("keydown",function(t){return r.CHM(e),r.oxw()._handleKeydown(t)}),r.Hsn(3,1),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("@transformPanelWrap",void 0),r.xp6(1),r.Gre("mat-select-panel ",e._getPanelTheme(),""),r.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),r.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),r.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const D=[[["mat-select-trigger"]],"*"],N=["mat-select-trigger","*"],L={transformPanelWrap:(0,w.X$)("transformPanelWrap",[(0,w.eR)("* => void",(0,w.IO)("@transformPanel",[(0,w.pV)()],{optional:!0}))]),transformPanel:(0,w.X$)("transformPanel",[(0,w.SB)("void",(0,w.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,w.SB)("showing",(0,w.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,w.SB)("showing-multiple",(0,w.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,w.eR)("void => *",(0,w.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,w.eR)("* => void",(0,w.jt)("100ms 25ms linear",(0,w.oB)({opacity:0})))])};let M=0;const F=256,U=new r.OlP("mat-select-scroll-strategy"),H=new r.OlP("MAT_SELECT_CONFIG"),B={provide:U,deps:[n.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class ${constructor(e,t){this.source=e,this.value=t}}const j=(0,o.Kr)((0,o.sb)((0,o.Id)((0,o.FD)(class{constructor(e,t,i,n,s){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}})))),G=new r.OlP("MatSelectTrigger");let V=(()=>{class e extends j{constructor(e,t,i,n,s,o,a,c,l,u,h,d,S,C){var w,E,T;super(s,n,a,c,u),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=i,this._dir=o,this._parentFormField=l,this._liveAnnouncer=S,this._defaultOptions=C,this._panelOpen=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+M++,this._triggerAriaLabelledBy=null,this._destroy=new p.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+M++,this._panelDoneAnimatingStream=new p.xQ,this._overlayPanelClass=(null===(w=this._defaultOptions)||void 0===w?void 0:w.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(T=null===(E=this._defaultOptions)||void 0===E?void 0:E.disableOptionCentering)&&void 0!==T&&T,this.ariaLabel="",this.optionSelectionChanges=(0,f.P)(()=>{const e=this.options;return e?e.changes.pipe((0,g.O)(e),(0,_.w)(()=>(0,m.T)(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.pipe((0,v.q)(1),(0,_.w)(()=>this.optionSelectionChanges))}),this.openedChange=new r.vpe,this._openedStream=this.openedChange.pipe((0,b.h)(e=>e),(0,y.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,b.h)(e=>!e),(0,y.U)(()=>{})),this.selectionChange=new r.vpe,this.valueChange=new r.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==C?void 0:C.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=C.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=(0,u.Ig)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,u.Ig)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=(0,u.Ig)(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=(0,u.su)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new h.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,S.x)(),(0,C.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,C.R)(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe((0,g.O)(null),(0,C.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,t;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(t=this._selectionModel)||void 0===t?void 0:t.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,i=t===d.JH||t===d.LH||t===d.oh||t===d.SV,n=t===d.K5||t===d.L_,s=this._keyManager;if(!s.isTyping()&&n&&!(0,d.Vb)(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const t=this.selected;s.onKeydown(e);const i=this.selected;i&&t!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,i=e.keyCode,n=i===d.JH||i===d.LH,s=t.isTyping();if(n&&e.altKey)e.preventDefault(),this.close();else if(s||i!==d.K5&&i!==d.L_||!t.activeItem||(0,d.Vb)(e))if(!s&&this._multiple&&i===d.A&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const i=t.activeItemIndex;t.onKeydown(e),this._multiple&&n&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==i&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,v.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(e=>e.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(e=>this._selectValue(e)),this._sortValues();else{const t=this._selectValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{if(this._selectionModel.isSelected(t))return!1;try{return null!=t.value&&this._compareWith(t.value,e)}catch(i){return!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new l.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,C.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,C.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,m.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,C.R)(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,m.T)(...this.options.map(e=>e._stateChanges)).pipe((0,C.R)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,t){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,i)=>this.sortComparator?this.sortComparator(t,i,e):e.indexOf(t)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(c.rL),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(o.rD),r.Y36(r.SBq),r.Y36(E.Is,8),r.Y36(T.F,8),r.Y36(T.sg,8),r.Y36(a.G_,8),r.Y36(T.a5,10),r.$8M("tabindex"),r.Y36(U),r.Y36(l.Kd),r.Y36(H,8))},e.\u0275dir=r.lG2({type:e,viewQuery:function(e,t){if(1&e&&(r.Gf(k,5),r.Gf(x,5),r.Gf(n.pI,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.trigger=e.first),r.iGM(e=r.CRH())&&(t.panel=e.first),r.iGM(e=r.CRH())&&(t._overlayDir=e.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.qOj,r.TTD]}),e})(),q=(()=>{class e extends V{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,t,i){const n=this._getItemHeight();return Math.min(Math.max(0,n*e-t+n/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,C.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,v.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const t=(0,o.CB)(e,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===t?0:(0,o.jH)((e+t)*i,i,this.panel.nativeElement.scrollTop,F)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new $(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),i=this._isRtl(),n=this.multiple?56:32;let s;if(this.multiple)s=40;else if(this.disableOptionCentering)s=16;else{let e=this._selectionModel.selected[0]||this.options.first;s=e&&e.group?32:16}i||(s*=-1);const r=0-(e.left+s-(i?n:0)),o=e.right+s-t.width+(i?0:n);r>0?s+=r+8:o>0&&(s-=o+8),this._overlayDir.offsetX=Math.round(s),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,i){const n=this._getItemHeight(),s=(n-this._triggerRect.height)/2,r=Math.floor(F/n);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?e*n:this._scrollTop===i?(e-(this._getItemCount()-r))*n+(n-(this._getItemCount()*n-F)%n):t-n/2,Math.round(-1*o-s))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),n=this._triggerRect.top-8,s=i.height-this._triggerRect.bottom-8,r=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*t,F)-r-this._triggerRect.height;o>s?this._adjustPanelUp(o,s):r>n?this._adjustPanelDown(r,n,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const i=Math.round(e-t);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,i){const n=Math.round(e-t);if(this._scrollTop+=n,this._offsetY+=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),i=Math.min(t*e,F),n=t*e-i;let s;s=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),s+=(0,o.CB)(s,this.options,this.optionGroups);const r=i/2;this._scrollTop=this._calculateOverlayScroll(s,r,n),this._offsetY=this._calculateOverlayOffsetY(s,r,n),this._checkOverlayWithinViewport(n)}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,i){if(1&e&&(r.Suo(i,G,5),r.Suo(i,o.ey,5),r.Suo(i,o.K7,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.customTrigger=e.first),r.iGM(e=r.CRH())&&(t.options=e),r.iGM(e=r.CRH())&&(t.optionGroups=e)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&r.NdJ("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(r.uIk("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),r.ekj("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r._Bn([{provide:a.Eo,useExisting:e},{provide:o.HF,useExisting:e}]),r.qOj],ngContentSelectors:N,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(r.F$t(D),r.TgZ(0,"div",0,1),r.NdJ("click",function(){return t.toggle()}),r.TgZ(3,"div",2),r.YNc(4,A,2,1,"span",3),r.YNc(5,R,3,2,"span",4),r.qZA(),r.TgZ(6,"div",5),r._UZ(7,"div",6),r.qZA(),r.qZA(),r.YNc(8,P,4,14,"ng-template",7),r.NdJ("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){const e=r.MAs(1);r.uIk("aria-owns",t.panelOpen?t.id+"-panel":null),r.xp6(3),r.Q6J("ngSwitch",t.empty),r.uIk("id",t._valueId),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1),r.xp6(3),r.Q6J("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[n.xu,s.RF,s.n9,n.pI,s.ED,s.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[L.transformPanelWrap,L.transformPanel]},changeDetection:0}),e})(),Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[B],imports:[[s.ez,n.U8,o.Ng,o.BQ],c.ZD,a.lN,o.Ng,o.BQ]}),e})()},94935:function(e,t,i){"use strict";i.d(t,{JX:function(){return j},TM:function(){return G},Rh:function(){return $},SJ:function(){return V}});var n=i(80521),s=i(71386),r=i(38583),o=i(37716),a=i(72458),c=i(39490),l=i(36461),u=i(79765),h=i(22759),d=i(66682),p=i(45435),f=i(88002),m=i(96736),g=i(46782),_=i(87519),v=i(15257),b=i(39761),y=i(54395),S=i(17238),C=i(46237),w=i(19238),E=i(70946);const T=["*"];function k(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&e){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function x(e,t){1&e&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const A=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],I=["mat-drawer","mat-drawer-content","*"];function O(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&e){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function R(e,t){1&e&&(o.TgZ(0,"mat-sidenav-content",3),o.Hsn(1,2),o.qZA())}const P=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],D=["mat-sidenav","mat-sidenav-content","*"],N=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",L={transformDrawer:(0,S.X$)("transform",[(0,S.SB)("open, open-instant",(0,S.oB)({transform:"none",visibility:"visible"})),(0,S.SB)("void",(0,S.oB)({"box-shadow":"none",visibility:"hidden"})),(0,S.eR)("void => open-instant",(0,S.jt)("0ms")),(0,S.eR)("void <=> open, open-instant => void",(0,S.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},M=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),F=new o.OlP("MAT_DRAWER_CONTAINER");let U=(()=>{class e extends s.PQ{constructor(e,t,i,n,s){super(i,n,s),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>B)),o.Y36(o.SBq),o.Y36(s.mF),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,t){2&e&&o.Udp("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:T,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),H=(()=>{class e{constructor(e,t,i,n,s,r,a){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=i,this._platform=n,this._ngZone=s,this._doc=r,this._container=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new u.xQ,this._animationEnd=new u.xQ,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe((0,p.h)(e=>e),(0,f.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,p.h)(e=>e.fromState!==e.toState&&0===e.toState.indexOf("open")),(0,m.h)(void 0)),this._closedStream=this.openedChange.pipe((0,p.h)(e=>!e),(0,f.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,p.h)(e=>e.fromState!==e.toState&&"void"===e.toState),(0,m.h)(void 0)),this._destroyed=new u.xQ,this.onPositionChanged=new o.vpe,this._modeChanged=new u.xQ,this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{(0,h.R)(this._elementRef.nativeElement,"keydown").pipe((0,p.h)(e=>e.keyCode===l.hY&&!this.disableClose&&!(0,l.Vb)(e)),(0,g.R)(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()}))}),this._animationEnd.pipe((0,_.x)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{const{fromState:t,toState:i}=e;(0===i.indexOf("open")&&"void"===t||"void"===i&&0===t.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,c.Ig)(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=(0,c.Ig)(e)}get opened(){return this._opened}set opened(e){this.toggle((0,c.Ig)(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const t=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,t){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),t)}_setOpen(e,t,i="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=i):(this._animationState="void",t&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(e=>{this.openedChange.pipe((0,v.q)(1)).subscribe(t=>e(t?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq),o.Y36(w.qV),o.Y36(w.tE),o.Y36(n.t4),o.Y36(o.R0b),o.Y36(r.K0,8),o.Y36(F,8))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){1&e&&o.WFA("@transform.start",function(e){return t._animationStartListener(e)})("@transform.done",function(e){return t._animationDoneListener(e)}),2&e&&(o.uIk("align",null),o.d8E("@transform",t._animationState),o.ekj("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:T,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[s.PQ],encapsulation:2,data:{animation:[L.transformDrawer]},changeDetection:0}),e})(),B=(()=>{class e{constructor(e,t,i,n,s,r=!1,a){this._dir=e,this._element=t,this._ngZone=i,this._changeDetectorRef=n,this._animationMode=a,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new u.xQ,this._doCheckSubject=new u.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new u.xQ,e&&e.change.pipe((0,g.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe((0,g.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=r}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,c.Ig)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,c.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,b.O)(this._allDrawers),(0,g.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,b.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,y.b)(10),(0,g.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();e+=i,t-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();t+=i,e-=i}e=e||null,t=t||null,(e!==this._contentMargins.left||t!==this._contentMargins.right)&&(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,p.h)(e=>e.fromState!==e.toState),(0,g.R)(this._drawers.changes)).subscribe(e=>{"open-instant"!==e.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,g.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,g.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,v.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,g.R)((0,d.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const t=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?t.add(i):t.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(E.Is,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(s.rL),o.Y36(M),o.Y36(C.Qb,8))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,i){if(1&e&&(o.Suo(i,U,5),o.Suo(i,H,5)),2&e){let e;o.iGM(e=o.CRH())&&(t._content=e.first),o.iGM(e=o.CRH())&&(t._allDrawers=e)}},viewQuery:function(e,t){if(1&e&&o.Gf(U,5),2&e){let e;o.iGM(e=o.CRH())&&(t._userContent=e.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:F,useExisting:e}])],ngContentSelectors:I,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){1&e&&(o.F$t(A),o.YNc(0,k,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,x,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",t.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!t._content))},directives:[r.O5,U],styles:[N],encapsulation:2,changeDetection:0}),e})(),$=(()=>{class e extends U{constructor(e,t,i,n,s){super(e,t,i,n,s)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>G)),o.Y36(o.SBq),o.Y36(s.mF),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,t){2&e&&o.Udp("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:T,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),j=(()=>{class e extends H{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,c.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,c.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,c.su)(e)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(e)))(i||e)}}(),e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,t){2&e&&(o.uIk("align",null),o.Udp("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened)("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:T,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[s.PQ],encapsulation:2,data:{animation:[L.transformDrawer]},changeDetection:0}),e})(),G=(()=>{class e extends B{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(e)))(i||e)}}(),e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(e,t,i){if(1&e&&(o.Suo(i,$,5),o.Suo(i,j,5)),2&e){let e;o.iGM(e=o.CRH())&&(t._content=e.first),o.iGM(e=o.CRH())&&(t._allDrawers=e)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,t){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:F,useExisting:e}]),o.qOj],ngContentSelectors:D,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,t){1&e&&(o.F$t(P),o.YNc(0,O,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,R,2,0,"mat-sidenav-content",1)),2&e&&(o.Q6J("ngIf",t.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!t._content))},directives:[r.O5,$,s.PQ],styles:[N],encapsulation:2,changeDetection:0}),e})(),V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.ez,a.BQ,n.ud,s.ZD],s.ZD,a.BQ]}),e})()},45396:function(e,t,i){"use strict";i.d(t,{Rr:function(){return y},rP:function(){return C}});var n=i(18553),s=i(37716),r=i(72458),o=i(39490),a=i(3679),c=i(46237),l=i(19238);const u=["thumbContainer"],h=["toggleBar"],d=["input"],p=function(e){return{enterDuration:e}},f=["*"],m=new s.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let g=0;const _={provide:a.JU,useExisting:(0,s.Gpc)(()=>y),multi:!0};class v{constructor(e,t){this.source=e,this.checked=t}}const b=(0,r.sb)((0,r.pj)((0,r.Kr)((0,r.Id)(class{constructor(e){this._elementRef=e}}))));let y=(()=>{class e extends b{constructor(e,t,i,n,r,o){super(e),this._focusMonitor=t,this._changeDetectorRef=i,this.defaults=r,this._onChange=e=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++g,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new s.vpe,this.toggleChange=new s.vpe,this.tabIndex=parseInt(n)||0,this.color=this.defaultColor=r.color||"accent",this._noopAnimations="NoopAnimations"===o}get required(){return this._required}set required(e){this._required=(0,o.Ig)(e)}get checked(){return this._checked}set checked(e){this._checked=(0,o.Ig)(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._inputElement.nativeElement.focus():e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new v(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(l.tE),s.Y36(s.sBO),s.$8M("tabindex"),s.Y36(m),s.Y36(c.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){if(1&e&&(s.Gf(u,5),s.Gf(h,5),s.Gf(d,5)),2&e){let e;s.iGM(e=s.CRH())&&(t._thumbEl=e.first),s.iGM(e=s.CRH())&&(t._thumbBarEl=e.first),s.iGM(e=s.CRH())&&(t._inputElement=e.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,t){2&e&&(s.Ikx("id",t.id),s.uIk("tabindex",t.disabled?null:-1)("aria-label",null)("aria-labelledby",null),s.ekj("mat-checked",t.checked)("mat-disabled",t.disabled)("mat-slide-toggle-label-before","before"==t.labelPosition)("_mat-animation-noopable",t._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked",ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[s._Bn([_]),s.qOj],ngContentSelectors:f,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,t){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1),s.TgZ(2,"div",2,3),s.TgZ(4,"input",4,5),s.NdJ("change",function(e){return t._onChangeEvent(e)})("click",function(e){return t._onInputClick(e)}),s.qZA(),s.TgZ(6,"div",6,7),s._UZ(8,"div",8),s.TgZ(9,"div",9),s._UZ(10,"div",10),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"span",11,12),s.NdJ("cdkObserveContent",function(){return t._onLabelTextChange()}),s.TgZ(13,"span",13),s._uU(14,"\xa0"),s.qZA(),s.Hsn(15),s.qZA(),s.qZA()),2&e){const e=s.MAs(1),i=s.MAs(12);s.uIk("for",t.inputId),s.xp6(2),s.ekj("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),s.xp6(2),s.Q6J("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex)("checked",t.checked)("disabled",t.disabled),s.uIk("name",t.name)("aria-checked",t.checked.toString())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),s.xp6(5),s.Q6J("matRippleTrigger",e)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",s.VKq(18,p,t._noopAnimations?0:150))}},directives:[r.wG,n.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e})(),C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[S,r.si,r.BQ,n.Q8],S,r.BQ]}),e})()},54436:function(e,t,i){"use strict";i.d(t,{pH:function(){return b},KP:function(){return w}});var n=i(38583),s=i(37716),r=i(72458),o=i(39490),a=i(36461),c=i(3679),l=i(46237),u=i(80521),h=i(75319),d=i(19238),p=i(70946);const f=["sliderWrapper"],m=(0,u.i$)({passive:!1}),g={provide:c.JU,useExisting:(0,s.Gpc)(()=>b),multi:!0};class _{}const v=(0,r.sb)((0,r.pj)((0,r.Id)(class{constructor(e){this._elementRef=e}}),"accent"));let b=(()=>{class e extends v{constructor(e,t,i,n,r,o,a,c){super(e),this._focusMonitor=t,this._changeDetectorRef=i,this._dir=n,this._ngZone=o,this._animationMode=c,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new s.vpe,this.input=new s.vpe,this.valueChange=new s.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=h.w.EMPTY,this._pointerDown=e=>{this.disabled||this._isSliding||!y(e)&&0!==e.button||this._ngZone.run(()=>{this._touchId=y(e)?function(e,t){for(let i=0;i<e.touches.length;i++){const n=e.touches[i].target;if(t===n||t.contains(n))return e.touches[i].identifier}}(e,this._elementRef.nativeElement):void 0;const t=S(e,this._touchId);if(t){const i=this.value;this._isSliding="pointer",this._lastPointerEvent=e,e.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(e),this._focusHostElement(),this._updateValueFromPosition(t),this._valueOnSlideStart=i,i!=this.value&&this._emitInputEvent()}})},this._pointerMove=e=>{if("pointer"===this._isSliding){const t=S(e,this._touchId);if(t){e.preventDefault();const i=this.value;this._lastPointerEvent=e,this._updateValueFromPosition(t),i!=this.value&&this._emitInputEvent()}}},this._pointerUp=e=>{"pointer"===this._isSliding&&(!y(e)||"number"!=typeof this._touchId||C(e.changedTouches,this._touchId))&&(e.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=a,this.tabIndex=parseInt(r)||0,o.runOutsideAngular(()=>{const t=e.nativeElement;t.addEventListener("mousedown",this._pointerDown,m),t.addEventListener("touchstart",this._pointerDown,m)})}get invert(){return this._invert}set invert(e){this._invert=(0,o.Ig)(e)}get max(){return this._max}set max(e){this._max=(0,o.su)(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=(0,o.su)(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=(0,o.su)(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=(0,o.Ig)(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?(0,o.su)(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let t=(0,o.su)(e,0);this._roundToDecimal&&t!==this.min&&t!==this.max&&(t=parseFloat(t.toFixed(this._roundToDecimal))),this._value=t,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=(0,o.Ig)(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const e=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${e})`}}_getTrackFillStyles(){const e=this.percent,t=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${t})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,t={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const e=this._shouldInvertAxis();let i;i=this.vertical?e?"Bottom":"Top":e?"Right":"Left",t[`padding${i}`]=`${this._getThumbGap()}px`}return t}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,m),e.removeEventListener("touchstart",this._pointerDown,m),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||(0,a.Vb)(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const t=this.value;switch(e.keyCode){case a.Ku:this._increment(10);break;case a.VM:this._increment(-10);break;case a.uR:this.value=this.max;break;case a.Sd:this.value=this.min;break;case a.oh:this._increment("rtl"==this._getDirection()?1:-1);break;case a.LH:this._increment(1);break;case a.SV:this._increment("rtl"==this._getDirection()?-1:1);break;case a.JH:this._increment(-1);break;default:return}t!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const t=this._document,i=y(e),n=i?"touchend":"mouseup";t.addEventListener(i?"touchmove":"mousemove",this._pointerMove,m),t.addEventListener(n,this._pointerUp,m),i&&t.addEventListener("touchcancel",this._pointerUp,m);const s=this._getWindow();void 0!==s&&s&&s.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,m),e.removeEventListener("mouseup",this._pointerUp,m),e.removeEventListener("touchmove",this._pointerMove,m),e.removeEventListener("touchend",this._pointerUp,m),e.removeEventListener("touchcancel",this._pointerUp,m);const t=this._getWindow();void 0!==t&&t&&t.removeEventListener("blur",this._windowBlur)}_increment(e){this.value=this._clamp((this.value||0)+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let t=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(t=1-t),0===t)this.value=this.min;else if(1===t)this.value=this.max;else{const e=this._calculateValue(t),i=Math.round((e-this.min)/this.step)*this.step+this.min;this.value=this._clamp(i,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let e=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,t=Math.ceil(30/(e*this.step/(this.max-this.min)))*this.step;this._tickIntervalPercent=t/e}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(e=this.value){let t=new _;return t.source=this,t.value=e,t}_calculatePercentage(e){return((e||0)-this.min)/(this.max-this.min)}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,t=0,i=1){return Math.max(t,Math.min(e,i))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(d.tE),s.Y36(s.sBO),s.Y36(p.Is,8),s.$8M("tabindex"),s.Y36(s.R0b),s.Y36(n.K0),s.Y36(l.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-slider"]],viewQuery:function(e,t){if(1&e&&s.Gf(f,5),2&e){let e;s.iGM(e=s.CRH())&&(t._sliderWrapper=e.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,t){1&e&&s.NdJ("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()})("keydown",function(e){return t._onKeydown(e)})("keyup",function(){return t._onKeyup()})("mouseenter",function(){return t._onMouseenter()})("selectstart",function(e){return e.preventDefault()}),2&e&&(s.Ikx("tabIndex",t.tabIndex),s.uIk("aria-disabled",t.disabled)("aria-valuemax",t.max)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-valuetext",null==t.valueText?t.displayValue:t.valueText)("aria-orientation",t.vertical?"vertical":"horizontal"),s.ekj("mat-slider-disabled",t.disabled)("mat-slider-has-ticks",t.tickInterval)("mat-slider-horizontal",!t.vertical)("mat-slider-axis-inverted",t._shouldInvertAxis())("mat-slider-invert-mouse-coords",t._shouldInvertMouseCoords())("mat-slider-sliding",t._isSliding)("mat-slider-thumb-label-showing",t.thumbLabel)("mat-slider-vertical",t.vertical)("mat-slider-min-value",t._isMinValue())("mat-slider-hide-last-tick",t.disabled||t._isMinValue()&&t._getThumbGap()&&t._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",vertical:"vertical",displayWith:"displayWith",valueText:"valueText"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[s._Bn([g]),s.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0,1),s.TgZ(2,"div",2),s._UZ(3,"div",3),s._UZ(4,"div",4),s.qZA(),s.TgZ(5,"div",5),s._UZ(6,"div",6),s.qZA(),s.TgZ(7,"div",7),s._UZ(8,"div",8),s._UZ(9,"div",9),s.TgZ(10,"div",10),s.TgZ(11,"span",11),s._uU(12),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngStyle",t._getTrackBackgroundStyles()),s.xp6(1),s.Q6J("ngStyle",t._getTrackFillStyles()),s.xp6(1),s.Q6J("ngStyle",t._getTicksContainerStyles()),s.xp6(1),s.Q6J("ngStyle",t._getTicksStyles()),s.xp6(1),s.Q6J("ngStyle",t._getThumbContainerStyles()),s.xp6(5),s.Oqu(t.displayValue))},directives:[n.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),e})();function y(e){return"t"===e.type[0]}function S(e,t){let i;return i=y(e)?"number"==typeof t?C(e.touches,t)||C(e.changedTouches,t):e.touches[0]||e.changedTouches[0]:e,i?{x:i.clientX,y:i.clientY}:void 0}function C(e,t){for(let i=0;i<e.length;i++)if(e[i].identifier===t)return e[i]}let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ez,r.BQ],r.BQ]}),e})()},77001:function(e,t,i){"use strict";i.d(t,{ux:function(){return x},ZX:function(){return T}});var n=i(90625),s=i(87636),r=i(38583),o=i(37716),a=i(72458),c=i(51095),l=i(79765),u=i(15257),h=i(46782),d=i(17238),p=i(19238),f=i(65072),m=i(80521);function g(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().action()}),o._uU(2),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function _(e,t){}const v=new o.OlP("MatSnackBarData");class b{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const y=Math.pow(2,31)-1;class S{constructor(e,t){this._overlayRef=t,this._afterDismissed=new l.xQ,this._afterOpened=new l.xQ,this._onAction=new l.xQ,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,y))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let C=(()=>{class e{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(S),o.Y36(v))},e.\u0275cmp=o.Xpm({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA(),o.YNc(2,g,3,1,"div",0)),2&e&&(o.xp6(1),o.Oqu(t.data.message),o.xp6(1),o.Q6J("ngIf",t.hasAction))},directives:[r.O5,c.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),e})();const w={snackBarState:(0,d.X$)("state",[(0,d.SB)("void, hidden",(0,d.oB)({transform:"scale(0.8)",opacity:0})),(0,d.SB)("visible",(0,d.oB)({transform:"scale(1)",opacity:1})),(0,d.eR)("* => visible",(0,d.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,d.eR)("* => void, * => hidden",(0,d.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,d.oB)({opacity:0})))])};let E=(()=>{class e extends s.en{constructor(e,t,i,n,s){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=i,this._platform=n,this.snackBarConfig=s,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new l.xQ,this._onExit=new l.xQ,this._onEnter=new l.xQ,this._animationState="void",this.attachDomPortal=e=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(e)),this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:t,toState:i}=e;if(("void"===i&&"void"!==t||"hidden"===i)&&this._completeExit(),"visible"===i){const e=this._onEnter;this._ngZone.run(()=>{e.next(),e.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,u.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(t=>e.classList.add(t)):e.classList.add(t)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),t=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&t){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),t.appendChild(e),null==i||i.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(m.t4),o.Y36(b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["snack-bar-container"]],viewQuery:function(e,t){if(1&e&&o.Gf(s.Pl,7),2&e){let e;o.iGM(e=o.CRH())&&(t._portalOutlet=e.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,t){1&e&&o.WFA("@state.done",function(e){return t.onAnimationEnd(e)}),2&e&&o.d8E("@state",t._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,_,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",t._live)("role",t._role))},directives:[s.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[w.snackBarState]}}),e})(),T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[n.U8,s.eL,r.ez,c.ot,a.BQ],a.BQ]}),e})();const k=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new b}});let x=(()=>{class e{constructor(e,t,i,n,s,r){this._overlay=e,this._live=t,this._injector=i,this._breakpointObserver=n,this._parentSnackBar=s,this._defaultConfig=r,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=C,this.snackBarContainerComponent=E,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",i){const n=Object.assign(Object.assign({},this._defaultConfig),i);return n.data={message:e,action:t},n.announcementMessage===e&&(n.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,n)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){const i=o.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:b,useValue:t}]}),n=new s.C5(this.snackBarContainerComponent,t.viewContainerRef,i),r=e.attach(n);return r.instance.snackBarConfig=t,r.instance}_attach(e,t){const i=Object.assign(Object.assign(Object.assign({},new b),this._defaultConfig),t),n=this._createOverlay(i),r=this._attachSnackBarContainer(n,i),a=new S(r,n);if(e instanceof o.Rgc){const t=new s.UE(e,null,{$implicit:i.data,snackBarRef:a});a.instance=r.attachTemplatePortal(t)}else{const t=this._createInjector(i,a),n=new s.C5(e,void 0,t),o=r.attachComponentPortal(n);a.instance=o.instance}return this._breakpointObserver.observe(f.u3.HandsetPortrait).pipe((0,h.R)(n.detachments())).subscribe(e=>{const t=n.overlayElement.classList;e.matches?t.add(this.handsetCssClass):t.remove(this.handsetCssClass)}),i.announcementMessage&&r._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration))}_createOverlay(e){const t=new n.X_;t.direction=e.direction;let i=this._overlay.position().global();const s="rtl"===e.direction,r="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,o=!r&&"center"!==e.horizontalPosition;return r?i.left("0"):o?i.right("0"):i.centerHorizontally(),"top"===e.verticalPosition?i.top("0"):i.bottom("0"),t.positionStrategy=i,this._overlay.create(t)}_createInjector(e,t){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:S,useValue:t},{provide:v,useValue:e.data}]})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.aV),o.LFG(p.Kd),o.LFG(o.zs3),o.LFG(f.Yg),o.LFG(e,12),o.LFG(k))},e.\u0275prov=o.Yz7({factory:function(){return new e(o.LFG(n.aV),o.LFG(p.Kd),o.LFG(o.gxx),o.LFG(f.Yg),o.LFG(e,12),o.LFG(k))},token:e,providedIn:T}),e})()},32789:function(e,t,i){"use strict";i.d(t,{ev:function(){return de},Dz:function(){return ce},w1:function(){return ue},ge:function(){return he},fO:function(){return le},XQ:function(){return me},as:function(){return pe},Gk:function(){return ge},nj:function(){return fe},BZ:function(){return ae},by:function(){return be},p0:function(){return _e}});var n=i(39490),s=i(38345),r=i(37716),o=i(70946),a=i(80521),c=i(71386),l=i(38583),u=i(79765),h=i(94402),d=i(26215),p=i(95639),f=i(25917),m=i(46782),g=i(15257);const _=[[["caption"]],[["colgroup"],["col"]]],v=["caption","colgroup, col"];function b(e){return class extends e{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=(0,n.Ig)(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const y=new r.OlP("CDK_TABLE");let S=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkCellDef",""]]}),e})(),C=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkHeaderCellDef",""]]}),e})(),w=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkFooterCellDef",""]]}),e})();class E{}const T=b(E);let k=(()=>{class e extends T{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const t=this._stickyEnd;this._stickyEnd=(0,n.Ig)(e),this._hasStickyChanged=t!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(y,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,t,i){if(1&e&&(r.Suo(i,S,5),r.Suo(i,C,5),r.Suo(i,w,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.cell=e.first),r.iGM(e=r.CRH())&&(t.headerCell=e.first),r.iGM(e=r.CRH())&&(t.footerCell=e.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),r.qOj]}),e})();class x{constructor(e,t){const i=t.nativeElement.classList;for(const n of e._columnCssClassName)i.add(n)}}let A=(()=>{class e extends x{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(k),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.qOj]}),e})(),I=(()=>{class e extends x{constructor(e,t){var i;if(super(e,t),1===(null===(i=e._table)||void 0===i?void 0:i._elementRef.nativeElement.nodeType)){const i=e._table._elementRef.nativeElement.getAttribute("role");t.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(k),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[r.qOj]}),e})();class O{constructor(){this.tasks=[],this.endTasks=[]}}const R=new r.OlP("_COALESCED_STYLE_SCHEDULER");let P=(()=>{class e{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new u.xQ}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new O,this._getScheduleObservable().pipe((0,m.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new O;for(const t of e.tasks)t();for(const t of e.endTasks)t()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,h.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,g.q)(1))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),D=(()=>{class e{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){const t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof M?e.headerCell.template:this instanceof H?e.footerCell.template:e.cell.template}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,features:[r.TTD]}),e})();class N extends D{}const L=b(N);let M=(()=>{class e extends L{constructor(e,t,i){super(e,t),this._table=i}ngOnChanges(e){super.ngOnChanges(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(y,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),e})();class F extends D{}const U=b(F);let H=(()=>{class e extends U{constructor(e,t,i){super(e,t),this._table=i}ngOnChanges(e){super.ngOnChanges(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(y,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.qOj,r.TTD]}),e})(),B=(()=>{class e extends D{constructor(e,t,i){super(e,t),this._table=i}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(y,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.qOj]}),e})(),$=(()=>{class e{constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkCellOutlet",""]]}),e.mostRecentCellOutlet=null,e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&r.GkF(0,0)},directives:[$],encapsulation:2}),e})(),G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&r.GkF(0,0)},directives:[$],encapsulation:2}),e})(),V=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["ng-template","cdkNoDataRow",""]]}),e})();const q=["top","bottom","left","right"];class Y{constructor(e,t,i,n,s=!0,r=!0,o){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=n,this._isBrowser=s,this._needsPositionStickyOnElement=r,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const n of e)if(n.nodeType===n.ELEMENT_NODE){i.push(n);for(let e=0;e<n.children.length;e++)i.push(n.children[e])}this._coalescedStyleScheduler.schedule(()=>{for(const e of i)this._removeStickyStyle(e,t)})}updateStickyColumns(e,t,i,n=!0){if(!e.length||!this._isBrowser||!t.some(e=>e)&&!i.some(e=>e))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],r=s.children.length,o=this._getCellWidths(s,n),a=this._getStickyStartColumnPositions(o,t),c=this._getStickyEndColumnPositions(o,i),l=t.lastIndexOf(!0),u=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const n="rtl"===this.direction,s=n?"right":"left",h=n?"left":"right";for(const o of e)for(let e=0;e<r;e++){const n=o.children[e];t[e]&&this._addStickyStyle(n,s,a[e],e===l),i[e]&&this._addStickyStyle(n,h,c[e],e===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===l?[]:o.slice(0,l+1).map((e,i)=>t[i]?e:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:o.slice(u).map((e,t)=>i[t+u]?e:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const n="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,r=[],o=[],a=[];for(let l=0,u=0;l<n.length;l++){if(!s[l])continue;r[l]=u;const e=n[l];a[l]=this._isNativeHtmlTable?Array.from(e.children):[e];const t=e.getBoundingClientRect().height;u+=t,o[l]=t}const c=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var e,t;for(let o=0;o<n.length;o++){if(!s[o])continue;const e=r[o],t=o===c;for(const n of a[o])this._addStickyStyle(n,i,e,t)}"top"===i?null===(e=this._positionListener)||void 0===e||e.stickyHeaderRowsUpdated({sizes:o,offsets:r,elements:a}):null===(t=this._positionListener)||void 0===t||t.stickyFooterRowsUpdated({sizes:o,offsets:r,elements:a})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(e=>!e)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);q.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,n){e.classList.add(this._stickCellCss),n&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const n of q)e.style[n]&&(i+=t[n]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],n=e.children;for(let s=0;s<n.length;s++)i.push(n[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let n=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=n,n+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let n=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=n,n+=e[s]);return i}}const Z=new r.OlP("CDK_SPL");let z=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","rowOutlet",""]]}),e})(),K=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","headerRowOutlet",""]]}),e})(),W=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","footerRowOutlet",""]]}),e})(),J=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","noDataRowOutlet",""]]}),e})(),Q=(()=>{class e{constructor(e,t,i,n,s,o,a,c,l,h,p){this._differs=e,this._changeDetectorRef=t,this._elementRef=i,this._dir=s,this._platform=a,this._viewRepeater=c,this._coalescedStyleScheduler=l,this._viewportRuler=h,this._stickyPositioningListener=p,this._onDestroy=new u.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new r.vpe,this.viewChange=new d.X({start:0,end:Number.MAX_VALUE}),n||this._elementRef.nativeElement.setAttribute("role","table"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=(0,n.Ig)(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=(0,n.Ig)(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t),this._viewportRuler.change().pipe((0,m.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const e=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||e,this._forceRecalculateCellWidths=e,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),(0,s.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(e,t,i)=>this._getEmbeddedViewArgs(e.item,i),e=>e.item.data,e=>{1===e.operation&&e.context&&this._renderCellTemplateForItem(e.record.item.rowDef,e.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(e=>{t.get(e.currentIndex).context.$implicit=e.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._elementRef.nativeElement.querySelector("thead");t&&(t.style.display=e.length?"":"none");const i=this._headerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),t=this._elementRef.nativeElement.querySelector("tfoot");t&&(t.style.display=e.length?"":"none");const i=this._footerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((e,t)=>{this._addStickyColumnStyles([e],this._headerRowDefs[t])}),this._rowDefs.forEach(e=>{const i=[];for(let n=0;n<t.length;n++)this._renderRows[n].rowDef===e&&i.push(t[n]);this._addStickyColumnStyles(i,e)}),i.forEach((e,t)=>{this._addStickyColumnStyles([e],this._footerRowDefs[t])}),Array.from(this._columnDefsByName.values()).forEach(e=>e.resetStickyChanged())}_getAllRenderRows(){const e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let n=this._data[i];const s=this._getRenderRowsForData(n,i,t.get(n));this._cachedRenderRowsMap.has(n)||this._cachedRenderRowsMap.set(n,new WeakMap);for(let t=0;t<s.length;t++){let i=s[t];const n=this._cachedRenderRowsMap.get(i.data);n.has(i.rowDef)?n.get(i.rowDef).push(i):n.set(i.rowDef,[i]),e.push(i)}}return e}_getRenderRowsForData(e,t,i){return this._getRowDefs(e,t).map(n=>{const s=i&&i.has(n)?i.get(n):[];if(s.length){const e=s.shift();return e.dataIndex=t,e}return{data:e,rowDef:n,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),X(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(e=>{this._columnDefsByName.has(e.name),this._columnDefsByName.set(e.name,e)})}_cacheRowDefs(){this._headerRowDefs=X(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=X(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=X(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(e=>!e.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(e,t)=>e||!!t.getColumnsDiff(),t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(e,!1);i&&this._forceRenderHeaderRows();const n=this._footerRowDefs.reduce(e,!1);return n&&this._forceRenderFooterRows(),t||i||n}_switchDataSource(e){this._data=[],(0,s.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;(0,s.Z9)(this.dataSource)?e=this.dataSource.connect(this):(0,p.b)(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,f.of)(this.dataSource)),this._renderChangeSubscription=e.pipe((0,m.R)(this._onDestroy)).subscribe(e=>{this._data=e||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){const i=Array.from(t.columns||[]).map(e=>this._columnDefsByName.get(e)),n=i.map(e=>e.sticky),s=i.map(e=>e.stickyEnd);this._stickyStyler.updateStickyColumns(e,n,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const t=[];for(let i=0;i<e.viewContainer.length;i++){const n=e.viewContainer.get(i);t.push(n.rootNodes[0])}return t}_getRowDefs(e,t){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(i=>!i.when||i.when(t,e));else{let n=this._rowDefs.find(i=>i.when&&i.when(t,e))||this._defaultRowDef;n&&i.push(n)}return i}_getEmbeddedViewArgs(e,t){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:t}}_renderRow(e,t,i,n={}){const s=e.viewContainer.createEmbeddedView(t.template,n,i);return this._renderCellTemplateForItem(t,n),s}_renderCellTemplateForItem(e,t){for(let i of this._getCellTemplates(e))$.mostRecentCellOutlet&&$.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let t=0,i=e.length;t<i;t++){const n=e.get(t).context;n.count=i,n.first=0===t,n.last=t===i-1,n.even=t%2==0,n.odd=!n.even,this.multiTemplateDataRows?(n.dataIndex=this._renderRows[t].dataIndex,n.renderIndex=t):n.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,t=>{const i=this._columnDefsByName.get(t);return e.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),t=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of t){const t=this._document.createElement(i.tag);t.setAttribute("role","rowgroup");for(const e of i.outlets)t.appendChild(e.elementRef.nativeElement);e.appendChild(t)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(e,t)=>e||t.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Y(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,f.of)()).pipe((0,m.R)(this._onDestroy)).subscribe(e=>{this._stickyStyler.direction=e,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(e=>!e._table||e._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const t=0===this._rowOutlet.viewContainer.length;if(t!==this._isShowingNoDataRow){const i=this._noDataRowOutlet.viewContainer;t?i.createEmbeddedView(e.templateRef):i.clear(),this._isShowingNoDataRow=t}}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.sBO),r.Y36(r.SBq),r.$8M("role"),r.Y36(o.Is,8),r.Y36(l.K0),r.Y36(a.t4),r.Y36(s.k),r.Y36(R),r.Y36(c.rL),r.Y36(Z,12))},e.\u0275cmp=r.Xpm({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,t,i){if(1&e&&(r.Suo(i,V,5),r.Suo(i,k,5),r.Suo(i,B,5),r.Suo(i,M,5),r.Suo(i,H,5)),2&e){let e;r.iGM(e=r.CRH())&&(t._noDataRow=e.first),r.iGM(e=r.CRH())&&(t._contentColumnDefs=e),r.iGM(e=r.CRH())&&(t._contentRowDefs=e),r.iGM(e=r.CRH())&&(t._contentHeaderRowDefs=e),r.iGM(e=r.CRH())&&(t._contentFooterRowDefs=e)}},viewQuery:function(e,t){if(1&e&&(r.Gf(z,7),r.Gf(K,7),r.Gf(W,7),r.Gf(J,7)),2&e){let e;r.iGM(e=r.CRH())&&(t._rowOutlet=e.first),r.iGM(e=r.CRH())&&(t._headerRowOutlet=e.first),r.iGM(e=r.CRH())&&(t._footerRowOutlet=e.first),r.iGM(e=r.CRH())&&(t._noDataRowOutlet=e.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("cdk-table-fixed-layout",t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[r._Bn([{provide:y,useExisting:e},{provide:s.k,useClass:s.yy},{provide:R,useClass:P},{provide:Z,useValue:null}])],ngContentSelectors:v,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(r.F$t(_),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0),r.GkF(3,1),r.GkF(4,2),r.GkF(5,3))},directives:[K,z,J,W],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),e})();function X(e,t){return e.concat(Array.from(t))}let ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[c.Cl]]}),e})();var te=i(72458),ie=i(66682),ne=i(9112),se=i(88002);const re=[[["caption"]],[["colgroup"],["col"]]],oe=["caption","colgroup, col"];let ae=(()=>{class e extends Q{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("mat-table-fixed-layout",t.fixedLayout)},exportAs:["matTable"],features:[r._Bn([{provide:s.k,useClass:s.yy},{provide:Q,useExisting:e},{provide:y,useExisting:e},{provide:R,useClass:P},{provide:Z,useValue:null}]),r.qOj],ngContentSelectors:oe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(r.F$t(re),r.Hsn(0),r.Hsn(1,1),r.GkF(2,0),r.GkF(3,1),r.GkF(4,2),r.GkF(5,3))},directives:[K,z,J,W],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),e})(),ce=(()=>{class e extends S{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["","matCellDef",""]],features:[r._Bn([{provide:S,useExisting:e}]),r.qOj]}),e})(),le=(()=>{class e extends C{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["","matHeaderCellDef",""]],features:[r._Bn([{provide:C,useExisting:e}]),r.qOj]}),e})(),ue=(()=>{class e extends k{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r._Bn([{provide:k,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),r.qOj]}),e})(),he=(()=>{class e extends A{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.qOj]}),e})(),de=(()=>{class e extends I{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.qOj]}),e})(),pe=(()=>{class e extends M{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r._Bn([{provide:M,useExisting:e}]),r.qOj]}),e})(),fe=(()=>{class e extends B{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r._Bn([{provide:B,useExisting:e}]),r.qOj]}),e})(),me=(()=>{class e extends j{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r._Bn([{provide:j,useExisting:e}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&r.GkF(0,0)},directives:[$],encapsulation:2}),e})(),ge=(()=>{class e extends G{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(e)))(i||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r._Bn([{provide:G,useExisting:e}]),r.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&r.GkF(0,0)},directives:[$],encapsulation:2}),e})(),_e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ee,te.BQ],te.BQ]}),e})();class ve extends s.o2{constructor(e=[]){super(),this._renderData=new d.X([]),this._filter=new d.X(""),this._internalPageChanges=new u.xQ,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,t)=>{const i=e[t];if((0,n.t6)(i)){const e=Number(i);return e<9007199254740991?e:i}return i},this.sortData=(e,t)=>{const i=t.active,n=t.direction;return i&&""!=n?e.sort((e,t)=>{let s=this.sortingDataAccessor(e,i),r=this.sortingDataAccessor(t,i);const o=typeof s,a=typeof r;o!==a&&("number"===o&&(s+=""),"number"===a&&(r+=""));let c=0;return null!=s&&null!=r?s>r?c=1:s<r&&(c=-1):null!=s?c=1:null!=r&&(c=-1),c*("asc"==n?1:-1)}):e},this.filterPredicate=(e,t)=>{const i=Object.keys(e).reduce((t,i)=>t+e[i]+"\u25ec","").toLowerCase(),n=t.trim().toLowerCase();return-1!=i.indexOf(n)},this._data=new d.X(e),this._updateChangeSubscription()}get data(){return this._data.value}set data(e){this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}_updateChangeSubscription(){var e;const t=this._sort?(0,ie.T)(this._sort.sortChange,this._sort.initialized):(0,f.of)(null),i=this._paginator?(0,ie.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,f.of)(null),n=(0,ne.aj)([this._data,this._filter]).pipe((0,se.U)(([e])=>this._filterData(e))),s=(0,ne.aj)([n,t]).pipe((0,se.U)(([e])=>this._orderData(e))),r=(0,ne.aj)([s,i]).pipe((0,se.U)(([e])=>this._pageData(e)));null===(e=this._renderChangesSubscription)||void 0===e||e.unsubscribe(),this._renderChangesSubscription=r.subscribe(e=>this._renderData.next(e))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const e=Math.ceil(t.length/t.pageSize)-1||0,i=Math.min(t.pageIndex,e);i!==t.pageIndex&&(t.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var e;null===(e=this._renderChangesSubscription)||void 0===e||e.unsubscribe(),this._renderChangesSubscription=null}}class be extends ve{}},65939:function(e,t,i){"use strict";i.d(t,{uX:function(){return K},SP:function(){return re},uD:function(){return Y},Nh:function(){return de}});var n=i(19238),s=i(18553),r=i(87636),o=i(38583),a=i(37716),c=i(72458),l=i(46237),u=i(79765),h=i(75319),d=i(66682),p=i(22759),f=i(25917),m=i(46797),g=i(17238),_=i(39761),v=i(87519),b=i(46782),y=i(39490),S=i(80521),C=i(36461),w=i(70946),E=i(71386);function T(e,t){1&e&&a.Hsn(0)}const k=["*"];function x(e,t){}const A=function(e){return{animationDuration:e}},I=function(e,t){return{value:e,params:t}},O=["tabBodyWrapper"],R=["tabHeader"];function P(e,t){}function D(e,t){if(1&e&&a.YNc(0,P,0,0,"ng-template",9),2&e){const e=a.oxw().$implicit;a.Q6J("cdkPortalOutlet",e.templateLabel)}}function N(e,t){if(1&e&&a._uU(0),2&e){const e=a.oxw().$implicit;a.Oqu(e.textLabel)}}function L(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",6),a.NdJ("click",function(){const t=a.CHM(e),i=t.$implicit,n=t.index,s=a.oxw(),r=a.MAs(1);return s._handleClick(i,r,n)})("cdkFocusChange",function(t){const i=a.CHM(e).index;return a.oxw()._tabFocusChanged(t,i)}),a.TgZ(1,"div",7),a.YNc(2,D,1,1,"ng-template",8),a.YNc(3,N,1,1,"ng-template",8),a.qZA(),a.qZA()}if(2&e){const e=t.$implicit,i=t.index,n=a.oxw();a.ekj("mat-tab-label-active",n.selectedIndex==i),a.Q6J("id",n._getTabLabelId(i))("disabled",e.disabled)("matRippleDisabled",e.disabled||n.disableRipple),a.uIk("tabIndex",n._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",n._tabs.length)("aria-controls",n._getTabContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),a.xp6(2),a.Q6J("ngIf",e.templateLabel),a.xp6(1),a.Q6J("ngIf",!e.templateLabel)}}function M(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"mat-tab-body",10),a.NdJ("_onCentered",function(){return a.CHM(e),a.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(t){return a.CHM(e),a.oxw()._setTabBodyWrapperHeight(t)}),a.qZA()}if(2&e){const e=t.$implicit,i=t.index,n=a.oxw();a.ekj("mat-tab-body-active",n.selectedIndex===i),a.Q6J("id",n._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",n.animationDuration),a.uIk("tabindex",null!=n.contentTabIndex&&n.selectedIndex===i?n.contentTabIndex:null)("aria-labelledby",n._getTabLabelId(i))}}const F=["tabListContainer"],U=["tabList"],H=["nextPaginator"],B=["previousPaginator"],$=new a.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let j=(()=>{class e{constructor(e,t,i,n){this._elementRef=e,this._ngZone=t,this._inkBarPositioner=i,this._animationMode=n}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const t=this._inkBarPositioner(e),i=this._elementRef.nativeElement;i.style.left=t.left,i.style.width=t.width}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36($),a.Y36(l.Qb,8))},e.\u0275dir=a.lG2({type:e,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,t){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)}}),e})();const G=new a.OlP("MatTabContent"),V=new a.OlP("MatTabLabel"),q=new a.OlP("MAT_TAB");let Y=(()=>{class e extends r.ig{constructor(e,t,i){super(e,t),this._closestTab=i}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(q,8))},e.\u0275dir=a.lG2({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[a._Bn([{provide:V,useExisting:e}]),a.qOj]}),e})();const Z=(0,c.Id)(class{}),z=new a.OlP("MAT_TAB_GROUP");let K=(()=>{class e extends Z{constructor(e,t){super(),this._viewContainerRef=e,this._closestTabGroup=t,this.textLabel="",this._contentPortal=null,this._stateChanges=new u.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new r.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.s_b),a.Y36(z,8))},e.\u0275cmp=a.Xpm({type:e,selectors:[["mat-tab"]],contentQueries:function(e,t,i){if(1&e&&(a.Suo(i,V,5),a.Suo(i,G,7,a.Rgc)),2&e){let e;a.iGM(e=a.CRH())&&(t.templateLabel=e.first),a.iGM(e=a.CRH())&&(t._explicitContent=e.first)}},viewQuery:function(e,t){if(1&e&&a.Gf(a.Rgc,7),2&e){let e;a.iGM(e=a.CRH())&&(t._implicitContent=e.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[a._Bn([{provide:q,useExisting:e}]),a.qOj,a.TTD],ngContentSelectors:k,decls:1,vars:0,template:function(e,t){1&e&&(a.F$t(),a.YNc(0,T,1,0,"ng-template"))},encapsulation:2}),e})();const W={translateTab:(0,g.X$)("translateTab",[(0,g.SB)("center, void, left-origin-center, right-origin-center",(0,g.oB)({transform:"none"})),(0,g.SB)("left",(0,g.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,g.SB)("right",(0,g.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,g.eR)("* => left, * => right, left => center, right => center",(0,g.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,g.eR)("void => left-origin-center",[(0,g.oB)({transform:"translate3d(-100%, 0, 0)"}),(0,g.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,g.eR)("void => right-origin-center",[(0,g.oB)({transform:"translate3d(100%, 0, 0)"}),(0,g.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let J=(()=>{class e extends r.Pl{constructor(e,t,i,n){super(e,t,n),this._host=i,this._centeringSub=h.w.EMPTY,this._leavingSub=h.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,_.O)(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36((0,a.Gpc)(()=>X)),a.Y36(o.K0))},e.\u0275dir=a.lG2({type:e,selectors:[["","matTabBodyHost",""]],features:[a.qOj]}),e})(),Q=(()=>{class e{constructor(e,t,i){this._elementRef=e,this._dir=t,this._dirChangeSubscription=h.w.EMPTY,this._translateTabComplete=new u.xQ,this._onCentering=new a.vpe,this._beforeCentering=new a.vpe,this._afterLeavingCenter=new a.vpe,this._onCentered=new a.vpe(!0),this.animationDuration="500ms",t&&(this._dirChangeSubscription=t.change.subscribe(e=>{this._computePositionAnimationState(e),i.markForCheck()})),this._translateTabComplete.pipe((0,v.x)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const t=this._getLayoutDirection();return"ltr"==t&&e<=0||"rtl"==t&&e>0?"left-origin-center":"right-origin-center"}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(w.Is,8),a.Y36(a.sBO))},e.\u0275dir=a.lG2({type:e,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),e})(),X=(()=>{class e extends Q{constructor(e,t,i){super(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(w.Is,8),a.Y36(a.sBO))},e.\u0275cmp=a.Xpm({type:e,selectors:[["mat-tab-body"]],viewQuery:function(e,t){if(1&e&&a.Gf(r.Pl,5),2&e){let e;a.iGM(e=a.CRH())&&(t._portalHost=e.first)}},hostAttrs:[1,"mat-tab-body"],features:[a.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,t){1&e&&(a.TgZ(0,"div",0,1),a.NdJ("@translateTab.start",function(e){return t._onTranslateTabStarted(e)})("@translateTab.done",function(e){return t._translateTabComplete.next(e)}),a.YNc(2,x,0,0,"ng-template",2),a.qZA()),2&e&&a.Q6J("@translateTab",a.WLB(3,I,t._position,a.VKq(1,A,t.animationDuration)))},directives:[J],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[W.translateTab]}}),e})();const ee=new a.OlP("MAT_TABS_CONFIG");let te=0;class ie{}const ne=(0,c.pj)((0,c.Kr)(class{constructor(e){this._elementRef=e}}),"primary");let se=(()=>{class e extends ne{constructor(e,t,i,n){var s;super(e),this._changeDetectorRef=t,this._animationMode=n,this._tabs=new a.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=h.w.EMPTY,this._tabLabelSubscription=h.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new a.vpe,this.focusChange=new a.vpe,this.animationDone=new a.vpe,this.selectedTabChange=new a.vpe(!0),this._groupId=te++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,this.contentTabIndex=null!==(s=null==i?void 0:i.contentTabIndex)&&void 0!==s?s:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=(0,y.Ig)(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=(0,y.su)(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=(0,y.su)(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const t=this._elementRef.nativeElement;t.classList.remove(`mat-background-${this.backgroundColor}`),e&&t.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const t=null==this._selectedIndex;if(!t){this.selectedTabChange.emit(this._createChangeEvent(e));const t=this._tabBodyWrapper.nativeElement;t.style.minHeight=t.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((t,i)=>t.isActive=i===e),t||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((t,i)=>{t.position=i-e,null!=this._selectedIndex&&0==t.position&&!t.origin&&(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const e=this._tabs.toArray();for(let t=0;t<e.length;t++)if(e[t].isActive){this._indexToSelect=this._selectedIndex=t;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,_.O)(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(e=>e._closestTabGroup===this||!e._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(e){const t=this._tabHeader;t&&(t.focusIndex=e)}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const t=new ie;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,d.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,t,i){e.disabled||(this.selectedIndex=t.focusIndex=i)}_getTabIndex(e,t){return e.disabled?null:this.selectedIndex===t?0:-1}_tabFocusChanged(e,t){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=t)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(ee,8),a.Y36(l.Qb,8))},e.\u0275dir=a.lG2({type:e,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[a.qOj]}),e})(),re=(()=>{class e extends se{constructor(e,t,i,n){super(e,t,i,n)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(ee,8),a.Y36(l.Qb,8))},e.\u0275cmp=a.Xpm({type:e,selectors:[["mat-tab-group"]],contentQueries:function(e,t,i){if(1&e&&a.Suo(i,K,5),2&e){let e;a.iGM(e=a.CRH())&&(t._allTabs=e)}},viewQuery:function(e,t){if(1&e&&(a.Gf(O,5),a.Gf(R,5)),2&e){let e;a.iGM(e=a.CRH())&&(t._tabBodyWrapper=e.first),a.iGM(e=a.CRH())&&(t._tabHeader=e.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,t){2&e&&a.ekj("mat-tab-group-dynamic-height",t.dynamicHeight)("mat-tab-group-inverted-header","below"===t.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[a._Bn([{provide:z,useExisting:e}]),a.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,t){1&e&&(a.TgZ(0,"mat-tab-header",0,1),a.NdJ("indexFocused",function(e){return t._focusChanged(e)})("selectFocusedIndex",function(e){return t.selectedIndex=e}),a.YNc(2,L,4,14,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.YNc(5,M,1,9,"mat-tab-body",5),a.qZA()),2&e&&(a.Q6J("selectedIndex",t.selectedIndex||0)("disableRipple",t.disableRipple)("disablePagination",t.disablePagination),a.xp6(2),a.Q6J("ngForOf",t._tabs),a.xp6(1),a.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode),a.xp6(2),a.Q6J("ngForOf",t._tabs))},directives:function(){return[he,o.sg,ae,c.wG,n.kH,o.O5,r.Pl,X]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),e})();const oe=(0,c.Id)(class{});let ae=(()=>{class e extends oe{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq))},e.\u0275dir=a.lG2({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,t){2&e&&(a.uIk("aria-disabled",!!t.disabled),a.ekj("mat-tab-disabled",t.disabled))},inputs:{disabled:"disabled"},features:[a.qOj]}),e})();const ce=(0,S.i$)({passive:!0});let le=(()=>{class e{constructor(e,t,i,n,s,r,o){this._elementRef=e,this._changeDetectorRef=t,this._viewportRuler=i,this._dir=n,this._ngZone=s,this._platform=r,this._animationMode=o,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new u.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new u.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new a.vpe,this.indexFocused=new a.vpe,s.runOutsideAngular(()=>{(0,p.R)(e.nativeElement,"mouseleave").pipe((0,b.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=(0,y.su)(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){(0,p.R)(this._previousPaginator.nativeElement,"touchstart",ce).pipe((0,b.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,p.R)(this._nextPaginator.nativeElement,"touchstart",ce).pipe((0,b.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:(0,f.of)("ltr"),t=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new n.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(i):i(),(0,d.T)(e,t,this._items.changes).pipe((0,b.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(i)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,b.R)(this._destroyed)).subscribe(e=>{this.indexFocused.emit(e),this._setTabFocus(e)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!(0,C.Vb)(e))switch(e.keyCode){case C.K5:case C.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const t=this._items?this._items.toArray()[e]:null;return!!t&&!t.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const t=this._tabListContainer.nativeElement;t.scrollLeft="ltr"==this._getLayoutDirection()?0:t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,t="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(t)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const t=this._items?this._items.toArray()[e]:null;if(!t)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:n,offsetWidth:s}=t.elementRef.nativeElement;let r,o;"ltr"==this._getLayoutDirection()?(r=n,o=r+s):(o=this._tabList.nativeElement.offsetWidth-n,r=o-s);const a=this.scrollDistance,c=this.scrollDistance+i;r<a?this.scrollDistance-=a-r+60:o>c&&(this.scrollDistance+=o-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&null!=t.button&&0!==t.button||(this._stopInterval(),(0,m.H)(650,100).pipe((0,b.R)((0,d.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:t,distance:i}=this._scrollHeader(e);(0===i||i>=t)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(E.rL),a.Y36(w.Is,8),a.Y36(a.R0b),a.Y36(S.t4),a.Y36(l.Qb,8))},e.\u0275dir=a.lG2({type:e,inputs:{disablePagination:"disablePagination"}}),e})(),ue=(()=>{class e extends le{constructor(e,t,i,n,s,r,o){super(e,t,i,n,s,r,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=(0,y.Ig)(e)}_itemSelected(e){e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(E.rL),a.Y36(w.Is,8),a.Y36(a.R0b),a.Y36(S.t4),a.Y36(l.Qb,8))},e.\u0275dir=a.lG2({type:e,inputs:{disableRipple:"disableRipple"},features:[a.qOj]}),e})(),he=(()=>{class e extends ue{constructor(e,t,i,n,s,r,o){super(e,t,i,n,s,r,o)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(E.rL),a.Y36(w.Is,8),a.Y36(a.R0b),a.Y36(S.t4),a.Y36(l.Qb,8))},e.\u0275cmp=a.Xpm({type:e,selectors:[["mat-tab-header"]],contentQueries:function(e,t,i){if(1&e&&a.Suo(i,ae,4),2&e){let e;a.iGM(e=a.CRH())&&(t._items=e)}},viewQuery:function(e,t){if(1&e&&(a.Gf(j,7),a.Gf(F,7),a.Gf(U,7),a.Gf(H,5),a.Gf(B,5)),2&e){let e;a.iGM(e=a.CRH())&&(t._inkBar=e.first),a.iGM(e=a.CRH())&&(t._tabListContainer=e.first),a.iGM(e=a.CRH())&&(t._tabList=e.first),a.iGM(e=a.CRH())&&(t._nextPaginator=e.first),a.iGM(e=a.CRH())&&(t._previousPaginator=e.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,t){2&e&&a.ekj("mat-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-tab-header-rtl","rtl"==t._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[a.qOj],ngContentSelectors:k,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,t){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return t._handlePaginatorClick("before")})("mousedown",function(e){return t._handlePaginatorPress("before",e)})("touchend",function(){return t._stopInterval()}),a._UZ(2,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.NdJ("keydown",function(e){return t._handleKeydown(e)}),a.TgZ(5,"div",5,6),a.NdJ("cdkObserveContent",function(){return t._onContentChanges()}),a.TgZ(7,"div",7),a.Hsn(8),a.qZA(),a._UZ(9,"mat-ink-bar"),a.qZA(),a.qZA(),a.TgZ(10,"div",8,9),a.NdJ("mousedown",function(e){return t._handlePaginatorPress("after",e)})("click",function(){return t._handlePaginatorClick("after")})("touchend",function(){return t._stopInterval()}),a._UZ(12,"div",2),a.qZA()),2&e&&(a.ekj("mat-tab-header-pagination-disabled",t._disableScrollBefore),a.Q6J("matRippleDisabled",t._disableScrollBefore||t.disableRipple),a.xp6(5),a.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode),a.xp6(5),a.ekj("mat-tab-header-pagination-disabled",t._disableScrollAfter),a.Q6J("matRippleDisabled",t._disableScrollAfter||t.disableRipple))},directives:[c.wG,s.wD,j],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),e})(),de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[o.ez,c.BQ,r.eL,c.si,s.Q8,n.rt],c.BQ]}),e})()},12522:function(e,t,i){"use strict";i.d(t,{Ye:function(){return h},g0:function(){return d}});var n=i(72458),s=i(38583),r=i(37716),o=i(80521);const a=["*",[["mat-toolbar-row"]]],c=["*","mat-toolbar-row"],l=(0,n.pj)(class{constructor(e){this._elementRef=e}});let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),h=(()=>{class e extends l{constructor(e,t,i){super(e),this._platform=t,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(o.t4),r.Y36(s.K0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-toolbar"]],contentQueries:function(e,t,i){if(1&e&&r.Suo(i,u,5),2&e){let e;r.iGM(e=r.CRH())&&(t._toolbarRows=e)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,t){2&e&&r.ekj("mat-toolbar-multiple-rows",t._toolbarRows.length>0)("mat-toolbar-single-row",0===t._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:c,decls:2,vars:0,template:function(e,t){1&e&&(r.F$t(a),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[n.BQ],n.BQ]}),e})()},11436:function(e,t,i){"use strict";i.d(t,{gM:function(){return k},AV:function(){return I}});var n=i(90625),s=i(19238),r=i(38583),o=i(37716),a=i(72458),c=i(71386),l=i(39490),u=i(36461),h=i(65072),d=i(80521),p=i(87636),f=i(79765),m=i(46782),g=i(15257),_=i(17238),v=i(70946);const b={tooltipState:(0,_.X$)("state",[(0,_.SB)("initial, void, hidden",(0,_.oB)({opacity:0,transform:"scale(0)"})),(0,_.SB)("visible",(0,_.oB)({transform:"scale(1)"})),(0,_.eR)("* => visible",(0,_.jt)("200ms cubic-bezier(0, 0, 0.2, 1)",(0,_.F4)([(0,_.oB)({opacity:0,transform:"scale(0)",offset:0}),(0,_.oB)({opacity:.5,transform:"scale(0.99)",offset:.5}),(0,_.oB)({opacity:1,transform:"scale(1)",offset:1})]))),(0,_.eR)("* => hidden",(0,_.jt)("100ms cubic-bezier(0, 0, 0.2, 1)",(0,_.oB)({opacity:0})))])},y="tooltip-panel",S=(0,d.i$)({passive:!0}),C=new o.OlP("mat-tooltip-scroll-strategy"),w={provide:C,deps:[n.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}},E=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let T=(()=>{class e{constructor(e,t,i,n,s,r,o,a,c,l,h,d){this._overlay=e,this._elementRef=t,this._scrollDispatcher=i,this._viewContainerRef=n,this._ngZone=s,this._platform=r,this._ariaDescriber=o,this._focusMonitor=a,this._dir=l,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new f.xQ,this._handleKeydown=e=>{this._isTooltipVisible()&&e.keyCode===u.hY&&!(0,u.Vb)(e)&&(e.preventDefault(),e.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,this._document=d,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),l.change.pipe((0,m.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),s.runOutsideAngular(()=>{t.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var t;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(t=this._tooltipInstance)||void 0===t||t.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,l.Ig)(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,m.R)(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([t,i])=>{e.removeEventListener(t,i,S)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const t=this._createOverlay();this._detach(),this._portal=this._portal||new p.C5(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=t.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe((0,m.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),t=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return t.positionChanges.pipe((0,m.R)(this._destroyed)).subscribe(e=>{this._updateCurrentPositionClass(e.connectionPair),this._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:t,panelClass:`${this._cssClassPrefix}-${y}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,m.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,m.R)(this._destroyed)).subscribe(()=>{var e;return null===(e=this._tooltipInstance)||void 0===e?void 0:e._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const t=e.getConfig().positionStrategy,i=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([this._addOffset(Object.assign(Object.assign({},i.main),n.main)),this._addOffset(Object.assign(Object.assign({},i.fallback),n.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let i;"above"==t||"below"==t?i={originX:"center",originY:"above"==t?"top":"bottom"}:"before"==t||"left"==t&&e||"right"==t&&!e?i={originX:"start",originY:"center"}:("after"==t||"right"==t&&e||"left"==t&&!e)&&(i={originX:"end",originY:"center"});const{x:n,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:n,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let i;"above"==t?i={overlayX:"center",overlayY:"bottom"}:"below"==t?i={overlayX:"center",overlayY:"top"}:"before"==t||"left"==t&&e||"right"==t&&!e?i={overlayX:"end",overlayY:"center"}:("after"==t||"right"==t&&e||"left"==t&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:n,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:n,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,g.q)(1),(0,m.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){const{overlayY:t,originX:i,originY:n}=e;let s;if(s="center"===t?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===t&&"top"===n?"above":"below",s!==this._currentPosition){const e=this._overlayRef;if(e){const t=`${this._cssClassPrefix}-${y}-`;e.removePanelClass(t+this._currentPosition),e.addPanelClass(t+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",e=>this._wheelListener(e)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([e,t])=>{this._elementRef.nativeElement.addEventListener(e,t,S)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const t=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;t!==i&&!i.contains(t)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const t=this._elementRef.nativeElement,i=t.style;("on"===e||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!t.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(n.aV),o.Y36(o.SBq),o.Y36(c.mF),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(d.t4),o.Y36(s.$s),o.Y36(s.tE),o.Y36(void 0),o.Y36(v.Is),o.Y36(void 0),o.Y36(r.K0))},e.\u0275dir=o.lG2({type:e,inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),e})(),k=(()=>{class e extends T{constructor(e,t,i,n,s,r,o,a,c,l,u,h){super(e,t,i,n,s,r,o,a,c,l,u,h),this._tooltipComponent=A}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(n.aV),o.Y36(o.SBq),o.Y36(c.mF),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(d.t4),o.Y36(s.$s),o.Y36(s.tE),o.Y36(C),o.Y36(v.Is,8),o.Y36(E,8),o.Y36(r.K0))},e.\u0275dir=o.lG2({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),e})(),x=(()=>{class e{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new f.xQ}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const t=e.toState;"hidden"===t&&!this.isVisible()&&this._onHide.next(),("visible"===t||"hidden"===t)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO))},e.\u0275dir=o.lG2({type:e}),e})(),A=(()=>{class e extends x{constructor(e,t){super(e),this._breakpointObserver=t,this._isHandset=this._breakpointObserver.observe(h.u3.Handset)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(h.Yg))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,t){2&e&&o.Udp("zoom","visible"===t._visibility?1:null)},features:[o.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("@state.start",function(){return t._animationStart()})("@state.done",function(e){return t._animationDone(e)}),o.ALo(1,"async"),o._uU(2),o.qZA()),2&e){let e;o.ekj("mat-tooltip-handset",null==(e=o.lcZ(1,5,t._isHandset))?null:e.matches),o.Q6J("ngClass",t.tooltipClass)("@state",t._visibility),o.xp6(2),o.Oqu(t.message)}},directives:[r.mk],pipes:[r.Ov],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[b.tooltipState]},changeDetection:0}),e})(),I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[w],imports:[[s.rt,r.ez,n.U8,a.BQ],a.BQ,c.ZD]}),e})()},46237:function(e,t,i){"use strict";i.d(t,{Qb:function(){return Dt},PW:function(){return Ft}});var n=i(37716),s=i(39075),r=i(17238);function o(){return"undefined"!=typeof window&&void 0!==window.document}function a(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function c(e){switch(e.length){case 0:return new r.ZN;case 1:return e[0];default:return new r.ZE(e)}}function l(e,t,i,n,s={},o={}){const a=[],c=[];let l=-1,u=null;if(n.forEach(e=>{const i=e.offset,n=i==l,h=n&&u||{};Object.keys(e).forEach(i=>{let n=i,c=e[i];if("offset"!==i)switch(n=t.normalizePropertyName(n,a),c){case r.k1:c=s[i];break;case r.l3:c=o[i];break;default:c=t.normalizeStyleValue(i,n,c,a)}h[n]=c}),n||c.push(h),u=h,l=i}),a.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${a.join(e)}`)}return c}function u(e,t,i,n){switch(t){case"start":e.onStart(()=>n(i&&h(i,"start",e)));break;case"done":e.onDone(()=>n(i&&h(i,"done",e)));break;case"destroy":e.onDestroy(()=>n(i&&h(i,"destroy",e)))}}function h(e,t,i){const n=i.totalTime,s=d(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==n?e.totalTime:n,!!i.disabled),r=e._data;return null!=r&&(s._data=r),s}function d(e,t,i,n,s="",r=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:s,totalTime:r,disabled:!!o}}function p(e,t,i){let n;return e instanceof Map?(n=e.get(t),n||e.set(t,n=i)):(n=e[t],n||(n=e[t]=i)),n}function f(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let m=(e,t)=>!1,g=(e,t)=>!1,_=(e,t,i)=>[];const v=a();(v||"undefined"!=typeof Element)&&(m=o()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),g=(()=>{if(v||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):g}})(),_=(e,t,i)=>{let n=[];if(i){const i=e.querySelectorAll(t);for(let e=0;e<i.length;e++)n.push(i[e])}else{const i=e.querySelector(t);i&&n.push(i)}return n});let b=null,y=!1;function S(e){b||(b=("undefined"!=typeof document?document.body:null)||{},y=!!b.style&&"WebkitAppearance"in b.style);let t=!0;return b.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in b.style,!t&&y&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in b.style)),t}const C=g,w=m,E=_;function T(e){const t={};return Object.keys(e).forEach(i=>{const n=i.replace(/([a-z])([A-Z])/g,"$1-$2");t[n]=e[i]}),t}let k=(()=>{class e{validateStyleProperty(e){return S(e)}matchesElement(e,t){return C(e,t)}containsElement(e,t){return w(e,t)}query(e,t,i){return E(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,n,s,o=[],a){return new r.ZN(i,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),x=(()=>{class e{}return e.NOOP=new k,e})();const A="ng-enter",I="ng-leave",O="ng-trigger",R=".ng-trigger",P="ng-animating",D=".ng-animating";function N(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:L(parseFloat(t[1]),t[2])}function L(e,t){switch(t){case"s":return 1e3*e;default:return e}}function M(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let n,s=0,r="";if("string"==typeof e){const i=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===i)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};n=L(parseFloat(i[1]),i[2]);const o=i[3];null!=o&&(s=L(parseFloat(o),i[4]));const a=i[5];a&&(r=a)}else n=e;if(!i){let i=!1,r=t.length;n<0&&(t.push("Duration values below 0 are not allowed for this animation step."),i=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),i=!0),i&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:n,delay:s,easing:r}}(e,t,i)}function F(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function U(e,t,i={}){if(t)for(let n in e)i[n]=e[n];else F(e,i);return i}function H(e,t,i){return i?t+":"+i+";":""}function B(e){let t="";for(let i=0;i<e.style.length;i++){const n=e.style.item(i);t+=H(0,n,e.style.getPropertyValue(n))}for(const i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=H(0,W(i),e.style[i]));e.setAttribute("style",t)}function $(e,t,i){e.style&&(Object.keys(t).forEach(n=>{const s=K(n);i&&!i.hasOwnProperty(n)&&(i[n]=e.style[s]),e.style[s]=t[n]}),a()&&B(e))}function j(e,t){e.style&&(Object.keys(t).forEach(t=>{const i=K(t);e.style[i]=""}),a()&&B(e))}function G(e){return Array.isArray(e)?1==e.length?e[0]:(0,r.vP)(e):e}const V=new RegExp("{{\\s*(.+?)\\s*}}","g");function q(e){let t=[];if("string"==typeof e){let i;for(;i=V.exec(e);)t.push(i[1]);V.lastIndex=0}return t}function Y(e,t,i){const n=e.toString(),s=n.replace(V,(e,n)=>{let s=t[n];return t.hasOwnProperty(n)||(i.push(`Please provide a value for the animation param ${n}`),s=""),s.toString()});return s==n?e:s}function Z(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const z=/-+([a-z0-9])/g;function K(e){return e.replace(z,(...e)=>e[1].toUpperCase())}function W(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function J(e,t){return 0===e||0===t}function Q(e,t,i){const n=Object.keys(i);if(n.length&&t.length){let r=t[0],o=[];if(n.forEach(e=>{r.hasOwnProperty(e)||o.push(e),r[e]=i[e]}),o.length)for(var s=1;s<t.length;s++){let i=t[s];o.forEach(function(t){i[t]=ee(e,t)})}}return t}function X(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function ee(e,t){return window.getComputedStyle(e)[t]}function te(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,i){if(":"==e[0]){const n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,i);if("function"==typeof n)return void t.push(n);e=n}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(`The provided transition expression "${e}" is not supported`),t;const s=n[1],r=n[2],o=n[3];t.push(se(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&t.push(se(o,s))}(e,i,t)):i.push(e),i}const ie=new Set(["true","1"]),ne=new Set(["false","0"]);function se(e,t){const i=ie.has(e)||ne.has(e),n=ie.has(t)||ne.has(t);return(s,r)=>{let o="*"==e||e==s,a="*"==t||t==r;return!o&&i&&"boolean"==typeof s&&(o=s?ie.has(e):ne.has(e)),!a&&n&&"boolean"==typeof r&&(a=r?ie.has(t):ne.has(t)),o&&a}}const re=new RegExp("s*:selfs*,?","g");function oe(e,t,i){return new ae(e).build(t,i)}class ae{constructor(e){this._driver=e}build(e,t){const i=new ce(t);return this._resetContextStyleTimingState(i),X(this,G(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,n=t.depCount=0;const s=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const i=e,n=i.name;n.toString().split(/\s*,\s*/).forEach(e=>{i.name=e,s.push(this.visitState(i,t))}),i.name=n}else if(1==e.type){const s=this.visitTransition(e,t);i+=s.queryCount,n+=s.depCount,r.push(s)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:r,queryCount:i,depCount:n,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,r=n||{};if(i.styles.forEach(e=>{if(le(e)){const t=e;Object.keys(t).forEach(e=>{q(t[e]).forEach(e=>{r.hasOwnProperty(e)||s.add(e)})})}}),s.size){const i=Z(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${i.join(", ")}`)}}return{type:0,name:e.name,style:i,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=X(this,G(e.animation),t);return{type:1,matchers:te(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ue(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>X(this,e,t)),options:ue(e.options)}}visitGroup(e,t){const i=t.currentTime;let n=0;const s=e.steps.map(e=>{t.currentTime=i;const s=X(this,e,t);return n=Math.max(n,t.currentTime),s});return t.currentTime=n,{type:3,steps:s,options:ue(e.options)}}visitAnimate(e,t){const i=function(e,t){let i=null;if(e.hasOwnProperty("duration"))i=e;else if("number"==typeof e)return he(M(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=he(0,0,"");return e.dynamic=!0,e.strValue=n,e}return i=i||M(n,t),he(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let n,s=e.styles?e.styles:(0,r.oB)({});if(5==s.type)n=this.visitKeyframes(s,t);else{let s=e.styles,o=!1;if(!s){o=!0;const e={};i.easing&&(e.easing=i.easing),s=(0,r.oB)(e)}t.currentTime+=i.duration+i.delay;const a=this.visitStyle(s,t);a.isEmptyStep=o,n=a}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==r.l3?i.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):i.push(e)}):i.push(e.styles);let n=!1,s=null;return i.forEach(e=>{if(le(e)){const t=e,i=t.easing;if(i&&(s=i,delete t.easing),!n)for(let e in t)if(t[e].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let n=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(i=>{if(!this._driver.validateStyleProperty(i))return void t.errors.push(`The provided animation property "${i}" is not a supported CSS property for animations`);const r=t.collectedStyles[t.currentQuerySelector],o=r[i];let a=!0;o&&(s!=n&&s>=o.startTime&&n<=o.endTime&&(t.errors.push(`The CSS property "${i}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${n}ms"`),a=!1),s=o.startTime),a&&(r[i]={startTime:s,endTime:n}),t.options&&function(e,t,i){const n=t.params||{},s=q(e);s.length&&s.forEach(e=>{n.hasOwnProperty(e)||i.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[i],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let n=0;const s=[];let r=!1,o=!1,a=0;const c=e.steps.map(e=>{const i=this._makeStyleAst(e,t);let c=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(le(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(le(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}return t}(i.styles),l=0;return null!=c&&(n++,l=i.offset=c),o=o||l<0||l>1,r=r||l<a,a=l,s.push(l),i});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");const l=e.steps.length;let u=0;n>0&&n<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(u=1/(l-1));const h=l-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return c.forEach((e,n)=>{const r=u>0?n==h?1:u*n:s[n],o=r*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=r,i.styles.push(e)}),i}visitReference(e,t){return{type:8,animation:X(this,G(e.animation),t),options:ue(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ue(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ue(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;const[s,r]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(re,"")),[e=e.replace(/@\*/g,R).replace(/@\w+/g,e=>R+"-"+e.substr(1)).replace(/:animating/g,D),t]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,p(t.collectedStyles,t.currentQuerySelector,{});const o=X(this,G(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:n.limit||0,optional:!!n.optional,includeSelf:r,animation:o,originalSelector:e.selector,options:ue(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:M(e.timings,t.errors,!0);return{type:12,animation:X(this,G(e.animation),t),timings:i,options:null}}}class ce{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function le(e){return!Array.isArray(e)&&"object"==typeof e}function ue(e){return e?(e=F(e)).params&&(e.params=function(e){return e?F(e):null}(e.params)):e={},e}function he(e,t,i){return{duration:e,delay:t,easing:i}}function de(e,t,i,n,s,r,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class pe{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fe=new RegExp(":enter","g"),me=new RegExp(":leave","g");function ge(e,t,i,n,s,r={},o={},a,c,l=[]){return(new _e).buildKeyframes(e,t,i,n,s,r,o,a,c,l)}class _e{buildKeyframes(e,t,i,n,s,r,o,a,c,l=[]){c=c||new pe;const u=new be(e,t,c,n,s,l,[]);u.options=a,u.currentTimeline.setStyles([r],null,u.errors,a),X(this,i,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[de(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const n=t.createSubContext(e.options),s=t.currentTimeline.currentTime,r=this._visitSubInstructions(i,n,n.options);s!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let n=t.currentTimeline.currentTime;const s=null!=i.duration?N(i.duration):null,r=null!=i.delay?N(i.delay):null;return 0!==s&&e.forEach(e=>{const i=t.appendInstructionToTimeline(e,s,r);n=Math.max(n,i.duration+i.delay)}),n}visitReference(e,t){t.updateOptions(e.options,!0),X(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let n=t;const s=e.options;if(s&&(s.params||s.delay)&&(n=t.createSubContext(s),n.transformIntoNewTimeline(),null!=s.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=ve);const e=N(s.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>X(this,e,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let n=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?N(e.options.delay):0;e.steps.forEach(r=>{const o=t.createSubContext(e.options);s&&o.delayNextStep(s),X(this,r,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return M(t.params?Y(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=n&&n.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,n=t.currentTimeline.duration,s=i.duration,r=t.createSubContext().currentTimeline;r.easing=i.easing,e.styles.forEach(e=>{r.forwardTime((e.offset||0)*s),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(n+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,n=e.options||{},s=n.delay?N(n.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ve);let r=i;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((i,n)=>{t.currentQueryIndex=n;const o=t.createSubContext(e.options,i);s&&o.delayNextStep(s),i===t.element&&(a=o.currentTimeline),X(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,n=t.currentTimeline,s=e.timings,r=Math.abs(s.duration),o=r*(t.currentQueryTotal-1);let a=r*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}const c=t.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;X(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=n.currentTime-l+(n.startTime-i.currentTimeline.startTime)}}const ve={};class be{constructor(e,t,i,n,s,r,o,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=s,this.errors=r,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ve,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ye(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let n=this.options;null!=i.duration&&(n.duration=N(i.duration)),null!=i.delay&&(n.delay=N(i.delay));const s=i.params;if(s){let e=n.params;e||(e=this.options.params={}),Object.keys(s).forEach(i=>{(!t||!e.hasOwnProperty(i))&&(e[i]=Y(s[i],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(e=>{i[e]=t[e]})}}return e}createSubContext(e=null,t,i){const n=t||this.element,s=new be(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ve,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const n={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new Se(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(s),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,n,s,r){let o=[];if(n&&o.push(this.element),e.length>0){e=(e=e.replace(fe,"."+this._enterClassName)).replace(me,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=i);0!==i&&(t=i<0?t.slice(t.length+i,t.length):t.slice(0,i)),o.push(...t)}return!s&&0==o.length&&r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class ye{constructor(e,t,i,n){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ye(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||r.l3,this._currentKeyframe[e]=r.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,n){t&&(this._previousKeyframe.easing=t);const s=n&&n.params||{},o=function(e,t){const i={};let n;return e.forEach(e=>{"*"===e?(n=n||Object.keys(t),n.forEach(e=>{i[e]=r.l3})):U(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=Y(o[e],s,i);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:r.l3),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],n=e._styleSummary[t];(!i||n.time>i.time)&&this._updateStyle(t,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((s,o)=>{const a=U(s,!0);Object.keys(a).forEach(i=>{const n=a[i];n==r.k1?e.add(i):n==r.l3&&t.add(i)}),i||(a.offset=o/this.duration),n.push(a)});const s=e.size?Z(e.values()):[],o=t.size?Z(t.values()):[];if(i){const e=n[0],t=F(e);e.offset=0,t.offset=1,n=[e,t]}return de(this.element,n,s,o,this.duration,this.startTime,this.easing,!1)}}class Se extends ye{constructor(e,t,i,n,s,r,o=!1){super(e,t,r.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],r=i+t,o=t/r,a=U(e[0],!1);a.offset=0,s.push(a);const c=U(e[0],!1);c.offset=Ce(o),s.push(c);const l=e.length-1;for(let n=1;n<=l;n++){let o=U(e[n],!1);o.offset=Ce((t+o.offset*i)/r),s.push(o)}i=r,t=0,n="",e=s}return de(this.element,e,this.preStyleProps,this.postStyleProps,i,t,n,!0)}}function Ce(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class we{}class Ee extends we{normalizePropertyName(e,t){return K(e)}normalizeStyleValue(e,t,i,n){let s="";const r=i.toString().trim();if(Te[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const t=i.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&n.push(`Please provide a CSS unit value for ${e}:${i}`)}return r+s}}const Te=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ke(e,t,i,n,s,r,o,a,c,l,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:s,fromState:i,fromStyles:r,toState:n,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const xe={};class Ae{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,n){return function(e,t,i,n,s){return e.some(e=>e(t,i,n,s))}(this.ast.matchers,e,t,i,n)}buildStyles(e,t,i){const n=this._stateStyles["*"],s=this._stateStyles[e],r=n?n.buildStyles(t,i):{};return s?s.buildStyles(t,i):r}build(e,t,i,n,s,r,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||xe,d=this.buildStyles(i,o&&o.params||xe,u),f=a&&a.params||xe,m=this.buildStyles(n,f,u),g=new Set,_=new Map,v=new Map,b="void"===n,y={params:Object.assign(Object.assign({},h),f)},S=l?[]:ge(e,t,this.ast.animation,s,r,d,m,y,c,u);let C=0;if(S.forEach(e=>{C=Math.max(e.duration+e.delay,C)}),u.length)return ke(t,this._triggerName,i,n,b,d,m,[],[],_,v,C,u);S.forEach(e=>{const i=e.element,n=p(_,i,{});e.preStyleProps.forEach(e=>n[e]=!0);const s=p(v,i,{});e.postStyleProps.forEach(e=>s[e]=!0),i!==t&&g.add(i)});const w=Z(g.values());return ke(t,this._triggerName,i,n,b,d,m,S,w,_,v,C)}}class Ie{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},n=F(this.defaultParams);return Object.keys(e).forEach(t=>{const i=e[t];null!=i&&(n[t]=i)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const s=e;Object.keys(s).forEach(e=>{let r=s[e];r.length>1&&(r=Y(r,n,t));const o=this.normalizer.normalizePropertyName(e,t);r=this.normalizer.normalizeStyleValue(e,o,r,t),i[o]=r})}}),i}}class Oe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Ie(e.style,e.options&&e.options.params||{},i)}),Re(this.states,"true","1"),Re(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Ae(e,t,this.states))}),this.fallbackTransition=function(e,t,i){return new Ae(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},t)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,n){return this.transitionFactories.find(s=>s.match(e,t,i,n))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Re(e,t,i){e.hasOwnProperty(t)?e.hasOwnProperty(i)||(e[i]=e[t]):e.hasOwnProperty(i)&&(e[t]=e[i])}const Pe=new pe;class De{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],n=oe(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=n}_buildPlayer(e,t,i){const n=e.element,s=l(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(n,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const n=[],s=this._animations[e];let o;const a=new Map;if(s?(o=ge(this._driver,t,s,A,I,{},{},i,Pe,n),o.forEach(e=>{const t=p(a,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),o=[]),n.length)throw new Error(`Unable to create the animation due to the following errors: ${n.join("\n")}`);a.forEach((e,t)=>{Object.keys(e).forEach(i=>{e[i]=this._driver.computeStyle(t,i,r.l3)})});const l=c(o.map(e=>{const t=a.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=l,l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,n){const s=d(t,"","","");return u(this._getPlayer(e),i,s,n),()=>{}}command(e,t,i,n){if("register"==i)return void this.register(e,n[0]);if("create"==i)return void this.create(e,t,n[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}const Ne="ng-animate-queued",Le="ng-animate-disabled",Me=".ng-animate-disabled",Fe=[],Ue={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},He={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Be="__ng_removed";class $e{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=null!=(n=i?e.value:e)?n:null,i){const t=F(e);delete t.value,this.options=t}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(i=>{null==e[i]&&(e[i]=t[i])})}}}const je="void",Ge=new $e(je);class Ve{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qe(t,this._hostClassName)}listen(e,t,i,n){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(s=i)&&"done"!=s)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);var s;const r=p(this._elementListeners,e,[]),o={name:t,phase:i,callback:n};r.push(o);const a=p(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Qe(e,O),Qe(e,O+"-"+t),a[t]=Ge),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(o);e>=0&&r.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,n=!0){const s=this._getTrigger(t),r=new Ye(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(Qe(e,O),Qe(e,O+"-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const c=new $e(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[t]=c,a||(a=Ge),c.value!==je&&a.value===c.value){if(!function(e,t){const i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let s=0;s<i.length;s++){const n=i[s];if(!t.hasOwnProperty(n)||e[n]!==t[n])return!1}return!0}(a.params,c.params)){const t=[],i=s.matchStyles(a.value,a.params,t),n=s.matchStyles(c.value,c.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{j(e,i),$(e,n)})}return}const l=p(this._engine.playersByElement,e,[]);l.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=s.matchTransition(a.value,c.value,e,c.params),h=!1;if(!u){if(!n)return;u=s.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:c,player:r,isFallbackTransition:h}),h||(Qe(e,Ne),r.onStart(()=>{Xe(e,Ne)})),r.onDone(()=>{let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1);const i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(r);e>=0&&i.splice(e,1)}}),this.players.push(r),l.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,R,!0);i.forEach(e=>{if(e[Be])return;const i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach(i=>i.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,i,n){const s=this._engine.statesByElement.get(e);if(s){const r=[];if(Object.keys(s).forEach(t=>{if(this._triggers[t]){const i=this.trigger(e,t,je,n);i&&r.push(i)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&c(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const n=new Set;t.forEach(t=>{const s=t.name;if(n.has(s))return;n.add(s);const r=this._triggers[s].fallbackTransition,o=i[s]||Ge,a=new $e(je),c=new Ye(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:r,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(i.totalAnimations){const t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)i.markElementAsRemoved(this.id,e,!1,t);else{const n=e[Be];(!n||n===Ue)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Qe(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const s=i.element,r=this._elementListeners.get(s);r&&r.forEach(t=>{if(t.name==i.triggerName){const n=d(s,i.triggerName,i.fromState.value,i.toState.value);n._data=e,u(i.player,t.phase,n,t.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):t.push(i)}),this._queue=[],t.sort((e,t)=>{const i=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class qe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const i=new Ve(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let n=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),n=!0;break}n||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let n=this._namespaceLookup[e];n&&n.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(i);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const e=Object.keys(i);for(let n=0;n<e.length;n++){const s=i[e[n]].namespaceId;if(s){const e=this._fetchNamespace(s);e&&t.add(e)}}}return t}trigger(e,t,i,n){if(Ze(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,n),!0}return!1}insertNode(e,t,i,n){if(!Ze(t))return;const s=t[Be];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const n=this._fetchNamespace(e);n&&n.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qe(e,Le)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xe(e,Le))}removeNode(e,t,i,n){if(Ze(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n),i){const i=this.namespacesByHostElement.get(t);i&&i.id!==e&&i.removeNode(t,n)}}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,i,n){this.collectedLeaveElements.push(t),t[Be]={namespaceId:e,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,n,s){return Ze(t)?this._fetchNamespace(e).listen(t,i,n,s):()=>{}}_buildInstruction(e,t,i,n,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,n,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,R,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,D,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return c(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Be];if(t&&t.setForRemoval){if(e[Be]=Ue,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Me)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Me,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Qe(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?c(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new pe,n=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(e=>{h.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let i=0;i<t.length;i++)h.add(t[i])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=We(f,this.collectedEnterElements),g=new Map;let _=0;m.forEach((e,t)=>{const i=A+_++;g.set(t,i),e.forEach(e=>Qe(e,i))});const v=[],b=new Set,y=new Set;for(let r=0;r<this.collectedLeaveElements.length;r++){const e=this.collectedLeaveElements[r],t=e[Be];t&&t.setForRemoval&&(v.push(e),b.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>b.add(e)):y.add(e))}const S=new Map,C=We(f,Array.from(b));C.forEach((e,t)=>{const i=I+_++;S.set(t,i),e.forEach(e=>Qe(e,i))}),e.push(()=>{m.forEach((e,t)=>{const i=g.get(t);e.forEach(e=>Xe(e,i))}),C.forEach((e,t)=>{const i=S.get(t);e.forEach(e=>Xe(e,i))}),v.forEach(e=>{this.processLeaveNode(e)})});const w=[],E=[];for(let r=this._namespaceList.length-1;r>=0;r--)this._namespaceList[r].drainQueuedTransitions(t).forEach(e=>{const t=e.player,s=e.element;if(w.push(t),this.collectedEnterElements.length){const e=s[Be];if(e&&e.setForMove)return void t.destroy()}const r=!d||!this.driver.containsElement(d,s),c=S.get(s),h=g.get(s),f=this._buildInstruction(e,i,h,c,r);if(f.errors&&f.errors.length)E.push(f);else{if(r)return t.onStart(()=>j(s,f.fromStyles)),t.onDestroy(()=>$(s,f.toStyles)),void n.push(t);if(e.isFallbackTransition)return t.onStart(()=>j(s,f.fromStyles)),t.onDestroy(()=>$(s,f.toStyles)),void n.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),i.append(s,f.timelines),o.push({instruction:f,player:t,element:s}),f.queriedElements.forEach(e=>p(a,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const i=Object.keys(e);if(i.length){let e=l.get(t);e||l.set(t,e=new Set),i.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const i=Object.keys(e);let n=u.get(t);n||u.set(t,n=new Set),i.forEach(e=>n.add(e))})}});if(E.length){const e=[];E.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const T=new Map,k=new Map;o.forEach(e=>{const t=e.element;i.has(t)&&(k.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))}),n.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{p(T,t,[]).push(e),e.destroy()})});const x=v.filter(e=>it(e,l,u)),O=new Map;Ke(O,this.driver,y,u,r.l3).forEach(e=>{it(e,l,u)&&x.push(e)});const R=new Map;m.forEach((e,t)=>{Ke(R,this.driver,new Set(e),l,r.k1)}),x.forEach(e=>{const t=O.get(e),i=R.get(e);O.set(e,Object.assign(Object.assign({},t),i))});const P=[],N=[],L={};o.forEach(e=>{const{element:t,player:r,instruction:o}=e;if(i.has(t)){if(h.has(t))return r.onDestroy(()=>$(t,o.toStyles)),r.disabled=!0,r.overrideTotalTime(o.totalTime),void n.push(r);let e=L;if(k.size>1){let i=t;const n=[];for(;i=i.parentNode;){const t=k.get(i);if(t){e=t;break}n.push(i)}n.forEach(t=>k.set(t,e))}const i=this._buildAnimation(r.namespaceId,o,T,s,R,O);if(r.setRealPlayer(i),e===L)P.push(r);else{const t=this.playersByElement.get(e);t&&t.length&&(r.parentPlayer=c(t)),n.push(r)}}else j(t,o.fromStyles),r.onDestroy(()=>$(t,o.toStyles)),N.push(r),h.has(t)&&n.push(r)}),N.forEach(e=>{const t=s.get(e.element);if(t&&t.length){const i=c(t);e.setRealPlayer(i)}}),n.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let r=0;r<v.length;r++){const e=v[r],t=e[Be];if(Xe(e,I),t&&t.hasAnimation)continue;let i=[];if(a.size){let t=a.get(e);t&&t.length&&i.push(...t);let n=this.driver.query(e,D,!0);for(let e=0;e<n.length;e++){let t=a.get(n[e]);t&&t.length&&i.push(...t)}}const n=i.filter(e=>!e.destroyed);n.length?et(this,e,n):this.processLeaveNode(e)}return v.length=0,P.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),P}elementContainsData(e,t){let i=!1;const n=t[Be];return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,n,s){let r=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(r=t)}else{const t=this.playersByElement.get(e);if(t){const e=!s||s==je;t.forEach(t=>{t.queued||!e&&t.triggerName!=n||r.push(t)})}}return(i||n)&&(r=r.filter(e=>!(i&&i!=e.namespaceId||n&&n!=e.triggerName))),r}_beforeAnimationBuild(e,t,i){const n=t.element,s=t.isRemovalTransition?void 0:e,r=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==n,c=p(i,e,[]);this._getPreviousPlayers(e,a,s,r,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})}j(n,t.fromStyles)}_buildAnimation(e,t,i,n,s,o){const a=t.triggerName,u=t.element,h=[],d=new Set,f=new Set,m=t.timelines.map(t=>{const c=t.element;d.add(c);const p=c[Be];if(p&&p.removedBeforeQueried)return new r.ZN(t.duration,t.delay);const m=c!==u,g=function(e){const t=[];return tt(e,t),t}((i.get(c)||Fe).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===c),_=s.get(c),v=o.get(c),b=l(0,this._normalizer,0,t.keyframes,_,v),y=this._buildPlayer(t,b,g);if(t.subTimeline&&n&&f.add(c),m){const t=new Ye(e,a,c);t.setRealPlayer(y),h.push(t)}return y});h.forEach(e=>{p(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,i){let n;if(e instanceof Map){if(n=e.get(t),n){if(n.length){const e=n.indexOf(i);n.splice(e,1)}0==n.length&&e.delete(t)}}else if(n=e[t],n){if(n.length){const e=n.indexOf(i);n.splice(e,1)}0==n.length&&delete e[t]}return n}(this.playersByQueriedElement,e.element,e))}),d.forEach(e=>Qe(e,P));const g=c(m);return g.onDestroy(()=>{d.forEach(e=>Xe(e,P)),$(u,t.toStyles)}),f.forEach(e=>{p(n,e,[]).push(g)}),g}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new r.ZN(e.duration,e.delay)}}class Ye{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new r.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>u(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){p(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ze(e){return e&&1===e.nodeType}function ze(e,t){const i=e.style.display;return e.style.display=null!=t?t:"none",i}function Ke(e,t,i,n,s){const r=[];i.forEach(e=>r.push(ze(e)));const o=[];n.forEach((i,n)=>{const r={};i.forEach(e=>{const i=r[e]=t.computeStyle(n,e,s);(!i||0==i.length)&&(n[Be]=He,o.push(n))}),e.set(n,r)});let a=0;return i.forEach(e=>ze(e,r[a++])),o}function We(e,t){const i=new Map;if(e.forEach(e=>i.set(e,[])),0==t.length)return i;const n=new Set(t),s=new Map;function r(e){if(!e)return 1;let t=s.get(e);if(t)return t;const o=e.parentNode;return t=i.has(o)?o:n.has(o)?1:r(o),s.set(e,t),t}return t.forEach(e=>{const t=r(e);1!==t&&i.get(t).push(e)}),i}const Je="$$classes";function Qe(e,t){if(e.classList)e.classList.add(t);else{let i=e[Je];i||(i=e[Je]={}),i[t]=!0}}function Xe(e,t){if(e.classList)e.classList.remove(t);else{let i=e[Je];i&&delete i[t]}}function et(e,t,i){c(i).onDone(()=>e.processLeaveNode(t))}function tt(e,t){for(let i=0;i<e.length;i++){const n=e[i];n instanceof r.ZE?tt(n.players,t):t.push(n)}}function it(e,t,i){const n=i.get(e);if(!n)return!1;let s=t.get(e);return s?n.forEach(e=>s.add(e)):t.set(e,n),i.delete(e),!0}class nt{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new qe(e,t,i),this._timelineEngine=new De(e,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,n,s){const r=e+"-"+n;let o=this._triggerCache[r];if(!o){const e=[],t=oe(this._driver,s,e);if(e.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t,i){return new Oe(e,t,i)}(n,t,this._normalizer),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(t,n,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,n){this._transitionEngine.insertNode(e,t,i,n)}onRemove(e,t,i,n){this._transitionEngine.removeNode(e,t,n||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,n){if("@"==i.charAt(0)){const[e,s]=f(i);this._timelineEngine.command(e,t,s,n)}else this._transitionEngine.trigger(e,t,i,n)}listen(e,t,i,n,s){if("@"==i.charAt(0)){const[e,n]=f(i);return this._timelineEngine.listen(e,t,n,s)}return this._transitionEngine.listen(e,t,i,n,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function st(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=ot(t[0]),t.length>1&&(n=ot(t[t.length-1]))):t&&(i=ot(t)),i||n?new rt(e,i,n):null}let rt=(()=>{class e{constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&$(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($(this._element,this._initialStyles),this._endStyles&&($(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(j(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(j(this._element,this._endStyles),this._endStyles=null),$(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function ot(e){let t=null;const i=Object.keys(e);for(let n=0;n<i.length;n++){const s=i[n];at(s)&&(t=t||{},t[s]=e[s])}return t}function at(e){return"display"===e||"position"===e}const ct="animation",lt="animationend";class ut{constructor(e,t,i,n,s,r,o){this._element=e,this._name=t,this._duration=i,this._delay=n,this._easing=s,this._fillMode=r,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){(function(e,t){const i=gt(e,"").trim();let n=0;i.length&&(function(e,t){let i=0;for(let n=0;n<e.length;n++)","===e.charAt(n)&&i++;return i}(i)+1,t=`${i}, ${t}`),mt(e,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ft(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ht(this._element,this._name,"paused")}resume(){ht(this._element,this._name,"running")}setPosition(e){const t=dt(this._element,this._name);this._position=e*this._duration,mt(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ft(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const i=gt(e,"").split(","),n=pt(i,t);n>=0&&(i.splice(n,1),mt(e,"",i.join(",")))}(this._element,this._name))}}function ht(e,t,i){mt(e,"PlayState",i,dt(e,t))}function dt(e,t){const i=gt(e,"");return i.indexOf(",")>0?pt(i.split(","),t):pt([i],t)}function pt(e,t){for(let i=0;i<e.length;i++)if(e[i].indexOf(t)>=0)return i;return-1}function ft(e,t,i){i?e.removeEventListener(lt,t):e.addEventListener(lt,t)}function mt(e,t,i,n){const s=ct+t;if(null!=n){const t=e.style[s];if(t.length){const e=t.split(",");e[n]=i,i=e.join(",")}}e.style[s]=i}function gt(e,t){return e.style[ct+t]||""}class _t{constructor(e,t,i,n,s,r,o,a){this.element=e,this.keyframes=t,this.animationName=i,this._duration=n,this._delay=s,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=n+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ut(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:ee(this.element,i))})}this.currentSnapshot=e}}class vt extends r.ZN{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=T(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class bt{constructor(){this._count=0}validateStyleProperty(e){return S(e)}matchesElement(e,t){return C(e,t)}containsElement(e,t){return w(e,t)}query(e,t,i){return E(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(e=>T(e));let n=`@keyframes ${t} {\n`,s="";i.forEach(e=>{s=" ";const t=parseFloat(e.offset);n+=`${s}${100*t}% {\n`,s+=" ",Object.keys(e).forEach(t=>{const i=e[t];switch(t){case"offset":return;case"easing":return void(i&&(n+=`${s}animation-timing-function: ${i};\n`));default:return void(n+=`${s}${t}: ${i};\n`)}}),n+=`${s}}\n`}),n+="}\n";const r=document.createElement("style");return r.textContent=n,r}animate(e,t,i,n,s,r=[],o){const a=r.filter(e=>e instanceof _t),c={};J(i,n)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const l=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(i=>{"offset"==i||"easing"==i||(t[i]=e[i])})}),t}(t=Q(e,t,c));if(0==i)return new vt(e,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);(function(e){var t;const i=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(e).appendChild(h);const d=st(e,t),p=new _t(e,t,u,i,n,s,l,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}}class yt{constructor(e,t,i,n){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:ee(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class St{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ct().toString()),this._cssKeyframesDriver=new bt}validateStyleProperty(e){return S(e)}matchesElement(e,t){return C(e,t)}containsElement(e,t){return w(e,t)}query(e,t,i){return E(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,n,s,r=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,n,s,r);const a={duration:i,delay:n,fill:0==n?"both":"forwards"};s&&(a.easing=s);const c={},l=r.filter(e=>e instanceof yt);J(i,n)&&l.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const u=st(e,t=Q(e,t=t.map(e=>U(e,!1)),c));return new yt(e,t,a,u)}}function Ct(){return o()&&Element.prototype.animate||{}}var wt=i(38583);let Et=(()=>{class e extends r._j{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:n.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?(0,r.vP)(e):e;return xt(this._renderer,null,t,"register",[i]),new Tt(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(n.FYo),n.LFG(wt.K0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Tt extends r.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new kt(this._id,e,t||{},this._renderer)}}class kt{constructor(e,t,i,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return xt(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function xt(e,t,i,n,s){return e.setProperty(t,`@@${i}:${n}`,s)}const At="@.disabled";let It=(()=>{class e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(i);return e||(e=new Ot("",i,this.engine),this._rendererCache.set(i,e)),e}const n=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const r=t=>{Array.isArray(t)?t.forEach(r):this.engine.registerTrigger(n,s,e,t.name,t)};return t.data.animation.forEach(r),new Rt(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){e>=0&&e<this._microtaskId?this._zone.run(()=>t(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,i]=e;t(i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(n.FYo),n.LFG(nt),n.LFG(n.R0b))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class Ot{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,n=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,n)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==At?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Rt extends Ot{constructor(e,t,i,n){super(t,i,n),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==At?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let s=t.substr(1),r="";return"@"!=s.charAt(0)&&([s,r]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,n,s,r,e=>{this.factory.scheduleListenerCallback(e._data||-1,i,e)})}return this.delegate.listen(e,t,i)}}let Pt=(()=>{class e extends nt{constructor(e,t,i){super(e.body,t,i)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(wt.K0),n.LFG(x),n.LFG(we))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const Dt=new n.OlP("AnimationModuleType"),Nt=[{provide:r._j,useClass:Et},{provide:we,useFactory:function(){return new Ee}},{provide:nt,useClass:Pt},{provide:n.FYo,useFactory:function(e,t,i){return new It(e,t,i)},deps:[s.se,nt,n.R0b]}],Lt=[{provide:x,useFactory:function(){return"function"==typeof Ct()?new St:new bt}},{provide:Dt,useValue:"BrowserAnimations"},...Nt],Mt=[{provide:x,useClass:k},{provide:Dt,useValue:"NoopAnimations"},...Nt];let Ft=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?Mt:Lt}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:Lt,imports:[s.b2]}),e})()},39075:function(e,t,i){"use strict";i.d(t,{b2:function(){return B},H7:function(){return M},Qz:function(){return f},Dx:function(){return j},q6:function(){return U},se:function(){return k}});var n=i(38583),s=i(37716);class r extends n.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends r{static makeCurrent(){(0,n.HT)(new o)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(c=c||document.querySelector("base"),c?c.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,n.Mx)(document.cookie,e)}}let a,c=null;const l=new s.OlP("TRANSITION_ID"),u=[{provide:s.ip1,useFactory:function(e,t,i){return()=>{i.get(s.CZH).donePromise.then(()=>{const i=(0,n.q)(),s=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let e=0;e<s.length;e++)i.remove(s[e])})}},deps:[l,n.K0,s.zs3],multi:!0}];class h{static init(){(0,s.VLi)(new h)}addToWindow(e){s.dqk.getAngularTestability=(t,i=!0)=>{const n=e.findTestabilityInTree(t,i);if(null==n)throw new Error("Could not find testability for element.");return n},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(e=>{const t=s.dqk.getAllAngularTestabilities();let i=t.length,n=!1;const r=function(t){n=n||t,i--,0==i&&e(n)};t.forEach(function(e){e.whenStable(r)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:i?(0,n.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const p=new s.OlP("EventManagerPlugins");let f=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}addGlobalEventListener(e,t,i){return this._findPluginFor(t).addGlobalEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const i=this._plugins;for(let n=0;n<i.length;n++){const t=i[n];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(p),s.LFG(s.R0b))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class m{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const s=(0,n.q)().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,i)}}let g=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e extends g{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,i){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,i.push(t.appendChild(n))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,i)=>{this._addStylesToHost(e,i,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e){(0,n.q)().remove(e)}const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},y=/%COMP%/g,S="%COMP%",C=`_nghost-${S}`,w=`_ngcontent-${S}`;function E(e,t,i){for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?E(e,s,i):(s=s.replace(y,e),i.push(s))}return i}function T(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let k=(()=>{class e{constructor(e,t,i){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new x(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case s.ifc.Emulated:{let i=this.rendererByCompId.get(t.id);return i||(i=new A(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,i)),i.applyToHost(e),i}case 1:case s.ifc.ShadowDom:return new I(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=E(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(f),s.LFG(_),s.LFG(s.AFp))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class x{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(b[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;const s=b[n];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const n=b[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,i,n&s.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,T(i)):this.eventManager.addEventListener(e,t,T(i))}}class A extends x{constructor(e,t,i,n){super(e),this.component=i;const s=E(n+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=w.replace(y,n+"-"+i.id),this.hostAttr=C.replace(y,n+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class I extends x{constructor(e,t,i,n){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=E(n.id,n.styles,[]);for(let r=0;r<s.length;r++){const e=document.createElement("style");e.textContent=s[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let O=(()=>{class e extends m{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i){return e.addEventListener(t,i,!1),()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,i){return e.removeEventListener(t,i)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const R=["alt","control","meta","shift"],P={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},N={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let L=(()=>{class e extends m{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,s){const r=e.parseEventName(i),o=e.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,n.q)().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const s=e._normalizeKey(i.pop());let r="";if(R.forEach(e=>{const t=i.indexOf(e);t>-1&&(i.splice(t,1),r+=e+".")}),r+=s,0!=i.length||0===s.length)return null;const o={};return o.domEventName=n,o.fullKey=r,o}static getEventFullKey(e){let t="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&D.hasOwnProperty(t)&&(t=D[t]))}return P[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),R.forEach(n=>{n!=i&&N[n](e)&&(t+=n+".")}),t+=i,t}static eventCallback(t,i,n){return s=>{e.getEventFullKey(s)===t&&n.runGuarded(()=>i(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,s.Yz7)({factory:function(){return(0,s.LFG)(F)},token:e,providedIn:"root"}),e})(),F=(()=>{class e extends M{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case s.q3G.NONE:return t;case s.q3G.HTML:return(0,s.qzn)(t,"HTML")?(0,s.z3N)(t):(0,s.EiD)(this._doc,String(t)).toString();case s.q3G.STYLE:return(0,s.qzn)(t,"Style")?(0,s.z3N)(t):t;case s.q3G.SCRIPT:if((0,s.qzn)(t,"Script"))return(0,s.z3N)(t);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(t),(0,s.qzn)(t,"URL")?(0,s.z3N)(t):(0,s.mCW)(String(t));case s.q3G.RESOURCE_URL:if((0,s.qzn)(t,"ResourceURL"))return(0,s.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.K0))},e.\u0275prov=(0,s.Yz7)({factory:function(){return function(e){return new F(e.get(n.K0))}((0,s.LFG)(s.gxx))},token:e,providedIn:"root"}),e})();const U=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:n.bD},{provide:s.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:n.K0,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),H=[[],{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:p,useClass:O,multi:!0,deps:[n.K0,s.R0b,s.Lbi]},{provide:p,useClass:L,multi:!0,deps:[n.K0]},[],{provide:k,useClass:k,deps:[f,_,s.AFp]},{provide:s.FYo,useExisting:k},{provide:g,useExisting:_},{provide:_,useClass:_,deps:[n.K0]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:f,useClass:f,deps:[p,s.R0b]},{provide:n.JF,useClass:d,deps:[]},[]];let B=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:s.AFp,useValue:t.appId},{provide:l,useExisting:s.AFp},u]}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(e,12))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:H,imports:[n.ez,s.hGG]}),e})();function $(){return new j((0,s.LFG)(n.K0))}let j=(()=>{class e{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.K0))},e.\u0275prov=(0,s.Yz7)({factory:$,token:e,providedIn:"root"}),e})();"undefined"!=typeof window&&window},8307:function(e,t,i){"use strict";i.d(t,{gz:function(){return je},jw:function(){return K},m2:function(){return M},OD:function(){return L},F0:function(){return ui},rH:function(){return di},Od:function(){return mi},yS:function(){return pi},Bz:function(){return ki},lC:function(){return gi}});var n=i(38583),s=i(37716),r=i(94402),o=i(25917),a=i(26215),c=i(9112),l=i(18891),u=i(13410),h=i(58071),d=i(41439),p=i(59193),f=i(52441),m=i(79765),g=i(45435),_=i(548),v=i(44635),b=i(95242),y=i(54487),S=i(88002),C=i(43190),w=i(15257),E=i(39761),T=i(42145),k=i(5304),x=i(94612),A=i(28049),I=i(19773),O=i(68307),R=i(51307),P=i(68939),D=i(63282);class N{constructor(e,t){this.id=e,this.url=t}}class L extends N{constructor(e,t,i="imperative",n=null){super(e,t),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class M extends N{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class F extends N{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class U extends N{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H extends N{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B extends N{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $ extends N{constructor(e,t,i,n,s){super(e,t),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class j extends N{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G extends N{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class q{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Y{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const J="primary";class Q{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function X(e){return new Q(e)}const ee="ngNavigationCancelingError";function te(e){const t=Error("NavigationCancelingError: "+e);return t[ee]=!0,t}function ie(e,t,i){const n=i.path.split("/");if(n.length>e.length||"full"===i.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const s={};for(let r=0;r<n.length;r++){const t=n[r],i=e[r];if(t.startsWith(":"))s[t.substring(1)]=i;else if(t!==i.path)return null}return{consumed:e.slice(0,n.length),posParams:s}}function ne(e,t){const i=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!i||!n||i.length!=n.length)return!1;let s;for(let r=0;r<i.length;r++)if(s=i[r],!se(e[s],t[s]))return!1;return!0}function se(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const i=[...e].sort(),n=[...t].sort();return i.every((e,t)=>n[t]===e)}return e===t}function re(e){return Array.prototype.concat.apply([],e)}function oe(e){return e.length>0?e[e.length-1]:null}function ae(e,t){for(const i in e)e.hasOwnProperty(i)&&t(e[i],i)}function ce(e){return(0,s.CqO)(e)?e:(0,s.QGY)(e)?(0,r.D)(Promise.resolve(e)):(0,o.of)(e)}const le={exact:function e(t,i,n){if(!ve(t.segments,i.segments)||!fe(t.segments,i.segments,n)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!t.children[s]||!e(t.children[s],i.children[s],n))return!1;return!0},subset:de},ue={exact:function(e,t){return ne(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>se(e[i],t[i]))},ignored:()=>!0};function he(e,t,i){return le[i.paths](e.root,t.root,i.matrixParams)&&ue[i.queryParams](e.queryParams,t.queryParams)&&!("exact"===i.fragment&&e.fragment!==t.fragment)}function de(e,t,i){return pe(e,t,t.segments,i)}function pe(e,t,i,n){if(e.segments.length>i.length){const s=e.segments.slice(0,i.length);return!(!ve(s,i)||t.hasChildren()||!fe(s,i,n))}if(e.segments.length===i.length){if(!ve(e.segments,i)||!fe(e.segments,i,n))return!1;for(const i in t.children)if(!e.children[i]||!de(e.children[i],t.children[i],n))return!1;return!0}{const s=i.slice(0,e.segments.length),r=i.slice(e.segments.length);return!!(ve(e.segments,s)&&fe(e.segments,s,n)&&e.children[J])&&pe(e.children[J],t,r,n)}}function fe(e,t,i){return t.every((t,n)=>ue[i](e[n].parameters,t.parameters))}class me{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=X(this.queryParams)),this._queryParamMap}toString(){return Se.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ae(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ce(this)}}class _e{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=X(this.parameters)),this._parameterMap}toString(){return Ie(this)}}function ve(e,t){return e.length===t.length&&e.every((e,i)=>e.path===t[i].path)}class be{}class ye{parse(e){const t=new Ne(e);return new me(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${we(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(e=>`${Te(t)}=${Te(e)}`).join("&"):`${Te(t)}=${Te(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Se=new ye;function Ce(e){return e.segments.map(e=>Ie(e)).join("/")}function we(e,t){if(!e.hasChildren())return Ce(e);if(t){const t=e.children[J]?we(e.children[J],!1):"",i=[];return ae(e.children,(e,t)=>{t!==J&&i.push(`${t}:${we(e,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(e,t){let i=[];return ae(e.children,(e,n)=>{n===J&&(i=i.concat(t(e,n)))}),ae(e.children,(e,n)=>{n!==J&&(i=i.concat(t(e,n)))}),i}(e,(t,i)=>i===J?[we(e.children[J],!1)]:[`${i}:${we(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[J]?`${Ce(e)}/${t[0]}`:`${Ce(e)}/(${t.join("//")})`}}function Ee(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Te(e){return Ee(e).replace(/%3B/gi,";")}function ke(e){return Ee(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xe(e){return decodeURIComponent(e)}function Ae(e){return xe(e.replace(/\+/g,"%20"))}function Ie(e){return`${ke(e.path)}${function(e){return Object.keys(e).map(t=>`;${ke(t)}=${ke(e[t])}`).join("")}(e.parameters)}`}const Oe=/^[^\/()?;=#]+/;function Re(e){const t=e.match(Oe);return t?t[0]:""}const Pe=/^[^=?&#]+/,De=/^[^?&#]+/;class Ne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[J]=new ge(e,t)),i}parseSegment(){const e=Re(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new _e(xe(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Re(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=Re(this.remaining);e&&(i=e,this.capture(i))}e[xe(t)]=xe(i)}parseQueryParam(e){const t=function(e){const t=e.match(Pe);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(De);return t?t[0]:""}(this.remaining);e&&(i=e,this.capture(i))}const n=Ae(t),s=Ae(i);if(e.hasOwnProperty(n)){let t=e[n];Array.isArray(t)||(t=[t],e[n]=t),t.push(s)}else e[n]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Re(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);const r=this.parseChildren();t[s]=1===Object.keys(r).length?r[J]:new ge([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Le{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Me(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Me(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fe(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Fe(e,this._root).map(e=>e.value)}}function Me(e,t){if(e===t.value)return t;for(const i of t.children){const t=Me(e,i);if(t)return t}return null}function Fe(e,t){if(e===t.value)return[t];for(const i of t.children){const n=Fe(e,i);if(n.length)return n.unshift(t),n}return[]}class Ue{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function He(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Be extends Le{constructor(e,t){super(e),this.snapshot=t,Ye(this,e)}toString(){return this.snapshot.toString()}}function $e(e,t){const i=function(e,t){const i=new Ve([],{},{},"",{},J,t,null,e.root,-1,{});return new qe("",new Ue(i,[]))}(e,t),n=new a.X([new _e("",{})]),s=new a.X({}),r=new a.X({}),o=new a.X({}),c=new a.X(""),l=new je(n,s,o,c,r,J,t,i.root);return l.snapshot=i.root,new Be(new Ue(l,[]),i)}class je{constructor(e,t,i,n,s,r,o,a){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=s,this.outlet=r,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,S.U)(e=>X(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,S.U)(e=>X(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ge(e,t="emptyOnly"){const i=e.pathFromRoot;let n=0;if("always"!==t)for(n=i.length-1;n>=1;){const e=i[n],t=i[n-1];if(e.routeConfig&&""===e.routeConfig.path)n--;else{if(t.component)break;n--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(n))}class Ve{constructor(e,t,i,n,s,r,o,a,c,l,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=s,this.outlet=r,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=X(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=X(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qe extends Le{constructor(e,t){super(t),this.url=e,Ye(this,t)}toString(){return Ze(this._root)}}function Ye(e,t){t.value._routerState=e,t.children.forEach(t=>Ye(e,t))}function Ze(e){const t=e.children.length>0?` { ${e.children.map(Ze).join(", ")} } `:"";return`${e.value}${t}`}function ze(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,ne(t.queryParams,i.queryParams)||e.queryParams.next(i.queryParams),t.fragment!==i.fragment&&e.fragment.next(i.fragment),ne(t.params,i.params)||e.params.next(i.params),function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!ne(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.url.next(i.url),ne(t.data,i.data)||e.data.next(i.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ke(e,t){return ne(e.params,t.params)&&function(e,t){return ve(e,t)&&e.every((e,i)=>ne(e.parameters,t[i].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Ke(e.parent,t.parent))}function We(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){const n=i.value;n._futureSnapshot=t.value;const s=function(e,t,i){return t.children.map(t=>{for(const n of i.children)if(e.shouldReuseRoute(t.value,n.value.snapshot))return We(e,t,n);return We(e,t)})}(e,t,i);return new Ue(n,s)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const e=i.route;return Je(t,e),e}}const i=function(e){return new je(new a.X(e.url),new a.X(e.params),new a.X(e.queryParams),new a.X(e.fragment),new a.X(e.data),e.outlet,e.component,e)}(t.value),n=t.children.map(t=>We(e,t));return new Ue(i,n)}}function Je(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)Je(e.children[i],t.children[i])}function Qe(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Xe(e){return"object"==typeof e&&null!=e&&e.outlets}function et(e,t,i,n,s){let r={};return n&&ae(n,(e,t)=>{r[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new me(i.root===e?t:tt(i.root,e,t),r,s)}function tt(e,t,i){const n={};return ae(e.children,(e,s)=>{n[s]=e===t?i:tt(e,t,i)}),new ge(e.segments,n)}class it{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Qe(i[0]))throw new Error("Root segment cannot have matrix parameters");const n=i.find(Xe);if(n&&n!==oe(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nt{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function st(e,t,i){if(e||(e=new ge([],{})),0===e.segments.length&&e.hasChildren())return rt(e,t,i);const n=function(e,t,i){let n=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(n>=i.length)return r;const t=e.segments[s],o=i[n];if(Xe(o))break;const a=`${o}`,c=n<i.length-1?i[n+1]:null;if(s>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!lt(a,c,t))return r;n+=2}else{if(!lt(a,{},t))return r;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(e,t,i),s=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const t=new ge(e.segments.slice(0,n.pathIndex),{});return t.children[J]=new ge(e.segments.slice(n.pathIndex),e.children),rt(t,0,s)}return n.match&&0===s.length?new ge(e.segments,{}):n.match&&!e.hasChildren()?ot(e,t,i):n.match?rt(e,0,s):ot(e,t,i)}function rt(e,t,i){if(0===i.length)return new ge(e.segments,{});{const n=function(e){return Xe(e[0])?e[0].outlets:{[J]:e}}(i),s={};return ae(n,(i,n)=>{"string"==typeof i&&(i=[i]),null!==i&&(s[n]=st(e.children[n],t,i))}),ae(e.children,(e,t)=>{void 0===n[t]&&(s[t]=e)}),new ge(e.segments,s)}}function ot(e,t,i){const n=e.segments.slice(0,t);let s=0;for(;s<i.length;){const r=i[s];if(Xe(r)){const e=at(r.outlets);return new ge(n,e)}if(0===s&&Qe(i[0])){n.push(new _e(e.segments[t].path,ct(i[0]))),s++;continue}const o=Xe(r)?r.outlets[J]:`${r}`,a=s<i.length-1?i[s+1]:null;o&&a&&Qe(a)?(n.push(new _e(o,ct(a))),s+=2):(n.push(new _e(o,{})),s++)}return new ge(n,{})}function at(e){const t={};return ae(e,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=ot(new ge([],{}),0,e))}),t}function ct(e){const t={};return ae(e,(e,i)=>t[i]=`${e}`),t}function lt(e,t,i){return e==i.path&&ne(t,i.parameters)}class ut{constructor(e,t,i,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=n}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ze(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const n=He(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,n[t],i),delete n[t]}),ae(n,(e,t)=>{this.deactivateRouteAndItsChildren(e,i)})}deactivateRoutes(e,t,i){const n=e.value,s=t?t.value:null;if(n===s)if(n.component){const s=i.getContext(n.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const t=i.outlet.detach(),n=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:n})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),n=i&&e.value.component?i.children:t,s=He(e);for(const r of Object.keys(s))this.deactivateRouteAndItsChildren(s[r],n);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const n=He(t);e.children.forEach(e=>{this.activateRoutes(e,n[e.value.outlet],i),this.forwardEvent(new K(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Z(e.value.snapshot))}activateRoutes(e,t,i){const n=e.value,s=t?t.value:null;if(ze(n),n===s)if(n.component){const s=i.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(n.component){const t=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const e=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),ht(e.route)}else{const i=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(n.snapshot),s=i?i.module.componentFactoryResolver:null;t.attachRef=null,t.route=n,t.resolver=s,t.outlet&&t.outlet.activateWith(n,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,i)}}function ht(e){ze(e.value),e.children.forEach(ht)}class dt{constructor(e,t){this.routes=e,this.module=t}}function pt(e){return"function"==typeof e}function ft(e){return e instanceof me}const mt=Symbol("INITIAL_VALUE");function gt(){return(0,C.w)(e=>(0,c.aj)(e.map(e=>e.pipe((0,w.q)(1),(0,E.O)(mt)))).pipe((0,T.R)((e,t)=>{let i=!1;return t.reduce((e,n,s)=>e!==mt?e:(n===mt&&(i=!0),i||!1!==n&&s!==t.length-1&&!ft(n)?e:n),e)},mt),(0,g.h)(e=>e!==mt),(0,S.U)(e=>ft(e)?e:!0===e),(0,w.q)(1)))}let _t=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"router-outlet")},directives:function(){return[gi]},encapsulation:2}),e})();function vt(e,t=""){for(let i=0;i<e.length;i++){const n=e[i];bt(n,yt(t,n))}}function bt(e,t){e.children&&vt(e.children,t)}function yt(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function St(e){const t=e.children&&e.children.map(St),i=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!i.component&&(t||i.loadChildren)&&i.outlet&&i.outlet!==J&&(i.component=_t),i}function Ct(e){return e.outlet||J}function wt(e,t){const i=e.filter(e=>Ct(e)===t);return i.push(...e.filter(e=>Ct(e)!==t)),i}const Et={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Tt(e,t,i){var n;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?Object.assign({},Et):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||ie)(i,e,t);if(!s)return Object.assign({},Et);const r={};ae(s.posParams,(e,t)=>{r[t]=e.path});const o=s.consumed.length>0?Object.assign(Object.assign({},r),s.consumed[s.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:o,positionalParamSegments:null!==(n=s.posParams)&&void 0!==n?n:{}}}function kt(e,t,i,n,s="corrected"){if(i.length>0&&function(e,t,i){return i.some(i=>xt(e,t,i)&&Ct(i)!==J)}(e,i,n)){const s=new ge(t,function(e,t,i,n){const s={};s[J]=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const r of i)if(""===r.path&&Ct(r)!==J){const i=new ge([],{});i._sourceSegment=e,i._segmentIndexShift=t.length,s[Ct(r)]=i}return s}(e,t,n,new ge(i,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===i.length&&function(e,t,i){return i.some(i=>xt(e,t,i))}(e,i,n)){const r=new ge(e.segments,function(e,t,i,n,s,r){const o={};for(const a of n)if(xt(e,i,a)&&!s[Ct(a)]){const i=new ge([],{});i._sourceSegment=e,i._segmentIndexShift="legacy"===r?e.segments.length:t.length,o[Ct(a)]=i}return Object.assign(Object.assign({},s),o)}(e,t,i,n,e.children,s));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:i}}const r=new ge(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:i}}function xt(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path}function At(e,t,i,n){return!!(Ct(e)===n||n!==J&&xt(t,i,e))&&("**"===e.path||Tt(t,e,i).matched)}function It(e,t,i){return 0===t.length&&!e.children[i]}class Ot{constructor(e){this.segmentGroup=e||null}}class Rt{constructor(e){this.urlTree=e}}function Pt(e){return new l.y(t=>t.error(new Ot(e)))}function Dt(e){return new l.y(t=>t.error(new Rt(e)))}function Nt(e){return new l.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Lt{constructor(e,t,i,n,r){this.configLoader=t,this.urlSerializer=i,this.urlTree=n,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(s.h0i)}apply(){const e=kt(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,J).pipe((0,S.U)(e=>this.createUrlTree(Mt(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,k.K)(e=>{if(e instanceof Rt)return this.allowRedirects=!1,this.match(e.urlTree);throw e instanceof Ot?this.noMatchError(e):e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,J).pipe((0,S.U)(t=>this.createUrlTree(Mt(t),e.queryParams,e.fragment))).pipe((0,k.K)(e=>{throw e instanceof Ot?this.noMatchError(e):e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const n=e.segments.length>0?new ge([],{[J]:e}):e;return new me(n,t,i)}expandSegmentGroup(e,t,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,S.U)(e=>new ge([],e))):this.expandSegment(e,i,t,i.segments,n,!0)}expandChildren(e,t,i){const n=[];for(const s of Object.keys(i.children))"primary"===s?n.unshift(s):n.push(s);return(0,r.D)(n).pipe((0,x.b)(n=>{const s=i.children[n],r=wt(t,n);return this.expandSegmentGroup(e,r,s,n).pipe((0,S.U)(e=>({segment:e,outlet:n})))}),(0,T.R)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const i=arguments.length>=2;return n=>n.pipe(e?(0,g.h)((t,i)=>e(t,i,n)):y.y,(0,_.h)(1),i?(0,b.d)(t):(0,v.T)(()=>new u.K))}())}expandSegment(e,t,i,n,s,a){return(0,r.D)(i).pipe((0,x.b)(r=>this.expandSegmentAgainstRoute(e,t,i,r,n,s,a).pipe((0,k.K)(e=>{if(e instanceof Ot)return(0,o.of)(null);throw e}))),(0,A.P)(e=>!!e),(0,k.K)((e,i)=>{if(e instanceof u.K||"EmptyError"===e.name){if(It(t,n,s))return(0,o.of)(new ge([],{}));throw new Ot(t)}throw e}))}expandSegmentAgainstRoute(e,t,i,n,s,r,o){return At(n,t,s,r)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,s,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r):Pt(t):Pt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,n,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,n){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Dt(s):this.lineralizeSegments(i,s).pipe((0,I.zg)(i=>{const s=new ge(i,{});return this.expandSegment(e,s,t,i,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Tt(t,n,s);if(!o)return Pt(t);const u=this.applyRedirectCommands(a,n.redirectTo,l);return n.redirectTo.startsWith("/")?Dt(u):this.lineralizeSegments(n,u).pipe((0,I.zg)(n=>this.expandSegment(e,t,i,n.concat(s.slice(c)),r,!1)))}matchSegmentAgainstRoute(e,t,i,n,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,o.of)(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,S.U)(e=>(i._loadedConfig=e,new ge(n,{})))):(0,o.of)(new ge(n,{}));const{matched:r,consumedSegments:a,lastChild:c}=Tt(t,i,n);if(!r)return Pt(t);const l=n.slice(c);return this.getChildConfig(e,i,n).pipe((0,I.zg)(e=>{const n=e.module,r=e.routes,{segmentGroup:c,slicedSegments:u}=kt(t,a,l,r),h=new ge(c.segments,c.children);if(0===u.length&&h.hasChildren())return this.expandChildren(n,r,h).pipe((0,S.U)(e=>new ge(a,e)));if(0===r.length&&0===u.length)return(0,o.of)(new ge(a,{}));const d=Ct(i)===s;return this.expandSegment(n,h,r,u,d?J:s,!0).pipe((0,S.U)(e=>new ge(a.concat(e.segments),e.children)))}))}getChildConfig(e,t,i){return t.children?(0,o.of)(new dt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,o.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,I.zg)(i=>{return i?this.configLoader.load(e.injector,t).pipe((0,S.U)(e=>(t._loadedConfig=e,e))):(n=t,new l.y(e=>e.error(te(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,o.of)(new dt([],e))}runCanLoadGuards(e,t,i){const n=t.canLoad;if(!n||0===n.length)return(0,o.of)(!0);const s=n.map(n=>{const s=e.get(n);let r;if((o=s)&&pt(o.canLoad))r=s.canLoad(t,i);else{if(!pt(s))throw new Error("Invalid CanLoad guard");r=s(t,i)}var o;return ce(r)});return(0,o.of)(s).pipe(gt(),(0,O.b)(e=>{if(!ft(e))return;const t=te(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,S.U)(e=>!0===e))}lineralizeSegments(e,t){let i=[],n=t.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return(0,o.of)(i);if(n.numberOfChildren>1||!n.children[J])return Nt(e.redirectTo);n=n.children[J]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,n){const s=this.createSegmentGroup(e,t.root,i,n);return new me(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ae(e,(e,n)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);i[n]=t[s]}else i[n]=e}),i}createSegmentGroup(e,t,i,n){const s=this.createSegments(e,t.segments,i,n);let r={};return ae(t.children,(t,s)=>{r[s]=this.createSegmentGroup(e,t,i,n)}),new ge(s,r)}createSegments(e,t,i,n){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,n):this.findOrReturn(t,i))}findPosParam(e,t,i){const n=i[t.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return n}findOrReturn(e,t){let i=0;for(const n of t){if(n.path===e.path)return t.splice(i),n;i++}return e}}function Mt(e){const t={};for(const i of Object.keys(e.children)){const n=Mt(e.children[i]);(n.segments.length>0||n.hasChildren())&&(t[i]=n)}return function(e){if(1===e.numberOfChildren&&e.children[J]){const t=e.children[J];return new ge(e.segments.concat(t.segments),t.children)}return e}(new ge(e.segments,t))}class Ft{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ut{constructor(e,t){this.component=e,this.route=t}}function Ht(e,t,i){const n=e._root;return $t(n,t?t._root:null,i,[n.value])}function Bt(e,t,i){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:i).get(e)}function $t(e,t,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=He(t);return e.children.forEach(e=>{(function(e,t,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=e.value,o=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const c=function(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!ve(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ve(e.url,t.url)||!ne(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ke(e,t)||!ne(e.queryParams,t.queryParams);case"paramsChange":default:return!Ke(e,t)}}(o,r,r.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Ft(n)):(r.data=o.data,r._resolvedData=o._resolvedData),$t(e,t,r.component?a?a.children:null:i,n,s),c&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Ut(a.outlet.component,o))}else o&&jt(t,a,s),s.canActivateChecks.push(new Ft(n)),$t(e,null,r.component?a?a.children:null:i,n,s)})(e,r[e.value.outlet],i,n.concat([e.value]),s),delete r[e.value.outlet]}),ae(r,(e,t)=>jt(e,i.getContext(t),s)),s}function jt(e,t,i){const n=He(e),s=e.value;ae(n,(e,n)=>{jt(e,s.component?t?t.children.getContext(n):null:t,i)}),i.canDeactivateChecks.push(new Ut(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class Gt{}function Vt(e){return new l.y(t=>t.error(e))}class qt{constructor(e,t,i,n,s,r){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=n,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=r}recognize(){const e=kt(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,J);if(null===t)return null;const i=new Ve([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},J,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new Ue(i,t),s=new qe(this.url,n);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=Ge(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const n=t.children[s],r=wt(e,s),o=this.processSegmentGroup(r,n,s);if(null===o)return null;i.push(...o)}const n=Zt(i);return n.sort((e,t)=>e.value.outlet===J?-1:t.value.outlet===J?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,i,n){for(const s of e){const e=this.processSegmentAgainstRoute(s,t,i,n);if(null!==e)return e}return It(t,i,n)?[]:null}processSegmentAgainstRoute(e,t,i,n){if(e.redirectTo||!At(e,t,i,n))return null;let s,r=[],o=[];if("**"===e.path){const n=i.length>0?oe(i).parameters:{};s=new Ve(i,n,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wt(e),Ct(e),e.component,e,zt(t),Kt(t)+i.length,Jt(e))}else{const n=Tt(t,e,i);if(!n.matched)return null;r=n.consumedSegments,o=i.slice(n.lastChild),s=new Ve(r,n.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wt(e),Ct(e),e.component,e,zt(t),Kt(t)+r.length,Jt(e))}const a=(u=e).children?u.children:u.loadChildren?u._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:l}=kt(t,r,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);var u;if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return null===e?null:[new Ue(s,e)]}if(0===a.length&&0===l.length)return[new Ue(s,[])];const h=Ct(e)===n,d=this.processSegment(a,c,l,h?J:n);return null===d?null:[new Ue(s,d)]}}function Yt(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Zt(e){const t=[],i=new Set;for(const n of e){if(!Yt(n)){t.push(n);continue}const e=t.find(e=>n.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...n.children),i.add(e)):t.push(n)}for(const n of i){const e=Zt(n.children);t.push(new Ue(n.value,e))}return t.filter(e=>!i.has(e))}function zt(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Kt(e){let t=e,i=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,i+=t._segmentIndexShift?t._segmentIndexShift:0;return i-1}function Wt(e){return e.data||{}}function Jt(e){return e.resolve||{}}function Qt(e){return(0,C.w)(t=>{const i=e(t);return i?(0,r.D)(i).pipe((0,S.U)(()=>t)):(0,o.of)(t)})}class Xt extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ei=new s.OlP("ROUTES");class ti{constructor(e,t,i,n){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=n}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,S.U)(i=>{this.onLoadEndListener&&this.onLoadEndListener(t);const n=i.create(e);return new dt(re(n.injector.get(ei,void 0,s.XFs.Self|s.XFs.Optional)).map(St),n)}),(0,k.K)(e=>{throw t._loader$=void 0,e}));return t._loader$=new f.c(i,()=>new m.xQ).pipe((0,R.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,r.D)(this.loader.load(e)):ce(e()).pipe((0,I.zg)(e=>e instanceof s.YKP?(0,o.of)(e):(0,r.D)(this.compiler.compileModuleAsync(e))))}}class ii{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ni,this.attachRef=null}}class ni{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ii,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class si{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ri(e){throw e}function oi(e,t,i){return t.parse("/")}function ai(e,t){return(0,o.of)(null)}const ci={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},li={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ui=(()=>{class e{constructor(e,t,i,n,r,o,c,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=i,this.location=n,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new m.xQ,this.errorHandler=ri,this.malformedUriErrorHandler=oi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ai,afterPreactivation:ai},this.urlHandlingStrategy=new si,this.routeReuseStrategy=new Xt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=r.get(s.h0i),this.console=r.get(s.c2e);const u=r.get(s.R0b);this.isNgZoneEnabled=u instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new me(new ge([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ti(o,c,e=>this.triggerEvent(new V(e)),e=>this.triggerEvent(new q(e))),this.routerState=$e(this.currentUrlTree,this.rootComponentType),this.transitions=new a.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe((0,g.h)(e=>0!==e.id),(0,S.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,C.w)(e=>{let i=!1,n=!1;return(0,o.of)(e).pipe((0,O.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,C.w)(e=>{const i=this.browserUrlTree.toString(),s=!this.navigated||e.extractedUrl.toString()!==i||i!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||s)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return hi(e.source)&&(this.browserUrlTree=e.extractedUrl),(0,o.of)(e).pipe((0,C.w)(e=>{const i=this.transitions.getValue();return t.next(new L(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==this.transitions.getValue()?p.E:Promise.resolve(e)}),function(e,t,i,n){return(0,C.w)(s=>function(e,t,i,n,s){return new Lt(e,t,i,n,s).apply()}(e,t,i,s.extractedUrl,n).pipe((0,S.U)(e=>Object.assign(Object.assign({},s),{urlAfterRedirects:e}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,O.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,i,s,r){return(0,I.zg)(a=>function(e,t,i,s,r="emptyOnly",a="legacy"){try{const n=new qt(e,t,i,s,r,a).recognize();return null===n?Vt(new Gt):(0,o.of)(n)}catch(n){return Vt(n)}}(e,t,a.urlAfterRedirects,i(a.urlAfterRedirects),s,r).pipe((0,S.U)(e=>Object.assign(Object.assign({},a),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,O.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const i=new H(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(i)}));if(s&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:i,extractedUrl:n,source:s,restoredState:r,extras:a}=e,c=new L(i,this.serializeUrl(n),s,r);t.next(c);const l=$e(n,this.rootComponentType).snapshot;return(0,o.of)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:n,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),p.E}),Qt(e=>{const{targetSnapshot:t,id:i,extractedUrl:n,rawUrl:s,extras:{skipLocationChange:r,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:i,appliedUrlTree:n,rawUrlTree:s,skipLocationChange:!!r,replaceUrl:!!o})}),(0,O.b)(e=>{const t=new B(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,S.U)(e=>Object.assign(Object.assign({},e),{guards:Ht(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,I.zg)(i=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:a,canDeactivateChecks:c}}=i;return 0===c.length&&0===a.length?(0,o.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(e,t,i,n){return(0,r.D)(e).pipe((0,I.zg)(e=>function(e,t,i,n,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||0===r.length)return(0,o.of)(!0);const a=r.map(r=>{const o=Bt(r,t,s);let a;if(function(e){return e&&pt(e.canDeactivate)}(o))a=ce(o.canDeactivate(e,t,i,n));else{if(!pt(o))throw new Error("Invalid CanDeactivate guard");a=ce(o(e,t,i,n))}return a.pipe((0,A.P)())});return(0,o.of)(a).pipe(gt())}(e.component,e.route,i,t,n)),(0,A.P)(e=>!0!==e,!0))}(c,n,s,e).pipe((0,I.zg)(i=>i&&function(e){return"boolean"==typeof e}(i)?function(e,t,i,n){return(0,r.D)(t).pipe((0,x.b)(t=>(0,h.z)(function(e,t){return null!==e&&t&&t(new Y(e)),(0,o.of)(!0)}(t.route.parent,n),function(e,t){return null!==e&&t&&t(new z(e)),(0,o.of)(!0)}(t.route,n),function(e,t,i){const n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>(0,d.P)(()=>{const s=t.guards.map(s=>{const r=Bt(s,t.node,i);let o;if(function(e){return e&&pt(e.canActivateChild)}(r))o=ce(r.canActivateChild(n,e));else{if(!pt(r))throw new Error("Invalid CanActivateChild guard");o=ce(r(n,e))}return o.pipe((0,A.P)())});return(0,o.of)(s).pipe(gt())}));return(0,o.of)(s).pipe(gt())}(e,t.path,i),function(e,t,i){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return(0,o.of)(!0);const s=n.map(n=>(0,d.P)(()=>{const s=Bt(n,t,i);let r;if(function(e){return e&&pt(e.canActivate)}(s))r=ce(s.canActivate(t,e));else{if(!pt(s))throw new Error("Invalid CanActivate guard");r=ce(s(t,e))}return r.pipe((0,A.P)())}));return(0,o.of)(s).pipe(gt())}(e,t.route,i))),(0,A.P)(e=>!0!==e,!0))}(n,a,e,t):(0,o.of)(i)),(0,S.U)(e=>Object.assign(Object.assign({},i),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,O.b)(e=>{if(ft(e.guardsResult)){const t=te(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new $(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,g.h)(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),Qt(e=>{if(e.guards.canActivateChecks.length)return(0,o.of)(e).pipe((0,O.b)(e=>{const t=new j(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,C.w)(e=>{let t=!1;return(0,o.of)(e).pipe(function(e,t){return(0,I.zg)(i=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=i;if(!s.length)return(0,o.of)(i);let a=0;return(0,r.D)(s).pipe((0,x.b)(i=>function(e,t,i,n){return function(e,t,i,n){const s=Object.keys(e);if(0===s.length)return(0,o.of)({});const a={};return(0,r.D)(s).pipe((0,I.zg)(s=>function(e,t,i,n){const s=Bt(e,t,n);return ce(s.resolve?s.resolve(t,i):s(t,i))}(e[s],t,i,n).pipe((0,O.b)(e=>{a[s]=e}))),(0,_.h)(1),(0,I.zg)(()=>Object.keys(a).length===s.length?(0,o.of)(a):p.E))}(e._resolve,e,t,n).pipe((0,S.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Ge(e,i).resolve),null)))}(i.route,n,e,t)),(0,O.b)(()=>a++),(0,_.h)(1),(0,I.zg)(e=>a===s.length?(0,o.of)(i):p.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,O.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),(0,O.b)(e=>{const t=new G(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Qt(e=>{const{targetSnapshot:t,id:i,extractedUrl:n,rawUrl:s,extras:{skipLocationChange:r,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:i,appliedUrlTree:n,rawUrlTree:s,skipLocationChange:!!r,replaceUrl:!!o})}),(0,S.U)(e=>{const t=function(e,t,i){const n=We(e,t._root,i?i._root:void 0);return new Be(n,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,O.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),((e,t,i)=>(0,S.U)(n=>(new ut(t,n.targetRouterState,n.currentRouterState,i).activate(e),n)))(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),(0,O.b)({next(){i=!0},complete(){i=!0}}),(0,P.x)(()=>{var t;if(!i&&!n){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}(null===(t=this.currentNavigation)||void 0===t?void 0:t.id)===e.id&&(this.currentNavigation=null)}),(0,k.K)(i=>{if(n=!0,function(e){return e&&e[ee]}(i)){const n=ft(i.url);n||(this.navigated=!0,this.restoreHistory(e,!0));const s=new F(e.id,this.serializeUrl(e.extractedUrl),i.message);t.next(s),n?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(i.url,this.rawUrlTree),n={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hi(e.source)};this.scheduleNavigation(t,"imperative",null,n,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const n=new U(e.id,this.serializeUrl(e.extractedUrl),i);t.next(n);try{e.resolve(this.errorHandler(i))}catch(s){e.reject(s)}}return p.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:i,urlTree:n}=t,s={replaceUrl:!0};if(i){const e=Object.assign({},i);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(s.state=e)}this.scheduleNavigation(n,e,i,s)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const i=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!i||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){vt(e),this.config=e.map(St),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:i,queryParams:n,fragment:s,queryParamsHandling:r,preserveFragment:o}=t,a=i||this.routerState.root,c=o?this.currentUrlTree.fragment:s;let l=null;switch(r){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=n||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,i,n,s){if(0===i.length)return et(t.root,t.root,t,n,s);const r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new it(!0,0,e);let t=0,i=!1;const n=e.reduce((e,n,s)=>{if("object"==typeof n&&null!=n){if(n.outlets){const t={};return ae(n.outlets,(e,i)=>{t[i]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(n.segmentPath)return[...e,n.segmentPath]}return"string"!=typeof n?[...e,n]:0===s?(n.split("/").forEach((n,s)=>{0==s&&"."===n||(0==s&&""===n?i=!0:".."===n?t++:""!=n&&e.push(n))}),e):[...e,n]},[]);return new it(i,t,n)}(i);if(r.toRoot())return et(t.root,new ge([],{}),t,n,s);const o=function(e,t,i){if(e.isAbsolute)return new nt(t.root,!0,0);if(-1===i.snapshot._lastPathIndex){const e=i.snapshot._urlSegment;return new nt(e,e===t.root,0)}const n=Qe(e.commands[0])?0:1;return function(e,t,i){let n=e,s=t,r=i;for(;r>s;){if(r-=s,n=n.parent,!n)throw new Error("Invalid number of '../'");s=n.segments.length}return new nt(n,!1,s-r)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(r,t,e),a=o.processChildren?rt(o.segmentGroup,o.index,r.commands):st(o.segmentGroup,o.index,r.commands);return et(o.segmentGroup,a,t,n,s)}(a,this.currentUrlTree,e,l,null!=c?c:null)}navigateByUrl(e,t={skipLocationChange:!1}){const i=ft(e)?e:this.parseUrl(e),n=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const i=e[t];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(i){t=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return t}isActive(e,t){let i;if(i=!0===t?Object.assign({},ci):!1===t?Object.assign({},li):t,ft(e))return he(this.currentUrlTree,e,i);const n=this.parseUrl(e);return he(this.currentUrlTree,n,i)}removeEmptyProps(e){return Object.keys(e).reduce((t,i)=>{const n=e[i];return null!=n&&(t[i]=n),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new M(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,t,i,n,s){var r,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c=hi(t)&&a&&!hi(a.source),l=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);let u,h,d;s?(u=s.resolve,h=s.reject,d=s.promise):d=new Promise((e,t)=>{u=e,h=t});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:n.replaceUrl||n.skipLocationChange?null!==(r=this.browserPageId)&&void 0!==r?r:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:t,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:n,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const i=this.urlSerializer.serialize(e),n=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(i)||t.extras.replaceUrl?this.location.replaceState(i,"",n):this.location.go(i,"",n)}restoreHistory(e,t=!1){var i,n;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===t?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const i=new F(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.DyG),s.LFG(be),s.LFG(ni),s.LFG(n.Ye),s.LFG(s.zs3),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();function hi(e){return"imperative"!==e}let di=(()=>{class e{constructor(e,t,i,n,s){this.router=e,this.route=t,this.commands=[],this.onChanges=new m.xQ,null==i&&n.setAttribute(s.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:fi(this.skipLocationChange),replaceUrl:fi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fi(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(ui),s.Y36(je),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),e})(),pi=(()=>{class e{constructor(e,t,i){this.router=e,this.route=t,this.locationStrategy=i,this.commands=[],this.onChanges=new m.xQ,this.subscription=e.events.subscribe(e=>{e instanceof M&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,i,n,s){if(0!==e||t||i||n||s||"string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:fi(this.skipLocationChange),replaceUrl:fi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fi(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(ui),s.Y36(je),s.Y36(n.S$))},e.\u0275dir=s.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&s.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(s.Ikx("href",t.href,s.LSH),s.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),e})();function fi(e){return""===e||!!e}let mi=(()=>{class e{constructor(e,t,i,n,s,r){this.router=e,this.element=t,this.renderer=i,this.cdr=n,this.link=s,this.linkWithHref=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof M&&this.update()})}ngAfterContentInit(){(0,o.of)(this.links.changes,this.linksWithHrefs.changes,(0,o.of)(null)).pipe((0,D.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=(0,r.D)(t).pipe((0,D.J)()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){const t=function(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>e.isActive(i.urlTree,t)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(ui),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(di,8),s.Y36(pi,8))},e.\u0275dir=s.lG2({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,i){if(1&e&&(s.Suo(i,di,5),s.Suo(i,pi,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.links=e),s.iGM(e=s.CRH())&&(t.linksWithHrefs=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[s.TTD]}),e})(),gi=(()=>{class e{constructor(e,t,i,n,r){this.parentContexts=e,this.location=t,this.resolver=i,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.name=n||J,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const i=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,s=new _i(e,n,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(ni),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},e.\u0275dir=s.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class _i{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===je?this.route:e===ni?this.childContexts:this.parent.get(e,t)}}class vi{}class bi{preload(e,t){return(0,o.of)(null)}}let yi=(()=>{class e{constructor(e,t,i,n,s){this.router=e,this.injector=n,this.preloadingStrategy=s,this.loader=new ti(t,i,t=>e.triggerEvent(new V(t)),t=>e.triggerEvent(new q(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,g.h)(e=>e instanceof M),(0,x.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const i=[];for(const n of t)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const e=n._loadedConfig;i.push(this.processRoutes(e.module,e.routes))}else n.loadChildren&&!n.canLoad?i.push(this.preloadConfig(e,n)):n.children&&i.push(this.processRoutes(e,n.children));return(0,r.D)(i).pipe((0,D.J)(),(0,S.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,o.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,I.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(ui),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(vi))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),Si=(()=>{class e{constructor(e,t,i={}){this.router=e,this.viewportScroller=t,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof L?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof M&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof W&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new W(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(ui),s.LFG(n.EM),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const Ci=new s.OlP("ROUTER_CONFIGURATION"),wi=new s.OlP("ROUTER_FORROOT_GUARD"),Ei=[n.Ye,{provide:be,useClass:ye},{provide:ui,useFactory:function(e,t,i,n,s,r,o,a={},c,l){const u=new ui(null,e,t,i,n,s,r,re(o));return c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,i;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(i=console.groupEnd)||void 0===i||i.call(console)}),u},deps:[be,ni,n.Ye,s.zs3,s.v3s,s.Sil,ei,Ci,[class{},new s.FiY],[class{},new s.FiY]]},ni,{provide:je,useFactory:function(e){return e.routerState.root},deps:[ui]},{provide:s.v3s,useClass:s.EAV},yi,bi,class{preload(e,t){return t().pipe((0,k.K)(()=>(0,o.of)(null)))}},{provide:Ci,useValue:{enableTracing:!1}}];function Ti(){return new s.PXZ("Router",ui)}let ki=(()=>{class e{constructor(e,t){}static forRoot(t,i){return{ngModule:e,providers:[Ei,Oi(t),{provide:wi,useFactory:Ii,deps:[[ui,new s.FiY,new s.tp0]]},{provide:Ci,useValue:i||{}},{provide:n.S$,useFactory:Ai,deps:[n.lw,[new s.tBr(n.mr),new s.FiY],Ci]},{provide:Si,useFactory:xi,deps:[ui,n.EM,Ci]},{provide:vi,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:bi},{provide:s.PXZ,multi:!0,useFactory:Ti},[Ri,{provide:s.ip1,multi:!0,useFactory:Pi,deps:[Ri]},{provide:Ni,useFactory:Di,deps:[Ri]},{provide:s.tb,multi:!0,useExisting:Ni}]]}}static forChild(t){return{ngModule:e,providers:[Oi(t)]}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(wi,8),s.LFG(ui,8))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e})();function xi(e,t,i){return i.scrollOffset&&t.setOffset(i.scrollOffset),new Si(e,t,i)}function Ai(e,t,i={}){return i.useHash?new n.Do(e,t):new n.b0(e,t)}function Ii(e){return"guarded"}function Oi(e){return[{provide:s.deG,multi:!0,useValue:e},{provide:ei,multi:!0,useValue:e}]}let Ri=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new m.xQ}appInitializer(){return this.injector.get(n.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),i=this.injector.get(ui),n=this.injector.get(Ci);return"disabled"===n.initialNavigation?(i.setUpLocationChangeListener(),e(!0)):"enabled"===n.initialNavigation||"enabledBlocking"===n.initialNavigation?(i.hooks.afterPreactivation=()=>this.initNavigation?(0,o.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),i.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Ci),i=this.injector.get(yi),n=this.injector.get(Si),r=this.injector.get(ui),o=this.injector.get(s.z2F);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&r.initialNavigation(),i.setUpPreloading(),n.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();function Pi(e){return e.appInitializer.bind(e)}function Di(e){return e.bootstrapListener.bind(e)}const Ni=new s.OlP("Router Initializer")},29790:function(e,t,i){"use strict";i.d(t,{gC:function(){return g},FX:function(){return w},Zw:function(){return f},aw:function(){return D},qi:function(){return C},X$:function(){return P},sK:function(){return R}});var n=i(37716),s=i(25917),r=i(95639),o=i(35758),a=i(58071),c=i(41439),l=i(15257),u=i(47349),h=i(88002),d=i(94612),p=i(43190);class f{}let m=(()=>{class e extends f{getTranslation(e){return(0,s.of)({})}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class g{}let _=(()=>{class e{handle(e){return e.key}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;let i,n,s,r=typeof e;if(r==typeof t&&"object"==r){if(!Array.isArray(e)){if(Array.isArray(t))return!1;for(n in s=Object.create(null),e){if(!v(e[n],t[n]))return!1;s[n]=!0}for(n in t)if(!(n in s)&&void 0!==t[n])return!1;return!0}if(!Array.isArray(t))return!1;if((i=e.length)==t.length){for(n=0;n<i;n++)if(!v(e[n],t[n]))return!1;return!0}}return!1}function b(e){return null!=e}function y(e){return e&&"object"==typeof e&&!Array.isArray(e)}function S(e,t){let i=Object.assign({},e);return y(e)&&y(t)&&Object.keys(t).forEach(n=>{y(t[n])?n in e?i[n]=S(e[n],t[n]):Object.assign(i,{[n]:t[n]}):Object.assign(i,{[n]:t[n]})}),i}class C{}let w=(()=>{class e extends C{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,t){let i;return i="string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e,i}getValue(e,t){let i="string"==typeof t?t.split("."):[t];t="";do{t+=i.shift(),!b(e)||!b(e[t])||"object"!=typeof e[t]&&i.length?i.length?t+=".":e=void 0:(e=e[t],t="")}while(i.length);return e}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(e,i)=>{let n=this.getValue(t,i);return b(n)?n:e}):e}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class E{}let T=(()=>{class e extends E{compile(e,t){return e}compileTranslations(e,t){return e}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class k{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new n.vpe,this.onLangChange=new n.vpe,this.onDefaultLangChange=new n.vpe}}const x=new n.OlP("USE_STORE"),A=new n.OlP("USE_DEFAULT_LANG"),I=new n.OlP("DEFAULT_LANGUAGE"),O=new n.OlP("USE_EXTEND");let R=(()=>{class e{constructor(e,t,i,s,r,o=!0,a=!1,c=!1,l){this.store=e,this.currentLoader=t,this.compiler=i,this.parser=s,this.missingTranslationHandler=r,this.useDefaultLang=o,this.isolate=a,this.extend=c,this.pending=!1,this._onTranslationChange=new n.vpe,this._onLangChange=new n.vpe,this._onDefaultLangChange=new n.vpe,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);void 0!==t?(null==this.defaultLang&&(this.defaultLang=e),t.pipe((0,l.q)(1)).subscribe(t=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,s.of)(this.translations[e]);let t=this.retrieveTranslations(e);return void 0!==t?(this.currentLang||(this.currentLang=e),t.pipe((0,l.q)(1)).subscribe(t=>{this.changeLang(e)}),t):(this.changeLang(e),(0,s.of)(this.translations[e]))}retrieveTranslations(e){let t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}getTranslation(e){this.pending=!0;const t=this.currentLoader.getTranslation(e).pipe((0,u.d)(1),(0,l.q)(1));return this.loadingTranslations=t.pipe((0,h.U)(t=>this.compiler.compileTranslations(t,e)),(0,u.d)(1),(0,l.q)(1)),this.loadingTranslations.subscribe({next:t=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},t),this.translations[e]):t,this.updateLangs(),this.pending=!1},error:e=>{this.pending=!1}}),t}setTranslation(e,t,i=!1){t=this.compiler.compileTranslations(t,e),this.translations[e]=(i||this.extend)&&this.translations[e]?S(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(e=>{-1===this.langs.indexOf(e)&&this.langs.push(e)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,t,i){let n;if(t instanceof Array){let n={},a=!1;for(let s of t)n[s]=this.getParsedResult(e,s,i),(0,r.b)(n[s])&&(a=!0);if(a){const e=t.map(e=>(0,r.b)(n[e])?n[e]:(0,s.of)(n[e]));return(0,o.D)(e).pipe((0,h.U)(e=>{let i={};return e.forEach((e,n)=>{i[t[n]]=e}),i}))}return n}if(e&&(n=this.parser.interpolate(this.parser.getValue(e,t),i)),void 0===n&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(n=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),i)),void 0===n){let e={key:t,translateService:this};void 0!==i&&(e.interpolateParams=i),n=this.missingTranslationHandler.handle(e)}return void 0!==n?n:t}get(e,t){if(!b(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,d.b)(i=>(i=this.getParsedResult(i,e,t),(0,r.b)(i)?i:(0,s.of)(i))));{let i=this.getParsedResult(this.translations[this.currentLang],e,t);return(0,r.b)(i)?i:(0,s.of)(i)}}getStreamOnTranslationChange(e,t){if(!b(e)||!e.length)throw new Error('Parameter "key" required');return(0,a.z)((0,c.P)(()=>this.get(e,t)),this.onTranslationChange.pipe((0,p.w)(i=>{const n=this.getParsedResult(i.translations,e,t);return"function"==typeof n.subscribe?n:(0,s.of)(n)})))}stream(e,t){if(!b(e)||!e.length)throw new Error('Parameter "key" required');return(0,a.z)((0,c.P)(()=>this.get(e,t)),this.onLangChange.pipe((0,p.w)(i=>{const n=this.getParsedResult(i.translations,e,t);return(0,r.b)(n)?n:(0,s.of)(n)})))}instant(e,t){if(!b(e)||!e.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],e,t);if((0,r.b)(i)){if(e instanceof Array){let t={};return e.forEach((i,n)=>{t[e[n]]=e[n]}),t}return e}return i}set(e,t,i=this.currentLang){this.translations[i][e]=this.compiler.compile(t,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(k),n.LFG(f),n.LFG(E),n.LFG(C),n.LFG(g),n.LFG(A),n.LFG(x),n.LFG(O),n.LFG(I))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),P=(()=>{class e{constructor(e,t){this.translate=e,this._ref=t,this.value=""}updateValue(e,t,i){let n=t=>{this.value=void 0!==t?t:e,this.lastKey=e,this._ref.markForCheck()};if(i){let s=this.translate.getParsedResult(i,e,t);(0,r.b)(s.subscribe)?s.subscribe(n):n(s)}this.translate.get(e,t).subscribe(n)}transform(e,...t){if(!e||!e.length)return e;if(v(e,this.lastKey)&&v(t,this.lastParams))return this.value;let i;if(b(t[0])&&t.length)if("string"==typeof t[0]&&t[0].length){let e=t[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(e)}catch(n){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else"object"==typeof t[0]&&!Array.isArray(t[0])&&(i=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(t=>{this.lastKey&&t.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,i,t.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(t=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,t.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(R,16),n.Y36(n.sBO,16))},e.\u0275pipe=n.Yjl({name:"translate",type:e,pure:!1}),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),D=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[t.loader||{provide:f,useClass:m},t.compiler||{provide:E,useClass:T},t.parser||{provide:C,useClass:w},t.missingTranslationHandler||{provide:g,useClass:_},k,{provide:x,useValue:t.isolate},{provide:A,useValue:t.useDefaultLang},{provide:O,useValue:t.extend},{provide:I,useValue:t.defaultLanguage},R]}}static forChild(t={}){return{ngModule:e,providers:[t.loader||{provide:f,useClass:m},t.compiler||{provide:E,useClass:T},t.parser||{provide:C,useClass:w},t.missingTranslationHandler||{provide:g,useClass:_},{provide:x,useValue:t.isolate},{provide:A,useValue:t.useDefaultLang},{provide:O,useValue:t.extend},{provide:I,useValue:t.defaultLanguage},R]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e})()},70850:function(e,t,i){"use strict";i.d(t,{_J:function(){return y},bk:function(){return b}});var n=i(37716),s=i(38583),r=i(25917),o=i(40205),a=i(88002),c=i(68307),l=i(5304),u=i(68939),h=i(78345),d=i(91841);const p=["*"];class f{}let m=(()=>{class e extends f{constructor(e){super(),this.http=e}getSvg(e){return this.http.get(e,{responseType:"text"})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(d.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const g=new n.OlP("SERVER_URL");let _=(()=>{class e{constructor(e,t,i,n){this.loader=e,this.platformId=t,this.serverUrl=i,this._document=n,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(e,t){if(!this.iconsByUrl.has(e)){const i=this.document.createElement("DIV");i.innerHTML=t;const n=i.querySelector("svg");this.iconsByUrl.set(e,n)}}loadSvg(e,t=e){if(this.serverUrl&&null===e.match(/^(http(s)?):/)&&(t=e=this.serverUrl+e),this.iconsByUrl.has(t))return(0,r.of)(this.iconsByUrl.get(t));if(this.iconsLoadingByUrl.has(t))return this.iconsLoadingByUrl.get(t);const i=this.loader.getSvg(e).pipe((0,a.U)(e=>{const t=this.document.createElement("DIV");return t.innerHTML=e,t.querySelector("svg")}),(0,c.b)(e=>this.iconsByUrl.set(t,e)),(0,l.K)(e=>(console.error(e),(0,o._)(e))),(0,u.x)(()=>this.iconsLoadingByUrl.delete(t)),(0,h.B)());return this.iconsLoadingByUrl.set(t,i),i}getSvgByName(e){return this.iconsByUrl.has(e)?(0,r.of)(this.iconsByUrl.get(e)):this.iconsLoadingByUrl.has(e)?this.iconsLoadingByUrl.get(e):(0,o._)(`No svg with name '${e}' has been loaded`)}unloadSvg(e){this.iconsByUrl.has(e)&&this.iconsByUrl.delete(e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(f),n.LFG(n.Lbi),n.LFG(g,8),n.LFG(s.K0,8))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const v={provide:_,deps:[[new n.FiY,new n.tp0,_],f,[n.Lbi],[new n.FiY,g],[new n.FiY,s.K0]],useFactory:function(e,t,i,n,s){return e||new _(t,i,n,s)}};let b=(()=>{class e{constructor(e,t,i,n,s){this.element=e,this.differs=t,this.renderer=i,this.iconReg=n,this.cdr=s,this.stretch=!1,this.applyCss=!1}set svgStyle(e){this._svgStyle=e,!this.differ&&e&&(this.differ=this.differs.find(e).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(e){(e.src||e.name)&&(this.svg&&this.destroy(),this.init()),e.stretch&&this.stylize()}ngDoCheck(){if(this.svg&&this.differ){const e=this.differ.diff(this._svgStyle);e&&this.applyChanges(e)}}init(){this.name?this.icnSub=this.iconReg.getSvgByName(this.name).subscribe(this.initSvg.bind(this)):this.src&&(this.icnSub=this.iconReg.loadSvg(this.src).subscribe(this.initSvg.bind(this)))}initSvg(e){this.setSvg(e),this.resetDiffer()}destroy(){this.svg=void 0,this.differ=void 0,this.icnSub&&this.icnSub.unsubscribe()}resetDiffer(){this._svgStyle&&!this.differ&&(this.differ=this.differs.find(this._svgStyle).create())}setSvg(e){if(e){this.svg=e;const t=e.cloneNode(!0),i=this.element.nativeElement;this.applyCss&&this.copyNgContentAttribute(i,t),i.innerHTML="",this.renderer.appendChild(i,t),this.stylize(),this.cdr.markForCheck()}}copyNgContentAttribute(e,t){const i=e.attributes,n=i.length;for(let s=0;s<n;s+=1){const e=i.item(s);if(e.name.startsWith("_ngcontent")){this.setNgContentAttribute(t,e.name);break}}}setNgContentAttribute(e,t){this.renderer.setAttribute(e,t,"");const i=e.childNodes.length;for(let n=0;n<i;n+=1){const i=e.childNodes[n];i instanceof Element&&this.setNgContentAttribute(i,t)}}stylize(){if(this.svg){const e=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(e,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(e,"preserveAspectRatio")}}applyChanges(e){e.forEachRemovedItem(e=>this.setStyle(e.key,null)),e.forEachAddedItem(e=>this.setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this.setStyle(e.key,e.currentValue))}setStyle(e,t){const[i,n]=e.split("."),s=this.element.nativeElement.firstChild;null!==(t=null!==t&&n?`${t}${n}`:t)?this.renderer.setStyle(s,i,t):this.renderer.removeStyle(s,i)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.aQg),n.Y36(n.Qsj),n.Y36(_),n.Y36(n.sBO))},e.\u0275cmp=n.Xpm({type:e,selectors:[["svg-icon"]],inputs:{stretch:"stretch",applyCss:"applyCss",svgStyle:"svgStyle",src:"src",name:"name"},features:[n.TTD],ngContentSelectors:p,decls:1,vars:0,template:function(e,t){1&e&&(n.F$t(),n.Hsn(0))},encapsulation:2}),e})(),y=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[t.loader||{provide:f,useClass:m},v]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[v,{provide:f,useClass:m}],imports:[[s.ez]]}),e})()},43187:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t},bytesToString:function(e){for(var t=[],i=0;i<e.length;i++)t.push(String.fromCharCode(e[i]));return t.join("")}}};e.exports=t},28278:function(e){var t,i;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.exports=i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=i.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],i=0,n=0;i<e.length;i++,n+=8)t[n>>>5]|=e[i]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],i=0;i<32*e.length;i+=8)t.push(e[i>>>5]>>>24-i%32&255);return t},bytesToHex:function(e){for(var t=[],i=0;i<e.length;i++)t.push((e[i]>>>4).toString(16)),t.push((15&e[i]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16));return t},bytesToBase64:function(e){for(var i=[],n=0;n<e.length;n+=3)for(var s=e[n]<<16|e[n+1]<<8|e[n+2],r=0;r<4;r++)i.push(8*n+6*r<=8*e.length?t.charAt(s>>>6*(3-r)&63):"=");return i.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],n=0,s=0;n<e.length;s=++n%4)0!=s&&i.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*s+8)-1)<<2*s|t.indexOf(e.charAt(n))>>>6-2*s);return i}}},51823:function(e,t){var i,n,s,r,o,a,c,l,u,h,d,p,f;e.exports=f=f||(i=Math,n=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),r=(s={}).lib={},o=r.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),(!t.hasOwnProperty("init")||this.init===t.init)&&(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,s=e.sigBytes;if(this.clamp(),n%4)for(var r=0;r<s;r++)t[n+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else for(r=0;r<s;r+=4)t[n+r>>>2]=i[r>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=i.ceil(t/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t,n=[],s=function(e){e=e;var t=987654321,n=4294967295;return function(){var s=((t=36969*(65535&t)+(t>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return s/=4294967296,(s+=.5)*(i.random()>.5?1:-1)}},r=0;r<e;r+=4){var o=s(4294967296*(t||i.random()));t=987654071*o(),n.push(4294967296*o()|0)}return new a.init(n,e)}}),c=s.enc={},l=c.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++){var r=t[s>>>2]>>>24-s%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(i,t/2)}},u=c.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++)n.push(String.fromCharCode(t[s>>>2]>>>24-s%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(i,t)}},h=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,s=t.sigBytes,r=this.blockSize,o=s/(4*r),c=(o=e?i.ceil(o):i.max((0|o)-this._minBufferSize,0))*r,l=i.min(4*c,s);if(c){for(var u=0;u<c;u+=r)this._doProcessBlock(n,u);var h=n.splice(0,c);t.sigBytes-=l}return new a.init(h,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),r.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new p.HMAC.init(e,i).finalize(t)}}}),p=s.algo={},s)},29237:function(e,t,i){var n;e.exports=(n=i(51823),function(e){var t=n,i=t.lib,s=i.WordArray,r=i.Hasher,o=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=o.MD5=r.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,s=e[n];e[n]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var r=this._hash.words,o=e[t+0],c=e[t+1],p=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],_=e[t+6],v=e[t+7],b=e[t+8],y=e[t+9],S=e[t+10],C=e[t+11],w=e[t+12],E=e[t+13],T=e[t+14],k=e[t+15],x=r[0],A=r[1],I=r[2],O=r[3];x=l(x,A,I,O,o,7,a[0]),O=l(O,x,A,I,c,12,a[1]),I=l(I,O,x,A,p,17,a[2]),A=l(A,I,O,x,f,22,a[3]),x=l(x,A,I,O,m,7,a[4]),O=l(O,x,A,I,g,12,a[5]),I=l(I,O,x,A,_,17,a[6]),A=l(A,I,O,x,v,22,a[7]),x=l(x,A,I,O,b,7,a[8]),O=l(O,x,A,I,y,12,a[9]),I=l(I,O,x,A,S,17,a[10]),A=l(A,I,O,x,C,22,a[11]),x=l(x,A,I,O,w,7,a[12]),O=l(O,x,A,I,E,12,a[13]),I=l(I,O,x,A,T,17,a[14]),x=u(x,A=l(A,I,O,x,k,22,a[15]),I,O,c,5,a[16]),O=u(O,x,A,I,_,9,a[17]),I=u(I,O,x,A,C,14,a[18]),A=u(A,I,O,x,o,20,a[19]),x=u(x,A,I,O,g,5,a[20]),O=u(O,x,A,I,S,9,a[21]),I=u(I,O,x,A,k,14,a[22]),A=u(A,I,O,x,m,20,a[23]),x=u(x,A,I,O,y,5,a[24]),O=u(O,x,A,I,T,9,a[25]),I=u(I,O,x,A,f,14,a[26]),A=u(A,I,O,x,b,20,a[27]),x=u(x,A,I,O,E,5,a[28]),O=u(O,x,A,I,p,9,a[29]),I=u(I,O,x,A,v,14,a[30]),x=h(x,A=u(A,I,O,x,w,20,a[31]),I,O,g,4,a[32]),O=h(O,x,A,I,b,11,a[33]),I=h(I,O,x,A,C,16,a[34]),A=h(A,I,O,x,T,23,a[35]),x=h(x,A,I,O,c,4,a[36]),O=h(O,x,A,I,m,11,a[37]),I=h(I,O,x,A,v,16,a[38]),A=h(A,I,O,x,S,23,a[39]),x=h(x,A,I,O,E,4,a[40]),O=h(O,x,A,I,o,11,a[41]),I=h(I,O,x,A,f,16,a[42]),A=h(A,I,O,x,_,23,a[43]),x=h(x,A,I,O,y,4,a[44]),O=h(O,x,A,I,w,11,a[45]),I=h(I,O,x,A,k,16,a[46]),x=d(x,A=h(A,I,O,x,p,23,a[47]),I,O,o,6,a[48]),O=d(O,x,A,I,v,10,a[49]),I=d(I,O,x,A,T,15,a[50]),A=d(A,I,O,x,g,21,a[51]),x=d(x,A,I,O,w,6,a[52]),O=d(O,x,A,I,f,10,a[53]),I=d(I,O,x,A,S,15,a[54]),A=d(A,I,O,x,c,21,a[55]),x=d(x,A,I,O,b,6,a[56]),O=d(O,x,A,I,k,10,a[57]),I=d(I,O,x,A,_,15,a[58]),A=d(A,I,O,x,E,21,a[59]),x=d(x,A,I,O,m,6,a[60]),O=d(O,x,A,I,C,10,a[61]),I=d(I,O,x,A,p,15,a[62]),A=d(A,I,O,x,y,21,a[63]),r[0]=r[0]+x|0,r[1]=r[1]+A|0,r[2]=r[2]+I|0,r[3]=r[3]+O|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,s=8*t.sigBytes;i[s>>>5]|=128<<24-s%32;var r=e.floor(n/4294967296),o=n;i[15+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i[14+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(i.length+1),this._process();for(var a=this._hash,c=a.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,i,n,s,r,o){var a=e+(t&i|~t&n)+s+o;return(a<<r|a>>>32-r)+t}function u(e,t,i,n,s,r,o){var a=e+(t&n|i&~n)+s+o;return(a<<r|a>>>32-r)+t}function h(e,t,i,n,s,r,o){var a=e+(t^i^n)+s+o;return(a<<r|a>>>32-r)+t}function d(e,t,i,n,s,r,o){var a=e+(i^(t|~n))+s+o;return(a<<r|a>>>32-r)+t}t.MD5=r._createHelper(c),t.HmacMD5=r._createHmacHelper(c)}(Math),n.MD5)},93105:function(e){"use strict";var t,i="object"==typeof Reflect?Reflect:null,n=i&&"function"==typeof i.apply?i.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};t=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}e.exports=r,e.exports.once=function(e,t){return new Promise(function(i,n){function s(i){e.removeListener(t,r),n(i)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",s),i([].slice.call(arguments))}m(e,t,r,{once:!0}),"error"!==t&&function(e,t,i){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,s)})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function l(e,t,i,n){var s,r,o;if(a(i),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),r=e._events),o=r[t]),void 0===o)o=r[t]=i,++e._eventsCount;else if("function"==typeof o?o=r[t]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),(s=c(e))>0&&o.length>s&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,function(e){console&&console.warn&&console.warn(e)}(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},s=u.bind(n);return s.listener=i,n.wrapFn=s,s}function d(e,t,i){var n=e._events;if(void 0===n)return[];var s=n[t];return void 0===s?[]:"function"==typeof s?i?[s.listener||s]:[s]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(s):f(s,s.length)}function p(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function f(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}function m(e,t,i,n){if("function"==typeof e.on)n.once?e.once(t,i):e.on(t,i);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function s(r){n.once&&e.removeEventListener(t,s),i(r)})}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),r.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return c(this)},r.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var s="error"===e,r=this._events;if(void 0!==r)s=s&&void 0===r.error;else if(!s)return!1;if(s){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var l=c.length,u=f(c,l);for(i=0;i<l;++i)n(u[i],this,t)}return!0},r.prototype.on=r.prototype.addListener=function(e,t){return l(this,e,t,!1)},r.prototype.prependListener=function(e,t){return l(this,e,t,!0)},r.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},r.prototype.off=r.prototype.removeListener=function(e,t){var i,n,s,r,o;if(a(t),void 0===(n=this._events))return this;if(void 0===(i=n[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(s=-1,r=i.length-1;r>=0;r--)if(i[r]===t||i[r].listener===t){o=i[r].listener,s=r;break}if(s<0)return this;0===s?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,s),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},r.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var s,r=Object.keys(i);for(n=0;n<r.length;++n)"removeListener"!==(s=r[n])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},r.prototype.listeners=function(e){return d(this,e,!0)},r.prototype.rawListeners=function(e){return d(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},r.prototype.listenerCount=p,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},8646:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},48248:function(e,t,i){"use strict";function n(e){this.message=e}(n.prototype=new Error).name="InvalidCharacterError";var s="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,s,r=0,o=0,a="";s=t.charAt(o++);~s&&(i=r%4?64*i+s:s,r++%4)?a+=String.fromCharCode(255&i>>(-2*r&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return a};function r(e){this.message=e}(r.prototype=new Error).name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");var i=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(s(t).replace(/(.)/g,function(e,t){var i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}catch(i){return s(t)}}(e.split(".")[i]))}catch(n){throw new r("Invalid token specified: "+n.message)}}},28559:function(e,t,i){var n,s,r,o,a;n=i(28278),s=i(43187).utf8,r=i(8646),o=i(43187).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):s.stringToBytes(e):r(e)?e=Array.prototype.slice.call(e,0):!Array.isArray(e)&&e.constructor!==Uint8Array&&(e=e.toString());for(var i=n.bytesToWords(e),c=8*e.length,l=1732584193,u=-271733879,h=-1732584194,d=271733878,p=0;p<i.length;p++)i[p]=16711935&(i[p]<<8|i[p]>>>24)|4278255360&(i[p]<<24|i[p]>>>8);i[c>>>5]|=128<<c%32,i[14+(c+64>>>9<<4)]=c;var f=a._ff,m=a._gg,g=a._hh,_=a._ii;for(p=0;p<i.length;p+=16){var v=l,b=u,y=h,S=d;l=f(l,u,h,d,i[p+0],7,-680876936),d=f(d,l,u,h,i[p+1],12,-389564586),h=f(h,d,l,u,i[p+2],17,606105819),u=f(u,h,d,l,i[p+3],22,-1044525330),l=f(l,u,h,d,i[p+4],7,-176418897),d=f(d,l,u,h,i[p+5],12,1200080426),h=f(h,d,l,u,i[p+6],17,-1473231341),u=f(u,h,d,l,i[p+7],22,-45705983),l=f(l,u,h,d,i[p+8],7,1770035416),d=f(d,l,u,h,i[p+9],12,-1958414417),h=f(h,d,l,u,i[p+10],17,-42063),u=f(u,h,d,l,i[p+11],22,-1990404162),l=f(l,u,h,d,i[p+12],7,1804603682),d=f(d,l,u,h,i[p+13],12,-40341101),h=f(h,d,l,u,i[p+14],17,-1502002290),l=m(l,u=f(u,h,d,l,i[p+15],22,1236535329),h,d,i[p+1],5,-165796510),d=m(d,l,u,h,i[p+6],9,-1069501632),h=m(h,d,l,u,i[p+11],14,643717713),u=m(u,h,d,l,i[p+0],20,-373897302),l=m(l,u,h,d,i[p+5],5,-701558691),d=m(d,l,u,h,i[p+10],9,38016083),h=m(h,d,l,u,i[p+15],14,-660478335),u=m(u,h,d,l,i[p+4],20,-405537848),l=m(l,u,h,d,i[p+9],5,568446438),d=m(d,l,u,h,i[p+14],9,-1019803690),h=m(h,d,l,u,i[p+3],14,-187363961),u=m(u,h,d,l,i[p+8],20,1163531501),l=m(l,u,h,d,i[p+13],5,-1444681467),d=m(d,l,u,h,i[p+2],9,-51403784),h=m(h,d,l,u,i[p+7],14,1735328473),l=g(l,u=m(u,h,d,l,i[p+12],20,-1926607734),h,d,i[p+5],4,-378558),d=g(d,l,u,h,i[p+8],11,-2022574463),h=g(h,d,l,u,i[p+11],16,1839030562),u=g(u,h,d,l,i[p+14],23,-35309556),l=g(l,u,h,d,i[p+1],4,-1530992060),d=g(d,l,u,h,i[p+4],11,1272893353),h=g(h,d,l,u,i[p+7],16,-155497632),u=g(u,h,d,l,i[p+10],23,-1094730640),l=g(l,u,h,d,i[p+13],4,681279174),d=g(d,l,u,h,i[p+0],11,-358537222),h=g(h,d,l,u,i[p+3],16,-722521979),u=g(u,h,d,l,i[p+6],23,76029189),l=g(l,u,h,d,i[p+9],4,-640364487),d=g(d,l,u,h,i[p+12],11,-421815835),h=g(h,d,l,u,i[p+15],16,530742520),l=_(l,u=g(u,h,d,l,i[p+2],23,-995338651),h,d,i[p+0],6,-198630844),d=_(d,l,u,h,i[p+7],10,1126891415),h=_(h,d,l,u,i[p+14],15,-1416354905),u=_(u,h,d,l,i[p+5],21,-57434055),l=_(l,u,h,d,i[p+12],6,1700485571),d=_(d,l,u,h,i[p+3],10,-1894986606),h=_(h,d,l,u,i[p+10],15,-1051523),u=_(u,h,d,l,i[p+1],21,-2054922799),l=_(l,u,h,d,i[p+8],6,1873313359),d=_(d,l,u,h,i[p+15],10,-30611744),h=_(h,d,l,u,i[p+6],15,-1560198380),u=_(u,h,d,l,i[p+13],21,1309151649),l=_(l,u,h,d,i[p+4],6,-145523070),d=_(d,l,u,h,i[p+11],10,-1120210379),h=_(h,d,l,u,i[p+2],15,718787259),u=_(u,h,d,l,i[p+9],21,-343485551),l=l+v>>>0,u=u+b>>>0,h=h+y>>>0,d=d+S>>>0}return n.endian([l,u,h,d])})._ff=function(e,t,i,n,s,r,o){var a=e+(t&i|~t&n)+(s>>>0)+o;return(a<<r|a>>>32-r)+t},a._gg=function(e,t,i,n,s,r,o){var a=e+(t&n|i&~n)+(s>>>0)+o;return(a<<r|a>>>32-r)+t},a._hh=function(e,t,i,n,s,r,o){var a=e+(t^i^n)+(s>>>0)+o;return(a<<r|a>>>32-r)+t},a._ii=function(e,t,i,n,s,r,o){var a=e+(i^(t|~n))+(s>>>0)+o;return(a<<r|a>>>32-r)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var i=n.wordsToBytes(a(e,t));return t&&t.asBytes?i:t&&t.asString?o.bytesToString(i):n.bytesToHex(i)}},12278:function(e,t){"use strict";var i=function(){function e(){}return e.prototype.check=function(e){return"undefined"!=typeof document&&(e=encodeURIComponent(e),new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g").test(document.cookie))},e.prototype.get=function(e){if(this.check(e)){e=encodeURIComponent(e);var t=new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(t[1])}return""},e.prototype.getAll=function(){var e={};if(document.cookie&&""!=document.cookie)for(var t=0,i=document.cookie.split(";");t<i.length;t++){var n=i[t].split("=");n[0]=n[0].replace(/^ /,""),e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e},e.prototype.set=function(e,t,i,n,s,r){var o=encodeURIComponent(e)+"="+encodeURIComponent(t)+";";i&&(o+="number"==typeof i?"expires="+new Date((new Date).getTime()+1e3*i*60*60*24).toUTCString()+";":"expires="+i.toUTCString()+";"),n&&(o+="path="+n+";"),s&&(o+="domain="+s+";"),r&&(o+="secure;"),document.cookie=o},e.prototype.delete=function(e,t,i){this.set(e,"",-1,t,i)},e.prototype.deleteAll=function(e,t){for(var i=this.getAll(),n=0,s=Object.keys(i);n<s.length;n++)this.delete(s[n],e,t)},e}();t.CookieService=i,t.Cookie=new i},10857:function(e,t,i){"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}n(i(12278)),n(i(35965))},35965:function(e,t){"use strict";var i=function(){function e(){}return e.prototype.check=function(e){return"undefined"!=typeof document&&new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g").test(document.cookie)},e.prototype.get=function(e){return this.check(e)?new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g").exec(document.cookie)[1]:""},e.prototype.getAll=function(){var e={};if(document.cookie&&""!=document.cookie)for(var t=0,i=document.cookie.split(";");t<i.length;t++){var n=i[t].split("=");n[0]=n[0].replace(/^ /,""),e[n[0]]=n[1]}return e},e.prototype.set=function(e,t,i,n,s,r){var o=e+"="+t+";";i&&(o+="number"==typeof i?"expires="+new Date((new Date).getTime()+1e3*i*60*60*24).toUTCString()+";":"expires="+i.toUTCString()+";"),n&&(o+="path="+n+";"),s&&(o+="domain="+s+";"),r&&(o+="secure;"),document.cookie=o},e.prototype.delete=function(e,t,i){this.set(e,"",-1,t,i)},e.prototype.deleteAll=function(e,t){for(var i=this.getAll(),n=0,s=Object.keys(i);n<s.length;n++)this.delete(s[n],e,t)},e}();t.UnmanagedCookieService=i,t.UnmanagedCookie=new i},39210:function(e,t,i){"use strict";i.d(t,{R:function(){return k},X:function(){return x}});var n=i(37716),s=i(25917),r=i(22759),o=i(19773),a=i(88002),c=i(68307),l=i(45435),u=i(93137);function h(e,t,i,n){const s=window&&!!window.document&&window.document.documentElement;let r=s&&t?window:i;if(e&&(r=e&&s&&"string"==typeof e?function(e,t,i){return(i?window.document:t).querySelector(e)}(e,i.nativeElement,n):e,!r))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return r}function d(e){return e&&!e.firstChange}const p={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},f={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class m{constructor(e=!0){this.vertical=e,this.propsMap=e?p:f}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function g(e){return["Window","global"].some(t=>Object.prototype.toString.call(e).includes(t))}function _(e,t){return e?t.document.documentElement:null}function v(e,t){const i=function({container:e,isWindow:t,axis:i}){const{offsetHeightKey:n,clientHeightKey:s}=b(i);return y(e,t,n,s)}(t);return t.isWindow?function(e,t,i){const{axis:n,container:s,isWindow:r}=i,{offsetHeightKey:o,clientHeightKey:a}=b(n),c=e+S(_(r,s),n,r),l=y(t.nativeElement,r,o,a),u=function(e,t,i){const n=t.topKey();if(e.getBoundingClientRect)return e.getBoundingClientRect()[n]+S(e,t,i)}(t.nativeElement,n,r)+l;return{height:e,scrolled:c,totalToScroll:u,isWindow:r}}(i,e,t):function(e,t,i){const{axis:n,container:s}=i;return{height:e,scrolled:s[n.scrollTopKey()],totalToScroll:s[n.scrollHeightKey()],isWindow:!1}}(i,0,t)}function b(e){return{offsetHeightKey:e.offsetHeightKey(),clientHeightKey:e.clientHeightKey()}}function y(e,t,i,n){if(isNaN(e[i])){const i=_(t,e);return i?i[n]:0}return e[i]}function S(e,t,i){const n=t.pageYOffsetKey(),s=t.scrollTopKey(),r=t.offsetTopKey();return isNaN(window.pageYOffset)?_(i,e)[s]:e.ownerDocument?e.ownerDocument.defaultView[n]:e[r]}function C(e,t,i){let n,s;if(e.totalToScroll<=0)return!1;const r=e.isWindow?e.scrolled:e.height+e.scrolled;return i?(n=(e.totalToScroll-r)/e.totalToScroll,s=t.down/10):(n=e.scrolled/(e.scrolled+(e.totalToScroll-r)),s=t.up/10),n<=s}class w{constructor({totalToScroll:e}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=e}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,t){this.updateScrollPosition(e),this.updateTotalToScroll(t)}updateTriggeredFlag(e,t){t?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,t){return t?this.triggered.down===e:this.triggered.up===e}}function E(e){const{scrollContainer:t,scrollWindow:i,element:n,fromRoot:d}=e,p=function({windowElement:e,axis:t}){return function(e,t){const i=e.isWindow||t&&!t.nativeElement?t:t.nativeElement;return Object.assign(Object.assign({},e),{container:i})}({axis:t,isWindow:g(e)},e)}({axis:new m(!e.horizontal),windowElement:h(t,i,n,d)}),f=new w({totalToScroll:v(n,p)}),_={up:e.upDistance,down:e.downDistance};return function(e){let t=(0,r.R)(e.container,"scroll");return e.throttle&&(t=t.pipe((0,u.p)(e.throttle))),t}({container:p.container,throttle:e.throttle}).pipe((0,o.zg)(()=>(0,s.of)(v(n,p))),(0,a.U)(e=>function(e,t,i){const{scrollDown:n,fire:s}=function(e,t,i){const n=function(e,t){return e<t.scrolled}(e,t);return{fire:C(t,i,n),scrollDown:n}}(e,t,i);return{scrollDown:n,fire:s,stats:t}}(f.lastScrollPosition,e,_)),(0,c.b)(({stats:e})=>f.updateScroll(e.scrolled,e.totalToScroll)),(0,l.h)(({fire:t,scrollDown:i,stats:{totalToScroll:n}})=>function(e,t,i){return!!(e&&t||!i&&t)}(e.alwaysCallback,t,f.isTriggeredScroll(n,i))),(0,c.b)(({scrollDown:e,stats:{totalToScroll:t}})=>{f.updateTriggeredFlag(t,e)}),(0,a.U)(T))}function T(e){const{scrollDown:t,stats:{scrolled:i}}=e;return{type:t?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:i}}}let k=(()=>{class e{constructor(e,t){this.element=e,this.zone=t,this.scrolled=new n.vpe,this.scrolledUp=new n.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:e,infiniteScrollDisabled:t,infiniteScrollDistance:i}){const n=d(e),s=d(t),r=d(i),o=!s&&!this.infiniteScrollDisabled||s&&!t.currentValue||r;(n||s||r)&&(this.destroyScroller(),o&&this.setup())}setup(){"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.disposeScroller=E({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(e=>this.zone.run(()=>this.handleOnScroll(e)))})}handleOnScroll({type:e,payload:t}){switch(e){case"[NGX_ISE] DOWN":return this.scrolled.emit(t);case"[NGX_ISE] UP":return this.scrolledUp.emit(t);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.R0b))},e.\u0275dir=n.lG2({type:e,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[n.TTD]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[],imports:[[]]}),e})()},57158:function(e,t,i){"use strict";i.d(t,{f9:function(){return I},Kf:function(){return x},_z:function(){return b}});var n=i(38583),s=i(37716),r=i(91841),o=i(77393);class a{constructor(e,t){this.count=e,this.source=t}call(e,t){return t.subscribe(new c(e,this.count,this.source))}}class c extends o.L{constructor(e,t,i){super(e),this.count=t,this.source=i}error(e){if(!this.isStopped){const{source:t,count:i}=this;if(0===i)return super.error(e);i>-1&&(this.count=i-1),t.subscribe(this._unsubscribeAndRecycle())}}}var l=i(45435),u=i(88002),h=i(47349),d=i(5304),p=i(43190),f={},m={};function g(e){for(var t=[],i=0,n=0,s=0;s<e.length;s+=1){var r=f[e[s]];if(void 0===r)throw new Error("Invalid character ("+e[s]+")");var o=32&r;if(n+=(r&=31)<<i,o)i+=5;else{var a=1&n;n>>>=1,t.push(a?0===n?-2147483648:-n:n),n=i=0}}return t}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(e,t){f[e]=t,m[t]=e});var _=i(25917);let v=(()=>{class e{constructor(e){this.httpBackend=e}logOnServer(e,t,i){const n=new r.aW("POST",e,t,i||{});return this.httpBackend.handle(n).pipe((0,l.h)(e=>e instanceof r.Zn),(0,u.U)(e=>e.body))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.jN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const b={TRACE:0,DEBUG:1,INFO:2,LOG:3,WARN:4,ERROR:5,FATAL:6,OFF:7};b[b.TRACE]="TRACE",b[b.DEBUG]="DEBUG",b[b.INFO]="INFO",b[b.LOG]="LOG",b[b.WARN]="WARN",b[b.ERROR]="ERROR",b[b.FATAL]="FATAL",b[b.OFF]="OFF";class y{}class S{constructor(e){this.config=e,this._config=e}get level(){return this._config.level}get serverLogLevel(){return this._config.serverLogLevel}updateConfig(e){this._config=this._clone(e)}getConfig(){return this._clone(this._config)}_clone(e){const t=new y;return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}}const C=["purple","teal","gray","gray","red","red","red"];class w{static prepareMetaString(e,t,i,n){return`${e} ${t}${i?` [${i}:${n}]`:""}`}static getColor(e,t){switch(e){case b.TRACE:return this.getColorFromConfig(b.TRACE,t);case b.DEBUG:return this.getColorFromConfig(b.DEBUG,t);case b.INFO:case b.LOG:return this.getColorFromConfig(b.INFO,t);case b.WARN:case b.ERROR:case b.FATAL:return this.getColorFromConfig(b.FATAL,t);case b.OFF:default:return}}static getColorFromConfig(e,t){return t?t[e]:C[e]}static prepareMessage(e){try{"string"!=typeof e&&!(e instanceof Error)&&(e=JSON.stringify(e,null,2))}catch(t){e='The provided "message" value could not be parsed with JSON.stringify().'}return e}static prepareAdditionalParameters(e){return null==e?null:e.map((e,t)=>{try{return"object"==typeof e&&JSON.stringify(e),e}catch(i){return`The additional[${t}] value could not be parsed using JSON.stringify().`}})}}class E{constructor(e,t,i){this.fileName=e,this.lineNumber=t,this.columnNumber=i}toString(){return this.fileName+":"+this.lineNumber+":"+this.columnNumber}}let T=(()=>{class e{constructor(e){this.httpBackend=e,this.sourceMapCache=new Map,this.logPositionCache=new Map}static getStackLine(e){const t=new Error;try{throw t}catch(i){try{let i=4;return t.stack.split("\n")[0].includes(".js:")||(i+=1),t.stack.split("\n")[i+(e||0)]}catch(n){return null}}}static getPosition(e){const t=e.lastIndexOf("/");let i=e.indexOf(")");i<0&&(i=void 0);const n=e.substring(t+1,i).split(":");return 3===n.length?new E(n[0],+n[1],+n[2]):new E("unknown",0,0)}static getTranspileLocation(e){let t=e.indexOf("(");t<0&&(t=e.lastIndexOf("@"),t<0&&(t=e.lastIndexOf(" ")));let i=e.indexOf(")");return i<0&&(i=void 0),e.substring(t+1,i)}static getMapFilePath(t){const i=e.getTranspileLocation(t),n=i.substring(0,i.lastIndexOf(":"));return n.substring(0,n.lastIndexOf(":"))+".map"}static getMapping(e,t){let i=0,n=0,s=0;const r=e.mappings.split(";");for(let o=0;o<r.length;o++){let a=0;const c=r[o].split(",");for(let r=0;r<c.length;r++){const l=g(c[r]);if(l.length>=4&&(a+=l[0],i+=l[1],n+=l[2],s+=l[3]),o===t.lineNumber){if(a===t.columnNumber)return new E(e.sources[i],n,s);if(r+1===c.length)return new E(e.sources[i],n,0)}}}return new E("unknown",0,0)}_getSourceMap(t,i){const n=new r.aW("GET",t),s=i.toString();if(this.logPositionCache.has(s))return this.logPositionCache.get(s);this.sourceMapCache.has(t)||this.sourceMapCache.set(t,this.httpBackend.handle(n).pipe((0,l.h)(e=>e instanceof r.Zn),(0,u.U)(e=>e.body),function(e=-1){return t=>t.lift(new a(e,t))}(3),(0,h.d)(1)));const o=this.sourceMapCache.get(t).pipe((0,u.U)(t=>e.getMapping(t,i)),(0,d.K)(()=>(0,_.of)(i)),(0,h.d)(1));return this.logPositionCache.set(s,o),o}getCallerDetails(t,i){const n=e.getStackLine(i);return n?(0,_.of)([e.getPosition(n),e.getMapFilePath(n)]).pipe((0,p.w)(([e,i])=>t?this._getSourceMap(i,e):(0,_.of)(e))):(0,_.of)(new E("",0,0))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.jN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const k=["TRACE","DEBUG","INFO","LOG","WARN","ERROR","FATAL","OFF"];let x=(()=>{class e{constructor(e,t,i,s,r){this.mapperService=e,this.httpService=t,this.platformId=s,this.datePipe=r,this._withCredentials=!1,this._isIE=(0,n.NF)(s)&&navigator&&navigator.userAgent&&!(-1===navigator.userAgent.indexOf("MSIE")&&!navigator.userAgent.match(/Trident\//)&&!navigator.userAgent.match(/Edge\//)),this.config=new S(i),this._logFunc=this._isIE?this._logIE.bind(this):this._logModern.bind(this)}get level(){return this.config.level}get serverLogLevel(){return this.config.serverLogLevel}trace(e,...t){this._log(b.TRACE,e,t)}debug(e,...t){this._log(b.DEBUG,e,t)}info(e,...t){this._log(b.INFO,e,t)}log(e,...t){this._log(b.LOG,e,t)}warn(e,...t){this._log(b.WARN,e,t)}error(e,...t){this._log(b.ERROR,e,t)}fatal(e,...t){this._log(b.FATAL,e,t)}setCustomHttpHeaders(e){this._customHttpHeaders=e}setCustomParams(e){this._customParams=e}setWithCredentialsOptionValue(e){this._withCredentials=e}registerMonitor(e){this._loggerMonitor=e}updateConfig(e){this.config.updateConfig(e)}getConfigSnapshot(){return this.config.getConfig()}_logIE(e,t,i,n){switch(n=n||[],e){case b.WARN:console.warn(`${t} `,i,...n);break;case b.ERROR:case b.FATAL:console.error(`${t} `,i,...n);break;case b.INFO:console.info(`${t} `,i,...n);break;default:console.log(`${t} `,i,...n)}}_logModern(e,t,i,n){const s=this.getConfigSnapshot().colorScheme,r=w.getColor(e,s);switch(n=n||[],e){case b.WARN:console.warn(`%c${t}`,`color:${r}`,i,...n);break;case b.ERROR:case b.FATAL:console.error(`%c${t}`,`color:${r}`,i,...n);break;case b.INFO:console.info(`%c${t}`,`color:${r}`,i,...n);break;case b.DEBUG:console.debug(`%c${t}`,`color:${r}`,i,...n);break;default:console.log(`%c${t}`,`color:${r}`,i,...n)}}_log(e,t,i=[],n=!0){const s=this.config.getConfig(),o=n&&s.serverLoggingUrl&&e>=s.serverLogLevel,a=e>=s.level;if(!t||!o&&!a)return;const c=k[e];t="function"==typeof t?t():t;const l=w.prepareAdditionalParameters(i),u=s.timestampFormat?this.datePipe.transform(new Date,s.timestampFormat):(new Date).toISOString();this.mapperService.getCallerDetails(s.enableSourceMaps,s.proxiedSteps).subscribe(n=>{const h={message:w.prepareMessage(t),additional:l,level:e,timestamp:u,fileName:n.fileName,lineNumber:n.lineNumber.toString()};if(this._loggerMonitor&&a&&this._loggerMonitor.onLog(h),o){h.message=t instanceof Error?t.stack:t,h.message=w.prepareMessage(h.message);const e=this._customHttpHeaders||new r.WM;e.set("Content-Type","application/json");const i={headers:e,params:this._customParams||new r.LE,responseType:s.httpResponseType||"json",withCredentials:this._withCredentials};this.httpService.logOnServer(s.serverLoggingUrl,h,i).subscribe(e=>{},e=>{this._log(b.ERROR,`FAILED TO LOG ON SERVER: ${t}`,[e],!1)})}if(a&&!s.disableConsoleLogging){const r=w.prepareMetaString(u,c,s.disableFileDetails?null:n.fileName,n.lineNumber.toString());return this._logFunc(e,r,t,i)}})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(T),s.LFG(v),s.LFG(y),s.LFG(s.Lbi),s.LFG(n.uU))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),A=(()=>{class e{constructor(e,t,i,n){this.mapperService=e,this.httpService=t,this.platformId=i,this.datePipe=n}create(e,t,i,n){const s=new x(n||this.mapperService,t||this.httpService,e,this.platformId,this.datePipe);return i&&s.registerMonitor(i),s}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(T),s.LFG(v),s.LFG(s.Lbi),s.LFG(n.uU))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),I=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:y,useValue:t||{}},x,v,A,T]}}static forChild(){return{ngModule:e,providers:[x,v,A,T]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[x,v,A,T,n.uU],imports:[[n.ez]]}),e})()},58163:function(e){(function(){var t,i,n,s,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-r)/1e6},i=process.hrtime,s=(t=function(){var e;return 1e9*(e=i())[0]+e[1]})(),o=1e9*process.uptime(),r=s-o):Date.now?(e.exports=function(){return Date.now()-n},n=Date.now()):(e.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(this)},97352:function(e,t,i){for(var n=i(58163),s="undefined"==typeof window?global:window,r=["moz","webkit"],o="AnimationFrame",a=s["request"+o],c=s["cancel"+o]||s["cancelRequest"+o],l=0;!a&&l<r.length;l++)a=s[r[l]+"Request"+o],c=s[r[l]+"Cancel"+o]||s[r[l]+"CancelRequest"+o];if(!a||!c){var u=0,h=0,d=[];a=function(e){if(0===d.length){var t=n(),i=Math.max(0,16.666666666666668-(t-u));u=i+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(i){setTimeout(function(){throw i},0)}},Math.round(i))}return d.push({handle:++h,callback:e,cancelled:!1}),h},c=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return a.call(s,e)},e.exports.cancel=function(){c.apply(s,arguments)},e.exports.polyfill=function(e){e||(e=s),e.requestAnimationFrame=a,e.cancelAnimationFrame=c}},26215:function(e,t,i){"use strict";i.d(t,{X:function(){return r}});var n=i(79765),s=i(77971);class r extends n.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.N;return this._value}next(e){super.next(this._value=e)}}},80268:function(e,t,i){"use strict";i.d(t,{d:function(){return s}});var n=i(77393);class s extends n.L{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},23098:function(e,t,i){"use strict";i.d(t,{P:function(){return o}});var n=i(59193),s=i(25917),r=i(40205);class o{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return(0,r._)(this.error);case"C":return(0,n.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new o("N",e):o.undefinedValueNotification}static createError(e){return new o("E",void 0,e)}static createComplete(){return o.completeNotification}}o.completeNotification=new o("C"),o.undefinedValueNotification=new o("N",void 0)},18891:function(e,t,i){"use strict";i.d(t,{y:function(){return l}});var n=i(77393),s=i(29181),r=i(46490),o=i(16554),a=i(34022),c=i(82494);let l=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){const{operator:o}=this,a=function(e,t,i){if(e){if(e instanceof n.L)return e;if(e[s.b])return e[s.b]()}return e||t||i?new n.L(e,t,i):new n.L(r.c)}(e,t,i);if(a.add(o?o.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:i,isStopped:s}=e;if(t||s)return!1;e=i&&i instanceof n.L?i:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,i)=>{let n;n=this.subscribe(t=>{try{e(t)}catch(s){i(s),n&&n.unsubscribe()}},i,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0,a.U)(e)(this)}toPromise(e){return new(e=u(e))((e,t)=>{let i;this.subscribe(e=>i=e,e=>t(e),()=>e(i))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},46490:function(e,t,i){"use strict";i.d(t,{c:function(){return r}});var n=i(82494),s=i(54449);const r={closed:!0,next(e){},error(e){if(n.v.useDeprecatedSynchronousErrorHandling)throw e;(0,s.z)(e)},complete(){}}},55197:function(e,t,i){"use strict";i.d(t,{L:function(){return s}});var n=i(77393);class s extends n.L{notifyNext(e,t,i,n,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},82298:function(e,t,i){"use strict";i.d(t,{t:function(){return f}});var n=i(79765),s=i(36465),r=i(16102);const o=new class extends r.v{}(class extends s.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}});var a=i(75319),c=i(77393),l=i(23098);class u extends c.L{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(l.P.createNext(e))}_error(e){this.scheduleMessage(l.P.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(l.P.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}var d=i(77971),p=i(78858);class f extends n.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new m(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,s=i.length;let r;if(this.closed)throw new d.N;if(this.isStopped||this.hasError?r=a.w.EMPTY:(this.observers.push(e),r=new p.W(this,e)),n&&e.add(e=new u(e,n)),t)for(let o=0;o<s&&!e.closed;o++)e.next(i[o]);else for(let o=0;o<s&&!e.closed;o++)e.next(i[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),r}_getNow(){return(this.scheduler||o).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,n=this._events,s=n.length;let r=0;for(;r<s&&!(e-n[r].time<i);)r++;return s>t&&(r=Math.max(r,s-t)),r>0&&n.splice(0,r),n}}class m{constructor(e,t){this.time=e,this.value=t}}},79765:function(e,t,i){"use strict";i.d(t,{Yc:function(){return l},xQ:function(){return u},ug:function(){return h}});var n=i(18891),s=i(77393),r=i(75319),o=i(77971),a=i(78858),c=i(29181);class l extends s.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends n.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new l(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,i=t.length,n=t.slice();for(let s=0;s<i;s++)n[s].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,i=t.length,n=t.slice();for(let s=0;s<i;s++)n[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,i=e.slice();for(let n=0;n<t;n++)i[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),r.w.EMPTY):this.isStopped?(e.complete(),r.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new n.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):r.w.EMPTY}}},78858:function(e,t,i){"use strict";i.d(t,{W:function(){return s}});var n=i(75319);class s extends n.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}},77393:function(e,t,i){"use strict";i.d(t,{L:function(){return l}});var n=i(69105),s=i(46490),r=i(75319),o=i(29181),a=i(82494),c=i(54449);class l extends r.w{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.c;break;case 1:if(!e){this.destination=s.c;break}if("object"==typeof e){e instanceof l?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,i)}}[o.b](){return this}static create(e,t,i){const n=new l(e,t,i);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends l{constructor(e,t,i,r){super(),this._parentSubscriber=e;let o,a=this;(0,n.m)(t)?o=t:t&&(o=t.next,i=t.error,r=t.complete,t!==s.c&&(a=Object.create(t),(0,n.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=a.v;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;(0,c.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw i;(0,c.z)(i)}}__tryOrSetError(e,t,i){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(n){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):((0,c.z)(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},75319:function(e,t,i){"use strict";i.d(t,{w:function(){return a}});var n=i(59796),s=i(81555),r=i(69105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_unsubscribe:i,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let n=0;n<t.length;++n)t[n].remove(this);if((0,r.m)(i))try{i.call(this)}catch(u){e=u instanceof o?l(u.errors):[u]}if((0,n.k)(c)){let t=-1,i=c.length;for(;++t<i;){const i=c[t];if((0,s.K)(i))try{i.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof a){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const n=this._subscriptions;return null===n?this._subscriptions=[t]:n.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var c;function l(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((c=new a).closed=!0,c)},82494:function(e,t,i){"use strict";i.d(t,{v:function(){return s}});let n=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},52441:function(e,t,i){"use strict";i.d(t,{c:function(){return a},N:function(){return c}});var n=i(79765),s=i(18891),r=i(75319),o=i(51307);class a extends s.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new r.w,e.add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=r.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const c=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class l extends n.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9112:function(e,t,i){"use strict";i.d(t,{aj:function(){return l}});var n=i(54869),s=i(59796),r=i(55197),o=i(75604),a=i(56693);const c={};function l(...e){let t=null,i=null;return(0,n.K)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,s.k)(e[0])&&(e=e[0]),(0,a.n)(e,i).lift(new u(t))}class u{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new h(e,this.resultSelector))}}class h extends r.L{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(c),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++){const t=e[i];this.add((0,o.D)(this,t,t,i))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i,n,s){const r=this.values,o=this.toRespond?r[i]===c?--this.toRespond:this.toRespond:0;r[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}},58071:function(e,t,i){"use strict";i.d(t,{z:function(){return r}});var n=i(25917),s=i(63282);function r(...e){return(0,s.J)(1)((0,n.of)(...e))}},41439:function(e,t,i){"use strict";i.d(t,{P:function(){return o}});var n=i(18891),s=i(94402),r=i(59193);function o(e){return new n.y(t=>{let i;try{i=e()}catch(n){return void t.error(n)}return(i?(0,s.D)(i):(0,r.c)()).subscribe(t)})}},59193:function(e,t,i){"use strict";i.d(t,{E:function(){return s},c:function(){return r}});var n=i(18891);const s=new n.y(e=>e.complete());function r(e){return e?function(e){return new n.y(t=>e.schedule(()=>t.complete()))}(e):s}},35758:function(e,t,i){"use strict";i.d(t,{D:function(){return c}});var n=i(18891),s=i(59796),r=i(88002),o=i(81555),a=i(94402);function c(...e){if(1===e.length){const t=e[0];if((0,s.k)(t))return l(t,null);if((0,o.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return l(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return l(e=1===e.length&&(0,s.k)(e[0])?e[0]:e,null).pipe((0,r.U)(e=>t(...e)))}return l(e,null)}function l(e,t){return new n.y(i=>{const n=e.length;if(0===n)return void i.complete();const s=new Array(n);let r=0,o=0;for(let c=0;c<n;c++){const l=(0,a.D)(e[c]);let u=!1;i.add(l.subscribe({next:e=>{u||(u=!0,o++),s[c]=e},error:e=>i.error(e),complete:()=>{r++,(r===n||!u)&&(o===n&&i.next(t?t.reduce((e,t,i)=>(e[t]=s[i],e),{}):s),i.complete())}}))}})}},94402:function(e,t,i){"use strict";i.d(t,{D:function(){return h}});var n=i(18891),s=i(87444),r=i(75319),o=i(16554),a=i(94087),c=i(20377),l=i(44072),u=i(69489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new n.y(i=>{const n=new r.w;return n.add(t.schedule(()=>{const s=e[o.L]();n.add(s.subscribe({next(e){n.add(t.schedule(()=>i.next(e)))},error(e){n.add(t.schedule(()=>i.error(e)))},complete(){n.add(t.schedule(()=>i.complete()))}}))})),n})}(e,t);if((0,l.t)(e))return function(e,t){return new n.y(i=>{const n=new r.w;return n.add(t.schedule(()=>e.then(e=>{n.add(t.schedule(()=>{i.next(e),n.add(t.schedule(()=>i.complete()))}))},e=>{n.add(t.schedule(()=>i.error(e)))}))),n})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[c.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new n.y(i=>{const n=new r.w;let s;return n.add(()=>{s&&"function"==typeof s.return&&s.return()}),n.add(t.schedule(()=>{s=e[c.hZ](),n.add(t.schedule(function(){if(i.closed)return;let e,t;try{const i=s.next();e=i.value,t=i.done}catch(n){return void i.error(n)}t?i.complete():(i.next(e),this.schedule())}))})),n})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof n.y?e:new n.y((0,s.s)(e))}},56693:function(e,t,i){"use strict";i.d(t,{n:function(){return o}});var n=i(18891),s=i(55015),r=i(94087);function o(e,t){return t?(0,r.r)(e,t):new n.y((0,s.V)(e))}},22759:function(e,t,i){"use strict";i.d(t,{R:function(){return a}});var n=i(18891),s=i(59796),r=i(69105),o=i(88002);function a(e,t,i,l){return(0,r.m)(i)&&(l=i,i=void 0),l?a(e,t,i).pipe((0,o.U)(e=>(0,s.k)(e)?l(...e):l(e))):new n.y(n=>{c(e,t,function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},n,i)})}function c(e,t,i,n,s){let r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const n=e;e.addEventListener(t,i,s),r=()=>n.removeEventListener(t,i,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const n=e;e.on(t,i),r=()=>n.off(t,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const n=e;e.addListener(t,i),r=()=>n.removeListener(t,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let r=0,o=e.length;r<o;r++)c(e[r],t,i,n,s)}n.add(r)}},86363:function(e,t,i){"use strict";i.d(t,{s:function(){return r}});var n=i(41439),s=i(59193);function r(e,t=s.E,i=s.E){return(0,n.P)(()=>e()?t:i)}},20945:function(e,t,i){"use strict";i.d(t,{F:function(){return o}});var n=i(18891),s=i(33637),r=i(26561);function o(e=0,t=s.P){return(!(0,r.k)(e)||e<0)&&(e=0),(!t||"function"!=typeof t.schedule)&&(t=s.P),new n.y(i=>(i.add(t.schedule(a,e,{subscriber:i,counter:0,period:e})),i))}function a(e){const{subscriber:t,counter:i,period:n}=e;t.next(i),this.schedule({subscriber:t,counter:i+1,period:n},n)}},66682:function(e,t,i){"use strict";i.d(t,{T:function(){return a}});var n=i(18891),s=i(54869),r=i(63282),o=i(56693);function a(...e){let t=Number.POSITIVE_INFINITY,i=null,a=e[e.length-1];return(0,s.K)(a)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof n.y?e[0]:(0,r.J)(t)((0,o.n)(e,i))}},25917:function(e,t,i){"use strict";i.d(t,{of:function(){return o}});var n=i(54869),s=i(56693),r=i(94087);function o(...e){let t=e[e.length-1];return(0,n.K)(t)?(e.pop(),(0,r.r)(e,t)):(0,s.n)(e)}},40205:function(e,t,i){"use strict";i.d(t,{_:function(){return s}});var n=i(18891);function s(e,t){return new n.y(t?i=>t.schedule(r,0,{error:e,subscriber:i}):t=>t.error(e))}function r({error:e,subscriber:t}){t.error(e)}},46797:function(e,t,i){"use strict";i.d(t,{H:function(){return a}});var n=i(18891),s=i(33637),r=i(26561),o=i(54869);function a(e=0,t,i){let a=-1;return(0,r.k)(t)?a=Number(t)<1?1:Number(t):(0,o.K)(t)&&(i=t),(0,o.K)(i)||(i=s.P),new n.y(t=>{const n=(0,r.k)(e)?e:+e-i.now();return i.schedule(c,n,{index:0,period:a,subscriber:t})})}function c(e){const{index:t,period:i,subscriber:n}=e;if(n.next(t),!n.closed){if(-1===i)return n.complete();e.index=t+1,this.schedule(e,i)}}},80013:function(e,t,i){"use strict";i.d(t,{e:function(){return l}});var n=i(33637),s=i(55197),r=i(75604);class o{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new a(e,this.durationSelector))}}class a extends s.L{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:t}=this;i=t(e)}catch(t){return this.destination.error(t)}const n=(0,r.D)(this,i);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,i,n){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var c=i(46797);function l(e,t=n.P){return function(e){return function(t){return t.lift(new o(e))}}(()=>(0,c.H)(e,t))}},5304:function(e,t,i){"use strict";i.d(t,{K:function(){return o}});var n=i(55197),s=i(80268),r=i(75604);function o(e){return function(t){const i=new a(e),n=t.lift(i);return i.caught=n}}class a{constructor(e){this.selector=e}call(e,t){return t.subscribe(new c(e,this.selector,this.caught))}}class c extends n.L{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new s.d(this,void 0,void 0);this.add(n);const o=(0,r.D)(this,i,void 0,void 0,n);o!==n&&this.add(o)}}}},94612:function(e,t,i){"use strict";i.d(t,{b:function(){return s}});var n=i(19773);function s(e,t){return(0,n.zg)(e,t,1)}},54395:function(e,t,i){"use strict";i.d(t,{b:function(){return r}});var n=i(77393),s=i(33637);function r(e,t=s.P){return i=>i.lift(new o(e,t))}class o{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))}}class a extends n.L{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function c(e){e.debouncedNext()}},95242:function(e,t,i){"use strict";i.d(t,{d:function(){return s}});var n=i(77393);function s(e=null){return t=>t.lift(new r(e))}class r{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new o(e,this.defaultValue))}}class o extends n.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},71289:function(e,t,i){"use strict";i.d(t,{g:function(){return o}});var n=i(33637),s=i(77393),r=i(23098);function o(e,t=n.P){const i=function(e){return e instanceof Date&&!isNaN(+e)}(e)?+e-t.now():Math.abs(e);return e=>e.lift(new a(i,t))}class a{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new c(e,this.delay,this.scheduler))}}class c extends s.L{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,n=e.scheduler,s=e.destination;for(;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(s);if(i.length>0){const t=Math.max(0,i[0].time-n.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(c.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new l(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(r.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(r.P.createComplete()),this.unsubscribe()}}class l{constructor(e,t){this.time=e,this.notification=t}}},87519:function(e,t,i){"use strict";i.d(t,{x:function(){return s}});var n=i(77393);function s(e,t){return i=>i.lift(new r(e,t))}class r{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}class o extends n.L{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:e}=this;i=e(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}},45435:function(e,t,i){"use strict";i.d(t,{h:function(){return s}});var n=i(77393);function s(e,t){return function(i){return i.lift(new r(e,t))}}class r{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends n.L{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}},68939:function(e,t,i){"use strict";i.d(t,{x:function(){return r}});var n=i(77393),s=i(75319);function r(e){return t=>t.lift(new o(e))}class o{constructor(e){this.callback=e}call(e,t){return t.subscribe(new a(e,this.callback))}}class a extends n.L{constructor(e,t){super(e),this.add(new s.w(t))}}},28049:function(e,t,i){"use strict";i.d(t,{P:function(){return l}});var n=i(13410),s=i(45435),r=i(15257),o=i(95242),a=i(44635),c=i(54487);function l(e,t){const i=arguments.length>=2;return l=>l.pipe(e?(0,s.h)((t,i)=>e(t,i,l)):c.y,(0,r.q)(1),i?(0,o.d)(t):(0,a.T)(()=>new n.K))}},88002:function(e,t,i){"use strict";i.d(t,{U:function(){return s}});var n=i(77393);function s(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new r(e,t))}}class r{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends n.L{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}},96736:function(e,t,i){"use strict";i.d(t,{h:function(){return s}});var n=i(77393);function s(e){return t=>t.lift(new r(e))}class r{constructor(e){this.value=e}call(e,t){return t.subscribe(new o(e,this.value))}}class o extends n.L{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}},63282:function(e,t,i){"use strict";i.d(t,{J:function(){return r}});var n=i(19773),s=i(54487);function r(e=Number.POSITIVE_INFINITY){return(0,n.zg)(s.y,e)}},19773:function(e,t,i){"use strict";i.d(t,{zg:function(){return c}});var n=i(75604),s=i(55197),r=i(80268),o=i(88002),a=i(94402);function c(e,t,i=Number.POSITIVE_INFINITY){return"function"==typeof t?n=>n.pipe(c((i,n)=>(0,a.D)(e(i,n)).pipe((0,o.U)((e,s)=>t(i,e,n,s))),i)):("number"==typeof t&&(i=t),t=>t.lift(new l(e,i)))}class l{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends s.L{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t,e,i)}_innerSub(e,t,i){const s=new r.d(this,t,i),o=this.destination;o.add(s);const a=(0,n.D)(this,e,void 0,void 0,s);a!==s&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,i,n,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},94458:function(e,t,i){"use strict";i.d(t,{O:function(){return s}});var n=i(52441);function s(e,t){return function(i){let s;if(s="function"==typeof e?e:function(){return e},"function"==typeof t)return i.lift(new r(s,t));const o=Object.create(i,n.N);return o.source=i,o.subjectFactory=s,o}}class r{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:i}=this,n=this.subjectFactory(),s=i(n).subscribe(e);return s.add(t.subscribe(n)),s}}},59328:function(e,t,i){"use strict";i.d(t,{G:function(){return s}});var n=i(77393);function s(){return e=>e.lift(new r)}class r{call(e,t){return t.subscribe(new o(e))}}class o extends n.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}},51307:function(e,t,i){"use strict";i.d(t,{x:function(){return s}});var n=i(77393);function s(){return function(e){return e.lift(new r(e))}}class r{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const n=new o(e,i),s=t.subscribe(n);return n.closed||(n.connection=i.connect()),s}}class o extends n.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,n=e._connection;this.connection=null,n&&(!i||n===i)&&n.unsubscribe()}}},42145:function(e,t,i){"use strict";i.d(t,{R:function(){return s}});var n=i(77393);function s(e,t){let i=!1;return arguments.length>=2&&(i=!0),function(n){return n.lift(new r(e,t,i))}}class r{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends n.L{constructor(e,t,i,n){super(e),this.accumulator=t,this._seed=i,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(n){this.destination.error(n)}this.seed=i,this.destination.next(i)}}},78345:function(e,t,i){"use strict";i.d(t,{B:function(){return a}});var n=i(94458),s=i(51307),r=i(79765);function o(){return new r.xQ}function a(){return e=>(0,s.x)()((0,n.O)(o)(e))}},47349:function(e,t,i){"use strict";i.d(t,{d:function(){return s}});var n=i(82298);function s(e,t,i){let s;return s=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:i},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:i,scheduler:s}){let r,o,a=0,c=!1,l=!1;return function(u){a++,(!r||c)&&(c=!1,r=new n.t(e,t,s),o=u.subscribe({next(e){r.next(e)},error(e){c=!0,r.error(e)},complete(){l=!0,o=void 0,r.complete()}}));const h=r.subscribe(this);this.add(()=>{a--,h.unsubscribe(),o&&!l&&i&&0===a&&(o.unsubscribe(),o=void 0,r=void 0)})}}(s))}},13653:function(e,t,i){"use strict";i.d(t,{T:function(){return s}});var n=i(77393);function s(e){return t=>t.lift(new r(e))}class r{constructor(e){this.total=e}call(e,t){return t.subscribe(new o(e,this.total))}}class o extends n.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}},66888:function(e,t,i){"use strict";i.d(t,{n:function(){return s}});var n=i(77393);function s(e){return t=>t.lift(new r(e))}class r{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new o(e,this.predicate))}}class o extends n.L{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}},39761:function(e,t,i){"use strict";i.d(t,{O:function(){return r}});var n=i(58071),s=i(54869);function r(...e){const t=e[e.length-1];return(0,s.K)(t)?(e.pop(),i=>(0,n.z)(e,i,t)):t=>(0,n.z)(e,t)}},43190:function(e,t,i){"use strict";i.d(t,{w:function(){return c}});var n=i(55197),s=i(80268),r=i(75604),o=i(88002),a=i(94402);function c(e,t){return"function"==typeof t?i=>i.pipe(c((i,n)=>(0,a.D)(e(i,n)).pipe((0,o.U)((e,s)=>t(i,e,n,s))))):t=>t.lift(new l(e))}class l{constructor(e){this.project=e}call(e,t){return t.subscribe(new u(e,this.project))}}class u extends n.L{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(n){return void this.destination.error(n)}this._innerSub(t,e,i)}_innerSub(e,t,i){const n=this.innerSubscription;n&&n.unsubscribe();const o=new s.d(this,t,i),a=this.destination;a.add(o),this.innerSubscription=(0,r.D)(this,e,void 0,void 0,o),this.innerSubscription!==o&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,i,n,s){this.destination.next(t)}}},15257:function(e,t,i){"use strict";i.d(t,{q:function(){return o}});var n=i(77393),s=i(7108),r=i(59193);function o(e){return t=>0===e?(0,r.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new s.W}call(e,t){return t.subscribe(new c(e,this.total))}}class c extends n.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}},548:function(e,t,i){"use strict";i.d(t,{h:function(){return o}});var n=i(77393),s=i(7108),r=i(59193);function o(e){return function(t){return 0===e?(0,r.c)():t.lift(new a(e))}}class a{constructor(e){if(this.total=e,this.total<0)throw new s.W}call(e,t){return t.subscribe(new c(e,this.total))}}class c extends n.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,n=this.count++;t.length<i?t.push(e):t[n%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,n=this.ring;for(let s=0;s<i;s++){const s=t++%i;e.next(n[s])}}e.complete()}}},46782:function(e,t,i){"use strict";i.d(t,{R:function(){return r}});var n=i(55197),s=i(75604);function r(e){return t=>t.lift(new o(e))}class o{constructor(e){this.notifier=e}call(e,t){const i=new a(e),n=(0,s.D)(i,this.notifier);return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}}class a extends n.L{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,i,n,s){this.seenValue=!0,this.complete()}notifyComplete(){}}},68307:function(e,t,i){"use strict";i.d(t,{b:function(){return o}});var n=i(77393),s=i(98640),r=i(69105);function o(e,t,i){return function(n){return n.lift(new a(e,t,i))}}class a{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}class c extends n.L{constructor(e,t,i,n){super(e),this._tapNext=s.Z,this._tapError=s.Z,this._tapComplete=s.Z,this._tapError=i||s.Z,this._tapComplete=n||s.Z,(0,r.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||s.Z,this._tapError=t.error||s.Z,this._tapComplete=t.complete||s.Z)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},48386:function(e,t,i){"use strict";i.d(t,{d:function(){return r},P:function(){return o}});var n=i(55197),s=i(75604);const r={leading:!0,trailing:!1};function o(e,t=r){return i=>i.lift(new a(e,t.leading,t.trailing))}class a{constructor(e,t,i){this.durationSelector=e,this.leading=t,this.trailing=i}call(e,t){return t.subscribe(new c(e,this.durationSelector,this.leading,this.trailing))}}class c extends n.L{constructor(e,t,i,n){super(e),this.destination=e,this.durationSelector=t,this._leading=i,this._trailing=n,this._hasValue=!1}_next(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))}send(){const{_hasValue:e,_sendValue:t}=this;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null}throttle(e){const t=this.tryDurationSelector(e);t&&this.add(this._throttled=(0,s.D)(this,t))}tryDurationSelector(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}}throttlingDone(){const{_throttled:e,_trailing:t}=this;e&&e.unsubscribe(),this._throttled=null,t&&this.send()}notifyNext(e,t,i,n,s){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}},93137:function(e,t,i){"use strict";i.d(t,{p:function(){return o}});var n=i(77393),s=i(33637),r=i(48386);function o(e,t=s.P,i=r.d){return n=>n.lift(new a(e,t,i.leading,i.trailing))}class a{constructor(e,t,i,n){this.duration=e,this.scheduler=t,this.leading=i,this.trailing=n}call(e,t){return t.subscribe(new c(e,this.duration,this.scheduler,this.leading,this.trailing))}}class c extends n.L{constructor(e,t,i,n,s){super(e),this.duration=t,this.scheduler=i,this.leading=n,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function l(e){const{subscriber:t}=e;t.clearThrottle()}},44635:function(e,t,i){"use strict";i.d(t,{T:function(){return r}});var n=i(13410),s=i(77393);function r(e=c){return t=>t.lift(new o(e))}class o{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new a(e,this.errorFactory))}}class a extends s.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function c(){return new n.K}},94087:function(e,t,i){"use strict";i.d(t,{r:function(){return r}});var n=i(18891),s=i(75319);function r(e,t){return new n.y(i=>{const n=new s.w;let r=0;return n.add(t.schedule(function(){r!==e.length?(i.next(e[r++]),i.closed||n.add(this.schedule())):i.complete()})),n})}},36465:function(e,t,i){"use strict";i.d(t,{o:function(){return r}});var n=i(75319);class s extends n.w{constructor(e,t){super()}schedule(e,t=0){return this}}class r extends s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,n=!1;try{this.work(e)}catch(s){n=!0,i=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},16102:function(e,t,i){"use strict";i.d(t,{v:function(){return s}});let n=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class s extends n{constructor(e,t=n.now){super(e,()=>s.delegate&&s.delegate!==this?s.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return s.delegate&&s.delegate!==this?s.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}},61927:function(e,t,i){"use strict";i.d(t,{r:function(){return r}});var n=i(36465),s=i(16102);const r=new class extends s.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<s&&(e=t.shift()));if(this.active=!1,i){for(;++n<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends n.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}})},64581:function(e,t,i){"use strict";i.d(t,{e:function(){return u}});let n=1;const s=Promise.resolve(),r={};function o(e){return e in r&&(delete r[e],!0)}const a={setImmediate(e){const t=n++;return r[t]=!0,s.then(()=>o(t)&&e()),t},clearImmediate(e){o(e)}};var c=i(36465),l=i(16102);const u=new class extends l.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<s&&(e=t.shift()));if(this.active=!1,i){for(;++n<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends c.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=a.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(a.clearImmediate(t),e.scheduled=void 0)}})},33637:function(e,t,i){"use strict";i.d(t,{P:function(){return s}});var n=i(36465);const s=new(i(16102).v)(n.o)},20377:function(e,t,i){"use strict";i.d(t,{hZ:function(){return n}});const n="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},16554:function(e,t,i){"use strict";i.d(t,{L:function(){return n}});const n="function"==typeof Symbol&&Symbol.observable||"@@observable"},29181:function(e,t,i){"use strict";i.d(t,{b:function(){return n}});const n="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:function(e,t,i){"use strict";i.d(t,{W:function(){return n}});const n=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},13410:function(e,t,i){"use strict";i.d(t,{K:function(){return n}});const n=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})()},77971:function(e,t,i){"use strict";i.d(t,{N:function(){return n}});const n=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},54449:function(e,t,i){"use strict";function n(e){setTimeout(()=>{throw e},0)}i.d(t,{z:function(){return n}})},54487:function(e,t,i){"use strict";function n(e){return e}i.d(t,{y:function(){return n}})},59796:function(e,t,i){"use strict";i.d(t,{k:function(){return n}});const n=Array.isArray||(e=>e&&"number"==typeof e.length)},69489:function(e,t,i){"use strict";i.d(t,{z:function(){return n}});const n=e=>e&&"number"==typeof e.length&&"function"!=typeof e},69105:function(e,t,i){"use strict";function n(e){return"function"==typeof e}i.d(t,{m:function(){return n}})},26561:function(e,t,i){"use strict";i.d(t,{k:function(){return s}});var n=i(59796);function s(e){return!(0,n.k)(e)&&e-parseFloat(e)+1>=0}},81555:function(e,t,i){"use strict";function n(e){return null!==e&&"object"==typeof e}i.d(t,{K:function(){return n}})},95639:function(e,t,i){"use strict";i.d(t,{b:function(){return s}});var n=i(18891);function s(e){return!!e&&(e instanceof n.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},44072:function(e,t,i){"use strict";function n(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}i.d(t,{t:function(){return n}})},54869:function(e,t,i){"use strict";function n(e){return e&&"function"==typeof e.schedule}i.d(t,{K:function(){return n}})},98640:function(e,t,i){"use strict";function n(){}i.d(t,{Z:function(){return n}})},34022:function(e,t,i){"use strict";i.d(t,{z:function(){return s},U:function(){return r}});var n=i(54487);function s(...e){return r(e)}function r(e){return 0===e.length?n.y:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}},87444:function(e,t,i){"use strict";i.d(t,{s:function(){return u}});var n=i(55015),s=i(54449),r=i(20377),o=i(16554),a=i(69489),c=i(44072),l=i(81555);const u=e=>{if(e&&"function"==typeof e[o.L])return(e=>t=>{const i=e[o.L]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(t)})(e);if((0,a.z)(e))return(0,n.V)(e);if((0,c.t)(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s.z),t))(e);if(e&&"function"==typeof e[r.hZ])return(e=>t=>{const i=e[r.hZ]();for(;;){const e=i.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof i.return&&t.add(()=>{i.return&&i.return()}),t})(e);{const t=`You provided ${(0,l.K)(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}}},55015:function(e,t,i){"use strict";i.d(t,{V:function(){return n}});const n=e=>t=>{for(let i=0,n=e.length;i<n&&!t.closed;i++)t.next(e[i]);t.complete()}},75604:function(e,t,i){"use strict";i.d(t,{D:function(){return o}});var n=i(80268),s=i(87444),r=i(18891);function o(e,t,i,o,a=new n.d(e,i,o)){if(!a.closed)return t instanceof r.y?t.subscribe(a):(0,s.s)(t)(a)}},2390:function(e){"use strict";var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},t.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},t.getDescription=function(e){var i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){var i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter(function(e){return 0===e.indexOf(i)})},t.parseCandidate=function(e){for(var t,i={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":i.relatedAddress=t[n+1];break;case"rport":i.relatedPort=parseInt(t[n+1],10);break;case"tcptype":i.tcpType=t[n+1];break;case"ufrag":i.ufrag=t[n+1],i.usernameFragment=t[n+1];break;default:i[t[n]]=t[n+1]}return i},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var i=e.type;return t.push("typ"),t.push(i),"host"!==i&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),i={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var i=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==i?"/"+i:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,i={},n=e.substr(e.indexOf(" ")+1).split(";"),s=0;s<n.length;s++)i[(t=n[s].trim().split("="))[0].trim()]=t[1];return i},t.writeFmtp=function(e){var t="",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach(function(t){n.push(e.parameters[t]?t+"="+e.parameters[t]:t)}),t+="a=fmtp:"+i+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+i+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),i={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(i.attribute=e.substr(t+1,n-t-1),i.value=e.substr(n+1)):i.attribute=e.substr(t+1),i},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},t.getMid=function(e){var i=t.matchPrefix(e,"a=mid:")[0];if(i)return i.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,i){return{role:"auto",fingerprints:t.matchPrefix(e+i,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var i="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){i+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),i},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){var n=t.matchPrefix(e+i,"a=ice-ufrag:")[0],s=t.matchPrefix(e+i,"a=ice-pwd:")[0];return n&&s?{usernameFragment:n.substr(12),password:s.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" "),s=3;s<n.length;s++){var r=n[s],o=t.matchPrefix(e,"a=rtpmap:"+r+" ")[0];if(o){var a=t.parseRtpMap(o),c=t.matchPrefix(e,"a=fmtp:"+r+" ");switch(a.parameters=c.length?t.parseFmtp(c[0]):{},a.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+r+" ").map(t.parseRtcpFb),i.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(a.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach(function(e){i.headerExtensions.push(t.parseExtmap(e))}),i},t.writeRtpDescription=function(e,i){var n="";n+="m="+e+" ",n+=i.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=i.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",i.codecs.forEach(function(e){n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)});var s=0;return i.codecs.forEach(function(e){e.maxptime>s&&(s=e.maxptime)}),s>0&&(n+="a=maxptime:"+s+"\r\n"),n+="a=rtcp-mux\r\n",i.headerExtensions&&i.headerExtensions.forEach(function(e){n+=t.writeExtmap(e)}),n},t.parseRtpEncodingParameters=function(e){var i,n=[],s=t.parseRtpParameters(e),r=-1!==s.fecMechanisms.indexOf("RED"),o=-1!==s.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=a.length>0&&a[0].ssrc,l=t.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});l.length>0&&l[0].length>1&&l[0][0]===c&&(i=l[0][1]),s.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&i&&(t.rtx={ssrc:i}),n.push(t),r&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},n.push(t))}}),0===n.length&&c&&n.push({ssrc:c});var u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(e){e.maxBitrate=u})),n},t.parseRtcpParameters=function(e){var i={},n=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);var s=t.matchPrefix(e,"a=rtcp-rsize");i.reducedSize=s.length>0,i.compound=0===s.length;var r=t.matchPrefix(e,"a=rtcp-mux");return i.mux=r.length>0,i},t.parseMsid=function(e){var i,n=t.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(i=n[0].substr(7).split(" "))[0],track:i[1]};var s=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return s.length>0?{stream:(i=s[0].value.split(" "))[0],track:i[1]}:void 0},t.parseSctpDescription=function(e){var i,n=t.parseMLine(e),s=t.matchPrefix(e,"a=max-message-size:");s.length>0&&(i=parseInt(s[0].substr(19),10)),isNaN(i)&&(i=65536);var r=t.matchPrefix(e,"a=sctp-port:");if(r.length>0)return{port:parseInt(r[0].substr(12),10),protocol:n.fmt,maxMessageSize:i};if(t.matchPrefix(e,"a=sctpmap:").length>0){var o=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(o[0],10),protocol:o[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){var i=[];return i="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&i.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,i,n){var s=void 0!==i?i:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+s+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,i,n,s){var r=t.writeRtpDescription(e.kind,i);if(r+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),r+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),r+="a=mid:"+e.mid+"\r\n",r+=e.direction?"a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var o="msid:"+s.id+" "+e.rtpSender.track.id+"\r\n";r+="a="+o,r+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(r+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,r+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return r+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(r+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),r},t.getDirection=function(e,i){for(var n=t.splitLines(e),s=0;s<n.length;s++)switch(n[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[s].substr(2)}return i?t.getDirection(i):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var i=t.splitLines(e)[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(e){var i=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var i=t.splitLines(e),n=0;n<i.length;n++)if(i[n].length<2||"="!==i[n].charAt(1))return!1;return!0},e.exports=t},46230:function(e,t,i){var n=i(97352);e.exports=function(e,t,i){"function"==typeof t&&(i=t,t=null),(t=t||{}).fftSize=t.fftSize||32,t.tweenIn=t.tweenIn||1.618,t.tweenOut=t.tweenOut||3*t.tweenIn;var s,r,o,a,c=0,l=e.createAnalyser();return l.stop=function(){this.ended=!0,n.cancel(a)},l.fftSize=t.fftSize,s=new Uint8Array(t.fftSize),function e(){l.ended||(l.getByteTimeDomainData(s),r=function(e){for(var t=e.length,i=128,n=128,s=0;s<t;s++){var r=e[s];r<i?i=r:r>n&&(n=r)}return(n-i)/255}(s)*(Math.E-1),o=Math.floor(100*Math.log1p(r)),o=c+=(o-c)/(o>c?t.tweenIn:t.tweenOut),i(o),a=n(e))}(),l}},72878:function(e,t,i){"use strict";var n=i(94605);e.exports=n({window:global.window})},94605:function(e,t,i){"use strict";e.exports=function(e,t){var n=e&&e.window,s={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var r in t)hasOwnProperty.call(t,r)&&(s[r]=t[r]);var o=i(61977),a=o.log,c=o.detectBrowser(n),l={browserDetails:c,extractVersion:o.extractVersion,disableLog:o.disableLog,disableWarnings:o.disableWarnings},u=i(54144)||null,h=i(15918)||null,d=i(48575)||null,p=i(92880)||null;switch(c.browser){case"chrome":if(!u||!u.shimPeerConnection||!s.shimChrome)return a("Chrome shim is not included in this adapter release."),l;a("adapter.js shimming chrome."),l.browserShim=u,u.shimGetUserMedia(n),u.shimMediaStream(n),o.shimCreateObjectURL(n),u.shimSourceObject(n),u.shimPeerConnection(n),u.shimOnTrack(n),u.shimAddTrackRemoveTrack(n),u.shimGetSendersWithDtmf(n);break;case"firefox":if(!d||!d.shimPeerConnection||!s.shimFirefox)return a("Firefox shim is not included in this adapter release."),l;a("adapter.js shimming firefox."),l.browserShim=d,d.shimGetUserMedia(n),o.shimCreateObjectURL(n),d.shimSourceObject(n),d.shimPeerConnection(n),d.shimOnTrack(n);break;case"edge":if(!h||!h.shimPeerConnection||!s.shimEdge)return a("MS edge shim is not included in this adapter release."),l;a("adapter.js shimming edge."),l.browserShim=h,h.shimGetUserMedia(n),o.shimCreateObjectURL(n),h.shimPeerConnection(n),h.shimReplaceTrack(n);break;case"safari":if(!p||!s.shimSafari)return a("Safari shim is not included in this adapter release."),l;a("adapter.js shimming safari."),l.browserShim=p,o.shimCreateObjectURL(n),p.shimRTCIceServerUrls(n),p.shimCallbacksAPI(n),p.shimLocalStreamsAPI(n),p.shimRemoteStreamsAPI(n),p.shimGetUserMedia(n);break;default:a("Unsupported browser!")}return l}},54144:function(e,t,i){"use strict";var n=i(61977),s=n.log,r={shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var i=this;return i._ontrackpoly||(i._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(n){var s;s=e.RTCPeerConnection.prototype.getReceivers?i.getReceivers().find(function(e){return e.track&&e.track.id===n.track.id}):{track:n.track};var r=new Event("track");r.track=n.track,r.receiver=s,r.streams=[t.stream],i.dispatchEvent(r)}),t.stream.getTracks().forEach(function(n){var s;s=e.RTCPeerConnection.prototype.getReceivers?i.getReceivers().find(function(e){return e.track&&e.track.id===n.id}):{track:n};var r=new Event("track");r.track=n,r.receiver=s,r.streams=[t.stream],i.dispatchEvent(r)})},i.addEventListener("addstream",i._ontrackpoly)),t.apply(i,arguments)}}},shimGetSendersWithDtmf:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===t.kind?e.createDTMFSender(t):null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var s=this,r=i.apply(s,arguments);return r||(r=t(s,e),s._senders.push(r)),r};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;n.apply(t,arguments);var i=t._senders.indexOf(e);-1!==i&&t._senders.splice(i,1)}}var s=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var i=this;i._senders=i._senders||[],s.apply(i,[e]),e.getTracks().forEach(function(e){i._senders.push(t(i,e))})};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],r.apply(t,[t._streams[e.id]||e]),e.getTracks().forEach(function(e){var i=t._senders.find(function(t){return t.track===e});i&&t._senders.splice(t._senders.indexOf(i),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var o=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=o.apply(e,[]);return t.forEach(function(t){t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}},shimSourceObject:function(e){var t=e&&e.URL;"object"==typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var i=this;this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e?(this.src=t.createObjectURL(e),e.addEventListener("addtrack",function(){i.src&&t.revokeObjectURL(i.src),i.src=t.createObjectURL(e)}),e.addEventListener("removetrack",function(){i.src&&t.revokeObjectURL(i.src),i.src=t.createObjectURL(e)})):this.src=""}})},shimAddTrackRemoveTrack:function(e){if(!e.RTCPeerConnection.prototype.addTrack){var t=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,i=t.apply(this);return e._reverseStreams=e._reverseStreams||{},i.map(function(t){return e._reverseStreams[t.id]})};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{},t.getTracks().forEach(function(e){if(n.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!n._reverseStreams[t.id]){var s=new e.MediaStream(t.getTracks());n._streams[t.id]=s,n._reverseStreams[s.id]=t,t=s}i.apply(n,[t])};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},n.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){var n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var s=[].slice.call(arguments,1);if(1!==s.length||!s[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var r=n.getSenders().find(function(e){return e.track===t});if(r)throw new DOMException("Track already exists.","InvalidAccessError");n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{};var o=n._streams[i.id];if(o)o.addTrack(t),n.dispatchEvent(new Event("negotiationneeded"));else{var a=new e.MediaStream([t]);n._streams[i.id]=a,n._reverseStreams[a.id]=i,n.addStream(a)}return n.getSenders().find(function(e){return e.track===t})},e.RTCPeerConnection.prototype.removeTrack=function(e){var t,i=this;if("closed"===i.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==i)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");i._streams=i._streams||{},Object.keys(i._streams).forEach(function(n){i._streams[n].getTracks().find(function(t){return e.track===t})&&(t=i._streams[n])}),t&&(1===t.getTracks().length?i.removeStream(t):t.removeTrack(e.track),i.dispatchEvent(new Event("negotiationneeded")))}}},shimPeerConnection:function(e){var t=n.detectBrowser(e);if(e.RTCPeerConnection){var i=e.RTCPeerConnection;e.RTCPeerConnection=function(e,t){if(e&&e.iceServers){for(var s=[],r=0;r<e.iceServers.length;r++){var o=e.iceServers[r];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,s.push(o)):s.push(e.iceServers[r])}e.iceServers=s}return new i(e,t)},e.RTCPeerConnection.prototype=i.prototype,Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return i.generateCertificate}})}else e.RTCPeerConnection=function(t,i){return s("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,i)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}});var r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,i){var n=this,s=arguments;if(arguments.length>0&&"function"==typeof e)return r.apply(this,arguments);if(0===r.length&&(0===arguments.length||"function"!=typeof arguments[0]))return r.apply(this,[]);var o=function(e){var t={};return e.result().forEach(function(e){var i={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){i[t]=e.stat(t)}),t[i.id]=i}),t},a=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){var c=function(e){s[1](a(o(e)))};return r.apply(this,[c,arguments[0]])}return new Promise(function(e,t){r.apply(n,[function(t){e(a(o(t)))},t])}).then(t,i)},t.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=arguments,t=this,n=new Promise(function(n,s){i.apply(t,[e[0],n,s])});return e.length<2?n:n.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),t.version<52&&["createOffer","createAnswer"].forEach(function(t){var i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var t=1===arguments.length?arguments[0]:void 0;return new Promise(function(n,s){i.apply(e,[n,s,t])})}return i.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}});var o=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};e.exports={shimMediaStream:r.shimMediaStream,shimOnTrack:r.shimOnTrack,shimAddTrackRemoveTrack:r.shimAddTrackRemoveTrack,shimGetSendersWithDtmf:r.shimGetSendersWithDtmf,shimSourceObject:r.shimSourceObject,shimPeerConnection:r.shimPeerConnection,shimGetUserMedia:i(60868)}},60868:function(e,t,i){"use strict";var n=i(61977),s=n.log;e.exports=function(e){var t=n.detectBrowser(e),i=e&&e.navigator,r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(i){if("require"!==i&&"advanced"!==i&&"mediaSource"!==i){var n="object"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var s=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var r={};"number"==typeof n.ideal?(r[s("min",i)]=n.ideal,t.optional.push(r),(r={})[s("max",i)]=n.ideal,t.optional.push(r)):(r[s("",i)]=n.ideal,t.optional.push(r))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[s("",i)]=n.exact):["min","max"].forEach(function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[s(e,i)]=n[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,n){if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var o=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};o((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){var a,c=e.video.facingMode,l=t.version<61;if((c=c&&("object"==typeof c?c:{ideal:c}))&&("user"===c.exact||"environment"===c.exact||"user"===c.ideal||"environment"===c.ideal)&&(!i.mediaDevices.getSupportedConstraints||!i.mediaDevices.getSupportedConstraints().facingMode||l)&&(delete e.video.facingMode,"environment"===c.exact||"environment"===c.ideal?a=["back","rear"]:("user"===c.exact||"user"===c.ideal)&&(a=["front"]),a))return i.mediaDevices.enumerateDevices().then(function(t){var i=(t=t.filter(function(e){return"videoinput"===e.kind})).find(function(e){return a.some(function(t){return-1!==e.label.toLowerCase().indexOf(t)})});return!i&&t.length&&-1!==a.indexOf("back")&&(i=t[t.length-1]),i&&(e.video.deviceId=c.exact?{exact:i.deviceId}:{ideal:i.deviceId}),e.video=r(e.video),s("chrome: "+JSON.stringify(e)),n(e)});e.video=r(e.video)}return s("chrome: "+JSON.stringify(e)),n(e)},a=function(e){return{name:{PermissionDeniedError:"NotAllowedError",InvalidStateError:"NotReadableError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotReadableError",MediaDeviceKillSwitchOn:"NotReadableError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};i.getUserMedia=function(e,t,n){o(e,function(e){i.webkitGetUserMedia(e,t,function(e){n(a(e))})})};var c=function(e){return new Promise(function(t,n){i.getUserMedia(e,t,n)})};if(i.mediaDevices||(i.mediaDevices={getUserMedia:c,enumerateDevices:function(){return new Promise(function(t){var i={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources(function(e){t(e.map(function(e){return{label:e.label,kind:i[e.kind],deviceId:e.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),i.mediaDevices.getUserMedia){var l=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(e){return o(e,function(e){return l(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(a(e))})})}}else i.mediaDevices.getUserMedia=function(e){return c(e)};void 0===i.mediaDevices.addEventListener&&(i.mediaDevices.addEventListener=function(){s("Dummy mediaDevices.addEventListener called.")}),void 0===i.mediaDevices.removeEventListener&&(i.mediaDevices.removeEventListener=function(){s("Dummy mediaDevices.removeEventListener called.")})}},15918:function(e,t,i){"use strict";var n=i(61977),s=i(12389);e.exports={shimGetUserMedia:i(85905),shimPeerConnection:function(e){var t=n.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var i=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){i.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCPeerConnection=s(e,t.version)},shimReplaceTrack:function(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}}},85905:function(e){"use strict";e.exports=function(e){var t=e&&e.navigator,i=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return i(e).catch(function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))})}}},12389:function(e,t,i){"use strict";var n=i(2390);function s(e){var t=e.filter(function(e){return"audio"===e.kind}),i=e.filter(function(e){return"video"===e.kind});for(e=[];t.length||i.length;)t.length&&e.push(t.shift()),i.length&&e.push(i.shift());return e}function r(e,t){var i={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var i=0;i<t.length;i++)if(t[i].payloadType===e||t[i].preferredPayloadType===e)return t[i]},s=function(e,t,i,s){var r=n(e.parameters.apt,i),o=n(t.parameters.apt,s);return r&&o&&r.name.toLowerCase()===o.name.toLowerCase()};return e.codecs.forEach(function(n){for(var r=0;r<t.codecs.length;r++){var o=t.codecs[r];if(n.name.toLowerCase()===o.name.toLowerCase()&&n.clockRate===o.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&o.parameters.apt&&!s(n,o,e.codecs,t.codecs))continue;(o=JSON.parse(JSON.stringify(o))).numChannels=Math.min(n.numChannels,o.numChannels),i.codecs.push(o),o.rtcpFeedback=o.rtcpFeedback.filter(function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var n=0;n<t.headerExtensions.length;n++){var s=t.headerExtensions[n];if(e.uri===s.uri){i.headerExtensions.push(s);break}}}),i}function o(e,t,i){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(i)}e.exports=function(e,t){var i=function(i){var s=this,r=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){s[e]=r[e].bind(r)}),this.needNegotiation=!1,this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onicegatheringstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.canTrickleIceCandidates=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return s.localStreams},this.getRemoteStreams=function(){return s.remoteStreams},this.localDescription=new e.RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new e.RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},i&&i.iceTransportPolicy)switch(i.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=i.iceTransportPolicy}this.usingBundle=i&&"max-bundle"===i.bundlePolicy,i&&i.iceServers&&(this.iceOptions.iceServers=function(e,t){var i=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var s="string"==typeof n;return s&&(n=[n]),n=n.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||i?0===e.indexOf("stun:")&&t>=14393:(i=!0,!0)}),delete e.url,e.urls=s?n[0]:n,!!n.length}return!1})}(i.iceServers,t)),this._config=i||{},this.transceivers=[],this._localIceCandidatesBuffer=[],this._sdpSessionId=n.generateSessionId()};return i.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this.dispatchEvent(e),null!==this.onicegatheringstatechange&&this.onicegatheringstatechange(e)},i.prototype._emitBufferedCandidates=function(){var e=this,t=n.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(i){if(i.candidate&&0!==Object.keys(i.candidate).length)t[i.candidate.sdpMLineIndex+1]+="a="+i.candidate.candidate+"\r\n";else for(var n=1;n<t.length;n++)-1===t[n].indexOf("\r\na=end-of-candidates\r\n")&&(t[n]+="a=end-of-candidates\r\n");e.localDescription.sdp=t.join(""),e.dispatchEvent(i),null!==e.onicecandidate&&e.onicecandidate(i),i.candidate||"complete"===e.iceGatheringState||e.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state})&&"complete"!==e.iceGatheringStateChange&&(e.iceGatheringState="complete",e._emitGatheringStateChange())}),this._localIceCandidatesBuffer=[]},i.prototype.getConfiguration=function(){return this._config},i.prototype._createTransceiver=function(e){var t={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)t.iceTransport=this.transceivers[0].iceTransport,t.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();t.iceTransport=i.iceTransport,t.dtlsTransport=i.dtlsTransport}return this.transceivers.push(t),t},i.prototype.addTrack=function(t,i){for(var n,s=0;s<this.transceivers.length;s++)!this.transceivers[s].track&&this.transceivers[s].kind===t.kind&&(n=this.transceivers[s]);return n||(n=this._createTransceiver(t.kind)),n.track=t,n.stream=i,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),this._maybeFireNegotiationNeeded(),n.rtpSender},i.prototype.addStream=function(e){var i=this;if(t>=15025)this.localStreams.push(e),e.getTracks().forEach(function(t){i.addTrack(t,e)});else{var n=e.clone();e.getTracks().forEach(function(e,t){var i=n.getTracks()[t];e.addEventListener("enabled",function(e){i.enabled=e.enabled})}),n.getTracks().forEach(function(e){i.addTrack(e,n)}),this.localStreams.push(n)}this._maybeFireNegotiationNeeded()},i.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},i.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},i.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},i.prototype._createIceGatherer=function(t,i){var s=this,r=new e.RTCIceGatherer(s.iceOptions);return r.onlocalcandidate=function(e){var o=new Event("icecandidate");o.candidate={sdpMid:t,sdpMLineIndex:i};var a=e.candidate,c=!a||0===Object.keys(a).length;c?void 0===r.state&&(r.state="completed"):(a.component=1,o.candidate.candidate=n.writeCandidate(a));var l=n.splitSections(s.localDescription.sdp);l[o.candidate.sdpMLineIndex+1]+=c?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",s.localDescription.sdp=l.join("");var u=(s._pendingOffer?s._pendingOffer:s.transceivers).every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});switch(s.iceGatheringState){case"new":c||s._localIceCandidatesBuffer.push(o),c&&u&&s._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":s._emitBufferedCandidates(),c||(s.dispatchEvent(o),null!==s.onicecandidate&&s.onicecandidate(o)),u&&(s.dispatchEvent(new Event("icecandidate")),null!==s.onicecandidate&&s.onicecandidate(new Event("icecandidate")),s.iceGatheringState="complete",s._emitGatheringStateChange())}},r},i.prototype._createIceAndDtlsTransports=function(){var t=this,i=new e.RTCIceTransport(null);i.onicestatechange=function(){t._updateConnectionState()};var n=new e.RTCDtlsTransport(i);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:i,dtlsTransport:n}},i.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var i=this.transceivers[e].iceTransport;i&&(delete i.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},i.prototype._transceive=function(e,i,s){var o=r(e.localCapabilities,e.remoteCapabilities);i&&e.rtpSender&&(o.encodings=e.sendEncodingParameters,o.rtcp={cname:n.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(o.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(o)),s&&e.rtpReceiver&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),o.encodings=e.recvEncodingParameters,o.rtcp={cname:e.rtcpParameters.cname,compound:e.rtcpParameters.compound},e.sendEncodingParameters.length&&(o.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(o))},i.prototype.setLocalDescription=function(t){var i,s,a=this;if(!o("setLocalDescription",t.type,this.signalingState)){var c=new Error("Can not set local "+t.type+" in state "+this.signalingState);return c.name="InvalidStateError",arguments.length>2&&"function"==typeof arguments[2]&&e.setTimeout(arguments[2],0,c),Promise.reject(c)}if("offer"===t.type)this._pendingOffer&&(i=n.splitSections(t.sdp),s=i.shift(),i.forEach(function(e,t){var i=n.parseRtpParameters(e);a._pendingOffer[t].localCapabilities=i}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===t.type){i=n.splitSections(a.remoteDescription.sdp),s=i.shift();var l=n.matchPrefix(s,"a=ice-lite").length>0;i.forEach(function(e,t){var i=a.transceivers[t],o=i.iceGatherer,c=i.iceTransport,u=i.dtlsTransport,h=i.localCapabilities,d=i.remoteCapabilities;if(!n.isRejected(e)&&!i.isDatachannel){var p=n.getIceParameters(e,s),f=n.getDtlsParameters(e,s);l&&(f.role="server"),(!a.usingBundle||0===t)&&(c.start(o,p,l?"controlling":"controlled"),u.start(f));var m=r(h,d);a._transceive(i,m.codecs.length>0,!1)}})}switch(this.localDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}var u=arguments.length>1&&"function"==typeof arguments[1];if(u){var h=arguments[1];e.setTimeout(function(){h(),"new"===a.iceGatheringState&&(a.iceGatheringState="gathering",a._emitGatheringStateChange()),a._emitBufferedCandidates()},0)}var d=Promise.resolve();return d.then(function(){u||("new"===a.iceGatheringState&&(a.iceGatheringState="gathering",a._emitGatheringStateChange()),e.setTimeout(a._emitBufferedCandidates.bind(a),500))}),d},i.prototype.setRemoteDescription=function(i){var s=this;if(!o("setRemoteDescription",i.type,this.signalingState)){var r=new Error("Can not set remote "+i.type+" in state "+this.signalingState);return r.name="InvalidStateError",arguments.length>2&&"function"==typeof arguments[2]&&e.setTimeout(arguments[2],0,r),Promise.reject(r)}var a={},c=[],l=n.splitSections(i.sdp),u=l.shift(),h=n.matchPrefix(u,"a=ice-lite").length>0,d=n.matchPrefix(u,"a=group:BUNDLE ").length>0;this.usingBundle=d;var p=n.matchPrefix(u,"a=ice-options:")[0];switch(this.canTrickleIceCandidates=!!p&&p.substr(14).split(" ").indexOf("trickle")>=0,l.forEach(function(r,o){var l=n.splitLines(r),p=n.getKind(r),f=n.isRejected(r),m=l[0].substr(2).split(" ")[2],g=n.getDirection(r,u),_=n.parseMsid(r),v=n.getMid(r)||n.generateIdentifier();if("application"!==p||"DTLS/SCTP"!==m){var b,y,S,C,w,E,T,k,x,A,I,O=n.parseRtpParameters(r);f||(A=n.getIceParameters(r,u),(I=n.getDtlsParameters(r,u)).role="client"),T=n.parseRtpEncodingParameters(r);var R=n.parseRtcpParameters(r),P=n.matchPrefix(r,"a=end-of-candidates",u).length>0,D=n.matchPrefix(r,"a=candidate:").map(function(e){return n.parseCandidate(e)}).filter(function(e){return"1"===e.component||1===e.component});("offer"===i.type||"answer"===i.type)&&!f&&d&&o>0&&s.transceivers[o]&&(s._disposeIceAndDtlsTransports(o),s.transceivers[o].iceGatherer=s.transceivers[0].iceGatherer,s.transceivers[o].iceTransport=s.transceivers[0].iceTransport,s.transceivers[o].dtlsTransport=s.transceivers[0].dtlsTransport,s.transceivers[o].rtpSender&&s.transceivers[o].rtpSender.setTransport(s.transceivers[0].dtlsTransport),s.transceivers[o].rtpReceiver&&s.transceivers[o].rtpReceiver.setTransport(s.transceivers[0].dtlsTransport)),"offer"!==i.type||f?"answer"===i.type&&!f&&(y=(b=s.transceivers[o]).iceGatherer,S=b.iceTransport,C=b.dtlsTransport,w=b.rtpReceiver,E=b.sendEncodingParameters,k=b.localCapabilities,s.transceivers[o].recvEncodingParameters=T,s.transceivers[o].remoteCapabilities=O,s.transceivers[o].rtcpParameters=R,(!d||0===o)&&((h||P)&&D.length&&S.setRemoteCandidates(D),S.start(y,A,"controlling"),C.start(I)),s._transceive(b,"sendrecv"===g||"recvonly"===g,"sendrecv"===g||"sendonly"===g),!w||"sendrecv"!==g&&"sendonly"!==g?delete b.rtpReceiver:(x=w.track,_?(a[_.stream]||(a[_.stream]=new e.MediaStream),a[_.stream].addTrack(x),c.push([x,w,a[_.stream]])):(a.default||(a.default=new e.MediaStream),a.default.addTrack(x),c.push([x,w,a.default])))):((b=s.transceivers[o]||s._createTransceiver(p)).mid=v,b.iceGatherer||(b.iceGatherer=d&&o>0?s.transceivers[0].iceGatherer:s._createIceGatherer(v,o)),P&&D.length&&(!d||0===o)&&b.iceTransport.setRemoteCandidates(D),k=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(k.codecs=k.codecs.filter(function(e){return"rtx"!==e.name})),E=[{ssrc:1001*(2*o+2)}],("sendrecv"===g||"sendonly"===g)&&(x=(w=new e.RTCRtpReceiver(b.dtlsTransport,p)).track,_?(a[_.stream]||(a[_.stream]=new e.MediaStream,Object.defineProperty(a[_.stream],"id",{get:function(){return _.stream}})),Object.defineProperty(x,"id",{get:function(){return _.track}}),a[_.stream].addTrack(x),c.push([x,w,a[_.stream]])):(a.default||(a.default=new e.MediaStream),a.default.addTrack(x),c.push([x,w,a.default]))),b.localCapabilities=k,b.remoteCapabilities=O,b.rtpReceiver=w,b.rtcpParameters=R,b.sendEncodingParameters=E,b.recvEncodingParameters=T,s._transceive(s.transceivers[o],!1,"sendrecv"===g||"sendonly"===g))}else s.transceivers[o]={mid:v,isDatachannel:!0}}),this.remoteDescription={type:i.type,sdp:i.sdp},i.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+i.type+'"')}return Object.keys(a).forEach(function(t){var i=a[t];if(i.getTracks().length){s.remoteStreams.push(i);var n=new Event("addstream");n.stream=i,s.dispatchEvent(n),null!==s.onaddstream&&e.setTimeout(function(){s.onaddstream(n)},0),c.forEach(function(t){var n=t[0],r=t[1];if(i.id===t[2].id){var o=new Event("track");o.track=n,o.receiver=r,o.streams=[i],s.dispatchEvent(o),null!==s.ontrack&&e.setTimeout(function(){s.ontrack(o)},0)}})}}),e.setTimeout(function(){!s||!s.transceivers||s.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),arguments.length>1&&"function"==typeof arguments[1]&&e.setTimeout(arguments[1],0),Promise.resolve()},i.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},i.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},i.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"!==this.signalingState||!0===this.needNegotiation||(this.needNegotiation=!0,e.setTimeout(function(){if(!1!==t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t.dispatchEvent(e),null!==t.onnegotiationneeded&&t.onnegotiationneeded(e)}},0))},i.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0||t.checking>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":(t.connected>0||t.completed>0)&&(e="connected"),e!==this.iceConnectionState){this.iceConnectionState=e;var i=new Event("iceconnectionstatechange");this.dispatchEvent(i),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(i)}},i.prototype.createOffer=function(){var i,r=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");1===arguments.length&&"function"!=typeof arguments[0]?i=arguments[0]:3===arguments.length&&(i=arguments[2]);var o=this.transceivers.filter(function(e){return"audio"===e.kind}).length,a=this.transceivers.filter(function(e){return"video"===e.kind}).length;if(i){if(i.mandatory||i.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==i.offerToReceiveAudio&&(o=!0===i.offerToReceiveAudio?1:!1===i.offerToReceiveAudio?0:i.offerToReceiveAudio),void 0!==i.offerToReceiveVideo&&(a=!0===i.offerToReceiveVideo?1:!1===i.offerToReceiveVideo?0:i.offerToReceiveVideo)}for(this.transceivers.forEach(function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});o>0||a>0;)o>0&&(this._createTransceiver("audio"),o--),a>0&&(this._createTransceiver("video"),a--);var c=s(this.transceivers),l=n.writeSessionBoilerplate(this._sdpSessionId);c.forEach(function(i,s){var o=i.track,a=i.kind,l=n.generateIdentifier();i.mid=l,i.iceGatherer||(i.iceGatherer=r.usingBundle&&s>0?c[0].iceGatherer:r._createIceGatherer(l,s));var u=e.RTCRtpSender.getCapabilities(a);t<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1")});var h=[{ssrc:1001*(2*s+1)}];o&&t>=15019&&"video"===a&&(h[0].rtx={ssrc:1001*(2*s+1)+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,a)),i.localCapabilities=u,i.sendEncodingParameters=h}),"max-compat"!==this._config.bundlePolicy&&(l+="a=group:BUNDLE "+c.map(function(e){return e.mid}).join(" ")+"\r\n"),l+="a=ice-options:trickle\r\n",c.forEach(function(e,t){l+=n.writeMediaSection(e,e.localCapabilities,"offer",e.stream),l+="a=rtcp-rsize\r\n"}),this._pendingOffer=c;var u=new e.RTCSessionDescription({type:"offer",sdp:l});return arguments.length&&"function"==typeof arguments[0]&&e.setTimeout(arguments[0],0,u),Promise.resolve(u)},i.prototype.createAnswer=function(){var i=n.writeSessionBoilerplate(this._sdpSessionId);this.usingBundle&&(i+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(e,s){if(e.isDatachannel)i+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+e.mid+"\r\n";else{var o;e.stream&&("audio"===e.kind?o=e.stream.getAudioTracks()[0]:"video"===e.kind&&(o=e.stream.getVideoTracks()[0]),o&&t>=15019&&"video"===e.kind&&(e.sendEncodingParameters[0].rtx={ssrc:1001*(2*s+2)+1}));var a=r(e.localCapabilities,e.remoteCapabilities);!a.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,i+=n.writeMediaSection(e,a,"answer",e.stream),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(i+="a=rtcp-rsize\r\n")}});var s=new e.RTCSessionDescription({type:"answer",sdp:i});return arguments.length&&"function"==typeof arguments[0]&&e.setTimeout(arguments[0],0,s),Promise.resolve(s)},i.prototype.addIceCandidate=function(t){if(t){var i=t.sdpMLineIndex;if(t.sdpMid)for(var s=0;s<this.transceivers.length;s++)if(this.transceivers[s].mid===t.sdpMid){i=s;break}var r=this.transceivers[i];if(r){var o=Object.keys(t.candidate).length>0?n.parseCandidate(t.candidate):{};if("tcp"===o.protocol&&(0===o.port||9===o.port)||o.component&&"1"!==o.component&&1!==o.component)return Promise.resolve();r.iceTransport.addRemoteCandidate(o);var a=n.splitSections(this.remoteDescription.sdp);a[i+1]+=(o.type?t.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=a.join("")}}else for(var c=0;c<this.transceivers.length;c++)if(this.transceivers[c].iceTransport.addRemoteCandidate({}),this.usingBundle)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&e.setTimeout(arguments[1],0),Promise.resolve()},i.prototype.getStats=function(){var t=[];this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(i){e[i]&&t.push(e[i].getStats())})});var i=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],n=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};return new Promise(function(s){var r=new Map;Promise.all(t).then(function(t){t.forEach(function(e){Object.keys(e).forEach(function(t){e[t].type=n(e[t]),r.set(t,e[t])})}),i&&e.setTimeout(i,0,r),s(r)})})},i}},48575:function(e,t,i){"use strict";var n=i(61977),s={shimOnTrack:function(e){"object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)&&Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=(function(e){e.stream.getTracks().forEach((function(t){var i=new Event("track");i.track=t,i.receiver={track:t},i.streams=[e.stream],this.dispatchEvent(i)}).bind(this))}).bind(this))}})},shimSourceObject:function(e){"object"==typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})},shimPeerConnection:function(e){var t=n.detectBrowser(e);if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(i,n){if(t.version<38&&i&&i.iceServers){for(var s=[],r=0;r<i.iceServers.length;r++){var o=i.iceServers[r];if(o.hasOwnProperty("urls"))for(var a=0;a<o.urls.length;a++){var c={url:o.urls[a]};0===o.urls[a].indexOf("turn")&&(c.username=o.username,c.credential=o.credential),s.push(c)}else s.push(i.iceServers[r])}i.iceServers=s}return new e.mozRTCPeerConnection(i,n)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}});var i=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var s={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,i,n){return r.apply(this,[e||null]).then(function(e){if(t.version<48&&(e=function(e){var t=new Map;return Object.keys(e).forEach(function(i){t.set(i,e[i]),t[i]=e[i]}),t}(e)),t.version<53&&!i)try{e.forEach(function(e){e.type=s[e.type]||e.type})}catch(n){if("TypeError"!==n.name)throw n;e.forEach(function(t,i){e.set(i,Object.assign({},t,{type:s[t.type]||t.type}))})}return e}).then(i,n)}}}};e.exports={shimOnTrack:s.shimOnTrack,shimSourceObject:s.shimSourceObject,shimPeerConnection:s.shimPeerConnection,shimGetUserMedia:i(74501)}},74501:function(e,t,i){"use strict";var n=i(61977),s=n.log;e.exports=function(e){var t=n.detectBrowser(e),i=e&&e.navigator,r=e&&e.MediaStreamTrack,o=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},a=function(e,n,r){var a=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(i){if("require"!==i&&"advanced"!==i&&"mediaSource"!==i){var n=e[i]="object"==typeof e[i]?e[i]:{ideal:e[i]};if((void 0!==n.min||void 0!==n.max||void 0!==n.exact)&&t.push(i),void 0!==n.exact&&("number"==typeof n.exact?n.min=n.max=n.exact:e[i]=n.exact,delete n.exact),void 0!==n.ideal){e.advanced=e.advanced||[];var s={};s[i]="number"==typeof n.ideal?{min:n.ideal,max:n.ideal}:n.ideal,e.advanced.push(s),delete n.ideal,Object.keys(n).length||delete e[i]}}}),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),t.version<38&&(s("spec: "+JSON.stringify(e)),e.audio&&(e.audio=a(e.audio)),e.video&&(e.video=a(e.video)),s("ff37: "+JSON.stringify(e))),i.mozGetUserMedia(e,n,function(e){r(o(e))})};if(i.mediaDevices||(i.mediaDevices={getUserMedia:function(e){return new Promise(function(t,i){a(e,t,i)})},addEventListener:function(){},removeEventListener:function(){}}),i.mediaDevices.enumerateDevices=i.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},t.version<41){var c=i.mediaDevices.enumerateDevices.bind(i.mediaDevices);i.mediaDevices.enumerateDevices=function(){return c().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(t.version<49){var l=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(e){return l(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(o(e))})}}if(!(t.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){var u=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},h=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),u(e.audio,"autoGainControl","mozAutoGainControl"),u(e.audio,"noiseSuppression","mozNoiseSuppression")),h(e)},r&&r.prototype.getSettings){var d=r.prototype.getSettings;r.prototype.getSettings=function(){var e=d.apply(this,arguments);return u(e,"mozAutoGainControl","autoGainControl"),u(e,"mozNoiseSuppression","noiseSuppression"),e}}if(r&&r.prototype.applyConstraints){var p=r.prototype.applyConstraints;r.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),u(e,"autoGainControl","mozAutoGainControl"),u(e,"noiseSuppression","mozNoiseSuppression")),p.apply(this,[e])}}}i.getUserMedia=function(e,s,r){if(t.version<44)return a(e,s,r);n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(e).then(s,r)}}},92880:function(e,t,i){"use strict";var n=i(61977),s={shimLocalStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach(function(i){i.id===e&&(t=i)}),this._remoteStreams&&this._remoteStreams.forEach(function(i){i.id===e&&(t=i)}),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var i=this;e.getTracks().forEach(function(n){t.call(i,n,e)})},e.RTCPeerConnection.prototype.addTrack=function(e,i){i&&(this._localStreams?-1===this._localStreams.indexOf(i)&&this._localStreams.push(i):this._localStreams=[i]),t.call(this,e,i)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var i=this,n=e.getTracks();this.getSenders().forEach(function(e){-1!==n.indexOf(e.track)&&i.removeTrack(e)})}})}},shimRemoteStreamsAPI:function(e){"object"!=typeof e||!e.RTCPeerConnection||("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),"onaddstream"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=(function(e){var t=e.streams[0];if(this._remoteStreams||(this._remoteStreams=[]),!(this._remoteStreams.indexOf(t)>=0)){this._remoteStreams.push(t);var i=new Event("addstream");i.stream=e.streams[0],this.dispatchEvent(i)}}).bind(this))}}))},shimCallbacksAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,s=t.setLocalDescription,r=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],s=i.apply(this,[n]);return t?(s.then(e,t),Promise.resolve()):s},t.createAnswer=function(e,t){var i=arguments.length>=2?arguments[2]:arguments[0],s=n.apply(this,[i]);return t?(s.then(e,t),Promise.resolve()):s};var a=function(e,t,i){var n=s.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n};t.setLocalDescription=a,t.setRemoteDescription=a=function(e,t,i){var n=r.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.addIceCandidate=a=function(e,t,i){var n=o.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n}}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}).bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){for(var s=[],r=0;r<e.iceServers.length;r++){var o=e.iceServers[r];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,s.push(o)):s.push(e.iceServers[r])}e.iceServers=s}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}};e.exports={shimCallbacksAPI:s.shimCallbacksAPI,shimLocalStreamsAPI:s.shimLocalStreamsAPI,shimRemoteStreamsAPI:s.shimRemoteStreamsAPI,shimGetUserMedia:s.shimGetUserMedia,shimRTCIceServerUrls:s.shimRTCIceServerUrls}},61977:function(e){"use strict";var t=!0,i=!0,n={disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(t=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(t)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){!i||console.warn(e+" is deprecated, please use "+t+" instead.")},extractVersion:function(e,t,i){var n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)},detectBrowser:function(e){var t=e&&e.navigator,i={browser:null,version:null};if(void 0===e||!e.navigator)return i.browser="Not a browser.",i;if(t.mozGetUserMedia)i.browser="firefox",i.version=this.extractVersion(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)if(e.webkitRTCPeerConnection)i.browser="chrome",i.version=this.extractVersion(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!t.userAgent.match(/Version\/(\d+).(\d+)/))return i.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",i;i.browser="safari",i.version=this.extractVersion(t.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))i.browser="edge",i.version=this.extractVersion(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!t.mediaDevices||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return i.browser="Not a supported browser.",i;i.browser="safari",i.version=this.extractVersion(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return i},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"==typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype){var i=t.createObjectURL.bind(t),s=t.revokeObjectURL.bind(t),r=new Map,o=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++o;return r.set(t,e),n.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return i(e)},t.revokeObjectURL=function(e){s(e),r.delete(e)};var a=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return a.get.apply(this)},set:function(e){return this.srcObject=r.get(e)||null,a.set.apply(this,[e])}});var c=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=r.get(arguments[1])||null),c.apply(this,arguments)}}}};e.exports={log:n.log,deprecated:n.deprecated,disableLog:n.disableLog,disableWarnings:n.disableWarnings,extractVersion:n.extractVersion,shimCreateObjectURL:n.shimCreateObjectURL,detectBrowser:n.detectBrowser.bind(n)}},30234:function(e,t,i){"use strict";i.d(t,{C:function(){return s}});var n=i(37716);let s=(()=>{class e{constructor(e){this.elementRef=e}ngAfterContentInit(){this.elementRef.nativeElement.focus()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275dir=n.lG2({type:e,selectors:[["","dynamicAutofocus",""]]}),e})()},47203:function(e,t,i){"use strict";i.d(t,{l:function(){return o}});var n=i(26215),s=i(79765),r=i(37716);let o=(()=>{class e{constructor(){this.emitChange$=new n.X(null),this.AdminRouteConfigSource=new s.xQ,this.ownPermissionsChangeSource=new s.xQ,this.ownPermissionsChange$=this.ownPermissionsChangeSource.asObservable()}emit(e){this.emitChange$.next(e)}set routerConfig(e){this.AdminRouteConfigSource.next(e)}set ownPermissionsChange(e){this.ownPermissionsChangeSource.next(e)}get emitChange(){return this.emitChange$}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},35249:function(e,t,i){"use strict";i.d(t,{Y:function(){return l}});var n=i(78345),s=i(40205),r=i(28123),o=i(39485),a=i(37716),c=i(91841);let l=(()=>{class e{constructor(e){this.http=e,this.authenticated=!1,this.cacheKey="AdminToken"}login(e){const t=this.http.post(`${this.apiEndpointAdmin}/login`,JSON.stringify(e)).pipe((0,n.B)());return t.subscribe(t=>{t.access_token&&this.authenticate(t.access_token,!e.rememberMe)},this.handleError),t}adminSwitch(e){const t=this.http.post(`${this.apiEndpointAdmin}/switch`,JSON.stringify(e)).pipe((0,n.B)());return t.subscribe(e=>{e.access_token&&this.authenticateAdmin(e.access_token)},this.handleError),t}switchToClient(){const e=this.getToken();e&&this.authenticate(e,r.Q.isLongtimeToken(this.cacheKey))}logout(){const e=this.http.post(`${this.apiEndpointAdmin}/logout`,{}).pipe((0,n.B)());return e.subscribe(()=>{this.invalidate()},()=>{}),e}invalidate(){r.Q.removeAll(),r.Q.removeItem(this.cacheKey),this.authenticated=!1}dropAdminSession(){const e=this.http.delete(`${this.apiEndpointAdmin}/session`,{});return e.subscribe(()=>{},()=>{}),e}checkAdminSession(){let e=200;return this.http.get(`${this.apiEndpointAdmin}/session`,{}).subscribe(t=>{e=t.status},t=>{e=t.status}),200===e}getToken(){return r.Q.getCached(this.cacheKey,"")}getBearerAuth(){return`Bearer ${this.getToken()}`}getCredentials(){return{headers:{Authorization:this.getBearerAuth()}}}authenticate(e,t=!1){r.Q.store(this.cacheKey,e,t),this.authenticated=!0}authenticateAdmin(e,t=!1,i){e&&(r.Q.store(this.cacheKey,e,!r.Q.isLongtimeToken(this.cacheKey)),this.authenticated=!0,i&&i())}isAuthenticated(){return r.Q.getCached(this.cacheKey,!1)}handleError(e){return(0,s._)(e||"Error API")}get apiEndpointAdmin(){return`${o.N.API_URL}/admin`}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},89447:function(e,t,i){"use strict";i.d(t,{B:function(){return v},q:function(){return _}});var n=i(26215),s=i(79765),r=i(88002),o=i(68307),a=i(99385),c=i(28123),l=i(37692),u=i(56507);class h extends l.H{setAttributes(e){this.accountId=e.accountId,this.accountType=e.accountType,this.externalIdentifier=e.externalIdentifier,this.name=e.name,this.status=e.status,this.permissions=e.permissions?e.permissions:new u.P,this.childAccounts=e.childAccounts,this.parentAccounts=e.parentAccounts}fromJSON(e){this.setAttributes(e)}getAccountType(){return this.externalIdentifier?this.externalIdentifier.slice(0,1).toUpperCase():"-"}get isKAccount(){return"K"===this.getAccountType()}}var d=i(39485),p=i(37716),f=i(91841),m=i(35249),g=i(19122);const _="selectedAccount";let v=(()=>{class e{constructor(e,t,i){this.http=e,this.adminAuthService=t,this.apiAdminService=i,this.selectedAccountSource=new n.X(c.Q.getCached(_,null)),this.selectedAccountModulesSource=new s.xQ,this.selectedAccount$=this.selectedAccountSource.asObservable(),this.selectedAccountModules$=this.selectedAccountModulesSource.asObservable(),this.selectedAccount&&this.emitSelectedAccountModules()}getAllAccounts(t="",i=1,n=25,s=""){const l=(0,a.U8)(t,i,n,"name");s&&(s=`/${s}`);const u=Object.assign(Object.assign({},this.adminAuthService.getCredentials()),{observe:"response"});return this.http.get(`${d.N.API_URL}/admin/accounts${s}?${l}`,u).pipe((0,r.U)(e=>({data:e.body,paginationHasMoreData:+e.headers.get("x-pagination-current-page")<+e.headers.get("x-pagination-page-count")})),(0,o.b)(e=>{const n=e.data;1===(null==n?void 0:n.length)&&1===i&&!t&&!c.Q.getCached(_,!1)&&(this.selectedAccount=n[0],"Customer"===n[0].accountType&&(this.isOnlyAccount=!0))}),(0,r.U)(e.mapResponseWithMultipleItems))}getAccount(t){return this.http.get(`${d.N.API_URL}/admin/account/${t}`,this.adminAuthService.getCredentials()).pipe((0,r.U)(e.mapResponseWithSingleItem))}getChildAccounts(e){return this.getAccount(e).pipe((0,r.U)(e=>e.childAccounts))}getParentAccounts(e){return this.getAccount(e).pipe((0,r.U)(e=>e.parentAccounts))}getParentAccount(e){return this.getParentAccounts(e).pipe((0,r.U)(e=>e&&e[0]))}checkUsername(e){return this.http.post(`${d.N.API_URL}/admin/accounts/${this.selectedAccount.accountType}:${this.selectedAccount.accountId}/users/userHasPhoneextension`,JSON.stringify({username:e}),this.adminAuthService.getCredentials())}getSelectedAccountModules(){return this.apiAdminService.get(`${d.N.API_URL}/user/info/modules/${this.selectedAccount.accountId}`)}emitSelectedAccountModules(){this.getSelectedAccountModules().subscribe(e=>{this.selectedAccountModulesSource.next(e)})}static mapToAccount(e){const t=new h;return t.fromJSON(e),t}static mapResponseWithMultipleItems(t){return t&&Object.assign(Object.assign({},t),{data:t.data.map(e.mapToAccount)})}static mapResponseWithSingleItem(t){return t&&e.mapToAccount(t)}set selectedAccount(e){this.selectedAccountSource.next(e),c.Q.store(_,e),this.emitSelectedAccountModules()}get selectedAccount(){return this.selectedAccountSource.getValue()}get isKAccountSelected(){return"k"===(this.selectedAccount&&this.selectedAccount.externalIdentifier.charAt(0).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(f.eN),p.LFG(m.Y),p.LFG(g.i))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e})()},56507:function(e,t,i){"use strict";i.d(t,{P:function(){return s}});var n=i(37692);class s extends n.H{constructor(){super(...arguments),this.client_login=!1,this.client_mobile_pack_contract_type_mini_mouse=!1,this.admin_login=!1,this.admin_login_inherited=!1}setAttributes(e){e.forEach(e=>{switch(e.roleName){case"zebra.client.login":this.client_login=!0;break;case"zebra.admin.login":this.admin_login=!0,this.admin_login_inherited=e.account_id!==e.parent_account_id;break;case"zebra.client.mobile_pack.contract_type_mini_mouse":this.client_mobile_pack_contract_type_mini_mouse=!0}})}fromForm(e){this.client_mobile_pack_contract_type_mini_mouse=e.client_mobile_pack_contract_type_mini_mouse,this.client_login=e.client_login,this.admin_login=e.admin_login}fromJSON(e){this.setAttributes(e)}getDiff(e){const t={};return void 0!==this.client_login&&this.client_login!==e.client_login&&(t.client_login=this.client_login),void 0!==this.client_mobile_pack_contract_type_mini_mouse&&this.client_mobile_pack_contract_type_mini_mouse!==e.client_mobile_pack_contract_type_mini_mouse&&(t.client_mobile_pack_contract_type_mini_mouse=this.client_mobile_pack_contract_type_mini_mouse),void 0!==this.admin_login&&this.admin_login!==e.admin_login&&(t.admin_login=this.admin_login),t}}},52538:function(e,t,i){"use strict";i.d(t,{H:function(){return a}});var n=i(39485),s=i(78345),r=i(37716),o=i(91841);let a=(()=>{class e{constructor(e){this.http=e,this.apiEndpoint=`${n.N.API_URL}/user`}getLoginCredentialsApi(e){return this.http.post(`${this.apiEndpoint}/login`,e)}logout(){return this.http.post(`${this.apiEndpoint}/logout`,{})}forgotPassword(e){return this.http.post(`${this.apiEndpoint}/forgot-password`,e).pipe((0,s.B)())}passwordReset(e,t){return this.http.post(`${this.apiEndpoint}/password-reset`,e,this.appendBearerTokenToHeaders(t)).pipe((0,s.B)())}checkPasswordResetToken(e){return this.http.get(`${this.apiEndpoint}/password-reset`,this.appendBearerTokenToHeaders(e))}appendBearerTokenToHeaders(e,t={}){return{headers:Object.assign({},{Authorization:`Bearer ${e}`},t)}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8780:function(e,t,i){"use strict";i.d(t,{r:function(){return g}});var n=i(45435),s=i(68307),r=i(28123),o=i(71188),a=i(89447),c=i(37716),l=i(92937),u=i(52538),h=i(51233),d=i(67267),p=i(8307),f=i(22238),m=i(35249);let g=(()=>{class e{constructor(e,t,i,s,r,o,a,c){this.tokenService=e,this.apiLoginService=t,this.userService=i,this.meetingService=s,this.router=r,this.route=o,this.dialog=a,this.adminAuthService=c,this.userService.userInfo$.pipe((0,n.h)(e=>!!e)).subscribe(e=>{var t,i;this.authCredentials={clientAccess:null===(t=e.modules)||void 0===t?void 0:t.includes("client"),isSubmitted:!1,adminAccess:null===(i=e.modules)||void 0===i?void 0:i.includes("admin"),useCaptcha:!1}})}login(e){return this.apiLoginService.getLoginCredentialsApi(e).pipe((0,s.b)(t=>{var i;this.setAccess(t,e),!this.authCredentials.clientAccess&&this.authCredentials.adminAccess&&(null===(i=this.authCredentials)||void 0===i?void 0:i.access_token)&&(this.adminAuthService.authenticate(this.authCredentials.access_token),this.redirectUrl="/admin/user")}))}logout(){this.router.url.includes("admin")?this.logoutFromAdminPortal():this.logoutFromCloudya(),this.dialog.closeAll()}setAccess(e,t){this.authCredentials={clientAccess:e.client,isSubmitted:!1,adminAccess:e.admin,useCaptcha:!1,access_token:e.access_token},this.authCredentials.access_token&&(r.Q.store(this.tokenService.CACHE_KEY,e.access_token,!t.rememberMe),this.tokenService.setToken(this.authCredentials.access_token)),r.Q.removeItem("nfon_failed_login"),o.V.doNotDisturb=!1}logoutFromCloudya(){r.Q.clearToken("token"),this.router.navigate(["/auth/logout"])}logoutFromAdminPortal(){var e;r.Q.removeItem("AdminToken"),r.Q.removeItem(a.q),(null===(e=this.authCredentials)||void 0===e?void 0:e.clientAccess)&&this.hasWindowBeenOpenedByScript()?window.close():this.logoutFromCloudya()}hasWindowBeenOpenedByScript(){return!!window.opener}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(l.B),c.LFG(u.H),c.LFG(h.K),c.LFG(d.D),c.LFG(p.F0),c.LFG(p.gz),c.LFG(f.uw),c.LFG(m.Y))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},92937:function(e,t,i){"use strict";i.d(t,{B:function(){return o}});var n=i(26215),s=i(28123),r=i(37716);let o=(()=>{class e{constructor(){this.tokenSource=new n.X(null),this.CACHE_KEY="token",this.token$=this.tokenSource.asObservable()}initCachedToken(){const e=s.Q.getCached(this.CACHE_KEY,"");e&&this.tokenSource.next(e)}isValidToken(){return!!this.getToken()}getToken(){return this.tokenSource.getValue()}invalidateToken(){s.Q.removeAll(),this.clearToken()}setToken(e){s.Q.store(this.CACHE_KEY,e,!this.isLongtimeToken()),this.tokenSource.next(e)}isLongtimeToken(){return s.Q.isLongtimeToken(this.CACHE_KEY)}clearToken(){s.Q.clearToken(this.CACHE_KEY),this.tokenSource.next(null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},10253:function(e,t,i){"use strict";i.d(t,{M:function(){return d}});var n=i(37716),s=i(8780),r=i(38583),o=i(78023),a=i(69225),c=i(42070);function l(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-button",4),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw().logout()}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("iconFill",e.iconColorClass)("e2e",e.e2e?e.e2e+"__logout":null)}}function u(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"system-config-switch-button",5),n.NdJ("configSwitchButtonClicked",function(){return n.CHM(e),n.oxw().logout()}),n.qZA()}}function h(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"footer-actions",6),n.NdJ("cancelClick",function(){return n.CHM(e),n.oxw().logout()}),n.qZA()}2&e&&n.Q6J("isBtnSaveHidden",!0)}let d=(()=>{class e{constructor(e){this.loginService=e,this.iconColorClass="white",this.logoutButtonType="icon"}logout(){this.loginService.logout()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.r))},e.\u0275cmp=n.Xpm({type:e,selectors:[["logout-button"]],inputs:{iconColorClass:"iconColorClass",logoutButtonType:"logoutButtonType",e2e:"e2e"},decls:4,vars:4,consts:[[3,"ngSwitch"],["iconFillClass","drawer-button","hoverTextTranslationKey","title.logout","iconName","logout","iconSize","small",3,"iconFill","e2e","appButtonClick",4,"ngSwitchCase"],[3,"configSwitchButtonClicked",4,"ngSwitchCase"],["btnCancelCaption","admin_session_ended_modal.close","e2e","admin-session-timeout-modal-fragment",3,"isBtnSaveHidden","cancelClick",4,"ngSwitchCase"],["iconFillClass","drawer-button","hoverTextTranslationKey","title.logout","iconName","logout","iconSize","small",3,"iconFill","e2e","appButtonClick"],[3,"configSwitchButtonClicked"],["btnCancelCaption","admin_session_ended_modal.close","e2e","admin-session-timeout-modal-fragment",3,"isBtnSaveHidden","cancelClick"]],template:function(e,t){1&e&&(n.ynx(0,0),n.YNc(1,l,1,2,"app-button",1),n.YNc(2,u,1,0,"system-config-switch-button",2),n.YNc(3,h,1,1,"footer-actions",3),n.BQk()),2&e&&(n.Q6J("ngSwitch",t.logoutButtonType),n.xp6(1),n.Q6J("ngSwitchCase","icon"),n.xp6(1),n.Q6J("ngSwitchCase","systemConfig"),n.xp6(1),n.Q6J("ngSwitchCase","ok"))},directives:[r.RF,r.n9,o.V,a.w,c.c],encapsulation:2}),e})()},69225:function(e,t,i){"use strict";i.d(t,{w:function(){return x}});var n=i(37716),s=i(3679),r=i(79765),o=i(46782),a=i(22238),c=i(35249),l=i(8307),u=i(89973),h=i(52592),d=i(38583),p=i(98295),f=i(83166),m=i(85499),g=i(42070),_=i(29790);function v(e,t){1&e&&(n.TgZ(0,"mat-hint",6),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"admin_switch_modal.password.error.required")," "))}const b=function(e){return{minlength:e}};function y(e,t){if(1&e&&(n.TgZ(0,"mat-hint",6),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,"admin_switch_modal.password.error.minlength",n.VKq(4,b,null==e.adminLoginForm.controls.password.errors||null==e.adminLoginForm.controls.password.errors.minlength?null:e.adminLoginForm.controls.password.errors.minlength.requiredLength))," ")}}function S(e,t){1&e&&(n.TgZ(0,"mat-hint",6),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"admin_switch_modal.password.error.wrong")," "))}function C(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"section"),n.TgZ(1,"mat-form-field"),n.TgZ(2,"input",4),n.NdJ("ngModelChange",function(){return n.CHM(e),n.oxw().onPasswordChange()})("ngModelChange",function(t){return n.CHM(e),n.oxw().password=t}),n.ALo(3,"translate"),n.qZA(),n.YNc(4,v,3,3,"mat-hint",5),n.YNc(5,y,3,6,"mat-hint",5),n.YNc(6,S,3,3,"mat-hint",5),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(2),n.s9C("minlength",null==e.adminLoginForm.controls.password.errors||null==e.adminLoginForm.controls.password.errors.minlength?null:e.adminLoginForm.controls.password.errors.minlength.requiredLength),n.Q6J("ngModel",e.password)("focus",!0)("placeholder",n.lcZ(3,7,"admin_switch_modal.password.label")),n.xp6(2),n.Q6J("ngIf",e.adminLoginForm.controls.password.hasError("required")&&e.adminLoginForm.controls.password.touched),n.xp6(1),n.Q6J("ngIf",e.adminLoginForm.controls.password.hasError("minlength")&&e.adminLoginForm.controls.password.touched),n.xp6(1),n.Q6J("ngIf",e.isPasswordIncorrect)}}function w(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"footer-actions",7),n.NdJ("cancelClick",function(){return n.CHM(e),n.oxw().close()}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("btnSaveCaption","admin_switch_modal.login")("saveDisabled",!e.adminLoginForm.valid)}}let E=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.adminAuthService=t,this.router=i,this.ngUnsubscribe=new r.xQ,this.isSending=!1,this.isLoginFailed=!1,this.isPasswordIncorrect=!1,this.adminLoginForm=new s.cw({password:new s.NI(this.password,s.kI.compose([s.kI.required,s.kI.minLength(3)]))})}ngOnInit(){this.isLoginFailed=!0}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onPasswordChange(){this.isPasswordIncorrect=!1}onAdminLogin(){this.isSending=!0,this.adminAuthService.adminSwitch(this.adminLoginForm.value).pipe((0,o.R)(this.ngUnsubscribe)).subscribe(()=>{this.isSending=!1,this.isLoginFailed=!1,this.isPasswordIncorrect=!1,this.openAdminTab()},e=>{this.isSending=!1,this.isPasswordIncorrect=!0,this.isLoginFailed=!0})}openAdminTab(){this.close(),window.open("/admin/user")}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(a.so),n.Y36(c.Y),n.Y36(l.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["admin-switch-modal"]],decls:5,vars:7,consts:[["id","forward-modal","data-e2e","password-confirmation-modal-fragment",1,"admin-switch",3,"title"],["loading-area-indicator","","novalidate","",3,"formGroup","loadingAreaIndicatorActive","ngSubmit"],[4,"ngIf"],["e2e","password-confirmation-modal-fragment",3,"btnSaveCaption","saveDisabled","cancelClick",4,"ngIf"],["autocomplete","off","formControlName","password","matInput","","type","password","data-e2e","password-confirmation-modal-fragment__password--input",3,"ngModel","focus","placeholder","minlength","ngModelChange"],["class","mat-hint--error",4,"ngIf"],[1,"mat-hint--error"],["e2e","password-confirmation-modal-fragment",3,"btnSaveCaption","saveDisabled","cancelClick"]],template:function(e,t){1&e&&(n.TgZ(0,"modal-container",0),n.ALo(1,"translate"),n.TgZ(2,"form",1),n.NdJ("ngSubmit",function(){return t.adminLoginForm.valid&&t.onAdminLogin()}),n.YNc(3,C,7,9,"section",2),n.YNc(4,w,1,2,"footer-actions",3),n.qZA(),n.qZA()),2&e&&(n.Q6J("title",n.lcZ(1,5,"admin_switch_modal.title")),n.xp6(2),n.Q6J("formGroup",t.adminLoginForm)("loadingAreaIndicatorActive",t.isSending),n.xp6(1),n.Q6J("ngIf",t.isLoginFailed),n.xp6(1),n.Q6J("ngIf",t.isLoginFailed))},directives:[u.O,s._Y,s.JL,h.O,s.sg,d.O5,p.KE,s.Fj,f.Nt,s.JJ,s.u,m.R,s.wO,p.bx,g.c],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{align-items:center;background-color:#0000004d;display:flex;flex:1;flex-direction:column;justify-content:center}[_nghost-%COMP%]   .admin-switch[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:.8rem 2.4rem}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}modal-container[_ngcontent-%COMP%]{position:relative}.icon-container[_ngcontent-%COMP%]{align-content:center;display:flex;justify-content:center}"]}),e})();var T=i(78023),k=(()=>{return(e=k||(k={})).SwitchToAdmin="settings.user.admin.switch",e.SwitchToCloudya="settings.user.ucclient.switch",k;var e})();let x=(()=>{class e{constructor(e,t){this.dialog=e,this.router=t,this.isAdminPage=!1,this.ngUnsubscribe=new r.xQ,this.configSwitchButtonClicked=new n.vpe,this.translationKey=k.SwitchToAdmin}ngOnInit(){this.setIsAdminPage(),this.setButtonData()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}switch(){this.isAdminPage?this.switchToCloudya():this.switchToAdminPortal()}setButtonData(){this.isAdminPage&&(this.translationKey=k.SwitchToCloudya)}switchToCloudya(){this.configSwitchButtonClicked.emit()}switchToAdminPortal(){this.dialog.open(E).afterClosed().pipe((0,o.R)(this.ngUnsubscribe)).subscribe(()=>{this.dialog.closeAll()})}setIsAdminPage(){this.isAdminPage=this.router.url.includes("admin")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(a.uw),n.Y36(l.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["system-config-switch-button"]],outputs:{configSwitchButtonClicked:"configSwitchButtonClicked"},decls:1,vars:1,consts:[["color","primary","type","stroked-button","e2e","user-drawer-fragment__switch-to-system-configuration",3,"buttonTextTranslationKey","appButtonClick"]],template:function(e,t){1&e&&(n.TgZ(0,"app-button",0),n.NdJ("appButtonClick",function(){return t.switch()}),n.qZA()),2&e&&n.Q6J("buttonTextTranslationKey",t.translationKey)},directives:[T.V],encapsulation:2}),e})()},28235:function(e,t,i){"use strict";i.d(t,{O:function(){return n}});var n=(()=>{return(e=n||(n={})).ACTIVE="active",e.BUSY="busy",e.ENDED="ended",e.FAILURE="failure",e.HOLD="hold",e.IDLE="idle",e.INCOMING="incoming",e.OUTGOING="outgoing",e.QUEUE="queue",e.RINGING="ringing",e.TRYING="trying",e.TRANSFER="transfer",n;var e})()},65547:function(e,t,i){"use strict";i.d(t,{i:function(){return a}});var n=i(39485),s=i(78345),r=i(37716),o=i(91841);let a=(()=>{class e{constructor(e){this.http=e}renewSip(e){return this.http.put(`${n.N.API_URL}/user/sip`,{sipUsername:e.sipUsername,sipRegistrar:e.sipRegistrar,hmac:e.hmac,expiry:e.expiry}).pipe((0,s.B)())}getSip(){return this.http.get(`${n.N.API_URL}/user/sip`).pipe((0,s.B)())}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},99445:function(e,t,i){"use strict";i.d(t,{k:function(){return m}});var n=i(9112),s=i(68307),r=i(47349),o=i(87519),a=i(59328),c=i(45435),l=i(88002),u=i(28235),h=i(37716),d=i(11935),p=i(81836),f=i(34006);let m=(()=>{class e{constructor(e,t,i){this.outgoingCallService=e,this.sipService=t,this.outgoingCallHelperService=i,this.callView={callTrackers:[],callEnd:void 0},this.callTracker$=this.sipService.callTracker$.pipe((0,s.b)(e=>{e&&this.setCallTracker(e)}),(0,r.d)(1),(0,o.x)()),this.callTerminated$=this.sipService.callTerminated$.pipe((0,s.b)(e=>{e&&(this.callView.callEnd=e)}),(0,r.d)(1)),this.callStarted$=this.getCallStarted(),this.outgoingCall$=this.getOutgoingCall(),this.outgoingCallRinging$=this.getOutgoingCallRinging(),this.failureCall$=this.getFailureCall(),this.incomingCalls$=this.getIncomingCalls(),this.endedCall$=this.getEndCall(),this.onHoldCalls$=this.getOnHoldCalls(),this.resumedCall$=this.getResumedCall(),this.activeCall$=this.getActiveCall(),this.busyCall$=this.getBusyCall(),this.terminatedCall$=this.getTerminatedCall(),this.hasActiveOrOnHoldCalls$=this.getActiveOrOnHoldCalls(),this.ringingCalls$=this.getRingingCalls(),this.tryingCalls$=this.getTryingCalls(),this.updateStartTime()}redirectIncomingCall(e,t){this.sipService.redirectIncomingCall(e,t)}hangupCall(e){var t,i;if(e)this.sipService.hangupCall(e);else{const e=null===(i=null===(t=this.callView.callTrackers.find(e=>e.callState===u.O.ACTIVE))||void 0===t?void 0:t.callItem)||void 0===i?void 0:i.callId;e&&this.sipService.hangupCall(e)}}terminateCall(e){const t=this.findCallById(e);t&&(this.sipService.terminateCall(e),this.removeFromCallTracker(t))}makeCall(e){this.outgoingCallData=this.outgoingCallHelperService.prepareOutgoingCallObj(e),this.outgoingCallService.canMakeCall(this.outgoingCallData)&&this.sipService.startOutgoingCall(this.outgoingCallData)}hangupAll(){this.callView.callTrackers=[],this.sipService.hangupAll()}endOutgoingCall(){const e=this.callView.callTrackers.findIndex(e=>e.callState===u.O.OUTGOING||e.callState===u.O.TRYING||e.callState===u.O.RINGING);e>-1&&this.sipService.stopOutgoingCall(this.callView.callTrackers[e].callItem)}answerCall(e){this.updateCallTracker(e,u.O.ACTIVE),this.sipService.acceptSIPCall(e)}resumeCall(e){var t;this.updateCallTracker(e,u.O.ACTIVE);const i=null===(t=this.findCallById(e))||void 0===t?void 0:t.callItem;i&&this.sipService.resumeCalls(i)}hold(){var e;const t=null===(e=this.callView.callTrackers.find(e=>e.callState===u.O.ACTIVE))||void 0===e?void 0:e.callItem;t&&(this.updateCallTracker(null==t?void 0:t.callId,u.O.HOLD),this.sipService.holdCalls(t))}hasOnHoldCalls(){return!!this.getCallTrackersByCallState(u.O.HOLD).length}hasActiveCall(){return!!this.getCallTrackersByCallState(u.O.ACTIVE).length}hasIncomingCalls(){return!!this.getCallTrackersByCallState(u.O.INCOMING).length}hasOutgoingCall(){var e;return!!(null===(e=this.getMappedRingingCallData())||void 0===e?void 0:e.length)}getCallTrackersByCallState(e){return this.callView.callTrackers.filter(t=>t.callState===e)}getTheFistCallIdByCallState(e){var t,i;return null===(i=null===(t=this.getCallTrackersByCallState(e)[0])||void 0===t?void 0:t.callItem)||void 0===i?void 0:i.callId}getTotalCallsCount(){return this.getCallTrackersByCallState(u.O.ACTIVE).length+this.getCallTrackersByCallState(u.O.HOLD).length}updateCallTracker(e,t){const i=this.callView.callTrackers.find(t=>t.callItem.callId===e||""===t.callItem.callId);i&&(i.callState=t,t===u.O.TRYING&&(i.callItem.callId=e))}findCallById(e){return this.callView.callTrackers.find(t=>t.callItem.callId===e)}getCallStarted(){return this.callTracker$.pipe((0,a.G)(),(0,c.h)(([e,t])=>(null==t?void 0:t.callState)===u.O.ACTIVE),(0,l.U)(([e,t])=>this.getMappedCallData(e,t)),(0,o.x)())}getMappedCallData(e,t){if((null==e?void 0:e.callItem.callId)!==(null==t?void 0:t.callItem.callId)||(null==e?void 0:e.callState)===u.O.RINGING||(null==e?void 0:e.callState)===u.O.TRYING||(null==e?void 0:e.callState)===u.O.ACTIVE)return t.callItem}getOutgoingCallRinging(){return this.callTracker$.pipe((0,l.U)(()=>this.getMappedRingingCallData()),(0,o.x)())}getMappedRingingCallData(){return this.callView.callTrackers.filter(e=>(e.callState===u.O.OUTGOING||e.callState===u.O.RINGING)&&!!e.callItem.callId)}getOutgoingCall(){return this.callTracker$.pipe((0,l.U)(()=>this.getMappedOutgoingCallData()),(0,r.d)(1),(0,o.x)())}getMappedOutgoingCallData(){return this.callView.callTrackers.filter(e=>e.callState===u.O.OUTGOING||e.callState===u.O.TRYING||e.callState===u.O.RINGING).length?this.outgoingCallData:null}getTerminatedCall(){return this.callTerminated$.pipe((0,l.U)(()=>this.callView.callEnd))}getActiveOrOnHoldCalls(){return(0,n.aj)([this.activeCall$,this.onHoldCalls$]).pipe((0,l.U)(([e,t])=>!!e||!!t.length))}getFailureCall(){return this.callTracker$.pipe((0,l.U)(()=>this.getMappedFailureCallData()))}getMappedFailureCallData(){const e=this.getCallTrackersByCallState(u.O.FAILURE);if(e.length){const{reasonPhrase:t,statusCode:i}=this.sipService.getFailureRequest();return Object.assign(Object.assign({},e[0].callItem),{reasonPhrase:t,statusCode:i})}}getBusyCall(){return this.callTracker$.pipe((0,l.U)(()=>this.getMappedBusyCallData()))}getMappedBusyCallData(){const e=this.getCallTrackersByCallState(u.O.BUSY);if(e.length){const t={reasonPhrase:"Busy",statusCode:486};return Object.assign(Object.assign({},e[0].callItem),t)}}getIncomingCalls(){return this.callTracker$.pipe((0,l.U)(()=>this.getCallTrackersByCallState(u.O.INCOMING)),(0,o.x)())}getRingingCalls(){return this.callTracker$.pipe((0,l.U)(()=>this.getCallTrackersByCallState(u.O.RINGING)),(0,o.x)())}getTryingCalls(){return this.callTracker$.pipe((0,l.U)(()=>this.getCallTrackersByCallState(u.O.TRYING)),(0,o.x)())}getEndCall(){return this.callTracker$.pipe((0,c.h)(e=>(null==e?void 0:e.callState)===u.O.ENDED),(0,l.U)(e=>{var t,i;const n=null===(t=null==e?void 0:e.callItem)||void 0===t?void 0:t.callId,s=null===(i=null==e?void 0:e.callItem)||void 0===i?void 0:i.startTime;return n?{callId:n,isRejectedCall:!s}:void 0}))}getOnHoldCalls(){return this.callTracker$.pipe((0,l.U)(()=>this.getCallTrackersByCallState(u.O.HOLD)),(0,o.x)())}getResumedCall(){return this.sipService.callTracker$.pipe((0,a.G)(),(0,l.U)(([e,t])=>this.getMappedResumedCall(e,t)))}getMappedResumedCall(e,t){if(((null==e?void 0:e.callState)===u.O.HOLD||(null==e?void 0:e.callState)===u.O.ENDED)&&(null==t?void 0:t.callState)===u.O.ACTIVE)return t}getActiveCall(){return this.callTracker$.pipe((0,l.U)(()=>{var e;return null===(e=this.callView.callTrackers.filter(e=>e.callState===u.O.ACTIVE)[0])||void 0===e?void 0:e.callItem}),(0,r.d)(1),(0,o.x)())}setCallTracker(e){switch(e.callState){case u.O.OUTGOING:this.removeEndedCalls(),this.holdOtherCalls(e),this.pushToCallTracker(e);break;case u.O.INCOMING:this.pushToCallTracker(e);break;case u.O.ACTIVE:this.holdOtherCalls(e),this.updateCallName(e.callItem.callId,e.callItem.name),this.updateCallTracker(e.callItem.callId,e.callState);break;case u.O.TRANSFER:this.replaceActiveCall(e.callItem);break;case u.O.BUSY:case u.O.FAILURE:case u.O.RINGING:case u.O.TRYING:case u.O.ENDED:this.updateCallTracker(e.callItem.callId,e.callState)}}holdOtherCalls(e){const t=this.callView.callTrackers.find(t=>t.callState===u.O.ACTIVE&&t.callItem.callId!==e.callItem.callId);if(null==t?void 0:t.callItem.callId){const e=this.findCallById(null==t?void 0:t.callItem.callId);e&&(this.updateCallTracker(null==e?void 0:e.callItem.callId,u.O.HOLD),this.sipService.holdCalls(e.callItem))}}pushToCallTracker(e){this.callView.callTrackers.find(t=>t.callItem.callId===e.callItem.callId)||this.callView.callTrackers.push(e)}removeFromCallTracker(e){const t=this.callView.callTrackers.findIndex(t=>t.callItem.callId===e.callItem.callId);t>-1&&this.callView.callTrackers.splice(t,1)}removeEndedCalls(){this.callView.callTrackers=this.callView.callTrackers.filter(e=>e.callState!==u.O.ENDED)}updateStartTime(){this.callTracker$.subscribe(e=>{if(e){const t=this.callView.callTrackers.find(t=>t.callItem.callId===e.callItem.callId);t&&(t.callItem.startTime=e.callItem.startTime)}})}updateCallName(e,t){const i=this.callView.callTrackers.find(t=>t.callItem.callId===e);i&&(i.callItem.name=t)}replaceActiveCall(e){const t=this.callView.callTrackers.find(t=>t.callItem.callId===e.callId);t&&(t.callItem=e,t.callState=u.O.ACTIVE)}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(d.F),h.LFG(p.y),h.LFG(f.F))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})()},87147:function(e,t,i){"use strict";i.d(t,{M:function(){return o}});var n=i(37716),s=i(99445),r=i(75282);let o=(()=>{class e{constructor(e,t){this.callTrackerService=e,this.conferenceHelperService=t}makeCall(e,t){this.conferenceHelperService.isConferenceCall(e)?this.conferenceHelperService.makeConferenceCall(e):this.callTrackerService.makeCall(t)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.k),n.LFG(r.c))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},34006:function(e,t,i){"use strict";i.d(t,{F:function(){return s}});var n=i(37716);let s=(()=>{class e{constructor(){this.isPreferred=!0,this.isClickToDial=!0}prepareOutgoingCallObj(t){var i;return"string"==typeof t&&"*"===t.charAt(0)?this.getDefaultCallObj(t):"string"==typeof t?this.getSearchObj(t):(null===(i=null==t?void 0:t.conference)||void 0===i?void 0:i.member)?this.getMeetingObj(t):(null==t?void 0:t.config)?this.getContextMenuObj(t):(null==t?void 0:t.isClickToDialAllowed)?this.getCallItemObj(t):(null==t?void 0:t.role)?(null==t?void 0:t.details)?this.getConferenceC2DObjFromCallDetails(t):this.getConferenceC2DObj(t):(null==t?void 0:t.DISPLAY_NAME)?this.getFunctionKeyDragDropObj(t):(null==t?void 0:t.callItem)||(null==t?void 0:t.crmConnectName)?this.getInfoCRMModal(t):(null==t?void 0:t.crmPhoneNumber)?this.getCRMConnectObj(t.crmPhoneNumber):(null==t?void 0:t.details)?t:Object.assign({},e.getOutgoingCallItem(t.name||t.displayName,t.number))}getDefaultCallObj(t){return Object.assign(Object.assign({},e.getOutgoingCallItem("",t)),{isClickToDial:!this.isClickToDial})}getMeetingObj(t){return Object.assign(Object.assign({},e.getOutgoingCallItem(t.description,t.conference.name)),{extraHeaders:[`X-Cloudya-Conf-ND: ${t.conference.member.sip_token.data}`,`X-Cloudya-Conf-NH: ${t.conference.member.sip_token.signature}`]})}getContextMenuObj(t){return Object.assign(Object.assign({},t.config),e.getOutgoingCallItem(t.name,t.number))}getCallItemObj(t){return Object.assign(Object.assign({},e.getOutgoingCallItem(t.callItem.name,t.callItem.number,t.callItem.crmConnectName||"")),{isCrmConnectCall:!!t.crmConnectName,isPreferred:this.isPreferred,isClickToDial:t.isClickToDialAllowed})}getConferenceC2DObj(t){return Object.assign(Object.assign({},e.getOutgoingCallItem(t.displayName,t.number)),{isClickToDial:this.isClickToDial,isPreferred:this.isPreferred,role:t.role.toUpperCase()})}getConferenceC2DObjFromCallDetails(t){return Object.assign(Object.assign({},e.getOutgoingCallItem(t.details.name,t.details.number)),{isClickToDial:this.isClickToDial,isPreferred:this.isPreferred,role:t.role.toUpperCase()})}getFunctionKeyDragDropObj(t){var i;return Object.assign({},e.getOutgoingCallItem((null===(i=t.callItem)||void 0===i?void 0:i.name)||t.DISPLAY_NAME||t.name||t.displayName||t.search,t.FORMAT_PLAIN||t.FUNCTION_CODE||t.EXTENSION_NUMBER||t.extensionNumber||t.number||t.search))}getInfoCRMModal(t){return Object.assign(Object.assign({},e.getOutgoingCallItem(t.name,t.number,t.crmConnectName)),{isCrmConnectCall:!!t.crmConnectName,isPreferred:this.isPreferred,isClickToDial:this.isClickToDial})}getSearchObj(t){return Object.assign(Object.assign({},e.getOutgoingCallItem(t,t)),{isClickToDial:this.isClickToDial,isPreferred:this.isPreferred})}getCRMConnectObj(t){return Object.assign(Object.assign({},e.getOutgoingCallItem(t,t)),{isCrmConnectCall:!0,isPreferred:this.isPreferred,isClickToDial:this.isClickToDial})}static getOutgoingCallItem(e,t,i="",n=""){return{details:{name:e,number:t,callId:n,crmConnectName:i}}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},11935:function(e,t,i){"use strict";i.d(t,{F:function(){return f}});var n=i(99385),s=i(7908),r=i(28123),o=i(28235),a=i(37716),c=i(15666),l=i(95786),u=i(81836),h=i(45832),d=i(28859),p=i(29790);let f=(()=>{class e{constructor(e,t,i,n,a,c){this.audioPermissionService=e,this.preferredDeviceService=t,this.sipService=i,this.snackBarService=n,this.telephonyOfflineService=a,this.translateService=c,this.isOutgoingCallInProgress=!1,this.sipService.callTracker$.subscribe(e=>{const t=null==e?void 0:e.callState;this.isIncomingCallInProgress=t===o.O.INCOMING,(t===o.O.ENDED||t===o.O.ACTIVE)&&(this.isOutgoingCallInProgress=!1,t===o.O.ENDED&&r.Q.removeItem("isMuted"))}),this.telephonyOfflineService.isOnline$.subscribe(e=>{this.isOnline=e}),this.preferredDeviceService.preferredDevice$.subscribe(e=>{this.isClickToDialPreferred=e&&e.type!==s.Y.UC_CLIENT})}canMakeCall(e){if(!this.isClickToDialPreferred&&!n.tS.isSupported())return this.showUnsupportedRTCMessage(),!1;const t=(null==e?void 0:e.isPreferred)?this.isClickToDialPreferred:!!(null==e?void 0:e.isClickToDial);return!(this.isOutgoingCallInProgress||!this.audioPermissionService.isAudioPermissionProvided(t)||(!this.isOnline&&t?(this.snackBarService.openInfo("telephony_offline.error_call_title"),1):this.isIncomingCallInProgress?(this.snackBarService.openInfo("notification.forbid_outgoing_call"),1):(this.isOutgoingCallInProgress=!0,0)))}showUnsupportedRTCMessage(){this.translateService.get("browser_does_not_support_rtc").subscribe(e=>{alert(e)},()=>{alert("Sorry, your browser does not support WebRTC. Please use click2dial or a supported browser")})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.W),a.LFG(l._),a.LFG(u.y),a.LFG(h.c),a.LFG(d.l),a.LFG(p.sK))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},658:function(e,t,i){"use strict";i.d(t,{L:function(){return b}});var n=i(5304),s=i(19773),r=i(45435),o=i(28049),a=i(88002),c=i(46782),l=i(26215),u=i(79765),h=i(40205),d=i(9112),p=i(25917),f=i(35758),m=i(28559),g=i(37716),_=i(91841),v=i(51233);let b=(()=>{class e{constructor(e,t){this.httpClient=e,this.userService=t,this.voiceControlApiPath="voice-control-api",this.interceptorSkipHeader="X-Skip-Interceptor",this.digestAuthResponse$=new l.X(void 0),this.authResponseSolicited=!1,this.h1Credentials$=new l.X(void 0),this.ngUnsubscribe=new u.xQ,this.subscribeToAndHandleUserChange()}intercept(e,t){return(null==e?void 0:e.headers.has(this.interceptorSkipHeader))?t.handle(e):e.url.includes(this.voiceControlApiPath)?(!this.authResponseSolicited&&!e.url.includes("/callrecords/")&&(this.authResponseSolicited=!0,this.httpClient.request(e.method,e.url,{headers:e.headers.set(this.interceptorSkipHeader,""),withCredentials:!0}).pipe((0,n.K)(e=>e.headers?this.handleAuthError(e):(0,h._)(e))).subscribe()),this.authorizedRequestWithCurrentCredentials(e,t).pipe((0,n.K)(i=>{const n=i.headers;return void 0!==n&&n["www-authenticate"]?this.handleAuthError(i).pipe((0,s.zg)(()=>this.authorizedRequestWithCurrentCredentials(e,t))):(0,h._)(i)}))):t.handle(e)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}getDigestAuthorizationHeaderValue(e,t){return(0,d.aj)(this.h1Credentials$.pipe((0,r.h)(e=>!!e)),this.digestAuthResponse$.pipe((0,r.h)(e=>!!e))).pipe((0,o.P)(),(0,a.U)(([i,n])=>i&&n?this.prepareAuthorizationHeader(n,i,e,t):""))}subscribeToAndHandleUserChange(){this.userService.userInfo$.pipe((0,s.zg)(e=>{if(e&&e.activePhoneExtension){const t=atob(e.activePhoneExtension.voicemailHash).split("").reverse().join("");return(0,p.of)({user:`${e.activePhoneExtension.extensionNumber}@${e.activePhoneExtension.name}`,password:t})}return this.authResponseSolicited=!1,this.h1Credentials$.next(void 0),this.digestAuthResponse$.next(void 0),(0,p.of)(void 0)}),(0,s.zg)(e=>e?(0,f.D)((0,p.of)(e),this.digestAuthResponse$.pipe((0,o.P)(e=>!!e))):(0,p.of)([void 0,void 0])),(0,c.R)(this.ngUnsubscribe)).subscribe(([e,t])=>{e&&t&&this.h1Credentials$.next(this.createDigestH1(t.realm,e.user,e.password))})}authorizedRequestWithCurrentCredentials(e,t){return(0,d.aj)(this.h1Credentials$.pipe((0,r.h)(e=>!!e)),this.digestAuthResponse$.pipe((0,r.h)(e=>!!e))).pipe((0,o.P)(),(0,s.zg)(([i,n])=>{let s;return i&&n&&(s=this.prepareRequest(n,i,e)),t.handle(s)}))}handleAuthError(t){const i=t.headers.get("www-authenticate")||"",n={realm:e.getValueFromWWWAuthHeader("realm",i),nonce:e.getValueFromWWWAuthHeader("nonce",i),opaque:e.getValueFromWWWAuthHeader("opaque",i)};return this.digestAuthResponse$.next(n),(0,p.of)(n)}createDigestH1(e,t,i){return{username:t,h1Digest:m(`${t}:${e}:${i}`),algorithm:"",realm:e}}prepareAuthorizationHeader(t,i,n,s){const r=m(`${s}:${e.getLocation(n)}`),o=m(`${i.h1Digest}:${t.nonce}:${r}`);return`Digest username="${i.username}", realm="${t.realm}", nonce="${t.nonce}", uri="${e.getLocation(n)}", response="${o}", opaque="${t.opaque}"`}prepareRequest(e,t,i){const n=i.headers.set("Authorization",this.prepareAuthorizationHeader(e,t,i.url,i.method));return i.clone({headers:n,withCredentials:!0})}static getLocation(e){return new URL(e).pathname}static getValueFromWWWAuthHeader(e,t){const i=t.match(new RegExp(e+'[s]*=[s]*"([^"]*)'));return i&&i.length>1?i[1]:""}}return e.\u0275fac=function(t){return new(t||e)(g.LFG(_.eN),g.LFG(v.K))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},15666:function(e,t,i){"use strict";i.d(t,{W:function(){return l}});var n=i(26215),s=i(95786),r=i(45435),o=i(88002),a=i(37716),c=i(45832);let l=(()=>{class e{constructor(e,t){this.snackBarService=e,this.preferredDeviceService=t,this.hasProvidedAudioPermissionSource=new n.X(!0),this.hasProvidedAudioPermission=!0,this.hasProvidedAudioPermission$=this.hasProvidedAudioPermissionSource.asObservable()}setAudioPermission(e){this.hasProvidedAudioPermission=e,this.checkPreferredDeviceValue()}isAudioPermissionProvided(e){return this.hasProvidedAudioPermission?this.hasProvidedAudioPermission:!!e||(this.snackBarService.openInfo("telephony_offline.error_message"),!1)}checkPreferredDeviceValue(){this.preferredDeviceService.preferredDevice$.pipe((0,r.h)(e=>!!e),(0,o.U)(e=>s._.getPreferredDeviceType(e))).subscribe(e=>{this.hasProvidedAudioPermission||this.hasProvidedAudioPermissionSource.next("uc_client"!==e)})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.c),a.LFG(s._))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},52690:function(e,t,i){"use strict";i.d(t,{b:function(){return l}});var n=i(28049),s=i(88002),r=i(37716),o=i(97090),a=i(80311),c=i(99445);let l=(()=>{class e{constructor(e,t,i){this.conferenceHelper=e,this.conferenceSubscriptionsService=t,this.callTrackerService=i}callFunctionKey(e){this.getSubscription(e).subscribe(t=>{t?this.conferenceHelper.callByPreferredDevice(t):this.callTrackerService.makeCall(e)})}getSubscription(e){return this.conferenceSubscriptionsService.conferenceSubscriptions$.pipe((0,n.P)(),(0,s.U)(t=>t.find(t=>t.number===e.EXTENSION_NUMBER)))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o._),r.LFG(a.H),r.LFG(c.k))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},49090:function(e,t,i){"use strict";i.d(t,{s:function(){return f}});var n=i(79765),s=i(25917),r=i(99910),o=i(19773),a=i(88002),c=i(71289),l=i(46782),u=i(39485),h=i(37716),d=i(51233),p=i(658);let f=(()=>{class e{constructor(e,t){this.userService=e,this.digestInterceptor=t,this.cancelSource=new n.xQ,this.hangupSource=new n.xQ,this.proceedingSource=new n.xQ,this.originateProceedingSource=new n.xQ,this.connectedSource=new n.xQ,this.originateFailedSource=new n.xQ,this.ngUnsubscribe=new n.xQ,this.originateProceeding$=this.originateProceedingSource.asObservable(),this.proceeding$=this.proceedingSource.asObservable(),this.cancel$=this.cancelSource.asObservable(),this.hangup$=this.hangupSource.asObservable(),this.connected$=this.connectedSource.asObservable(),this.originateFailed$=this.originateFailedSource.asObservable()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initCallStream(){return this.userService.userInfo$.pipe((0,o.zg)(e=>e?this.initEventSource():(this.close(),(0,s.of)())),(0,a.U)(e=>(this.stream=e,!0)),(0,c.g)(200),(0,l.R)(this.ngUnsubscribe))}close(){this.stream&&this.stream.close()}initEventSource(){return this.digestInterceptor.getDigestAuthorizationHeaderValue(`${u.N.VOICE_CONTROL_URL}/calls/events`,"GET").pipe((0,a.U)(e=>{this.close();const t=new r.g(`${u.N.VOICE_CONTROL_URL}/calls/events`,{interval:2e3,headers:{Authorization:e},withCredentials:!0});return t.onopen=()=>{this.counter=1},t.onmessage=e=>{const t=JSON.parse(e.data);switch(t.status){case"originate-proceeding":return this.originateProceedingSource.next(t);case"pending":return this.cancelSource.next(t);case"hangup":return this.close(),this.hangupSource.next(t);case"proceeding":return this.proceedingSource.next(t);case"connected":return this.close(),this.connectedSource.next(t);case"originate-failed":return this.close(),this.originateFailedSource.next(t)}},t.onerror=()=>{this.close(),(0,s.of)(!0).pipe((0,c.g)(500*this.counter),(0,o.zg)(()=>this.initEventSource())).subscribe(e=>{this.counter++,this.stream=e})},t}))}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(d.K),h.LFG(p.L))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},58293:function(e,t,i){"use strict";i.d(t,{P:function(){return o}});var n=i(66832),s=i(11740);class r extends n.w{setAttributes(e){this.id=e.id,this.name=e.name,this.number=e.number,this.description=e.description,this.type=e.type,this.setActive(e.active),this.color=e.color,this.color_index=e.color_index,this.extension=e.extension,this.user_id=e.user_id}setActive(e=!0){this.active=s.W.parseBoolean(e)?1:0}isNew(){return!Boolean(this.id)}update(e){if(this.isNew())this.id=e.id;else if(this.id!==e.id)throw new Error("Could not update a profile with a different ID.");this.name=e.name,this.number=e.number,this.description=e.description,this.type=e.type,this.setActive(e.isActive()),this.color=e.color,this.color_index=e.color_index,this.extension=e.extension,this.user_id=e.user_id}isActive(){return 1===this.active}}class o extends r{setAttributes(e){super.setAttributes(e),e.attributes&&(this.attributes||(this.attributes={}),e.attributes.forEach(e=>{this.attributes[e.attribute_name]=e}))}}},7460:function(e,t,i){"use strict";i.d(t,{q:function(){return a}});var n=i(79765),s=i(39485),r=i(37716),o=i(91841);let a=(()=>{class e{constructor(e){this.http=e,this.callContextMenuSource=new n.xQ,this.callContextMenu$=this.callContextMenuSource.asObservable()}callContextMenu(e){const t=window.innerHeight,i=window.innerWidth,n=e.callLocation&&e.callLocation.fax?48:336,s=e&&e.positionX&&e.positionX+300<=i;e.positionY-=24,e.positionX+=20,e&&e.hasOwnProperty("positionY")&&e.positionY+n+48>t&&(e.positionY<10?e.positionY=10:(e.positionY=t-n-10,e.clipped=!0)),s||(e.positionX-=300),this.callContextMenuSource.next(e)}initializeCall(e,t,i,n){e=encodeURIComponent(e),t=encodeURIComponent(t);let r=`${s.N.VOICE_CONTROL_URL}/calls/?numberA=${e}&numberB=${t}&event_uuid=${i}`;return n&&(r+=`&role=${encodeURIComponent(n)}`),this.http.post(r,null)}cancelCall(e){return this.http.delete(`${s.N.VOICE_CONTROL_URL}/call/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},74529:function(e,t,i){"use strict";i.d(t,{k:function(){return n}});var n=(()=>{return(e=n||(n={})).IN="IN",e.OUT="OUT",n;var e})()},82676:function(e,t,i){"use strict";i.d(t,{H:function(){return u}});var n=i(78345),s=i(88002),r=i(25917),o=i(58293),a=i(39485),c=i(37716),l=i(91841);let u=(()=>{class e{constructor(e){this.http=e}getProfiles(e=!1){return this.clickToDialProfiles&&!e?(0,r.of)(this.clickToDialProfiles):this.http.get(`${a.N.API_URL}/click-to-dial/profiles`).pipe((0,n.B)()).pipe((0,s.U)(e=>(e.data=e.data.map(this.mapToClickToDial),this.clickToDialProfiles=e,e)))}resetProfiles(){this.clickToDialProfiles=void 0}createProfile(e){return this.http.post(`${a.N.API_URL}/click-to-dial/profiles`,e).pipe((0,s.U)(this.mapToClickToDial))}deleteProfile(e){return this.http.delete(`${a.N.API_URL}/click-to-dial/profiles/${e.id}`)}updateProfile(e){return this.http.put(`${a.N.API_URL}/click-to-dial/profiles/${e.id}`,e)}mapToClickToDial(e){return new o.P(e)}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(l.eN))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},81836:function(e,t,i){"use strict";i.d(t,{y:function(){return M}});var n,s=i(82298),r=i(79765),o=i(75319),a=i(26215),c=i(20945),l=(()=>{return(e=l||(l={})).DIALPAD_VISIBLE="DIALPAD_VISIBLE",e.RINGER_ACTIVE="RINGER_ACTIVE",e.DO_NOT_DISTURB="DO_NOT_DISTURB",e.SUBSCRIBED_CONFERENCES="SUBSCRIBED_CONFERENCES",l;var e})(),u=i(80278),h=i(93105),d=i(28049),p=i(68307),f=i(43190),m=new Uint8Array(16);function g(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(m)}for(var _=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,v=function(e){return"string"==typeof e&&_.test(e)},b=[],y=0;y<256;++y)b.push((y+256).toString(16).substr(1));var S=function(e,t,i){var n=(e=e||{}).random||(e.rng||g)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(var s=0;s<16;++s)t[i+s]=n[s];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]).toLowerCase();if(!v(i))throw TypeError("Stringified UUID is invalid");return i}(n)};const C=[1e3,2e3,5e3,15e3,3e4,6e4];var w=i(28235);function E(e,t){return[`X-NV: ${e}`,`X-NH: ${t}`,"X-FEATURESET: video"]}function T(e=!0,t=!1){return{constraints:{audio:e,video:t},peerConnectionOptions:{iceCheckingTimeout:5e3,rtcConfiguration:{iceServers:[]}}}}var k=i(39485),x=i(99385),A=i(39583),I=i(68260),O=i(37716),R=i(51233),P=i(25791),D=i(8320),N=i(29790),L=i(65547);let M=(()=>{class e{constructor(e,t,i,n,c,l){this.userService=e,this.guestService=t,this.apiAvAuthorizationService=i,this.translate=n,this.loggerConfigService=c,this.apiSipService=l,this.diversionKey="Diversion",this.onActiveCallsListChangedSource=new s.t(1),this.telephonyOfflineSource=new r.xQ,this.renewSipSubscription=new o.w,this.callHoldSource=new r.xQ,this.callResumeSource=new r.xQ,this.callEndedSource=new r.xQ,this.outgoingCallStartedSource=new r.xQ,this.callMuteUnmuteSource=new r.xQ,this.invitationSource=new r.xQ,this.transferStateSource=new r.xQ,this.callTrackerSource=new a.X(void 0),this.callTerminatedSource=new r.xQ,this.onSipTransportErrorSource=new r.xQ,this.prevSipRegistrar=null,this.receivedUserNameFromSipSource=new r.xQ,this.isFirefox=/^((?!chrome|android).)*firefox/i.test(navigator.userAgent),this.isEdge=navigator.appVersion.indexOf("Edge")>-1,this.isRejectedCall=!1,this.activeCalls=new Map,this.activeCallsCount=0,this.activeMuted=!1,this.callMuteUnmute$=this.callMuteUnmuteSource.asObservable(),this.telephonyOfflineValue=!1,this.callWaiting=!1,this.isUserAlreadyLoggedIn=!0,this.selectedAudioInputDevice={deviceId:"",groupId:"",kind:"audioinput",label:""},this.callHold$=this.callHoldSource.asObservable(),this.callEnded$=this.callEndedSource.asObservable(),this.callResume$=this.callResumeSource.asObservable(),this.outgoingCallStarted$=this.outgoingCallStartedSource.asObservable(),this.transferState$=this.transferStateSource.asObservable(),this.onActiveCallsListChanged$=this.onActiveCallsListChangedSource.asObservable(),this.telephonyOffline$=this.telephonyOfflineSource.asObservable(),this.receivedUserNameFromSipSubscriber$=this.receivedUserNameFromSipSource.asObservable(),this.registrationAttempt=0,this.callTracker$=this.callTrackerSource.asObservable(),this.onSipTransportError$=this.onSipTransportErrorSource.asObservable(),this.sipUserAgent=null,this.callTerminated$=this.callTerminatedSource.asObservable(),this.deviceUUID=S(),this.apiAvAuthorizationService.setDeviceUuid(this.deviceUUID),window.streamReference=[],this.guestService.isGuest()||this.register()}setIsBusyCauseOutgoingCallInProgress(e){this.isSIPInitialized()&&(this.sipUserAgent.isBusyCauseOutgoingCallInProgress=e)}getActiveCall(){return Array.from(this.activeCalls.values()).find(e=>e.accepted&&!e.onHold)||null}sendSIPMessage(e,t,i,n=e.session.remoteTarget.aor){e.session.dialogState.localSequenceNumber?e.session.dialogState.localSequenceNumber+=1:e.session.dialogState.localSequenceNumber=e.session.dialogState.remoteSequenceNumber+1,e.ua.message(n,`${t}\r\n`,{params:{callId:e.session.dialogState.callId,fromTag:e.session.dialogState.localTag,toTag:e.session.dialogState.remoteTag,routeSet:e.session.dialogState.routeSet,cseq:e.session.dialogState.localSequenceNumber},extraHeaders:i})}resetAttemptAndTryToRegisterAgain(){this.resetRegistrationAttempt(),this.tryToRegisterAgain()}register(){this.registrationSubscription&&this.registrationSubscription.unsubscribe(),!this.isSIPInitialized()&&(this.registrationSubscription=this.userService.userInfo$.pipe((0,d.P)(t=>{var i;return!(!t||!(null===(i=null==t?void 0:t.modules)||void 0===i?void 0:i.includes("client"))||!(null==t?void 0:t.activePhoneExtension)||e.isAdminPathName())}),(0,p.b)(e=>{this.userActivePhoneExtension=e.activePhoneExtension}),(0,f.w)(()=>this.apiSipService.getSip())).subscribe(e=>this.initUserRegistry(e),()=>this.handleRegistryError()))}unregister(){var e;this.isSIPInitialized()&&(this.apiCallRegistry.hmac&&this.apiCallRegistry.expiry&&this.sipUserAgent.unregister({extraHeaders:E(this.apiCallRegistry.expiry,this.apiCallRegistry.hmac)}),null===(e=this.sipUserAgent)||void 0===e||e.stop(),this.sipUserAgent=null,this.renewSipSubscription.unsubscribe())}isSIPInitialized(){return null!==this.sipUserAgent}outgoingCallStarted(e){this.onGoingCall=e,this.updateActiveCallsCount(!0),this.outgoingCallStartedSource.next(e),this.onActiveCallsListChangedSource.next()}callEnded(e){this.updateActiveCallsCount(!1),this.callEndedSource.next(e)}hangupCall(e){this.activeCalls.has(e)&&this.activeCalls.get(e).sipSession.bye()}hangupAll(){this.activeCalls.forEach(e=>{e.accepted&&this.hangupCall(e.details.callId)})}holdCalls(e){(null==e?void 0:e.callId)&&(this.holdCall(null==e?void 0:e.callId),this.updateCallTracker(e,w.O.HOLD))}holdCall(e){if(this.loggerConfigService.logMessage(A.h.DEBUG,"Putting call on-hold. Call ID:",e),!this.activeCalls.has(e))return;const t=this.activeCalls.get(e).sipSession;t.hold(),this.toggleStreams(!0,t),this.activeCalls.get(e).onHold=!0,this.resetOnGoingCall(e),this.callHoldSource.next(e)}resumeCalls(e){this.resumeCall(e.callId),this.updateCallTracker(e,w.O.ACTIVE)}resumeCall(e){this.loggerConfigService.logMessage(A.h.DEBUG,"Resuming call on-hold. Call ID:",e),this.activeCalls.has(e)&&(this.activeCalls.get(e).sipSession.unhold(),this.activeCalls.get(e).onHold=!1,this.onGoingCall&&this.holdCall(this.onGoingCall.callId),this.onGoingCall=this.activeCalls.get(e).details,this.callResumeSource.next(e))}muteAudio(e){this.activeCalls.has(e)&&this.toggleMute(!0,this.activeCalls.get(e).sipSession)}unmuteAudio(e){this.activeCalls.has(e)&&this.toggleMute(!1,this.activeCalls.get(e).sipSession)}terminateCall(e,t=!1){this.activeCalls.has(e)&&(this.isRejectedCall=t,this.activeCalls.get(e).sipSession.terminate(),this.onEndCall())}endCall(e){this.activeCalls.has(e)&&(this.activeCalls.get(e).sipSession.bye(),this.onEndCall())}blindTransfer(e,t){var i;this.refer(e,`${t}@${null===(i=this.apiCallRegistry)||void 0===i?void 0:i.sipRegistrar}`)}attendedTransfer(e,t){this.activeCalls.has(t)&&this.refer(e,this.activeCalls.get(t).sipSession)}getSelectedAudioInputDevice(){return!this.selectedAudioInputDevice.deviceId||{deviceId:{exact:this.selectedAudioInputDevice.deviceId}}}initSIPSession(e,t){return this.sipUserAgent.invite(`${e}@${this.apiCallRegistry.sipRegistrar}`,{sessionDescriptionHandlerOptions:{constraints:{audio:this.getSelectedAudioInputDevice(),video:!1}},extraHeaders:t})}redirectIncomingCall(e,t){if(!this.activeCalls.has(e))return;const i=(null==t?void 0:t.toString())||`*791${this.userActivePhoneExtension.extensionNumber}`;this.redirectCall(e,i),this.onEndCall()}initSIPCall(t,i=null,n=[]){if(!t)return"";this.setActiveCallOnHold();const s=e.preparePhoneNumber(t);if(!this.sipUserAgent)return this.loggerConfigService.logMessage(A.h.WARN,"Failed to initialize SIP call. No SIP user agent set."),"";const r=S();n.push(this.getXCloudyaCallDataHeader(r));const o=this.initSIPSession(s,n);o.callLabel=r;const a={name:(null==i?void 0:i.toString())||t.toString(),number:t.toString(),callId:o.id,startTime:o.startTime};return this.addActiveCall(a,o),o.on("progress",e=>this.handleSIPSessionProgress(e,o,a)),o.on("accepted",e=>this.handleSIPSessionAccepted(e,o,a)),o.on("reinviteAccepted",e=>this.handleSIPSessionReinviteAccepted(e)),o.on("terminated",e=>this.handleSIPSessionTerminated(e,o,a)),o.on("failed",e=>this.handleFailures(a,e)),o.id}handleSIPSessionProgress(e,t,i){this.updateCallTracker(i,w.O.TRYING),e.statusCode===I.i.SESSION_PROGRESS?this.waitingForApplyingAnswer(t,e):e.statusCode===I.i.RINGING&&(this.updateCallTracker(i,w.O.RINGING),this.getCalleeNameFromSipResponse(e)),this.onRinging(i,e.statusCode===I.i.RINGING)}handleSIPSessionAccepted(t,i,n){if(!t)return;const s=e.getAssertedIdentity(t),r=this.activeCalls.get(n.callId);r.details.startTime=i.startTime,s&&(n.name=s.name,r.details.name=s.name,e.isHandover(r)),this.updateCallTracker(r.details,w.O.ACTIVE),this.onAccepted(r.details,i),this.getCalleeNameFromSipResponse(t)}handleSIPSessionReinviteAccepted(e){this.checkTargetAndCurrentUser(e)}handleSIPSessionTerminated(e,t,i){i.startTime=null==t?void 0:t.startTime,this.updateCallTracker(i,w.O.ENDED);const n=this.isCallWasRejected(e);this.callTerminatedSource.next({callId:t.id,isRejectedCall:n}),this.onCallTerminated({callId:t.id,isRejectedCall:n}),this.clearRejectedCallValue()}handleCallTermination(e,t){this.onCallTerminated({callId:e,isRejectedCall:this.isCallWasRejected(t)})}initVideoForActiveOneOnOneCall(){var t;this.loggerConfigService.logMessage(A.h.DEBUG,"Creating video room for active one-on-one call.");const i=null===(t=this.getActiveCall())||void 0===t?void 0:t.sipSession;if(!i)return void this.loggerConfigService.logMessage(A.h.WARN,"Failed to init video for active 1-on-1 call. No active SIP session found.");const n=this.getXCloudyaCallDataHeaderOfSipSession(i),s=JSON.stringify({device_uuid:this.deviceUUID,call_label:e.getCallLabelOfSipSession(i)});this.sipUserAgent.message(`sip:video-start@${k.N.guestUcReg}`,s,{extraHeaders:[n]})}changeAudioInput(e,t){if(!e||!this.activeCalls.has(e))return;const i=this.activeCalls.get(e).sipSession.sessionDescriptionHandler.peerConnection,n={audio:this.getSelectedAudioInputDevice(),video:!1};navigator.mediaDevices.getUserMedia(n).then(n=>{i.getSenders().forEach(i=>{i.replaceTrack(n.getTracks()[0]).then(()=>{t&&this.muteAudio(e)})})})}setupRemoteMedia(e){this.loggerConfigService.logMessage(A.h.INFO,"Setting up remote media element.");const t=e.sessionDescriptionHandler.peerConnection;let i;t.getReceivers?(i=new MediaStream,t.getReceivers().forEach(e=>{const t=e.track;t&&i.addTrack(t)})):i=t.getRemoteStreams()[0];const n=document.querySelector("#remote-video video");n?(n.srcObject=i,n.play().catch(e=>{this.loggerConfigService.logMessage(A.h.ERROR,"Caught error in SIP service for video element:",e)})):this.loggerConfigService.logMessage(A.h.FATAL,"Failed to find audio player element in the HTML. Cannot play audio. Please make sure the audio-player component is present on the page.")}acceptSIPCall(e){if(!this.activeCalls.has(e))return;this.setActiveCallOnHold();const t=this.activeCalls.get(e).sipSession,i=[this.getXCloudyaCallDataHeaderOfSipSession(t)];t.accept({sessionDescriptionHandlerOptions:{constraints:{audio:this.getSelectedAudioInputDevice(),video:!1},render:{local:null,remote:document.querySelector("#remote-video video")}},extraHeaders:i})}dtmf(e,t){if(this.activeCalls.has(e)){const i={duration:120,interToneGap:80};this.activeCalls.get(e).sipSession.dtmf(t,i)}}dynamicConference(e){this.dtmf(e,"*0")}addActiveCall(e,t){const i=Object.assign(Object.assign({},e),{startTime:t.startTime});this.activeCalls.set(t.id,{details:i,sipSession:t,onHold:!1,accepted:!1}),this.onActiveCallsListChangedSource.next()}sendDTMFToActiveCall(e){!this.onGoingCall||!this.onGoingCall.hasOwnProperty("callId")||this.dtmf(this.onGoingCall.callId,e)}toggleDoNotDisturbMode(e){this.sipUserAgent&&(this.sipUserAgent.isDoNotDisturbModeEnabled=e)}onAccepted(e,t){this.addBeforeUnloadHandler(),this.setIsBusyCauseOutgoingCallInProgress(!1),this.activeCalls.has(e.callId)&&(this.activeCalls.get(e.callId).accepted=!0,this.activeCalls.get(e.callId).details.startTime=t.startTime),this.setupRemoteStream(t);const i=Object.assign(Object.assign({},e),{startTime:t.startTime});this.outgoingCallStarted(i),this.isFirefox||setTimeout(()=>{this.changeAudioInput(e.callId,this.activeMuted)},500)}handleFailures(e,t){if(t)switch(t.statusCode){case 486:this.updateCallTracker(e,w.O.BUSY);break;case 487:break;default:this.failureRequest=t,this.updateCallTracker(e,w.O.FAILURE)}}getFailureRequest(){return this.failureRequest}startOutgoingCall(e){this.updateCallTracker({name:e.details.name,number:e.details.number,callId:"",startTime:0},w.O.OUTGOING),this.setIsBusyCauseOutgoingCallInProgress(e)}stopOutgoingCall(e){this.updateCallTracker({name:e.name,number:e.number,callId:e.callId,startTime:0},w.O.ENDED)}redirectCall(e,t){var i,n;null===(i=this.activeCalls)||void 0===i||i.get(e).sipSession.reject({statusCode:302,extraHeaders:[`Contact: <sip:${t}@${null===(n=this.apiCallRegistry)||void 0===n?void 0:n.sipRegistrar}>`]})}initUserRegistry(e){this.storeValidRegistrar(e.sipRegistrar),this.apiCallRegistry=e,this.guestService.isGuest()?this.isUserAlreadyLoggedIn=!1:this.initializeSIP(),this.onGetSipCallback(),e.sipSecret||(e.expiry-(new Date).getTime()/1e3<300?(this.registrationAttempt+=1,this.tryToRegisterAgain(this.registrationAttempt)):this.startIntervalRenewSipXHeader())}handleRegistryError(){this.isTelephonyOffline(!0),this.userService.isMobilityOptionEnabled()?(this.registrationAttempt+=1,this.tryToRegisterAgain(this.registrationAttempt)):this.onGetSipCallback()}updateActiveCallsCount(e){e?this.activeCallsCount++:this.activeCallsCount>0&&this.activeCallsCount--}getCalleeNameFromSipResponse(t){const i=e.getAssertedIdentity(t);i&&i.name&&this.receivedUserNameFromSipSource.next({number:i.number,name:i.name})}resetRegistrationAttempt(){this.registrationAttempt=0}tryToRegisterAgain(e=0){this.stopIntervalCounts(),this.renewRegistrationInterval=e<C.length?setTimeout(this.register,C[e]):setInterval(this.register,C[C.length-1])}startIntervalRenewSipXHeader(){this.renewSipSubscription&&this.renewSipSubscription.unsubscribe(),this.renewSipSubscription=(0,c.F)(3e5).subscribe(()=>{this.renewSIP()})}getXCloudyaCallDataHeaderOfSipSession(t){return this.getXCloudyaCallDataHeader(e.getCallLabelOfSipSession(t))}getXCloudyaCallDataHeader(e){return`X-Cloudya-Call-Data: device_uuid=${this.deviceUUID};call_label=${e}`}updateActiveCallAfterTransfer(e){const t=e.assertedIdentity||e.remoteIdentity,i={name:t.displayName,number:t.uri.user,callId:e.id,startTime:e.startTime};e.remoteIdentity=t,this.addActiveCall(i,e),this.onAccepted(i,e),this.updateActiveCallsCount(!1),this.updateCallTracker(i,w.O.TRANSFER)}checkTargetAndCurrentUser(e){const t=e.assertedIdentity,i=e.remoteIdentity;!t||(null==t?void 0:t.uri.user)!==(null==i?void 0:i.uri.user)&&!e.localHold&&this.updateActiveCallAfterTransfer(e)}refer(e,t){if(this.activeCalls.has(e)){const i=this.activeCalls.get(e).sipSession;i.on("referRequested",e=>{e instanceof u.n7&&e instanceof h.EventEmitter&&((e=e).on("referAccepted",()=>this.transferStateSource.next(!0)),e.on("referRejected",()=>this.transferStateSource.next(!1)))}),i.refer(t)}}stopIntervalCounts(){clearInterval(this.renewRegistrationInterval),clearTimeout(this.renewRegistrationInterval)}initializeSIP(){const e=function(e){const{sipRegistrar:t,sipUsername:i}=e;return{uri:`${i}@${t}`,transportOptions:{wsServers:[`wss://${t}`],traceSip:!0},authorizationUser:i,contactName:i,contactTransport:"wss",dtmfType:u.UA.DtmfType.RTP,log:{builtinEnabled:!1,level:"debug"},noAnswerTimeout:120,registerOptions:{expires:110},sessionDescriptionHandlerFactoryOptions:T(),allowEarlyMedia:!0,autoStart:!1}}(this.apiCallRegistry);this.sipUserAgent&&(this.sipUserAgent.removeAllListeners(),this.sipUserAgent.stop(),this.sipUserAgent.unregister()),this.sipUserAgent=this.initSIPUserAgent(e),this.sipUserAgent||this.loggerConfigService.logMessage(A.h.ERROR,"Failed to register SIP. No SIP secret or HMAC/EXPIRY given."),this.addUserAgentListeners()}addUserAgentListeners(){this.sipUserAgent.on("invite",e=>this.handleUAInvite(e)),this.sipUserAgent.on("registered",()=>this.isTelephonyOffline(!1)),this.sipUserAgent.on("registrationFailed",(e,t)=>this.handleUARegistrationFailed(e,t)),this.sipUserAgent.on("unregistered",()=>this.isTelephonyOffline(!0)),this.sipUserAgent.transport.on("transportError",()=>this.handleUATransportError())}initSIPUserAgent(e){const t=new u.UA(e);if(this.apiCallRegistry.sipSecret)return t;const i=this.apiCallRegistry.hmac,n=this.apiCallRegistry.expiry;return i&&n?t.register({extraHeaders:E(n,i)}):void 0}getIncomingCallName(e){return(0,x.oc)((e.request.headers["X-Cloudya-Phonebookname"]||e.request.headers["X-Cloudya-X-Cloudya-E164"]||[{raw:""}])[0].raw)}getCallForwardingInfo(e){if(e.request.headers[this.diversionKey]){const t=e.request.headers[this.diversionKey][0].raw,i=t.split("=").pop()||"";return{name:t.substring(t.indexOf('"')+1,t.lastIndexOf('"')),type:this.getTransferHeaderText(i)}}}getTransferHeaderText(e){switch(e){case"no-answer":case"unavailable":case"unconditional":case"user-busy":return this.translate.instant("notification.forwarded_by");case"deflection":case"transfer-callback":return this.translate.instant("notification.transferred_by");case"unknown":return"";default:return this.translate.instant(`notification.forward_notification_types.${e}`)}}isTelephonyOffline(e){this.telephonyOfflineValue=e,this.telephonyOfflineSource.next(e)}renewSIP(){this.apiCallRegistry&&!this.apiCallRegistry.sipRegistrar&&this.prevSipRegistrar&&(this.apiCallRegistry.sipRegistrar=this.prevSipRegistrar),this.apiSipService.renewSip(this.apiCallRegistry).subscribe(e=>{this.storeValidRegistrar(e.sipRegistrar),this.apiCallRegistry=e;const{hmac:t,expiry:i}=e;i&&t&&this.sipUserAgent.register({extraHeaders:E(i,t)})},()=>{this.unregister(),this.register()})}storeValidRegistrar(e){e&&(this.prevSipRegistrar=e)}setActiveCallOnHold(){this.onGoingCall&&this.holdCall(this.onGoingCall.callId)}setupRemoteStream(e){this.setupRemoteMedia(e),e.sessionDescriptionHandler.on("addTrack",()=>this.setupRemoteMedia(e)),e.sessionDescriptionHandler.on("addStream",()=>this.setupRemoteMedia(e))}onCallTerminated(e){const t=e.callId;this.setIsBusyCauseOutgoingCallInProgress(!1);const i=this.activeCalls.get(t).sipSession.sessionDescriptionHandler;if(i){const e=i.peerConnection;e.getSenders().forEach(e=>{e.track&&e.track.stop()}),this.isFirefox||e.getLocalStreams().forEach(e=>{e.getTracks().forEach(e=>e.stop())}),this.isEdge||e.close()}this.callEnded(e),this.resetOnGoingCall(t),this.activeCalls.delete(t),this.onActiveCallsListChangedSource.next(),this.removeBeforeUnloadHandler()}resetOnGoingCall(e){this.onGoingCall&&this.onGoingCall.callId===e&&(this.onGoingCall=void 0)}addBeforeUnloadHandler(){this.translate.get("before_unload").subscribe(e=>{window.onbeforeunload=t=>{const i=e;return t.returnValue=i,i}})}removeBeforeUnloadHandler(){let e=0;this.activeCalls.forEach(t=>{t.onHold&&e++}),e||(window.onbeforeunload=()=>null)}onEndCall(){this.setIsBusyCauseOutgoingCallInProgress(!1)}onRinging(e,t){if(this.activeCalls.has(e.callId)){const i=this.activeCalls.get(e.callId);i.isRinging=t,this.setIsBusyCauseOutgoingCallInProgress(i)}}toggleMute(e,t){!t.sessionDescriptionHandler||(this.toggleStreams(e,t),this.callMuteUnmuteSource.next(e))}toggleStreams(e,t){if(!t.sessionDescriptionHandler)return;const i=t.sessionDescriptionHandler.peerConnection;i.getSenders?i.getSenders().forEach(t=>{t.track&&(t.track.enabled=!e)}):i.getLocalStreams().forEach(t=>{t.getAudioTracks().forEach(t=>{t.enabled=!e})})}waitingForApplyingAnswer(e,t){let i,n=1;const s=this;setTimeout(function r(){n++,i=setTimeout(r,10),(e.hasAnswer||n>20)&&(clearTimeout(i),e.sessionDescriptionHandler.getDescription(t),!e.hasAnswer&&!s.isFirefox&&e.sessionDescriptionHandler.setDescription(t.body).catch(i=>{e.logger.warn(i),e.failed(t,"Bad Media Description"),e.terminate({statusCode:488,reason_phrase:"Bad Media Description"})}),s.addStreamTracks(e))},10)}onGetSipCallback(){e.getState(l.DO_NOT_DISTURB)&&this.toggleDoNotDisturbMode(!0),this.stopIntervalCounts()}clearRejectedCallValue(){this.isRejectedCall=!1}updateCallTracker(e,t){this.callTrackerSource.next({callItem:e,callState:t})}answerCallIfAutoanswerHeaderExists(e){e.request.headers["X-Cloudya-Autoanswer"]&&e.accept()}isCallWasRejected(e){return 480===(null==e?void 0:e.statusCode)}handleUAInvite(e){if(this.answerCallIfAutoanswerHeaderExists(e),this.activeCalls.size&&!this.callWaiting)return void e.reject({statusCode:486});const t={name:this.getIncomingCallName(e),number:e.remoteIdentity.uri.user,callId:e.id,startTime:e.startTime,callForwardingInfo:this.getCallForwardingInfo(e)};this.updateCallTracker(t,w.O.INCOMING),this.addActiveCall(t,e),e.on("accepted",()=>this.inviteSessionAccepted(t,e)),e.on("update-fn",e=>this.inviteSessionUpdateFN(e)),e.on("terminated",e=>this.inviteSessionTerminated(t)),e.on("reinviteAccepted",e=>this.inviteSessionReinviteAccepted(e)),e.on("reinviteFailed",e=>this.inviteSessionReinviteFailed(e))}handleUATransportError(){this.onSipTransportErrorSource.next(),this.isTelephonyOffline(!0)}handleUARegistrationFailed(e,t){this.loggerConfigService.logMessage(A.h.ERROR,'SIP event "registrationFailed":',e,t),this.unregister(),this.isTelephonyOffline(!0),this.resetAttemptAndTryToRegisterAgain()}inviteSessionAccepted(e,t){e.startTime=t.startTime,this.onAccepted(e,t),this.updateCallTracker(e,w.O.ACTIVE)}inviteSessionUpdateFN(e){this.getCalleeNameFromSipResponse(e)}inviteSessionTerminated(e){this.updateCallTracker(e,w.O.ENDED),this.loggerConfigService.logMessage(A.h.DEBUG,'SIP event "terminated".'),this.onCallTerminated({callId:e.callId,isRejectedCall:this.isRejectedCall}),this.clearRejectedCallValue()}inviteSessionReinviteAccepted(e){this.loggerConfigService.logMessage(A.h.DEBUG,'SIP event "reinviteAccepted".'),this.checkTargetAndCurrentUser(e),this.invitationSource.next(e)}inviteSessionReinviteFailed(e){this.loggerConfigService.logMessage(A.h.ERROR,'SIP event "reinviteFailed" with response:',e)}static isHandover(e){return"*8"===e.details.number}static preparePhoneNumber(e){return e.toString().replace(/\s/g,"")}static isAdminPathName(){return window.location.pathname.match(/admin/i)}static getCallLabelOfSipSession(e){return e.callLabel||(e.callLabel=S()),e.callLabel}static getAssertedIdentity(e){const t=e.headers["P-Asserted-Identity"]&&e.headers["P-Asserted-Identity"][0].raw;if(!t)return null;const[,i,n]=t.match(/^"(.+)"\s<sip:(.+)@.+>$/);return{name:(0,x.oc)(i),number:n}}static getState(e,t){const i=localStorage.getItem(e);return null===i?void 0===t||t:Boolean(JSON.parse(i))}}return e.\u0275fac=function(t){return new(t||e)(O.LFG(R.K),O.LFG(P.Q),O.LFG(D.O),O.LFG(N.sK),O.LFG(A.d),O.LFG(L.i))},e.\u0275prov=O.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},73456:function(e,t,i){"use strict";i.d(t,{R:function(){return n}});const n={ADD_MEMBER:"add-member",DELETE_MEMBER:"del-member",DESTROY:"conference-destroy",CREATE:"conference-create",LOCK:"lock",UNLOCK:"unlock",MUTE:"mute",UNMUTE:"unmute",DEAF:"deaf-member",UNDEAF:"undeaf-member",MUTE_MEMBER:"mute-member",UNMUTE_MEMBER:"unmute-member",KICK:"kick-member",START_TALKING:"start-talking",STOP_TALKING:"stop-talking",RAISE_HAND:"signal-moderator",LOWER_HAND:"unsignal-moderator"}},66632:function(e,t,i){"use strict";i.d(t,{Z:function(){return A}});var n=i(87519),s=i(45435),r=i(78345),o=i(88002),a=i(68307),c=i(19773),l=i(5304),u=i(28049),h=i(26215),d=i(79765),p=i(40205),f=i(46797),m=i(18891),g=i(99385),_=i(4604),v=i(94909),b=i(54249),y=i(51169),S=i(39485),C=i(89900),w=i(37716),E=i(45146),T=i(8259),k=i(51233),x=i(81836);let A=(()=>{class e{constructor(e,t,i,s){this.apiService=e,this.apiConferenceService=t,this.userService=i,this.sipService=s,this.activeUserJoinedSource=new h.X(null),this.adHocConferenceNameSource=new h.X(void 0),this.confCreatedOnDoubleClickSource=new h.X(!1),this.conferenceDataSource=new h.X(void 0),this.conferenceServiceDataSource=new h.X(void 0),this.conferenceSubscriptionSource=new h.X(""),this.conferenceSubscriptionsSource=new h.X(void 0),this.conferenceUserRoleSource=new h.X("user"),this.isAdHocConferenceSource=new h.X(!1),this.isConferenceAdminSource=new h.X(!1),this.isModeratorSource=new h.X(!1),this.serviceNumberSource=new h.X(void 0),this.showConferenceInviteSource=new d.xQ,this.conferenceCallsServiceNumbers=new Map,this.apiEndpoint=`${S.N.API_URL}/conferences`,this.conferenceApi=`${S.N.VOICE_CONTROL_URL}/conference`,this.conferenceSubscriptionAvailableSource=new d.xQ,this.activeUserJoined$=this.activeUserJoinedSource.asObservable(),this.adHocConferenceName$=this.adHocConferenceNameSource.asObservable(),this.confCreatedOnDoubleClick$=this.confCreatedOnDoubleClickSource.asObservable(),this.conferenceData$=this.conferenceDataSource.asObservable(),this.conferenceServiceData$=this.conferenceServiceDataSource.asObservable(),this.conferenceSubscription$=this.conferenceSubscriptionSource.asObservable(),this.conferenceSubscriptionAvailable$=this.conferenceSubscriptionAvailableSource.asObservable(),this.conferenceSubscriptions$=this.conferenceSubscriptionsSource.asObservable(),this.conferenceUserRole$=this.conferenceUserRoleSource.asObservable(),this.DYNAMIC_CONFERENCE="[Dynamisch]",this.isAdHocConference$=this.isAdHocConferenceSource.asObservable().pipe((0,n.x)()),this.isConferenceAdmin$=this.isConferenceAdminSource.asObservable(),this.isModerator$=this.isModeratorSource.asObservable(),this.isSubscribedToConferences=!1,this.serviceNumber$=this.serviceNumberSource.asObservable(),this.showConferenceInvite$=this.showConferenceInviteSource.asObservable(),this.conferencePins=new Map,this.sipService.callEnded$.subscribe(()=>{this.isAdHocConferenceSource.next(!1)}),this.userService.userInfo$.subscribe(e=>{this.user=e})}init(){this.loadAudioSubscriptions().subscribe()}updateConferenceServiceData(e){this.conferenceServiceDataSource.next(e)}updateConfCreatedOnDoubleClick(e){this.confCreatedOnDoubleClickSource.next(e)}updateActiveUserJoined(e){this.activeUserJoinedSource.next(e)}updateServiceNumberByPin(e,t){this.serviceNumberSource.getValue()!==e&&(this.conferencePins.set(e,t),this.serviceNumberSource.next(e))}updateServiceNumber(e){this.serviceNumberSource.next(e)}updateAdHocConferenceState(e){this.isAdHocConferenceSource.next(e)}updateAdHocConferenceName(e){this.adHocConferenceNameSource.next(e)}isActiveUser(e){var t;return e===(null===(t=this.user.activePhoneExtension)||void 0===t?void 0:t.extensionNumber)}updateConferenceData(e){this.conferenceDataSource.next(e)}getPin(){const e=this.conferenceServiceDataSource.getValue();return e&&(e.adminPIN||e.userPIN)}setConferenceData(){this.getConferenceData(this.serviceNumberSource.getValue())}resetConference(){this.conferenceDataSource.next(void 0),this.serviceNumberSource.next(void 0)}getMemberIndex(e){return this.getMemberIndexBy("member_id",e)}findActiveUser(){const e=this.conferenceDataSource.getValue();if(null==e?void 0:e.members){const t=this.getMemberIndexBy("caller_id_number",this.user.activePhoneExtension.extensionNumber);-1!==t&&this.updateActiveUserJoined(e.members[t])}}getMemberIndexBy(e,t){const i=this.conferenceDataSource.getValue();if(!i)return-1;let n=0;const s=i.members.length;for(;n<s;){if(i.members[n][e]===t)return n;n++}return-1}isDynamicConference(){const e=this.conferenceDataSource.getValue();return(null==e?void 0:e.extension)===this.DYNAMIC_CONFERENCE}getServiceNumberForCallId(e){return this.conferenceCallsServiceNumbers.get(e)}setServiceNumberForCall(e,t){this.conferenceCallsServiceNumbers.set(e,t)}removeServiceNumberFromCalls(e){this.conferenceCallsServiceNumbers.delete(e)}updateIsModerator(){const e=this.activeUserJoinedSource.getValue(),t=!!this.conferenceDataSource.getValue(),i=this.isConferenceAdminSource.getValue(),n=!!t&&(i||this.isDynamicConference()&&e.is_moderator);this.isModeratorSource.next(n)}emitConferenceSubscriptionChange(e){this.conferenceSubscriptionSource.next(e)}getSubscriptionList(e={page:0,pageSize:25,search:""},t){return e.search||e.page||t?this.loadAudioSubscriptions(e):this.conferenceSubscriptions$.pipe((0,s.h)(e=>!!e))}loadAudioSubscriptions(t={page:0,pageSize:25,search:""},i=!0){let n=`${this.apiEndpoint}/audio/subscriptions`;return n+=(0,g.QI)(t.page*t.pageSize,t.pageSize),t.search&&(n+=`&search=${encodeURIComponent(t.search)}`),this.apiService.get(n).pipe((0,r.B)(),(0,o.U)(e.mapResponseWithMultipleConferenceSubscriptions),(0,a.b)(e=>{i&&(this.conferenceSubscriptionsSource.next(e),t.search||(this.conferenceSubscriptionAvailableSource.next(!!e.total),this.isSubscribedToConferences=!!+e.total))}))}getAudioList(t={page:0,pageSize:25,search:""}){let i=`${this.apiEndpoint}/audio/available`;return i+=(0,g.QI)(t.page*t.pageSize,t.pageSize),t.search&&(i+=`&search=${encodeURIComponent(t.search)}`),this.apiService.get(i).pipe((0,r.B)(),(0,o.U)(e.mapResponseWithMultipleAudioConferences))}getCombinedList(e={page:0,pageSize:25,search:""}){return this.getAudioList(e).pipe((0,c.zg)(t=>this.getSubscriptionList(e).pipe((0,o.U)(e=>t.data.map(t=>e.data.find(e=>e.serviceNumber===t.serviceNumber)||t)))))}getConferenceRole(e){this.apiConferenceService.getConferenceRole(e).pipe((0,l.K)(e=>(this.conferenceUserRoleSource.next("user"),(0,p._)(e)))).subscribe(e=>this.setRole(e.data.role))}subscribeToAudioConference(t,i){return this.apiService.post(`${this.apiEndpoint}/audio/subscriptions/service/${t.serviceNumber}`,{serviceNumber:t.serviceNumber,pin:i}).pipe((0,o.U)(e.mapResponseWithSingleConferenceSubscription)).pipe((0,a.b)(()=>{this.loadAudioSubscriptions().subscribe()}))}unsubscribe(e){return this.apiService.delete(`${this.apiEndpoint}/audio/subscriptions/service/${e}`).pipe((0,a.b)(()=>{this.loadAudioSubscriptions().subscribe()}))}addMember(e,t,i,n,s){const r={number:e,pin:i,role:t};return this.isAdHocConferenceSource.getValue()||(n=`${s.name}-${n}`),this.apiService.put(`${this.conferenceApi}/${n}`,r)}getConferenceData(e,t=5,i=1500){const n=this.conferencePins.get(e);this.apiConferenceService.getConferenceData(e,n).subscribe(n=>{const s=this.isUserInConferenceMembersList(n);void 0!==n.created&&s||!t?n.created&&(n=y.T.sortMembersBySignal(n),this.conferenceDataSource.next(n),this.updateIsModerator()):(0,f.H)(i).subscribe(()=>{this.getConferenceData(e,--t,2*i)})})}setConference(e){this.conferenceDataSource.next(e),this.updateIsModerator()}updateConferencePin(t,i){return this.apiService.put(`${this.apiEndpoint}/audio/subscriptions/service/${t}`,{serviceNumber:t,pin:i}).pipe((0,o.U)(e.mapResponseWithSingleConferenceSubscription))}getAdHocConferenceData(t){return this.apiService.get(`${this.conferenceApi}/${t}`).pipe((0,o.U)(e.mapResponseWithSingleConference),(0,r.B)(),(0,l.K)(e=>(0,p._)(e.statusText||"Server error")))}addMemberToDynamicConference(e,t,i){this.apiService.put(`${this.conferenceApi}/${t}`,{number:i}).pipe((0,l.K)(e=>(0,p._)(e||"Server error"))).subscribe()}conferenceAction(e,t,i){const n=this.adHocConferenceNameSource.getValue()||this.generateConferenceName(t);this.apiConferenceService.sendConferenceAction(e,n,i)}memberAction(e,t,i,n){const s=n||this.generateConferenceName(),r=i||this.getAdminPin();this.apiConferenceService.sendConferenceAction(e,`${s}/${t}`,r)}generateConferenceName(e){return e||(e=this.serviceNumberSource.getValue()),`${this.user.activePhoneExtension.name}-${C.K.normalizeServiceNumber(e)}`}endConference(){const e=this.adHocConferenceNameSource.getValue()||this.generateConferenceName();this.apiService.delete(`${this.conferenceApi}/${e}`).subscribe()}isConferenceExistsInActiveCalls(){return new m.y(e=>{const t=[];this.sipService.activeCalls.size?(this.sipService.activeCalls.forEach(e=>{t.push(e.details.number)}),t.length?this.getFullSubscribedConferencesList(0).then(i=>{const n=i.some(e=>t.includes(e.number));e.next(n)}):e.next(!1)):e.next(!1)})}getStoredConferenceId(){return this.storedConferenceId}setStoredConferenceId(e){e?this.storedConferenceId=e:this.sipService.onActiveCallsListChanged$.pipe((0,u.P)()).subscribe(()=>{this.checkForActiveConferences()})}checkForActiveConferences(){this.isConferenceExistsInActiveCalls().subscribe(e=>{e||(this.storedConferenceId="")})}getSubscribedConferences(e,t,i){return this.loadAudioSubscriptions({page:e,pageSize:500},!1).subscribe(n=>{t.push(...n.data),n.data.length?this.getSubscribedConferences(e+1,t,i):i(t)},()=>{i([])})}getFullSubscribedConferencesList(e){const t=[];return new Promise(i=>{this.getSubscribedConferences(e,t,i)})}isUserInConferenceMembersList(e){return e.members.some(e=>e.caller_id_number===this.user.activePhoneExtension.extensionNumber)}setRole(e){const t="admin"===e;this.conferenceUserRoleSource.next(e),this.isConferenceAdminSource.next(t)}getAdminPin(){var e;return(null===(e=this.conferenceServiceDataSource.getValue())||void 0===e?void 0:e.adminPIN)||""}static getConferenceIdentifier(e,t){return`${e}-${C.K.normalizeServiceNumber(t)}`}static mapResponseWithMultipleConferenceSubscriptions(t){return t&&(t.data=t.data.map(e.mapToConferenceSubscription)),t}static mapToConferenceSubscription(e){const t=new _.i;return t.fromJSON(e),t}static mapToConference(e){const t=new v.E;return t.fromJSON(e),t}static mapToAudioConference(e){const t=new b.U;return t.fromJSON(e),t}static mapResponseWithSingleConferenceSubscription(t){return t&&e.mapToConferenceSubscription(t)}static mapResponseWithSingleConference(t){return t&&e.mapToConference(t)}static mapResponseWithMultipleAudioConferences(t){return t&&(t.data=t.data.map(e.mapToAudioConference)),t}}return e.\u0275fac=function(t){return new(t||e)(w.LFG(E.s),w.LFG(T.j),w.LFG(k.K),w.LFG(x.y))},e.\u0275prov=w.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},85260:function(e,t,i){"use strict";i.d(t,{i:function(){return b}});var n=i(79765),s=i(25917),r=i(99910),o=i(73456),a=i(88002),c=i(71289),l=i(19773),u=i(87519),h=i(45435),d=i(46782),p=i(39485),f=i(37716),m=i(658),g=i(51233),_=i(13427),v=i(66632);let b=(()=>{class e{constructor(e,t,i,s){this.digestInterceptor=e,this.userService=t,this.liteModeService=i,this.conferenceService=s,this.addMemberSource=new n.xQ,this.deleteMemberSource=new n.xQ,this.conferenceCreateSource=new n.xQ,this.isStreamOpen=!1,this.counter=1,this.ngUnsubscribe=new n.xQ,this.addMember$=this.addMemberSource.asObservable(),this.deleteMember$=this.deleteMemberSource.asObservable(),this.conferenceCreate$=this.conferenceCreateSource.asObservable()}init(){this.streamActive||this.prepareStreamForInitialization()}close(){this.stream&&(this.stream.close(),this.streamActive=!1)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initEventSource(e){return e&&(this.voiceControlUrl=e),this.digestInterceptor.getDigestAuthorizationHeaderValue(`${this.voiceControlUrl}/conferences/events`,"GET").pipe((0,a.U)(e=>{this.close();const t=new r.g(`${this.voiceControlUrl}/conferences/events`,{interval:2e3,headers:{Authorization:e}});return t.onopen=()=>{this.streamActive=!0},t.onmessage=e=>{e=JSON.parse(e.data);const t=this.conferenceService.getStoredConferenceId();if(!t||t===e.name)switch(e.action){case o.R.ADD_MEMBER:this.addMemberSource.next(e);break;case o.R.DELETE_MEMBER:this.deleteMemberSource.next(e);break;case o.R.CREATE:this.conferenceCreateSource.next(e)}},t.onerror=()=>{this.close(),(0,s.of)(!0).pipe((0,c.g)(500*this.counter),(0,l.zg)(()=>this.initEventSource())).subscribe(e=>{this.counter++,this.stream=e})},t}))}prepareStreamForInitialization(){this.userService.userInfo$.pipe((0,u.x)(),(0,h.h)(e=>!!e),(0,l.zg)(e=>{var t;return(null===(t=e.modules)||void 0===t?void 0:t.includes("litemode"))?(this.close(),(0,s.of)()):this.initEventSource(p.N.VOICE_CONTROL_URL)}),(0,d.R)(this.ngUnsubscribe)).subscribe(e=>{this.stream=e})}set streamActive(e){this.isStreamOpen=e}get streamActive(){return this.isStreamOpen}}return e.\u0275fac=function(t){return new(t||e)(f.LFG(m.L),f.LFG(g.K),f.LFG(_.v),f.LFG(v.Z))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},54249:function(e,t,i){"use strict";i.d(t,{U:function(){return n}});class n{fromJSON(e){this.displayName=e.name,this.number=e.extensionNumber||e.displayNumber,this.memberCount=e.memberCount||0,this.name=e.name,this.serviceNumber=e.serviceNumber,this.type=e.type}}},21677:function(e,t,i){"use strict";i.d(t,{U:function(){return n}});class n{fromJSON(e){var t,i,n,s,r,o,a;this.caller_id_name=e.caller_id_name,this.caller_id_number=e.caller_id_number,this.conferenceMemberCount=e.conference_member_count,this.energy_level=e.energy_level,this.flags={energyLevel:null===(t=e.flags)||void 0===t?void 0:t.energy_level,floor:!!(null===(i=e.flags)||void 0===i?void 0:i.floor),hear:!!(null===(n=e.flags)||void 0===n?void 0:n.hear),isSpeaking:!!(null===(s=e.flags)||void 0===s?void 0:s.isSpeaking),signal:!!(null===(r=e.flags)||void 0===r?void 0:r.signal),speak:!!(null===(o=e.flags)||void 0===o?void 0:o.speak),talking:!!(null===(a=e.flags)||void 0===a?void 0:a.talking)},this.is_moderator=e.is_moderator,this.member_id=e.member_id,this.member_type=e.member_type,this.user_agent=e.user_agent,this.uuid=e.uuid,this.volume_in=e.volume_in,this.volume_out=e.volume_out}}},4604:function(e,t,i){"use strict";i.d(t,{i:function(){return s}});var n=i(89900);class s{fromJSON(e){this.adminOptions=e.ADMIN_OPTIONS,this.adminPIN=e.ADMIN_PIN,this.AFDServiceExtentionId=e.AFD_SERVICEEXTENSION_ID,this.backupConfGroupOverride=e.BACKUP_CONF_GROUP_OVERRIDE,this.conferenceServiceId=e.CONFERENCE_SERVICE_ID,this.customerId=e.CUSTOMER_ID,this.discriminator=e.DISCRIMINATOR,this.displayName=e.DISPLAY_NAME,this.number=e.EXTENSION_NUMBER,this.externalIdentifier=e.EXTERNALIDENTIFIER,this.externalPhoneNumbers=e.EXTERNAL_PHONE_NUMBERS||[],this.id=e.ID,this.language=e.language,this.memberCount=e.MEMBER_COUNT||0,this.primaryConfGroupOverride=e.PRIMARY_CONF_GROUP_OVERRIDE,this.rank=e.RANK,this.role=e.ROLE,this.serviceCode=e.SERVICE_CODE,this.serviceNumber=e.SERVICE_NUMBER,this.type=e.TYPE,this.userOptions=e.USER_OPTIONS,this.userPIN=e.USER_PIN,this.version=e.VERSION,this.isEmptyPin=n.K.isConferencePinEmpty(e)}}},94909:function(e,t,i){"use strict";i.d(t,{E:function(){return s}});var n=i(21677);class s{fromJSON(e){var t,i,s;if(this.created=e.created,this.displayName=e.display_name,this.extension=e.extension,this.flags={lock:!!(null===(t=e.flags)||void 0===t?void 0:t.lock),mute:!!(null===(i=e.flags)||void 0===i?void 0:i.mute)},this.isActive=null===(s=e.is_active)||void 0===s||s,this.memberCount=e.membercount,this.name=e.name,this.node=e.node,this.pbx=e.pbx,this.rate=e.rate,this.uuid=e.uuid,this.members=[],e.members)for(const r of Object.keys(e.members)){const t=new n.U;t.fromJSON(e.members[r]),this.members.push(t)}}}},96780:function(e,t,i){"use strict";i.d(t,{e:function(){return s}});var n=i(86561);class s extends n.H{constructor(){super(...arguments),this.phonebookEntries=[]}setAttributes(e){this.discriminator=e.DISCRIMINATOR,this.displayName=e.DISPLAY_NAME,this.displayNumber=e.DISPLAY_NUMBER,this.extensionNumber=e.EXTENSION_NUMBER,this.id=e.ID,this.isPrivate=e.PRIVATE,e.phoneNumber&&(this.phoneNumber={countryCode:e.phoneNumber.COUNTRY_CODE,createdAt:e.phoneNumber.CREATED_AT,updatedAt:e.phoneNumber.UPDATED_AT,extension:e.phoneNumber.EXTENSION,formatDisplay:e.phoneNumber.FORMAT_DISPLAY,formatPlain:e.phoneNumber.FORMAT_PLAIN,id:e.phoneNumber.ID,noc:e.phoneNumber.NDC,pilot:e.phoneNumber.PILOT,trunkId:e.phoneNumber.TRUNK_ID,version:e.phoneNumber.VERSION}),e.phonebookEntries&&e.phonebookEntries.length&&e.phonebookEntries.forEach(e=>{this.phonebookEntries.push({createdAt:e.CREATED_AT,customerId:e.CUSTOMER_ID,destinationId:e.DESTINATION_ID,id:e.ID,updatedAt:e.UPDATED_AT,version:e.VERSION,voiceVPNNumberId:e.VOICE_VPN_NUMBER_ID,restricted:e.restricted})}),e.trunk&&e.trunk.basePhonenumber&&e.trunk.basePhonenumber.FORMAT_PLAIN&&(this.trunk={basePhonenumber:{FORMAT_PLAIN:e.trunk.basePhonenumber.FORMAT_PLAIN}})}fromJSON(e){this.setAttributes(e)}isNew(){return!Boolean(this.id)}}},93949:function(e,t,i){"use strict";i.d(t,{$:function(){return u}});var n=i(79765),s=i(88002),r=i(78345),o=i(99385),a=i(96780),c=i(73432),l=i(39485);class u{constructor(e){this.http=e,this.activeItemSource=new n.xQ,this.apiEndpoint=`${l.N.API_URL}/phonebook`,this.reloadItemsSource=new n.xQ,this.activeItem$=this.activeItemSource.asObservable(),this.reloadItems$=this.reloadItemsSource.asObservable()}reloadItems(e=!0){this.reloadItemsSource.next(e)}getGlobal(e="",t=0,i=25){return this.genericPhonebookRequest(e,t,i,c.n.GLOBAL)}createContact(e){return e.displayNumber=(0,o.Ie)(e.displayNumber),this.http.post(`${this.apiEndpoint}/private`,{display_name:e.displayName,display_number:e.displayNumber}).pipe((0,s.U)(u.mapResponseWithSingleItem))}getGlobalItem(e){return this.http.get(`${this.apiEndpoint}/global/entry/${e}`).pipe((0,s.U)(u.mapResponseWithSingleItem))}getPrivateItem(e){return this.http.get(`${this.apiEndpoint}/private/entry/${e}`).pipe((0,s.U)(u.mapResponseWithSingleItem))}deleteContact(e){return this.http.delete(`${this.apiEndpoint}/${e}`)}deleteItems(e){return this.http.delete(`${this.apiEndpoint}/${e.join(",")}`)}deleteAllPrivateContacts(){return this.http.delete(`${this.apiEndpoint}/private/all`).pipe((0,r.B)())}activeItem(e){this.activeItemSource.next(e)}get(e,t=0,i=25,n=""){return this.genericPhonebookRequest(n,t,i,e)}editContact(e,t){return t.displayNumber=(0,o.Ie)(t.displayNumber),this.http.put(`${this.apiEndpoint}/private/entry/${e}`,{display_name:t.displayName,display_number:t.displayNumber}).pipe((0,s.U)(u.mapResponseWithSingleItem))}getFaxes(e="",t=0,i=25){const n=(0,o.U8)(e,t,i,"name");return this.http.get(`${this.apiEndpoint}/private?${n}&filter=virtualfaxextension`).pipe((0,s.U)(e=>({data:e})),(0,s.U)(u.mapResponseWithMultipleItems))}genericPhonebookRequest(e="",t=0,i=25,n){const r=e&&(0,o.Ie)(e),a=(0,o.U8)(r,t,i,"name");return n||(n=c.n.GLOBAL),this.http.get(`${this.apiEndpoint}/${n.toString()}?${a}`,{observe:"response"}).pipe((0,s.U)(e=>({data:e.body,paginationHasMoreData:+e.headers.get("x-pagination-current-page")<+e.headers.get("x-pagination-page-count")})),(0,s.U)(u.mapResponseWithMultipleItems))}static mapResponseWithSingleItem(e){return e&&u.mapToPhoneBook(e)}static mapToPhoneBook(e){const t=new a.e;return t.fromJSON(e),t}static mapResponseWithMultipleItems(e){return e&&Object.assign(Object.assign({},e),{data:e.data.map(u.mapToPhoneBook)})}}},51948:function(e,t,i){"use strict";i.d(t,{s:function(){return v}});var n=i(79765),s=i(25917),r=i(99910),o=i(88002),a=i(71289),c=i(19773),l=i(45435),u=i(87519),h=i(39485),d=i(37716),p=i(91841),f=i(51233),m=i(658),g=i(13427),_=i(57158);let v=(()=>{class e{constructor(e,t,i,s,r){this.http=e,this.userService=t,this.digestInterceptor=i,this.liteModeService=s,this.logger=r,this.changeExtensionState=new n.xQ,this.changeExtensionState$=this.changeExtensionState.asObservable(),this.liteModeService.isLiteMode()||this.reinitializeStreamOnUserChange()}close(){this.stream&&this.stream.close()}initEventSource(){return this.digestInterceptor.getDigestAuthorizationHeaderValue(this.presenceApi,"GET").pipe((0,o.U)(e=>{const t=new r.g(this.presenceApi,{interval:2e3,headers:{Authorization:e},mode:"disable-fetch"});return t.onopen=()=>{this.counter=1},t.onmessage=e=>{"extension-state-change"===(e=JSON.parse(e.data)).action&&this.changeExtensionState.next(e)},t.onerror=e=>{this.logger.error("Presence event stream error:",e),this.close(),(0,s.of)(!0).pipe((0,a.g)(500*this.counter),(0,c.zg)(()=>this.initEventSource())).subscribe(e=>{this.counter++,this.stream=e})},t}))}reinitializeStreamOnUserChange(){this.userService.userInfo$.pipe((0,l.h)(e=>!!e),(0,u.x)(),(0,c.zg)(e=>{var t;return(null===(t=e.modules)||void 0===t?void 0:t.includes("litemode"))?(this.close(),(0,s.of)()):this.initEventSource()})).subscribe(e=>{this.stream=e})}get presenceApi(){return`${h.N.VOICE_CONTROL_URL}/extensions/events`}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(p.eN),d.LFG(f.K),d.LFG(m.L),d.LFG(g.v),d.LFG(_.Kf))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},96987:function(e,t,i){"use strict";i.d(t,{s:function(){return r}});var n=i(78345),s=i(39485);class r{constructor(e){this.http=e}getUserSettings(){return this.http.get(this.apiEndpointUser).pipe((0,n.B)())}updateUserSettings(e){return e.id&&delete e.id,this.http.put(this.apiEndpointUser,e)}updateUserPassword(e){return this.http.put(`${this.apiEndpointUser}/password`,JSON.stringify(e)).pipe((0,n.B)())}updateUsername(e){return this.http.put(`${this.apiEndpointUser}`,{username:e}).pipe((0,n.B)())}updateUserLanguageEndpoint(e){return this.http.put(`${this.apiEndpointUser}/language`,e)}get apiEndpointUser(){return`${s.N.API_URL}/settings/user`}}},89900:function(e,t,i){"use strict";i.d(t,{K:function(){return n}});class n{static getSubscriptionIndexByName(e,t){let i=0;for(;i<t.length;){const n=this.normalizeServiceNumber(t[i].serviceNumber);if(`${t[i].externalIdentifier}-${n}`===e)return i;i++}return-1}static isConferencePinEmpty(e){const t=this.isInstanceOfBackendConferenceResponse(e)?"ADMIN_PIN":"adminPIN",i=this.isInstanceOfBackendConferenceResponse(e)?"USER_PIN":"userPIN";return!e[t]&&!e[i]}static normalizeServiceNumber(e){return`000${e}`.substr(-4)}static isInstanceOfBackendConferenceResponse(e){return"ADMIN_PIN"in e}}},97090:function(e,t,i){"use strict";i.d(t,{_:function(){return l}});var n=i(15257),s=i(7908),r=i(71188),o=i(79765),a=i(58623),c=i(89900);class l{constructor(e,t,i,n,s,r,a){this.sipService=e,this.userService=t,this.preferredDeviceService=i,this.conferenceService=n,this.callStream=s,this.callTrackerService=r,this.dialog=a,this.joinConferenceWithAPISource=new o.xQ,this.joinConferenceWithAPI$=this.joinConferenceWithAPISource.asObservable()}callByPreferredDevice(e,t){let i=!1;if(this.sipService.activeCalls.forEach(t=>{t.details.number===e.number&&(i=!0)}),!i){if(void 0===t)return void this.preferredDeviceService.preferredDevice$.pipe((0,n.q)(1)).subscribe(t=>{this.callByPreferredDevice(e,t)});this.hasPinChanged(e)?this.enterPin(e,e=>{this.callConference(e,t)}):this.callConference(e,t)}}inviteUserToDynamicConference(e,t){t&&this.conferenceService.addMemberToDynamicConference(this.userService.userInfo,e,t)}checkCallForSubscribedConferenceAndEnterPin(e,t){const i=r.V.getSubscribedConferencesList();if((null==i?void 0:i.length)>0&&this.activeCallTypeIsStandardConference(e,i)){const t=this.getSavedSubscribedConferencesList(e,i);t&&this.callByPreferredDevice(t)}else this.callTrackerService.makeCall(t)}isConferenceCall(e){const t=r.V.getSubscribedConferencesList();return(null==t?void 0:t.length)>0&&this.activeCallTypeIsStandardConference(e,t)}makeConferenceCall(e){const t=r.V.getSubscribedConferencesList(),i=this.getSavedSubscribedConferencesList(e,t);i&&this.callByPreferredDevice(i)}updateCountOnUpdate(e,t){const i=c.K.getSubscriptionIndexByName(e.name,t);-1!==i&&(t[i].memberCount=e.conference_member_count)}hasPinChanged(e){return!e.adminPIN&&!e.userPIN}activeCallTypeIsStandardConference(e,t){return t.some(t=>t.number===e)}enterPin(e,t){this.dialog.open(a.b,{data:{conference:e,isPinChanged:!0}}).afterClosed().pipe((0,n.q)(1)).subscribe(e=>{e&&t(e)})}callConference(e,t){t&&t.type===s.Y.UC_CLIENT?this.callConferenceWithWebRTC(e):!t||t.type!==s.Y.EXTENSION&&t.type!==s.Y.CLICK_TO_DIAL?("admin"===e.role||e.memberCount&&e.memberCount>0)&&this.callStream.initCallStream().subscribe(()=>{this.joinConferenceWithAPI(t,e)}):this.callStream.initCallStream().subscribe(()=>{this.joinConferenceWithClickToDial(e)})}getSavedSubscribedConferencesList(e,t){return t.filter(t=>t.number===e)[0]}callConferenceWithWebRTC(e){this.callTrackerService.makeCall(e),this.sipService.outgoingCallStarted$.pipe((0,n.q)(1)).subscribe(t=>{t.number===e.number&&t.callId&&this.sendPinOverDTMF(t.callId,e)})}sendPinOverDTMF(e,t){setTimeout(()=>{this.sipService.dtmf(e,this.getPin(t)||"")},1200)}joinConferenceWithAPI(e,t){const i=this.getPin(t),n=c.K.normalizeServiceNumber(t.serviceNumber||"");this.joinConferenceWithAPISource.next({type:"init",payload:{preferredDevice:e}}),this.userService.userInfo$.subscribe(s=>{(null==s?void 0:s.activePhoneExtension)&&this.conferenceService.addMember(e.number,t.role||"",i||"",n,s.activePhoneExtension).subscribe(t=>{this.joinConferenceWithAPISource.next({type:"success"===t.response?"success":"error",payload:Object.assign(Object.assign({},t),{preferredDevice:e})})},t=>{this.joinConferenceWithAPISource.next({type:"error",payload:Object.assign(Object.assign({},t),{preferredDevice:e})})})})}joinConferenceWithClickToDial(e){this.callTrackerService.makeCall(e)}getPin(e){return"admin"===e.role?e.adminPIN:e.userPIN}}},11740:function(e,t,i){"use strict";i.d(t,{W:function(){return n}});class n{static parseBoolean(e){return"boolean"==typeof e?e:"number"==typeof e?1===e:"string"==typeof e&&["true","t","1","on","yes","y"].indexOf(e.toLowerCase())>-1}static attachSinkId(e,t,i){void 0!==e.sinkId?e.setSinkId(t).then(()=>{}).catch(e=>{let t=e;"SecurityError"===e.name&&(t="You need to use HTTPS for selecting audio output device: "+e),i&&i.error("Failed to attach sink ID. Error:",e)}):i&&i.warn("Browser does not support selected output device.")}}},99385:function(e,t,i){"use strict";i.d(t,{QI:function(){return n},lY:function(){return s},Cx:function(){return r},fA:function(){return o},Vj:function(){return a},Qg:function(){return c},Lm:function(){return l},OO:function(){return u},e$:function(){return h},Ie:function(){return d},U8:function(){return p},tS:function(){return f},oc:function(){return m}});const n=(e=0,t=25)=>{let i="";return t&&(i+=`&pagesize=${t}`),e&&(i+=`&offset=${e}`),"?"+i.slice(1)},s=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),r=e=>{if(!e||null===e.match(/^[a-zA-Z\xe4\xf6\xfc\xc4\xd6\xdc\xdf\u010c\u010d\u0106\u0107\u017e\u017e\u0110\u0111\u0160\u0161\u017d\u017e\xc9\xe9\xc0\xe0\xc1\xe1\xc8\xe8\xd9\xf9\xc2\xe2\xca\xea\xce\xee\xd4\xf4\xdb\xfb\xcb\xeb\xcf\xef\xdc\xfc\u0178\xff\xc7\xe7\u0104\u0105\u0106\u0107\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c -\s]*$/))return!1;const t=e.split(/[\s]+/),i=t.length;return!(e=>{const t=[],i=e[0],n=e.length>1?e[e.length-1]:null;return t.push(i[0]),t.push(i[i.length-1]),n&&(t.push(n[0]),t.push(n[n.length-1])),t.some(e=>"-"===e)})(t)&&(1===i?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[i-1].charAt(0)).toUpperCase())},o=e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),a=e=>-1===[0,8].indexOf(e),c=e=>e.metaKey||e.ctrlKey||e.altKey,l={isTelephone:e=>new RegExp(/^[0-9\-()*+#.\s|ext|extension]{1,20}$/,"gi").test(e),checkLetters(e){const t=e.toLowerCase();return!(t.indexOf("ext")>-1||t.indexOf("extension")>-1)&&/[a-z]/.test(t)},removeSpaces:e=>e.replace(/\s/g,""),checkIfDate:e=>3===e.split("/").length,isValidFirstLetter(e){const t=e.charAt(0);return["+","[","(","#","*"].indexOf(t)>-1||t>="0"&&t<="9"},checkRoundBrackets(e){if(!this.findOccurences(e,"(")&&!this.findOccurences(e,")"))return!0;const t=[0,4];if(!new RegExp(/\(([^)]+)\)/).test(e)||1!==this.findOccurences(e,"(")||1!==this.findOccurences(e,")"))return!1;const i=("+"===e[0]?e.substr(1):e).indexOf("(");return i>=t[0]&&i<=t[1]},checkSquareBrackets(e){return!this.findOccurences(e,"[")&&!this.findOccurences(e,"]")||!(!new RegExp(/\[([^\]]+)]/).test(e)||1!==this.findOccurences(e,"[")||1!==this.findOccurences(e,"]"))&&0===("+"===e[0]?e.substr(1):e).indexOf("[")},checkIfContainsDots:e=>e.indexOf(".")>-1,findOccurences:(e,t)=>e.split(t).length-1,generateNumber(e){const t=new RegExp("[\\/()\\[\\]\\-\u2013\\s]","gi");return e.replace(t,"")}},u=e=>2===e.split(",").length,h=e=>!(l.checkLetters(e)||(e=l.removeSpaces(e),!(l.isValidFirstLetter(e)&&l.checkRoundBrackets(e)&&l.checkSquareBrackets(e))||l.checkIfContainsDots(e)))&&(e=l.generateNumber(e),l.isTelephone(e)),d=e=>e.replace(/^\+/g,"00"),p=(e="",t=0,i=25,n)=>{const s=[`page=${t}`];return e&&"string"==typeof e&&s.push(`search=${encodeURIComponent(e)}`),i&&s.push(`per-page=${i}`),n&&s.push(`sort=${n}`),s.join("&")},f={isSupported:()=>["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].some(e=>e in window)},m=e=>{try{return decodeURIComponent(e)}catch(t){return e}}},7908:function(e,t,i){"use strict";i.d(t,{Y:function(){return n}});var n=(()=>{return(e=n||(n={})).UC_CLIENT="uc",e.CALL_THROUGH="call-through",e.EXTENSION="extension",e.CLICK_TO_DIAL="clicktodial",n;var e})()},28123:function(e,t,i){"use strict";i.d(t,{Q:function(){return s}});var n=i(37716);let s=(()=>{class e{static store(e,t,i=!0){i?sessionStorage.setItem(e,JSON.stringify(t)):localStorage.setItem(e,JSON.stringify(t))}static getCached(e,t){const i=JSON.parse(localStorage.getItem(e)||sessionStorage.getItem(e)||"null");return null!==i?i:t}static isLongtimeToken(e){return!!localStorage.getItem(e)}static removeItem(e){localStorage.removeItem(e)}static removeAll(){sessionStorage.clear()}static clearToken(e){localStorage.removeItem(e),sessionStorage.removeItem(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},13427:function(e,t,i){"use strict";i.d(t,{v:function(){return o}});var n=i(28123),s=i(26215),r=i(37716);let o=(()=>{class e{constructor(){this.isLiteModeSource=new s.X(!1),this.mode=!1,this.isLiteMode$=this.isLiteModeSource.asObservable(),this.isLiteMode()}isLiteMode(){const e=n.Q.getCached("isLiteMode",!1);if(e)this.mode=e;else{const e=n.Q.getCached("userinfo",null);this.mode=!!(e&&e.modules&&e.modules.length>0)&&e.modules.includes("litemode"),n.Q.store("isLiteMode",this.mode)}return this.isLiteModeSource.next(this.mode),this.mode}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},95786:function(e,t,i){"use strict";i.d(t,{_:function(){return h}});var n=i(82298),s=i(45435),r=i(68307),o=i(78345),a=i(7908),c=i(39485),l=i(37716),u=i(45146);let h=(()=>{class e{constructor(e){this.apiService=e,this.preferredDeviceSource=new n.t(1),this.preferredDevice$=this.preferredDeviceSource.asObservable()}getPreferredDevice(){return this.apiService.get(`${c.N.API_URL}/user/preferred-device`).pipe((0,s.h)(e=>!!e),(0,r.b)(e=>{this.preferredDeviceSource.next(e)}),(0,o.B)())}setPreferredDevice(e,t){return this.apiService.post(`${c.N.API_URL}/user/preferred-device`,{type:e,id:t}).pipe((0,r.b)(e=>{this.preferredDeviceSource.next(e)}),(0,o.B)())}resetPreferredDevice(){this.preferredDeviceSource.next()}static getPreferredDeviceType(e){if(e&&e.type)switch(e.type){case a.Y.UC_CLIENT:return"uc_client";case a.Y.CLICK_TO_DIAL:return e.name||"";case a.Y.EXTENSION:return"c2d";case a.Y.CALL_THROUGH:return"uc_client"}return""}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(u.s))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},80173:function(e,t,i){"use strict";i.d(t,{B:function(){return h}});var n=i(45435),s=i(88002),r=i(68307),o=i(78345),a=i(82298),c=i(39485),l=i(37716),u=i(91841);let h=(()=>{class e{constructor(e){this.http=e,this.helpModesUrl=`${c.N.API_URL}/settings/app`,this.userHelpModesSource=new a.t(1),this.isHelpModeActive$=this.userHelpModesSource.pipe((0,n.h)(e=>!!e),(0,s.U)(e=>"true"===(null==e?void 0:e.helpMode)))}getUserHelpModes(){return this.http.get(this.helpModesUrl).pipe((0,r.b)(e=>{this.userHelpModesSource.next(e)}),(0,o.B)()).toPromise()}setHelpMode(e){const t={helpMode:e.toString()};return this.http.put(this.helpModesUrl,t).pipe((0,r.b)(()=>{this.userHelpModesSource.next(t)}),(0,o.B)()).toPromise()}clearUserHelpModesSettings(){this.userHelpModesSource.next({})}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(u.eN))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},51233:function(e,t,i){"use strict";i.d(t,{K:function(){return y}});var n=i(82298),s=i(68307),r=i(78345),o=i(87519),a=i(45435),c=i(43190),l=i(28123),u=i(7908),h=i(39485),d=i(37716),p=i(91841),f=i(82676),m=i(92937),g=i(95786),_=i(91856),v=i(80173),b=i(8307);let y=(()=>{class e{constructor(e,t,i,s,r,o,a){this.http=e,this.profileService=t,this.tokenService=i,this.preferredDeviceService=s,this.routerEventService=r,this.userHelpModesService=o,this.router=a,this.userInfoSource=new n.t(1),this.userInfo$=this.userInfoSource.asObservable(),this.preferredDeviceTypes=u.Y,this.init()}getUserInfo(){return this.http.get(`${h.N.API_URL}/user/info`).pipe((0,s.b)(e=>{this.userInfo=e,this.userInfoSource.next(e),l.Q.store("hasActivePhoneExtension",!!e.activePhoneExtension,!1),this.hasActivePhoneExtension(e)&&(this.router.url.includes("admin")||this.preferredDeviceService.getPreferredDevice().subscribe())}),(0,r.B)())}hasActivePhoneExtension(e){var t;return!!(null==e?void 0:e.activePhoneExtension)&&(null===(t=null==e?void 0:e.modules)||void 0===t?void 0:t.includes("client"))}isMobilityOptionEnabled(){var e,t;return null===(t=null===(e=this.userInfo)||void 0===e?void 0:e.modules)||void 0===t?void 0:t.includes("phone")}clearCurrentUser(){this.preferredDeviceService.resetPreferredDevice(),this.userInfoSource.next(void 0),this.userHelpModesService.clearUserHelpModesSettings(),this.profileService.resetProfiles()}init(){this.setInitialUserInfo(),this.observePreferredDeviceChanges()}setInitialUserInfo(){this.tokenService.token$.pipe((0,o.x)(),(0,s.b)(e=>{e||this.clearCurrentUser()}),(0,a.h)(e=>!!e),(0,c.w)(()=>this.getUserInfo())).subscribe(e=>{e&&this.userHelpModesService.getUserHelpModes()})}observePreferredDeviceChanges(){this.preferredDeviceService.preferredDevice$.pipe((0,o.x)()).subscribe(e=>{var t,i;if(this.userInfo){if(!this.userInfo.activePhoneExtension)return;(null==e?void 0:e.type)===this.preferredDeviceTypes.UC_CLIENT&&!this.isMobilityOptionEnabled()&&this.preferredDeviceService.setPreferredDevice(this.preferredDeviceTypes.EXTENSION,null===(i=null===(t=this.userInfo)||void 0===t?void 0:t.activePhoneExtension)||void 0===i?void 0:i.extensionId)}})}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(p.eN),d.LFG(f.H),d.LFG(m.B),d.LFG(g._),d.LFG(_.r),d.LFG(v.B),d.LFG(b.F0))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},11223:function(e,t,i){"use strict";i.d(t,{R:function(){return r}});var n=i(66832),s=i(99385);class r extends n.w{initEmpty(){this.afdId=void 0,this.displayName="",this.discriminator=null,this.phonebookId=-1,this.phonebookRestricted=!1,this.phoneNumberFormatDisplay=""}isNew(){return!Boolean(this.afdId)}type(){switch(this.discriminator){case"EXTERNAL":return this.discriminator+"."+(this.phonebookId?this.phonebookRestricted?"private":"public":"phonenumber");case"VOICEMAIL":return this.discriminator+"."+(this.isUsersVoicemail?"own":"others");case null:return"disabled";default:return this.discriminator||""}}iconType(){return!1!==this.getInitials()?"initials":"default"}getInitials(){return(0,s.Cx)(this.displayName||"")}setAttributes(e){this.afdId=e.afdId,this.displayName=e.displayName,this.discriminator=e.discriminator,this.phonebookId=e.phonebookId,this.phonebookRestricted=e.phonebookRestricted,this.phoneNumberFormatDisplay=e.phoneNumberFormatDisplay,this.isUsersVoicemail=e.isUsersVoicemail}json(){return super.json()}static parseSingle(e){return super.parseSingle(e,r)}static parseMultiple(e){return super.parseMultiple(e,r)}}},75382:function(e,t,i){"use strict";i.d(t,{y:function(){return r}});var n=i(42061),s=i(66832);class r extends s.w{setAttributes(e){this.id=e.id,this.name=e.name,this.color=e.color,this.color_index=e.color_index,this.number=e.number,this.active=e.active,this.immutable=e.immutable,this.rules=[],e.rules&&e.rules.forEach(e=>{this.addRule(new n.h(e))})}addRule(e){e.profileId=this.id,this.rules.push(e),this.sortRules()}deleteRule(e){const t=this.rules.indexOf(e);-1!==t&&this.rules.splice(t,1)}sortRules(){this.rules.sort((e,t)=>{const i=e.source||0,n=t.source||0;if(i===n)return 0;if(0===i)return-1;if(0===n)return 1;if(i<0)return n<0?i<n?-1:1:-1;const s=e.type(),r=t.type();if(s===r)return i<n?-1:1;const o=["group","phonenumber","undefined"];return o.indexOf(s)<o.indexOf(r)?-1:1})}update(e){if(this.isNew())this.id=e.id;else if(this.id!==e.id)throw new Error("Could not update a profile with a different ID.");this.name=e.name,this.number=e.number,this.active=e.active,this.immutable=e.immutable,this.color=e.color,this.color_index=e.color_index,this.setWorking(!1);const t=[];e.rules&&e.rules.length>0&&e.rules.forEach(e=>{let i=e;this.rules&&this.rules.some(t=>e.id===t.id&&(t.update(e),i=t,!0)),t.push(i)}),this.rules=t,this.sortRules()}isNew(){return null===this.id}setWorking(e=!0){super.setWorking(e),this.rules&&this.rules.length&&this.rules.forEach(t=>{t.setWorking(e)})}json(){const e={id:this.id,name:this.name,number:this.number,active:this.active,immutable:this.immutable,color:this.color,color_index:this.color_index,rules:[]};return this.rules&&this.rules.forEach(t=>{e.rules.push(t.json())}),e}initEmpty(){this.active=!1,this.immutable=!1,this.rules=[]}init(){this.id=null,super.init()}static parseSingle(e){return super.parseSingle(e,r)}static parseMultiple(e){return super.parseMultiple(e,r)}}},42061:function(e,t,i){"use strict";i.d(t,{h:function(){return a}});var n=i(11223),s=i(25278),r=i(17490),o=i(66832);let a=(()=>{class e extends o.w{setAttributes(t){this.id=t.id,this.source=t.source,t.sourceAfd&&(this.sourceAfd=new n.R(t.sourceAfd)),this.profileId=t.profileId,this.busy&&(this.busy.destination=new n.R(t.busyDestination),this.busy.active=t.busyDestinationActive),this.unconditional&&(this.unconditional.destination=new n.R(t.unconditionalDestination),this.unconditional.active=t.unconditionalDestinationActive),this.notRegistered&&(this.notRegistered.destination=new n.R(t.notRegisteredDestination),this.notRegistered.active=t.notRegisteredDestinationActive),this.noAnswer&&(this.noAnswer.destination=new n.R(t.noAnswerDestination),this.noAnswer.active=t.noAnswerDestinationActive,this.noAnswer.timeout=t.noAnswerTimeout?t.noAnswerTimeout:e.DEFAULT_NO_ANSWER_TIMEOUT)}update(e){if(this.isNew())this.id=e.id;else if(this.id!==e.id)throw new Error("Could not update a rule with a different ID.");this.source=e.source,this.sourceAfd=e.sourceAfd,this.busy=e.busy,this.unconditional=e.unconditional,this.notRegistered=e.notRegistered,this.noAnswer=e.noAnswer,this.setWorking(!1),this.updateSettings()}isNew(){return!Boolean(this.id)}hasSource(){return!(null==this.source)}type(){if(null==this.source)return"undefined";if(0===this.source)return"default";if(-1===this.source)return"internal";if(-3===this.source)return"anonymous";if(this.sourceAfd){if("GROUPSERVICE"===this.sourceAfd.discriminator)return"group";if("PHONEEXTENSION"===this.sourceAfd.discriminator)return"extension"}return"phonenumber"}sourceIsConfigurable(){return"default"!==this.type()}getSettings(e=!1){const t=[];return this.unconditional&&t.push(this.unconditional),this.busy&&t.push(this.busy),this.noAnswer&&t.push(this.noAnswer),e&&this.notRegistered&&t.push(this.notRegistered),t}getDestination(){return this.sourceAfd}setDestination(e){this.setSource(e),this.sourceAfd=e}getTitleKey(){return"settings.call_forwarding.select-source"}json(){return{id:this.id,source:this.source,profileId:this.profileId,busyDestinationId:this.busy&&this.busy.destination&&this.busy.destination.afdId,busyDestinationActive:this.busy&&this.busy.active,unconditionalDestinationId:this.unconditional&&this.unconditional.destination&&this.unconditional.destination.afdId,unconditionalDestinationActive:this.unconditional&&this.unconditional.active,notRegisteredDestinationId:this.notRegistered&&this.notRegistered.destination&&this.notRegistered.destination.afdId,notRegisteredDestinationActive:this.notRegistered&&this.notRegistered.active,noAnswerDestinationId:this.noAnswer&&this.noAnswer.destination&&this.noAnswer.destination.afdId,noAnswerDestinationActive:this.noAnswer&&this.noAnswer.active,noAnswerTimeout:this.noAnswer&&this.noAnswer.timeout}}init(){super.init(),this.busy=new s.N,this.unconditional=new s.N,this.notRegistered=new s.N,this.noAnswer=new s.N,this.updateSettings()}updateSettings(){this.busy&&(this.busy.parentRule=this,this.busy.type="busy"),this.unconditional&&(this.unconditional.parentRule=this,this.unconditional.type="unconditional"),this.notRegistered&&(this.notRegistered.parentRule=this,this.notRegistered.type="notRegistered"),this.noAnswer&&(this.noAnswer.parentRule=this,this.noAnswer.type="noAnswer")}setSource(e){switch(e.discriminator){case r.v.INTERNAL:this.source=-1;break;case r.v.ANONYMOUS:this.source=-3;break;default:this.source=e.afdId}}static parseSingle(t){return super.parseSingle(t,e)}static parseMultiple(t){return super.parseMultiple(t,e)}}return e.DEFAULT_NO_ANSWER_TIMEOUT=15,e})()},25278:function(e,t,i){"use strict";i.d(t,{N:function(){return r}});var n=i(11223),s=i(86561);class r extends s.H{initEmpty(){this.destination=new n.R,this.active=!1}toggleActive(){this.active=!this.active}canHaveTimeout(){return"noAnswer"===this.type}isOverruled(){var e,t,i,n,s,r;return!((null===(e=this.parentRule)||void 0===e?void 0:e.unconditional)===this||!(null===(i=null===(t=this.parentRule)||void 0===t?void 0:t.unconditional)||void 0===i?void 0:i.active)||!(null===(r=null===(s=null===(n=this.parentRule)||void 0===n?void 0:n.unconditional)||void 0===s?void 0:s.destination)||void 0===r?void 0:r.afdId))}getDestination(){return this.destination}setDestination(e){this.destination=e}getTitleKey(){return"settings.call_forwarding.type."+this.type}init(){this.timeout=15,super.init()}}},17490:function(e,t,i){"use strict";i.d(t,{v:function(){return n}});let n=(()=>{class e{}return e.BUSY="BUSY",e.CONFERENCESERVICE="CONFERENCESERVICE",e.DIRECTDIAL="DIRECTDIAL",e.EXTERNAL="EXTERNAL",e.GROUPSERVICE="GROUPSERVICE",e.HANGUP="HANGUP",e.IVRSERVICE="IVRSERVICE",e.PHONEEXTENSION="PHONEEXTENSION",e.QUEUESERVICE="QUEUESERVICE",e.REPEAT="REPEAT",e.ROUTINGPREFIX="ROUTINGPREFIX",e.SERVICEEXTENSION="SERVICEEXTENSION",e.SKILLSERVICE="SKILLSERVICE",e.TIMECONTROLSERVICE="TIMECONTROLSERVICE",e.VIRTUALFAXEXTENSION="VIRTUALFAXEXTENSION",e.VOICEMAIL="VOICEMAIL",e.VOICEMAILSERVICE="VOICEMAILSERVICE",e.INTERNAL="INTERNAL",e.ANONYMOUS="ANONYMOUS",e.DEFAULT="DEFAULT",e})()},99910:function(e,t,i){"use strict";function n(e,t){if(!e||"string"!=typeof e)throw new SyntaxError("Not enough arguments");this.url=e,this.setOptions(t);const i=this;setTimeout(function(){i.poll()},0)}function s(e,t,i,n){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.data=t||null,this.origin=i||"",this.lastEventId=n||"",this.type=e||"message"}i.d(t,{g:function(){return n}}),((n.prototype={CONNECTING:0,OPEN:1,CLOSED:2,defaultOptions:{loggingEnabled:!1,loggingPrefix:"eventsource",interval:500,bufferSizeLimit:262144,silentTimeout:3e5,getArgs:{evs_buffer_size_limit:262144},xhrHeaders:{Accept:"text/event-stream","Cache-Control":"no-cache","X-NFON-TYPE":window.hasOwnProperty("cordova")?"mobile":"webapp"}},setOptions(e){const t=this.defaultOptions;Object.keys(t).forEach(e=>{this[e]=t[e]}),Object.keys(e).forEach(t=>{this[t]=e[t]}),this.getArgs&&this.bufferSizeLimit&&(this.getArgs.evs_buffer_size_limit=this.bufferSizeLimit),("undefined"==typeof console||void 0===console.log)&&(this.loggingEnabled=!1)},log(e){this.loggingEnabled&&console.log("["+this.loggingPrefix+"]:"+e)},poll(){try{if(this.readyState==this.CLOSED)return;this.cleanup(),this.readyState=this.CONNECTING,this.cursor=0,this.cache="",this._xhr=new this.XHR(this),this.resetNoActivityTimer()}catch(e){this.log("There were errors inside the pool try-catch"),this.dispatchEvent("error",{type:"error",data:e.message})}},pollAgain(e){const t=this;t.readyState=t.CONNECTING,t.dispatchEvent("error",{type:"error",data:"Reconnecting "}),this._pollTimer=setTimeout(function(){t.poll()},e||0)},cleanup(){this.log("evs cleaning up"),this._pollTimer&&(clearInterval(this._pollTimer),this._pollTimer=null),this._noActivityTimer&&(clearInterval(this._noActivityTimer),this._noActivityTimer=null),this._xhr&&(this._xhr.abort(),this._xhr=null)},resetNoActivityTimer(){if(this.silentTimeout){this._noActivityTimer&&clearInterval(this._noActivityTimer);const e=this;this._noActivityTimer=setTimeout(function(){e.log("Timeout! silentTImeout:"+e.silentTimeout),e.pollAgain()},this.silentTimeout)}},close(){this.readyState=this.CLOSED,this.log("Closing connection. readyState: "+this.readyState),this.cleanup()},ondata(){const e=this._xhr;if(e.isReady()&&!e.hasError()){this.resetNoActivityTimer(),this.readyState==this.CONNECTING&&(this.readyState=this.OPEN,this.dispatchEvent("open",{type:"open"}));const t=e.getBuffer();t.length>this.bufferSizeLimit&&(this.log("buffer.length > this.bufferSizeLimit"),this.pollAgain()),0==this.cursor&&t.length>0&&"\ufeff"==t.substring(0,1)&&(this.cursor=1);const i=this.lastMessageIndex(t);if(i[0]>=this.cursor){const e=i[1],n=t.substring(this.cursor,e);this.parseStream(n),this.cursor=e}e.isDone()&&(this.log("request.isDone(). reopening the connection"),this.pollAgain(this.interval))}else this.readyState!==this.CLOSED&&(this.log("this.readyState !== this.CLOSED"),this.pollAgain(this.interval))},parseStream(e){const t=(e=this.cache+this.normalizeToLF(e)).split("\n\n");let i,n,r,o,a,c;for(i=0;i<t.length-1;i++){r="message",o=[];const e=t[i].split("\n");for(n=0;n<e.length;n++)a=this.trimWhiteSpace(e[n]),0==a.indexOf("event")?r=a.replace(/event:?\s*/,""):0==a.indexOf("retry")?(c=parseInt(a.replace(/retry:?\s*/,"")),isNaN(c)||(this.interval=c)):0==a.indexOf("data")?o.push(a.replace(/data:?\s*/,"")):0==a.indexOf("id:")?this.lastEventId=a.replace(/id:?\s*/,""):0==a.indexOf("id")&&(this.lastEventId=null);if(o.length){const e=new s(r,o.join("\n"),window.location.origin,this.lastEventId);this.dispatchEvent(r,e)}}this.cache=t[t.length-1]},dispatchEvent(e,t){const i=this["_"+e+"Handlers"];if(i)for(let n=0;n<i.length;n++)i[n].call(this,t);this["on"+e]&&this["on"+e].call(this,t)},addEventListener(e,t){this["_"+e+"Handlers"]||(this["_"+e+"Handlers"]=[]),this["_"+e+"Handlers"].push(t)},removeEventListener(e,t){const i=this["_"+e+"Handlers"];if(i)for(let n=i.length-1;n>=0;--n)if(i[n]===t){i.splice(n,1);break}},_pollTimer:null,_noactivityTimer:null,_xhr:null,lastEventId:null,cache:"",cursor:0,onerror:null,onmessage:null,onopen:null,readyState:0,urlWithParams(e,t){const i=Array();if(t){let e;const n=encodeURIComponent;Object.keys(t).forEach(s=>{e=n(s)+"="+n(t[s]),i.push(e)})}return i.length>0?-1==e.indexOf("?")?e+"?"+i.join("&"):e+"&"+i.join("&"):e},lastMessageIndex(e){const t=e.lastIndexOf("\n\n"),i=e.lastIndexOf("\r\r"),n=e.lastIndexOf("\r\n\r\n");return n>Math.max(t,i)?[n,n+4]:[Math.max(t,i),Math.max(t,i)+2]},trimWhiteSpace:e=>e.replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,""),normalizeToLF:e=>e.replace(/\r\n|\r/g,"\n")}).XHR=function(e){const t=new XMLHttpRequest;t.withCredentials=!0,this._request=t,e._xhr=this,t.onreadystatechange=function(){t.readyState>1&&e.readyState!=e.CLOSED&&(200==t.status||t.status>=300&&t.status<400?e.ondata():(e.readyState=e.CLOSED,e.dispatchEvent("error",{type:"error",data:"The server responded with "+t.status}),e.close()))},t.onprogress=function(){},t.open("GET",e.urlWithParams(e.url,e.getArgs),!0);const i=e.xhrHeaders;Object.keys(i).forEach(e=>{t.setRequestHeader(e,i[e])}),Object.keys(e.headers).forEach(i=>{t.setRequestHeader(i,e.headers[i])}),e.lastEventId&&t.setRequestHeader("Last-Event-Id",e.lastEventId),t.send()}).prototype={useXDomainRequest:!1,_request:null,_failed:!1,isReady(){return this._request.readyState>=2},isDone(){return 4==this._request.readyState},hasError(){return this._failed||this._request.status>=400},getBuffer(){let e="";try{e=this._request.responseText||""}catch(t){}return e},abort(){this._request&&this._request.abort()}}},66832:function(e,t,i){"use strict";i.d(t,{w:function(){return s}});var n=i(86561);class s extends n.H{constructor(){super(...arguments),this.__working=!1}json(){const e=super.json();return delete e.__working,e}isWorking(){return this.__working}setWorking(e=!0){this.__working=e}static parseSingle(e,t=s){const i=new t;return i.setAttributes(e),i}static parseMultiple(e,t=s){const i=[];return e.forEach(e=>{i.push(s.parseSingle(e,t))}),i}}},86561:function(e,t,i){"use strict";i.d(t,{H:function(){return n}});class n{constructor(e=null){this.init(),null!==e?this.setAttributes(e):this.initEmpty()}setAttributes(e){}initEmpty(){}equals(e){return console.warn("method using equals!"),this===e}json(){return Object.assign({},this)}init(){}}},95055:function(e,t,i){"use strict";i.d(t,{I:function(){return a}});var n=i(37716),s=i(79765),r=i(93137),o=i(46782);let a=(()=>{class e{constructor(){this.throttleTime=2e3,this.doubleClickEvent$=new s.xQ,this.ngUnsubscribe=new s.xQ,this.isDebounceDblClickDisabled=!1,this.debounceDblClick=new n.vpe}clickEvent(e){this.isDebounceDblClickDisabled||(e.preventDefault(),e.stopPropagation(),this.doubleClickEvent$.next())}ngOnInit(){this.doubleClickEvent$.pipe((0,r.p)(this.throttleTime),(0,o.R)(this.ngUnsubscribe)).subscribe(()=>{this.debounceDblClick.emit()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","debounceDblClick",""]],hostBindings:function(e,t){1&e&&n.NdJ("dblclick",function(e){return t.clickEvent(e)})},inputs:{isDebounceDblClickDisabled:"isDebounceDblClickDisabled"},outputs:{debounceDblClick:"debounceDblClick"}}),e})()},14944:function(e,t,i){"use strict";i.d(t,{w:function(){return h}});var n=i(88002),s=i(54395),r=i(46782),o=i(26215),a=i(79765),c=i(66682),l=i(37716),u=i(29790);let h=(()=>{class e{constructor(e,t,i){this.elementRef=e,this.renderer2=t,this.translateService=i,this.windowResized$=new o.X(!0),this.ngUnsubscribe=new a.xQ,this.observeLanguageChangeAndResizeEvents()}ngAfterViewInit(){this.renderer2.addClass(this.elementRef.nativeElement,"ellipsis")}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}addTitleWhenTextTruncated(){const e=this.elementRef.nativeElement;e.title=e.offsetWidth<e.scrollWidth?e.innerText:""}observeLanguageChangeAndResizeEvents(){(0,c.T)(this.translateService.onLangChange.pipe((0,n.U)(e=>!!e.lang)),this.windowResized$).pipe((0,s.b)(500),(0,r.R)(this.ngUnsubscribe)).subscribe(()=>{this.addTitleWhenTextTruncated()})}windowResized(){this.windowResized$.next(!0)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(u.sK))},e.\u0275dir=l.lG2({type:e,selectors:[["","ellipsisTitle",""]],hostBindings:function(e,t){1&e&&l.NdJ("resize",function(e){return t.windowResized(e)},!1,l.Jf7)}}),e})()},85499:function(e,t,i){"use strict";i.d(t,{R:function(){return s}});var n=i(37716);let s=(()=>{class e{constructor(e){this.element=e}ngOnChanges(){this.focus?this.element.nativeElement.focus():this.element.nativeElement.blur()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275dir=n.lG2({type:e,selectors:[["","focus",""]],inputs:{focus:"focus"},features:[n.TTD]}),e})()},14142:function(e,t,i){"use strict";i.d(t,{N:function(){return a}});var n=i(46782),s=i(79765),r=i(37716),o=i(95786);let a=(()=>{class e{constructor(e,t){this.el=e,this.preferredDeviceService=t,this.ngUnsubscribe=new s.xQ}ngOnInit(){this.preferredDeviceService.preferredDevice$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(e=>{e&&(this.el.nativeElement.style.display="extension"===e.type?"none":"show")})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(o._))},e.\u0275dir=r.lG2({type:e,selectors:[["","hideCall",""]]}),e})()},66853:function(e,t,i){"use strict";i.d(t,{B:function(){return r}});var n=i(37716),s=i(13427);let r=(()=>{class e{constructor(e,t){this.el=e,this.liteModeService=t}ngOnInit(){this.liteModeService.isLiteMode()&&(this.el.nativeElement.style.display="none")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(s.v))},e.\u0275dir=n.lG2({type:e,selectors:[["","hideIf",""]]}),e})()},55821:function(e,t,i){"use strict";i.d(t,{r:function(){return r}});var n=i(37716),s=i(19388);let r=(()=>{class e{constructor(e,t,i){this.el=e,this.renderer2=t,this.hoverboxService=i,this.hoveredClass="hovered",this.cursorPos={x:0,y:0}}onMousemove(e){this.cursorPos={x:e.clientX,y:e.clientY},this.hoverboxService.cursorPos$.next(this.cursorPos)}onMouseEnter(){this.toggleClass(!0)}onMouseLeave(){this.toggleClass(!1)}toggleClass(e){e?this.renderer2.addClass(this.el.nativeElement,this.hoveredClass):this.renderer2.removeClass(this.el.nativeElement,this.hoveredClass)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(s.q))},e.\u0275dir=n.lG2({type:e,selectors:[["","appHoverbox",""]],hostBindings:function(e,t){1&e&&n.NdJ("mousemove",function(e){return t.onMousemove(e)})("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})}}),e})()},65860:function(e,t,i){"use strict";i.d(t,{A:function(){return a}});var n=i(37716),s=i(79765),r=(()=>{return(e=r||(r={}))[e.ASPECT_RATIO_AT_2048=1.07]="ASPECT_RATIO_AT_2048",e[e.ASPECT_RATIO_AT_2160=1.13]="ASPECT_RATIO_AT_2160",e[e.ASPECT_RATIO_AT_2560=1.33]="ASPECT_RATIO_AT_2560",e[e.ASPECT_RATIO_AT_2800=1.46]="ASPECT_RATIO_AT_2800",e[e.ASPECT_RATIO_AT_3200=1.67]="ASPECT_RATIO_AT_3200",e[e.ASPECT_RATIO_AT_3440=1.79]="ASPECT_RATIO_AT_3440",e[e.ASPECT_RATIO_AT_3840=2]="ASPECT_RATIO_AT_3840",e[e.ASPECT_RATIO_AT_4096=2.13]="ASPECT_RATIO_AT_4096",e[e.ASPECT_RATIO_AT_5120=2.56]="ASPECT_RATIO_AT_5120",e[e.ASPECT_RATIO_AT_6400=3.33]="ASPECT_RATIO_AT_6400",e[e.ASPECT_RATIO_AT_7680=4]="ASPECT_RATIO_AT_7680",e[e.ASPECT_RATIO_FROM_7681=8]="ASPECT_RATIO_FROM_7681",r;var e})(),o=(()=>{return(e=o||(o={}))[e.SCREEN_SIZE_1920=1920]="SCREEN_SIZE_1920",e[e.SCREEN_SIZE_2048=2048]="SCREEN_SIZE_2048",e[e.SCREEN_SIZE_2160=2160]="SCREEN_SIZE_2160",e[e.SCREEN_SIZE_2560=2560]="SCREEN_SIZE_2560",e[e.SCREEN_SIZE_2800=2800]="SCREEN_SIZE_2800",e[e.SCREEN_SIZE_3200=3200]="SCREEN_SIZE_3200",e[e.SCREEN_SIZE_3440=3440]="SCREEN_SIZE_3440",e[e.SCREEN_SIZE_3840=3840]="SCREEN_SIZE_3840",e[e.SCREEN_SIZE_4096=4096]="SCREEN_SIZE_4096",e[e.SCREEN_SIZE_5120=5120]="SCREEN_SIZE_5120",e[e.SCREEN_SIZE_6400=6400]="SCREEN_SIZE_6400",e[e.SCREEN_SIZE_7680=7680]="SCREEN_SIZE_7680",o;var e})();let a=(()=>{class e{constructor(e,t){this.el=e,this.renderer2=t,this.ngUnsubscribe=new s.xQ,this.endOfListReached=new n.vpe,this.renderer2.setStyle(this.el.nativeElement,"overflow","auto"),this.onResize(),this.onListScroll()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onResize(){const e=window.innerWidth;let t=window.innerHeight-200;e>o.SCREEN_SIZE_1920&&e<=o.SCREEN_SIZE_2048?t=window.innerHeight-200*r.ASPECT_RATIO_AT_2048:e>o.SCREEN_SIZE_2048&&e<=o.SCREEN_SIZE_2160?t=window.innerHeight-200*r.ASPECT_RATIO_AT_2160:e>o.SCREEN_SIZE_2160&&e<=o.SCREEN_SIZE_2560?t=window.innerHeight-200*r.ASPECT_RATIO_AT_2560:e>o.SCREEN_SIZE_2560&&e<=o.SCREEN_SIZE_2800?t=window.innerHeight-200*r.ASPECT_RATIO_AT_2800:e>o.SCREEN_SIZE_2800&&e<=o.SCREEN_SIZE_3200?t=window.innerHeight-200*r.ASPECT_RATIO_AT_3200:e>o.SCREEN_SIZE_3200&&e<=o.SCREEN_SIZE_3440?t=window.innerHeight-200*r.ASPECT_RATIO_AT_3440:e>o.SCREEN_SIZE_3440&&e<=o.SCREEN_SIZE_3840?t=window.innerHeight-200*r.ASPECT_RATIO_AT_3840:e>o.SCREEN_SIZE_3840&&e<=o.SCREEN_SIZE_4096?t=window.innerHeight-200*r.ASPECT_RATIO_AT_4096:e>o.SCREEN_SIZE_4096&&e<=o.SCREEN_SIZE_5120?t=window.innerHeight-200*r.ASPECT_RATIO_AT_5120:e>o.SCREEN_SIZE_5120&&e<=o.SCREEN_SIZE_6400?t=window.innerHeight-200*r.ASPECT_RATIO_AT_6400:e>o.SCREEN_SIZE_6400&&e<=o.SCREEN_SIZE_7680?t=window.innerHeight-200*r.ASPECT_RATIO_AT_7680:e>o.SCREEN_SIZE_7680&&(t=window.innerHeight-200*r.ASPECT_RATIO_FROM_7681),this.renderer2.setStyle(this.el.nativeElement,"height",t)}onListScroll(){this.el.nativeElement.scrollTop+this.el.nativeElement.offsetHeight>this.el.nativeElement.scrollHeight-1&&this.endOfListReached.emit()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Qsj))},e.\u0275dir=n.lG2({type:e,selectors:[["","infiniteScroller",""]],hostVars:2,hostBindings:function(e,t){1&e&&n.NdJ("resize",function(e){return t.onResize(e)},!1,n.Jf7)("scroll",function(e){return t.onListScroll(e)}),2&e&&n.Udp("height",t.ngUnsubscribe,"px")},outputs:{endOfListReached:"endOfListReached"}}),e})()},77540:function(e,t,i){"use strict";i.d(t,{h:function(){return s}});var n=i(37716);let s=(()=>{class e{constructor(e,t){this.el=e,this.renderer2=t,this.isHidden=!1}onMouseEnter(){this.isHidden||this.renderer2.addClass(this.el.nativeElement,"item-hovered")}onMouseLeave(){this.isHidden||this.renderer2.removeClass(this.el.nativeElement,"item-hovered")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Qsj))},e.\u0275dir=n.lG2({type:e,selectors:[["","itemHoverbox",""]],hostBindings:function(e,t){1&e&&n.NdJ("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})},inputs:{isHidden:["itemHoverbox","isHidden"]}}),e})()},6555:function(e,t,i){"use strict";i.d(t,{y:function(){return r}});var n=i(37716),s=i(51233);let r=(()=>{class e{constructor(e,t,i){this.el=e,this.renderer=t,this.userService=i,this.modulesArray=[],this.userService.userInfo&&this.userService.userInfo.modules&&(this.modulesArray=this.userService.userInfo.modules)}ngAfterViewInit(){this.modulesArray.some(e=>e===this.modules)&&this.renderer.removeClass(this.el.nativeElement,"hide-module")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(s.K))},e.\u0275dir=n.lG2({type:e,selectors:[["","modules",""]],inputs:{modules:"modules"}}),e})()},8250:function(e,t,i){"use strict";i.d(t,{n:function(){return a}});var n=i(26215),s=i(87519),r=i(13653),o=i(37716);let a=(()=>{class e{constructor(e){this.element=e,this.onVisibilityChangeSource=new n.X(!1),this.onVisibilityChange$=this.onVisibilityChangeSource.pipe((0,s.x)(),(0,r.T)(1))}ngAfterViewInit(){this.observer=new IntersectionObserver(this.intersectionObserverCallback.bind(this),{threshold:0}),this.observer.observe(this.element.nativeElement)}ngOnDestroy(){var e;this.observer&&(null===(e=this.element)||void 0===e?void 0:e.nativeElement)&&(this.observer.unobserve(this.element.nativeElement),this.onVisibilityChangeSource.next(!1))}intersectionObserverCallback(e){e.forEach(e=>{this.onVisibilityChangeSource.next(e.isIntersecting||e.intersectionRatio>0)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq))},e.\u0275dir=o.lG2({type:e,selectors:[["","observeVisibility",""]],outputs:{onVisibilityChange$:"onVisibilityChange$"}}),e})()},91512:function(e,t,i){"use strict";i.d(t,{j:function(){return a}});var n=i(37716),s=i(79765),r=i(93137),o=i(46782);let a=(()=>{class e{constructor(){this.throttleTime=500,this.clickEvent$=new s.xQ,this.ngUnsubscribe=new s.xQ,this.preventDblClick=new n.vpe}clickEvent(e){e.preventDefault(),this.clickEvent$.next()}ngOnInit(){this.clickEvent$.pipe((0,r.p)(this.throttleTime),(0,o.R)(this.ngUnsubscribe)).subscribe(()=>{this.preventDblClick.emit()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","preventDblClick",""]],hostBindings:function(e,t){1&e&&n.NdJ("click",function(e){return t.clickEvent(e)})},outputs:{preventDblClick:"preventDblClick"}}),e})()},234:function(e,t,i){"use strict";i.d(t,{U:function(){return o}});var n=i(37716),s=i(38583);const r=new n.OlP("An abstraction over global window object",{factory:()=>{const{defaultView:e}=(0,n.f3M)(s.K0);if(!e)throw new Error("Window is not available");return e}});let o=(()=>{class e{constructor(e,t){this.el=e,this.window=t}onMouseClick(){let e,t;"function"==typeof this.window.getSelection&&(t=this.window.getSelection(),e=document.createRange(),e.selectNodeContents(this.el.nativeElement),null==t||t.removeAllRanges(),null==t||t.addRange(e))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(r))},e.\u0275dir=n.lG2({type:e,selectors:[["","appSelectText",""]],hostBindings:function(e,t){1&e&&n.NdJ("click",function(){return t.onMouseClick()})}}),e})()},68140:function(e,t,i){"use strict";i.d(t,{o:function(){return o}});var n=i(37716),s=i(21554),r=i(3679);let o=(()=>{class e{constructor(e,t){this.autoTrigger=e,this.control=t,this.userInputInProgress=new n.vpe}onKeyPress(e){var t;if("Enter"!==e.code&&"Tab"!==e.code)this.userInputInProgress.emit(!0);else if(this.autoTrigger.activeOption){const e=this.autoTrigger.activeOption.value;this.control&&(null===(t=this.control.control)||void 0===t||t.setValue(e,{emit:!1}),this.autoTrigger.writeValue(e),this.userInputInProgress.emit(!1))}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.ZL,8),n.Y36(r.a5,8))},e.\u0275dir=n.lG2({type:e,selectors:[["","tabEnterAutocomplete",""]],hostBindings:function(e,t){1&e&&n.NdJ("keydown",function(e){return t.onKeyPress(e)})},outputs:{userInputInProgress:"userInputInProgress"}}),e})()},25791:function(e,t,i){"use strict";i.d(t,{Q:function(){return h}});var n=i(26215),s=i(8307),r=i(32722),o=i(87519),a=i(45435),c=i(37716),l=i(8320),u=i(57158);let h=(()=>{class e{constructor(e,t,i){this.apiAvAuthorizationService=e,this.router=t,this.logger=i,this.isGuestSource=new n.X(!1),this.guestNameSource=new n.X(null),this.isGuest$=this.isGuestSource.pipe((0,o.x)()),this.guestName$=this.guestNameSource.asObservable(),this.apiAvAuthorizationService.guestAuthorizationError$.subscribe(e=>{this.logger.warn("Failed to join meeting as guest. Meeting ID:",e),this.router.navigate(["/join/invalid"])}),this.router.events.pipe((0,a.h)(e=>e instanceof s.m2)).subscribe(()=>{this.isGuestSource.next(this.isGuest())})}loadFromSessionStorage(){sessionStorage.getItem(e.meetingIdSessionStorageKey);const t=localStorage.getItem(e.guestNameLocalStorageKey);t&&(this.logger.info("Loaded guest name from the sessionStorage."),this.setGuestName(t))}isGuest(){return this.router.url.includes(`/${r.h.Guest}/`)}getGuestName(){return this.guestNameSource.getValue()}setGuestName(t){this.logger.info(`Running in guest mode, using guest name '${t}'.`),localStorage.setItem(e.guestNameLocalStorageKey,t),this.guestNameSource.next(t)}setMeetingId(t){this.meetingId=t,this.logger.info(`Meeting ID is set to '${t}'.`),sessionStorage.setItem(e.meetingIdSessionStorageKey,t),this.apiAvAuthorizationService.authorizeGuest(this.meetingId)}updateCredentials(){return this.apiAvAuthorizationService.authorizeGuestObservable(this.meetingId)}getMeetingId(){return this.meetingId}}return e.meetingIdSessionStorageKey="guestMeetingId",e.guestNameLocalStorageKey="guestName",e.\u0275fac=function(t){return new(t||e)(c.LFG(l.O),c.LFG(s.F0),c.LFG(u.Kf))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},62049:function(e,t,i){"use strict";i.d(t,{f:function(){return c}});var n=i(22238),s=i(37716),r=i(29790),o=i(89973),a=i(42070);let c=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.data=t,this.translateService=i,this.updateTitle=this.translateService.instant("settings.download.update_available")}ngOnInit(){this.data&&(this.version=this.data.latestAppVersion,this.whiteLabelName=this.data.whiteLabelName)}close(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.so),s.Y36(n.WI),s.Y36(r.sK))},e.\u0275cmp=s.Xpm({type:e,selectors:[["new-desktop-app-info"]],decls:22,vars:27,consts:[[1,"pickup-call-info__header",3,"title"],["btnCancelCaption","settings.download.later","btnSaveCaption","navigation.settings.download.title",3,"cancelClick","saveClick"]],template:function(e,t){1&e&&(s.TgZ(0,"modal-container",0),s.TgZ(1,"p"),s._uU(2),s.ALo(3,"translate"),s.ALo(4,"translate"),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.ALo(7,"translate"),s._UZ(8,"br"),s._uU(9),s.ALo(10,"translate"),s._UZ(11,"br"),s._uU(12),s.ALo(13,"translate"),s._UZ(14,"br"),s._uU(15),s.ALo(16,"translate"),s._UZ(17,"br"),s._uU(18),s.ALo(19,"translate"),s.ALo(20,"translate"),s.qZA(),s.TgZ(21,"footer-actions",1),s.NdJ("cancelClick",function(){return t.close(!1)})("saveClick",function(){return t.close(!0)}),s.qZA(),s.qZA()),2&e&&(s.Q6J("title",t.updateTitle),s.xp6(2),s.lnq(" ",s.lcZ(3,11,"settings.download.desktop_app_update.desktop_app_update_info_message.new_version")," ",t.version," ",s.lcZ(4,13,"settings.download.desktop_app_update.desktop_app_update_info_message.version_info")," "),s.xp6(4),s.hij(" ",s.lcZ(7,15,"settings.download.desktop_app_update.desktop_app_update_info_message.title")," "),s.xp6(3),s.hij(" - ",s.lcZ(10,17,"settings.download.desktop_app_update.desktop_app_update_info_message.device_stability_pros")," "),s.xp6(3),s.hij(" - ",s.lcZ(13,19,"settings.download.desktop_app_update.desktop_app_update_info_message.new_feature")," "),s.xp6(3),s.hij(" - ",s.lcZ(16,21,"settings.download.desktop_app_update.desktop_app_update_info_message.improvement")," "),s.xp6(3),s.lnq(" ",s.lcZ(19,23,"settings.download.desktop_app_update.desktop_app_update_info_message.get_best")," ",t.whiteLabelName,", ",s.lcZ(20,25,"settings.download.desktop_app_update.desktop_app_update_info_message.keep_update")," "))},directives:[o.O,a.c],pipes:[r.X$],styles:["footer-actions[_ngcontent-%COMP%]{margin:2.4rem;padding:0}modal-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:2.5rem;margin:2.4rem}"]}),e})()},12794:function(e,t,i){"use strict";i.d(t,{K:function(){return a}});var n=i(37716),s=i(63327),r=i(57158),o=i(78023);let a=(()=>{class e{constructor(e,t){this.apiConferenceV2Service=e,this.logger=t,this.isLocked=!1,this.iconFillClass="button-color",this.type="",this.conferenceLockTextTranslationKey="conference.make_conference_private",this.iconName="lock_open"}ngOnInit(){this.setLockedState()}ngDoCheck(){var e;this.isLocked!==!!(null===(e=this.conferenceState)||void 0===e?void 0:e.locked)&&this.setLockedState()}toggleState(){this.conferenceState&&this.apiConferenceV2Service.updateConference(this.conferenceState.uuid,{locked:!this.conferenceState.locked}).catch(e=>{this.logger.error("error toggling conference lock",e)})}setLockedState(){var e;this.isLocked=!!(null===(e=this.conferenceState)||void 0===e?void 0:e.locked),this.isLocked?(this.conferenceLockTextTranslationKey="conference.make_conference_public",this.iconName="lock_closed"):(this.conferenceLockTextTranslationKey="conference.make_conference_private",this.iconName="lock_open")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.y),n.Y36(r.Kf))},e.\u0275cmp=n.Xpm({type:e,selectors:[["conference-lock-button"]],inputs:{conferenceState:"conferenceState",iconFillClass:"iconFillClass",e2e:"e2e",type:"type"},decls:1,vars:7,consts:[[3,"disabled","hoverTextTranslationKey","buttonTextTranslationKey","iconName","iconFillClass","type","e2e","appButtonClick"]],template:function(e,t){1&e&&(n.TgZ(0,"app-button",0),n.NdJ("appButtonClick",function(){return t.toggleState()}),n.qZA()),2&e&&n.Q6J("disabled",!t.conferenceState)("hoverTextTranslationKey",t.conferenceLockTextTranslationKey)("buttonTextTranslationKey",t.conferenceLockTextTranslationKey)("iconName",t.iconName)("iconFillClass",t.iconFillClass)("type",t.type)("e2e",t.e2e?t.e2e+"__lock-conference":null)},directives:[o.V],encapsulation:2}),e})()},11495:function(e,t,i){"use strict";i.d(t,{g:function(){return h}});var n=i(79765),s=i(37716),r=i(63327),o=i(35019),a=i(57158),c=i(38583),l=i(78023);function u(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"app-button",1),s.NdJ("appButtonClick",function(){return s.CHM(e),s.oxw().toggleRaisedHand()}),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("disabled",!e.conferenceState)("iconName",e.iconName)("hoverTextTranslationKey",e.hoverTitle)("iconFillClass",e.iconFillClass)("type",e.type)("e2e",e.e2e&&!e.conferenceMember?e.e2e+"__lower-all-hands":e.e2e+"__raise-hand")}}let h=(()=>{class e{constructor(e,t,i){this.apiConferenceV2Service=e,this.conferenceV2Service=t,this.logger=i,this.hasRaisedHand=!1,this.ngUnsubscribe=new n.xQ,this.iconFillClass="button-color",this.type="",this.showHand=!1}ngOnInit(){this.setHoverTitle(),this.setIconName(),this.isLowerAllMode()?this.conferenceV2Service.isModerator(this.conferenceState)&&(this.showHand=!0):this.populateShowHand()}ngOnChanges(e){e.hasOwnProperty("conferenceMember")&&(this.setIconName(),this.setHoverTitle(),this.isLowerAllMode()||this.populateShowHand())}ngDoCheck(){this.conferenceMember&&this.conferenceMember.raise_hand!==this.hasRaisedHand&&(this.hasRaisedHand=this.conferenceMember.raise_hand,this.setHoverTitle(),this.setIconName(),this.populateShowHand())}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}toggleRaisedHand(){this.isLowerAllMode()?this.lowerAllHands():this.conferenceMember.raise_hand?this.lowerHand():this.raiseHand()}lowerAllHands(){this.conferenceState.members.forEach(e=>{e.raise_hand&&this.setRaiseHandState(!1,e)})}populateShowHand(){this.showHand=this.shouldShowHand()}shouldShowHand(){var e,t;return!(!(null===(e=this.conferenceMember)||void 0===e?void 0:e.self)&&!(null===(t=this.conferenceMember)||void 0===t?void 0:t.raise_hand))}raiseHand(){this.conferenceMember.self&&this.setRaiseHandState(!0)}lowerHand(){(this.conferenceMember.self||this.conferenceV2Service.isModerator(this.conferenceState))&&this.setRaiseHandState(!1)}setRaiseHandState(e,t){this.apiConferenceV2Service.setRaiseHand(t||this.conferenceMember,e)}isLowerAllMode(){return!this.conferenceMember}setHoverTitle(){this.hoverTitle=this.isLowerAllMode()?"conference.lower_hands":this.hasRaisedHand?this.conferenceMember.self||this.conferenceV2Service.isModerator(this.conferenceState)?"conference.lower_hand":"":"conference.raise_hand"}setIconName(){this.iconName=this.isLowerAllMode()?"lower_all_hands":this.hasRaisedHand?"lower_hand":"raise_hand"}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.y),s.Y36(o.a),s.Y36(a.Kf))},e.\u0275cmp=s.Xpm({type:e,selectors:[["raise-hand-button"]],inputs:{conferenceMember:"conferenceMember",conferenceState:"conferenceState",iconFillClass:"iconFillClass",e2e:"e2e",type:"type"},features:[s.TTD],decls:1,vars:1,consts:[["buttonTextTranslationKey","conference.lower_hands",3,"disabled","iconName","hoverTextTranslationKey","iconFillClass","type","e2e","appButtonClick",4,"ngIf"],["buttonTextTranslationKey","conference.lower_hands",3,"disabled","iconName","hoverTextTranslationKey","iconFillClass","type","e2e","appButtonClick"]],template:function(e,t){1&e&&s.YNc(0,u,1,6,"app-button",0),2&e&&s.Q6J("ngIf",t.showHand)},directives:[c.O5,l.V],encapsulation:2}),e})()},80311:function(e,t,i){"use strict";i.d(t,{H:function(){return u}});var n=i(26215),s=i(66682),r=i(68307),o=i(89900),a=i(37716),c=i(8259),l=i(85260);let u=(()=>{class e{constructor(e,t){this.apiConferenceService=e,this.conferencesEventStreamService=t,this.conferenceSubscriptionsSource=new n.X([]),this.isInitialized=!1,this.conferenceSubscriptions$=this.conferenceSubscriptionsSource.asObservable(),this.getConferenceSubscriptions(!0),this.conferencesEventStreamService.conferenceCreate$.subscribe(e=>{this.updateConferenceMemberCount(e.name,1)})}getConferenceSubscriptions(e=!1){!e&&!this.isInitialized||this.apiConferenceService.getConferenceSubscriptions().subscribe(e=>{this.isInitialized=!0,this.updateConferenceSubscriptions(e.data)})}getConferenceSubscriptionByServiceNumber(e){return this.conferenceSubscriptionsSource.getValue().find(this.findSubscriptionByServiceNumber.bind(this,e))}unsubscribeToConference(e){return this.apiConferenceService.unsubscribeToConference(e).pipe((0,r.b)(()=>{this.getConferenceSubscriptions()}))}subscribeToConferenceEvents(){this.conferenceEventsSubscription=(0,s.T)(this.conferencesEventStreamService.addMember$,this.conferencesEventStreamService.deleteMember$).subscribe(e=>{this.updateConferenceMemberCount(e.name,e.conference_member_count)})}unsubscribeToConferenceEvents(){this.conferenceEventsSubscription.unsubscribe()}updateMemberCount(e,t){const i=this.conferenceSubscriptionsSource.getValue(),n=i.findIndex(t=>e===t);i[n].memberCount=t,this.updateConferenceSubscriptions(i)}addSubscriptionToList(e){const t=this.conferenceSubscriptionsSource.getValue();t.push(e),t.sort((e,t)=>Number(e.number)<Number(t.number)?-1:1)}updateConferenceMemberCount(e,t){const i=this.conferenceSubscriptionsSource.getValue(),n=o.K.getSubscriptionIndexByName(e,i);-1!==n&&this.updateMemberCount(i[n],t)}findSubscriptionByServiceNumber(e,t){return t.serviceNumber===e}updateConferenceSubscriptions(e){this.conferenceSubscriptionsSource.next(e)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.j),a.LFG(l.i))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},58623:function(e,t,i){"use strict";i.d(t,{b:function(){return C}});var n=i(3679),s=i(22238),r=i(46782),o=i(79765),a=i(37716),c=i(43962),l=i(80311),u=i(89973),h=i(52592),d=i(38583),p=i(98295),f=i(83166),m=i(85499),g=i(42070),_=i(29790);function v(e,t){1&e&&(a.TgZ(0,"p",10),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&e&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"conference.pin_has_been_updated")," "))}const b=function(e){return{name:e}};function y(e,t){if(1&e&&(a.TgZ(0,"p",11),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",a.xi3(2,1,"conference.enter_pin",a.VKq(4,b,null==e.conference?null:e.conference.name))," ")}}function S(e,t){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.Oqu(e.errorMessage)}}let C=(()=>{class e{constructor(e,t,i,s){this.conferenceService=e,this.data=t,this.dialogRef=i,this.conferenceSubscriptionsService=s,this.ngUnsubscribe=new o.xQ,this.isSending=!1,this.errorMessage=null,this.pinFormGroup=new n.cw({pin:new n.NI(null,n.kI.compose([n.kI.required]))}),this.isEmptyPin=!1,this.conference=this.data.conference,this.isEmptyPin=!(!this.conference.hasOwnProperty("isEmptyPin")||!this.conference.isEmptyPin)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}save(){this.isSending=!0,this.errorMessage=null,this.dialogRef.disableClose=!0,this.isEmptyPin?this.updateConferencePin():this.subscribeToConference()}close(e){this.isSending||this.dialogRef.close(e)}updateConferencePin(){this.conferenceService.updateConferencePin(this.conference.serviceNumber||"",this.pinFormGroup.value.pin).pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{this.conferencePinEntered(e)},()=>{this.onEnterPinError()})}subscribeToConference(){this.conferenceService.subscribeToAudioConference(this.conference,this.pinFormGroup.value.pin).pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{this.conferencePinEntered(e)},e=>{this.subscribeConfPinError(e)})}conferencePinEntered(e){this.dialogRef.disableClose=!1,this.isSending=!1,this.conferenceService.emitAudioConferenceChange(this.conference),this.conferenceSubscriptionsService.addSubscriptionToList(e),this.close(e)}subscribeConfPinError(e){this.dialogRef.disableClose=!1,this.onEnterPinError(),400===e.status&&e._body&&(e._body=JSON.parse(e._body),e._body.errors&&e._body.errors.length&&(this.errorMessage=e._body.errors[0].title))}onEnterPinError(){this.isSending=!1,this.pinFormGroup.controls.pin.setErrors({invalid:"invalid"})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(c.K),a.Y36(s.WI),a.Y36(s.so),a.Y36(l.H))},e.\u0275cmp=a.Xpm({type:e,selectors:[["subscribe-conference-modal"]],decls:13,vars:14,consts:[[1,"subscribe-conference-modal"],["data-e2e","subscribe-conference-modal-fragment",1,"subscribe-conference-modal__modal",3,"title"],["novalidate","",3,"formGroup","submit"],["loading-area-indicator","",3,"loadingAreaIndicatorActive"],["class","subscribe-conference-modal__update-pin",4,"ngIf","ngIfElse"],["defaultLabel",""],["floatPlaceholder","never"],["formControlName","pin","matInput","","required","","type","password","data-e2e","subscribe-conference-modal-fragment__pin--input",3,"focus","placeholder"],[4,"ngIf"],["btnSaveCaption","conference.subscribe","btnType","basic-button-submit","e2e","subscribe-conference-modal-fragment",3,"hidden","saveDisabled","cancelClick"],[1,"subscribe-conference-modal__update-pin"],[1,"subscribe-conference-modal__enter-pin"]],template:function(e,t){if(1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"modal-container",1),a.ALo(2,"translate"),a.TgZ(3,"form",2),a.NdJ("submit",function(){return t.pinFormGroup.valid&&t.save()}),a.TgZ(4,"section",3),a.YNc(5,v,3,3,"p",4),a.YNc(6,y,3,6,"ng-template",null,5,a.W1O),a.TgZ(8,"mat-form-field",6),a._UZ(9,"input",7),a.ALo(10,"translate"),a.YNc(11,S,2,1,"mat-error",8),a.qZA(),a.qZA(),a.TgZ(12,"footer-actions",9),a.NdJ("cancelClick",function(){return t.close()}),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.MAs(7);a.xp6(1),a.Q6J("title",a.lcZ(2,10,"conference.subscribe_title")),a.xp6(2),a.Q6J("formGroup",t.pinFormGroup),a.xp6(1),a.Q6J("loadingAreaIndicatorActive",t.isSending),a.xp6(1),a.Q6J("ngIf",t.isEmptyPin)("ngIfElse",e),a.xp6(4),a.Q6J("focus",!0)("placeholder",a.lcZ(10,12,"conference.pin")),a.xp6(2),a.Q6J("ngIf",t.errorMessage),a.xp6(1),a.Q6J("hidden",t.isSending)("saveDisabled",!t.pinFormGroup.valid)}},directives:[u.O,n._Y,n.JL,n.sg,h.O,d.O5,p.KE,n.Fj,f.Nt,n.JJ,n.u,n.Q7,m.R,g.c,p.TO],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.hide-module[_ngcontent-%COMP%]{display:none!important}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.mat-form-field.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-size:1.6rem;margin-top:1rem}.mat-form-field-label[_ngcontent-%COMP%]{font-size:1.8rem}mat-form-field[_ngcontent-%COMP%]{flex:1;width:100%}mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:disabled{color:#00000061}.mat-form-field-label-wrapper[_ngcontent-%COMP%]{top:-1.44375em}.mat-form-field-infix[_ngcontent-%COMP%]{padding:.5rem 0}.subscribe-conference-modal[_ngcontent-%COMP%]{display:flex;max-width:40rem}.subscribe-conference-modal__modal[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:.8rem 2.4rem}.subscribe-conference-modal__modal[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;margin-bottom:0}.subscribe-conference-modal__modal[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .subscribe-conference-modal__enter-pin[_ngcontent-%COMP%]{font-size:1.7rem}.subscribe-conference-modal__modal[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .subscribe-conference-modal__update-pin[_ngcontent-%COMP%]{font-size:1.2rem}"]}),e})()},73432:function(e,t,i){"use strict";i.d(t,{n:function(){return n}});var n=(()=>{return(e=n||(n={})).GLOBAL="global",e.PRIVATE="private",n;var e})()},45323:function(e,t,i){"use strict";i.d(t,{y:function(){return m}});var n=i(79765),s=i(25917),r=i(94402),o=i(45435),a=i(43190),c=i(68307),l=i(94612),u=i(71289),h=i(37716),d=i(81836),p=i(64209),f=i(99445);let m=(()=>{class e{constructor(e,t,i){this.sipService=e,this.dialPadService=t,this.callTrackerService=i,this.enteredDtmfCharactersSource=new n.xQ,this.isDTMFModeSource=new n.xQ,this.isDTMFMode$=this.isDTMFModeSource.asObservable(),this.enteredDtmfCharacters$=this.enteredDtmfCharactersSource.asObservable(),this.callTrackerService.activeCall$.pipe((0,o.h)(e=>!!e),(0,a.w)(()=>{var e;return this.enterCharactersDelay(null===(e=this.enteredBulkDmfCharacter)||void 0===e?void 0:e.split(""))}),(0,c.b)(()=>this.clearBulkDtmf())).subscribe(e=>{e&&this.setDtmf(e)}),this.dialPadService.onAddChar$.subscribe(e=>{this.setDtmf(e)})}setDtmf(e){this.sipService.sendDTMFToActiveCall(e),this.dtmfCharacters+=e,this.enteredDtmfCharactersSource.next(this.dtmfCharacters)}setBulkDmfCharacter(e){this.enteredBulkDmfCharacter=e}clearDtmfCharacters(){this.dtmfCharacters=""}setDtmfVisibility(e){this.clearDtmfCharacters(),this.isDTMFModeSource.next(e)}clearBulkDtmf(){this.enteredBulkDmfCharacter=""}enterCharactersDelay(e){return e?(0,r.D)(e).pipe((0,l.b)(e=>(0,s.of)(e).pipe((0,u.g)(350)))):(0,s.of)(void 0)}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(d.y),h.LFG(p.z),h.LFG(f.k))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},24832:function(e,t,i){"use strict";i.d(t,{w:function(){return s}});var n=i(37692);class s extends n.H{setAttributes(e){this.nr_linked_fax=e.nr_linked_fax,this.sender_number=e.sender_number,this.received_image=e.received_image,this.received_pdf=e.received_pdf,this.pages_total=e.pages_total,this.received_date=e.received_date,this.job_number=e.job_number,this.job_status=e.job_status,this.recipient_number=e.recipient_number,this.document_name=e.document_name,this.id=e.id,this.type=e.type,this.id_fax_queue=e.id_fax_queue,this.id_fax_received=e.id_fax_received}fromJSON(e){this.setAttributes(e)}}},37444:function(e,t,i){"use strict";i.d(t,{J:function(){return n}});var n=(()=>{return(e=n||(n={})).ALL="",e.MISSED="missed",e.ANSWERED="answered",e.OUTGOING="outbound",n;var e})()},67856:function(e,t,i){"use strict";i.d(t,{g:function(){return l}});var n=i(79765),s=i(39485),r=i(37444),o=i(68307),a=i(37716),c=i(91841);let l=(()=>{class e{constructor(e){this.http=e,this.callRecordEndpoint=`${s.N.VOICE_CONTROL_URL}/callrecord/`,this.callRecordsEndpoint=`${s.N.VOICE_CONTROL_URL}/callrecords/`,this.callHistoryItemDeletedInModalView=new n.xQ,this.callHistoryItemDeletedInModalView$=this.callHistoryItemDeletedInModalView.asObservable()}getCallHistoryItems(e="",t=r.J.ALL,i=0,n=25){const s=this.getCallHistoryRequestUrl(e,t,i,n);return this.http.get(s)}getOneCallHistoryItem(e){return this.http.get(`${this.callRecordEndpoint}${e}`)}deleteCallHistoryItemByTimeStamp(e){return this.deleteCallHistoryEntryInModalView(`${this.callRecordsEndpoint}?id=${e}`)}deleteWholeCallHistory(){return this.deleteCallHistoryData(this.callRecordsEndpoint)}deleteSelectedCallHistoryItems(e){const t=`${this.callRecordsEndpoint}?id=${e.join("&id=")}`;return this.deleteCallHistoryData(t)}getCallHistoryRequestUrl(e,t=null,i,n){let s=this.callRecordsEndpoint;const r=[];return e&&r.push(`search=${encodeURIComponent(e)}`),i&&r.push(`older=${i}`),n&&r.push(`num=${n}`),t&&r.push(`type=${t.toString()}`),r.length&&(s+=`?${r.join("&")}`),s}deleteCallHistoryData(e){return this.http.delete(e)}deleteCallHistoryEntryInModalView(e){return this.deleteCallHistoryData(e).pipe((0,o.b)(()=>{this.callHistoryItemDeletedInModalView.next()}))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},67267:function(e,t,i){"use strict";i.d(t,{D:function(){return L}});var n=i(26215),s=i(25917),r=i(91841),o=i(71289),a=i(66888),c=i(88002),l=i(68307),u=i(45435),h=i(28049),d=i(39485),p=i(8359),f=i(35019),m=i(32722);const g=e=>{const t="meeting:",i=t.length+1;return!!(null==e?void 0:e.includes(t))&&e.length>=i};var _=i(37716),v=i(45832),b=i(51233),y=i(91477),S=i(14785),C=i(81836),w=i(80278),E=i(79765),T=i(57158);let k=(()=>{class e{constructor(e,t){this.sipService=e,this.logger=t,this.sipRegistrar=`${d.N.guestUcReg}:${d.N.guestUcRegPort}`,this.sipTerminatedSource=new E.xQ,this.sipTerminated$=this.sipTerminatedSource.asObservable()}initGuestSIPCall(e){const t=[`X-Cloudya-Conf-ND: ${e.conference.member.sip_token.data}`,`X-Cloudya-Conf-NH: ${e.conference.member.sip_token.signature}`,`X-Cloudya-Call-Data: device_uuid=${this.sipService.deviceUUID}`],i=e.conference.name,n=e.description;if(!this.sipService.sipUserAgent)return this.logger.warn("Failed to initialize SIP call. No SIP user agent set."),"";const s=this.sipService.sipUserAgent.invite(`${i}@${this.sipRegistrar}`,{sessionDescriptionHandlerOptions:{constraints:{audio:this.sipService.getSelectedAudioInputDevice(),video:!1}},extraHeaders:t}),r={name:n||i,number:i,callId:s.id};return this.sipService.addActiveCall(r,s),this.setSipEventListeners(s,r),s.id}initGuestSip(){this.sipService.sipUserAgent=new w.UA({transportOptions:{wsServers:[`wss://${this.sipRegistrar}`],traceSip:!0},log:{builtinEnabled:!1,level:"debug"}}),this.sipService.sipUserAgent.start()}setSipEventListeners(e,t){e.on("accepted",i=>{this.sipService.outgoingCallStarted(t),this.sipService.onAccepted(t,e)}),e.on("failed",e=>{this.sipService.handleFailures(t,e)}),e.on("terminated",t=>{this.sipTerminatedSource.next(),this.sipService.handleCallTermination(e.id,t)})}}return e.\u0275fac=function(t){return new(t||e)(_.LFG(C.y),_.LFG(T.Kf))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=i(8106),A=i(25791),I=i(63327),O=i(29790),R=i(8307),P=i(92937),D=i(99445),N=i(1933);let L=(()=>{class e{constructor(e,t,i,s,r,c,l,u,h,d,p,m,g,_,v,b){this.snackBarService=e,this.userService=t,this.apiScheduleService=i,this.clipboard=s,this.sipService=r,this.apiSipGuestService=c,this.apiAvEventConnectionService=l,this.apiAvEventStateService=u,this.guestService=h,this.apiAvService=d,this.translateService=p,this.router=m,this.tokenService=g,this.logger=_,this.callTrackerService=v,this.cinemaModeService=b,this.activeDynamicConferenceMeeting=new n.X(void 0),this.meetingsSource=new n.X([]),this.activeMeetingConferenceSource=new n.X(void 0),this.isLoadingSource=new n.X(!0),this.dialInNumbersSource=new n.X([]),this.meetingCalls=new Map,this.isGuest=!1,this.meetings$=this.meetingsSource.asObservable(),this.isLoading$=this.isLoadingSource.asObservable(),this.activeMeetingConference$=this.activeMeetingConferenceSource.asObservable(),this.dialInNumbers$=this.dialInNumbersSource.asObservable(),this.apiSipGuestService.sipTerminated$.pipe((0,o.g)(100),(0,a.n)(()=>this.hasHangUpHimself)).subscribe(()=>{this.logger.info("Guest SIP call terminated. Assuming guest tried to join a locked meeting. Hanging up meeting."),this.hangUp(!1)}),this.apiAvEventStateService.activeCallConferenceState$.subscribe(e=>{if(!this.guestService.isGuest()||e&&this.isGuestNameApplied)return;const t=!!f.a.getSelf(e);if(!e||!t)return void(this.isGuestNameApplied=!1);const i=this.guestService.getGuestName();i&&(this.apiAvService.changeGuestName(e,i),this.isGuestNameApplied=!0)}),this.apiAvEventStateService.onSelfDeleted$.pipe((0,a.n)(()=>!!this.hasHangUpHimself&&(this.hasHangUpHimself=!1,!0))).subscribe(()=>{this.logger.info('"self" was kicked from the meeting.'),this.hangUp(!1)}),this.userService.userInfo$.subscribe(e=>{var t,i;this.userInfo=e,(null==e?void 0:e.voiceToken)&&(this.userName=`${null===(t=e.user)||void 0===t?void 0:t.firstname} ${null===(i=e.user)||void 0===i?void 0:i.lastname}`,this.apiScheduleService.setVoiceToken(e.voiceToken),this.loadMeetings(),this.loadDialInNumbers())}),this.listenToCallChanges()}hangUp(e){this.hasHangUpHimself=!0,this.guestService.isGuest()?this.router.navigate(["/join/end"],{state:{isRejoinAvailable:e}}):this.callTrackerService.hangupCall()}loadDialInNumbers(){this.apiScheduleService.getDialInNumbers().pipe((0,c.U)(e=>e.dial_in_numbers)).subscribe(e=>this.dialInNumbersSource.next(e))}loadMeetings(){this.isLoadingSource.next(!0),this.apiScheduleService.getMeetings().subscribe(e=>{if(e instanceof r.Zn&&e.body){const t=e.body.filter(e=>e.schedule);this.meetingsSource.next(t);const i=e.headers.get("x-conference-subscriptions-token");i&&this.conferenceSubscriptionToken!==i&&(this.conferenceSubscriptionToken=i,this.apiAvEventConnectionService.setConferenceSubscriptionToken(this.conferenceSubscriptionToken))}this.isLoadingSource.next(!1)},()=>{this.isLoadingSource.next(!1),this.meetingsSource.next([])})}createMeeting(e){return e||(e={description:`Meeting (${this.userName})`}),this.apiScheduleService.createMeeting(e||{}).pipe((0,l.b)(e=>this.addMeetingToList(e)))}updateMeeting(e,t){return this.apiScheduleService.updateMeeting(e,t).pipe((0,l.b)(e=>this.addMeetingToList(e)))}addMeetingToList(e){if(!e.schedule)return;const t=this.meetingsSource.getValue(),i=t.findIndex(t=>t.uuid===e.uuid);-1!==i?(t[i]=e,this.meetingsSource.next([...t])):this.meetingsSource.next([...t,e])}deleteMeeting(e){this.apiScheduleService.deleteMeeting(e.uuid).subscribe(()=>{const t=this.meetingsSource.getValue(),i=t.findIndex(t=>t.uuid===e.uuid);-1!==i&&(t.splice(i,1),this.meetingsSource.next([...t]),this.snackBarService.openInfo("meetings.meeting_deleted"))})}deleteMeetings(e){const t=e.map(e=>e.uuid);this.apiScheduleService.batchDeleteMeetings(t).subscribe(()=>{t.forEach(e=>{const t=this.meetingsSource.getValue(),i=t.findIndex(t=>t.uuid===e);-1!==i&&(t.splice(i,1),this.meetingsSource.next([...t]),this.snackBarService.openInfo("meetings.meeting_deleted"))})})}deleteAllMeetings(){this.apiScheduleService.deleteAllMeetings().subscribe(()=>{this.meetingsSource.next([]),this.snackBarService.openInfo("meetings.all_meetings_deleted")})}tryToJoinMeeting(e){e&&(e.match(/^[a-z0-9]+$/i)?this.resolveLink(e).subscribe(e=>this.joinMeetingAsUser(e),e=>{this.snackBarService.openErrorInfo(410===e.status?"meetings.scheduled_meeting_error_expired":"meetings.meeting_not_found")}):this.snackBarService.openErrorInfo("meetings.meeting_not_found"))}resolveLink(e){for(const t of this.meetingsSource.getValue())if(t.link_id===e)return(0,s.of)(t);return this.apiScheduleService.resolveLink(e)}copyInvitation(t){const i=this.dialInNumbersSource.getValue(),n=this.getDialInNumbersFormattedForClipboard(i),s=this.translateService.instant("meetings.invitation.text",{description:t.description,link:e.getInvitationUrl(t.link_id),dial_in_numbers:n,meeting_id:t.conference.code});this.clipboard.copy(s),this.snackBarService.openInfo("meetings.copied_invitation")}handleMeetingId(e){this.tokenService.isValidToken()?(this.tryToJoinMeeting(e),this.router.navigate(["/main/telephone"])):this.router.navigate(["/auth/login",{meetingLinkId:e}])}getDynamicConferenceMeeting(e){var t,i;const n=this.activeDynamicConferenceMeeting.getValue();if((null===(t=null==n?void 0:n.conference)||void 0===t?void 0:t.name)===e.name&&(null===(i=null==n?void 0:n.conference)||void 0===i?void 0:i.uuid)===e.uuid)return(0,s.of)(n);{const t={description:this.translateService.instant("conference.dynamic_conference"),conference:{name:e.name,uuid:e.uuid}};return this.createMeeting(t).pipe((0,l.b)(e=>{this.activeDynamicConferenceMeeting.next(e)}))}}joinMeetingAsUser(e){this.logger.info(`Joining meeting "${e.description}" as logged in user.`),this.joinMeeting(e,!1)}joinMeetingAsGuest(){this.guestService.updateCredentials().subscribe(e=>{this.logger.info(`Joining meeting "${e.description}" as guest.`),this.joinMeeting(e,!0),this.dialInNumbersSource.getValue().length||this.loadDialInNumbers()})}joinMeeting(e,t){if(this.isGuest=t,this.activeMeetingConferenceSource.next(e),t)return this.apiSipGuestService.initGuestSip(),void this.apiSipGuestService.initGuestSIPCall(e);this.apiAvEventStateService.activeCallConferenceState$.pipe((0,u.h)(e=>!!e&&(null==e?void 0:e.kind)===p.VW.Meeting&&(null==e?void 0:e.uuid)!==this.previousConferenceStateUuid),(0,h.P)()).subscribe(e=>{this.cinemaModeService.enterCinemaMode(),this.previousConferenceStateUuid=null==e?void 0:e.uuid}),this.callTrackerService.makeCall(e)}listenToCallChanges(){this.sipService.outgoingCallStarted$.subscribe(e=>{const t=this.activeMeetingConferenceSource.getValue();t&&e.callId&&this.meetingCalls.set(e.callId,t)}),this.sipService.callEnded$.subscribe(e=>{var t;const i=this.meetingCalls.get(e.callId);i&&(this.meetingCalls.delete(e.callId),(null===(t=this.activeMeetingConferenceSource.getValue())||void 0===t?void 0:t.uuid)===i.uuid&&this.activeMeetingConferenceSource.next(void 0))}),this.sipService.callResume$.subscribe(e=>{const t=this.meetingCalls.get(e);this.activeMeetingConferenceSource.next(t)})}getDialInNumbersFormattedForClipboard(e){return`${e.map(e=>`${e.country.toUpperCase()} ${e.number}`).join("\n")}`}static getInvitationUrl(e){return`${location.protocol}//${d.N.DOMAIN}/${m.h.Guest}/${e}`}static getMeetingLinkForHistoryCallItem(t){if(!g(t))return null;const i=e.parseHistoryCallItemRemoteForMeetingId(t);return e.getInvitationUrl(i)||null}static parseHistoryCallItemRemoteForMeetingId(e){return g(e)&&(null==e?void 0:e.replace("meeting:",""))||null}}return e.\u0275fac=function(t){return new(t||e)(_.LFG(v.c),_.LFG(b.K),_.LFG(y.P),_.LFG(S.TU),_.LFG(C.y),_.LFG(k),_.LFG(x.Q),_.LFG(f.a),_.LFG(A.Q),_.LFG(I.y),_.LFG(O.sK),_.LFG(R.F0),_.LFG(P.B),_.LFG(T.Kf),_.LFG(D.k),_.LFG(N.H))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},88044:function(e,t,i){"use strict";i.d(t,{V:function(){return n}});var n=(()=>{return(e=n||(n={}))[e.ALL=1]="ALL",e[e.EXTENSION=2]="EXTENSION",e[e.CONTACT=3]="CONTACT",e[e.HISTORY=4]="HISTORY",e[e.VOICEMAIL=5]="VOICEMAIL",e[e.FAX=6]="FAX",e[e.CONFERENCE=7]="CONFERENCE",e[e.GROUP=8]="GROUP",e[e.SKILL=9]="SKILL",e[e.IVR=10]="IVR",e[e.CONFERENCE_AVAILABLE=11]="CONFERENCE_AVAILABLE",e[e.USER=12]="USER",e[e.EMERGENCY=13]="EMERGENCY",e[e.MEETING=14]="MEETING",e[e.CRM_CONNECT=15]="CRM_CONNECT",n;var e})()},30606:function(e,t,i){"use strict";i.d(t,{Z:function(){return p}});var n=i(11740),s=i(28123),r=i(46782),o=i(79765),a=i(37716),c=i(81836),l=i(51233),u=i(8225),h=i(83017),d=i(57158);let p=(()=>{class e{constructor(e,t,i,n,s){this.sipService=e,this.userService=t,this.devicesService=i,this.headsetCoreService=n,this.logger=s,this.ngUnsubscribe=new o.xQ,this.videoElement=document.querySelector("#remote-video video")}ngOnInit(){this.init()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}init(){setTimeout(()=>{this.devicesService.deviceList$.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{e&&this.onDevicesListChange()})})}onDevicesListChange(){const e=this.devicesService.loadStoredAudioInputDevice(),t=this.devicesService.loadStoredAudioOutputDevice();if(this.devicesService.changeAudioInputOutputSource(e,t),t){this.sipService.activeCallsCount||(this.videoElement.srcObject=null),n.W.attachSinkId(this.videoElement,t.deviceId,this.logger);const e=s.Q.getCached("audioOutputVolumes-"+this.userExtension,[]);if(e){const i=e.find(e=>e.label===t.label);i&&(this.videoElement.volume=i.value)}}this.headsetCoreService.checkHeadsetExistence(e,t,this.devicesService.loadStoredRingerOutputDevice())}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(c.y),a.Y36(l.K),a.Y36(u.I),a.Y36(h.Y),a.Y36(d.Kf))},e.\u0275cmp=a.Xpm({type:e,selectors:[["audio-devices"]],inputs:{userExtension:"userExtension"},decls:0,vars:0,template:function(e,t){},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.audio-device-list[_ngcontent-%COMP%]     .mat-radio-label-content{max-width:35.5rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.audio-device-list[_ngcontent-%COMP%]   .device-element[_ngcontent-%COMP%]{line-height:5rem;padding:0 1.5rem}.audio-device-list[_ngcontent-%COMP%]   .audio-device-list__not-found[_ngcontent-%COMP%]{display:block;padding:1.5rem}.divider[_ngcontent-%COMP%]{border-bottom:.1rem solid #e5e5e5;margin-bottom:2rem}p[_ngcontent-%COMP%]{color:gray;margin:0;opacity:.9;padding-left:1.5rem}"]}),e})()},56765:function(e,t,i){"use strict";i.d(t,{N:function(){return s}});var n=i(37716);let s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["audio-player"]],decls:2,vars:1,consts:[["id","remote-video",3,"hidden"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"video"),n.qZA()),2&e&&n.Q6J("hidden",!0)},styles:["[_nghost-%COMP%]{display:contents}"]}),e})()},98613:function(e,t,i){"use strict";i.d(t,{D:function(){return m}});var n=i(99385),s=i(25917),r=i(35758),o=i(88002),a=i(37716),c=i(93949),l=i(66698),u=i(66632),h=i(9941),d=i(29790),p=i(45832),f=i(99445);let m=(()=>{class e{constructor(e,t,i,n,s,r,o){this.phoneBookService=e,this.crmConnectService=t,this.conferenceService=i,this.extensionsService=n,this.translateService=s,this.snackBarService=r,this.callTrackerService=o}retrieveCallForwardingTargets(e,t){return 0===e.trim().length?(0,s.of)([]):(0,r.D)([this.phoneBookService.getGlobal(e).pipe((0,o.U)(e=>e.data)),this.crmConnectService.findCrmContacts(e).pipe((0,o.U)(e=>e?t?e[this.findIndexOfChosenCRMContactGroup(e)].results:e[0].results:[])),this.conferenceService.getAudioList({page:0,pageSize:25,search:e}).pipe((0,o.U)(e=>e.data)),this.extensionsService.getGroups(e)]).pipe((0,o.U)(([e,t,i,n])=>this.getCallForwardingTargets(e,t,i,n)))}forwardCallTo(e,t){const i=this.getCallForwardingTargetName(t.option.value)||"",n=this.getCallForwardingTargetPhone(t.option.value)||"",s=this.translateService.instant("telephone.forward_call_to");this.callTrackerService.redirectIncomingCall(e,n),this.snackBarService.openInfo(`${s} ${i}`)}openContact(e){(null==e?void 0:e.openCrmContactOnCall)&&(null==e?void 0:e.results[0].actionId)&&this.crmConnectService.openContact(e.results[0].actionId)}getCallForwardingTargetName(e){return this.isCrmConnectSearchResultItemType(e)?e.name:e.displayName||""}getCallForwardingTargetPhone(e){return this.isCrmConnectSearchResultItemType(e)?e.phoneNumber.phone:e.extensionNumber||e.displayNumber||""}isCrmConnectSearchResultItemType(e){return e.phoneNumber&&!("extensionNumber"in e)}prepareCrmAndCloudyaContacts(e,t){return t.length?[...e.slice(0,2),...t.slice(0,2)]:[...e.slice(0,4)]}findIndexOfChosenCRMContactGroup(e,t){return e.findIndex(e=>e.crmConnectName===t.crmConnectName)}getCallForwardingTargets(e,t,i,s){let r;const o=this.prepareCrmAndCloudyaContacts(e,t),a=s.slice(0,2);return r=[...o,...i.slice(0,2),...a],r.map(e=>{const t=this.getCallForwardingTargetName(e)||"";e.nameAbbreviation=(0,n.Cx)(t)||""}),r}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.$),a.LFG(l.a),a.LFG(u.Z),a.LFG(h.X),a.LFG(d.sK),a.LFG(p.c),a.LFG(f.k))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},51169:function(e,t,i){"use strict";i.d(t,{T:function(){return s}});var n=i(37716);let s=(()=>{class e{static sortMembersBySignal(e){const t=[];return e.members.forEach(e=>{e.flags.signal?t.unshift(e):t.push(e)}),Object.assign(Object.assign({},e),{members:t})}static setMemberPosition(e,t){const i=e.members.indexOf(t);return e.members.splice(i,1),t.flags.signal?e.members.unshift(t):e.members.push(t),e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},61466:function(e,t,i){"use strict";i.d(t,{L:function(){return n}});const n=(e,t)=>{const i={};return e.forEach(e=>{if(!Reflect.has(e,t)||"string"!=typeof Reflect.get(e,t))return;let n=Reflect.get(e,t).charAt(0).toUpperCase();n.match(/[^a-zA-Z]/)&&(n="#"),i[n]?i[n].push(e):i[n]=[e]}),Object.keys(i).sort().map(e=>({letter:e,items:i[e]}))}},3052:function(e,t,i){"use strict";i.d(t,{B:function(){return C}});var n=i(46782),s=i(79765),r=i(37716),o=i(83017),a=i(28704),c=i(35019),l=i(63327),u=i(51233),h=i(57158),d=i(38583),p=i(78023);function f(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"app-button",4),r.NdJ("appButtonClick",function(){return r.CHM(e),r.oxw(3).toggleMute()}),r.qZA(),r.BQk()}if(2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("iconFillClass",e.iconFillClass)("disabled",e.isDisabled)("e2e",e.e2e?e.e2e+"__mute":null)}}function m(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"app-button",5),r.NdJ("appButtonClick",function(){return r.CHM(e),r.oxw(3).toggleMute()}),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("iconFillClass",e.iconFillClass)("disabled",e.isDisabled)("e2e",e.e2e?e.e2e+"__mute":null)}}function g(e,t){if(1&e&&(r.ynx(0),r.YNc(1,f,2,3,"ng-container",0),r.YNc(2,m,1,3,"ng-template",null,3,r.W1O),r.BQk()),2&e){const e=r.MAs(3),t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!t.conferenceMember.muted)("ngIfElse",e)}}function _(e,t){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"app-button",6),r.NdJ("appButtonClick",function(){return r.CHM(e),r.oxw(3).toggleMute()}),r.qZA(),r.BQk()}if(2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("e2e",e.e2e?e.e2e+"__mute-all":null)("iconFillClass",e.iconFillClass)("disabled",e.isDisabled)("hoverTextTranslationKey",e.conferenceUnmuteAllTextTranslationKey)("buttonTextTranslationKey",e.conferenceUnmuteAllTextTranslationKey)("type",e.type)}}function v(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"app-button",7),r.NdJ("appButtonClick",function(){return r.CHM(e),r.oxw(3).toggleMute()}),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("e2e",e.e2e?e.e2e+"__mute-all":null)("iconFillClass",e.iconFillClass)("disabled",e.isDisabled)("hoverTextTranslationKey",e.conferenceMuteAllTextTranslationKey)("buttonTextTranslationKey",e.conferenceMuteAllTextTranslationKey)("type",e.type)}}function b(e,t){if(1&e&&(r.YNc(0,_,2,6,"ng-container",0),r.YNc(1,v,1,6,"ng-template",null,3,r.W1O)),2&e){const e=r.MAs(2),t=r.oxw(2);r.Q6J("ngIf",null==t.conferenceState?null:t.conferenceState.muted)("ngIfElse",e)}}function y(e,t){if(1&e&&(r.ynx(0),r.YNc(1,g,4,2,"ng-container",0),r.YNc(2,b,3,2,"ng-template",null,2,r.W1O),r.BQk()),2&e){const e=r.MAs(3),t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.conferenceMember)("ngIfElse",e)}}function S(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"app-button",8),r.NdJ("appButtonClick",function(){return r.CHM(e),r.oxw().toggleMute()}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("e2e",e.e2e?e.e2e+"__mute":null)("iconFillClass",e.iconFillClass)("hoverTextTranslationKey",e.hoverTitle)("iconName",e.microphoneIcon)}}let C=(()=>{class e{constructor(e,t,i,r,o,a){this.headsetCoreService=e,this.microphoneService=t,this.conferenceV2Service=i,this.apiConferenceV2Service=r,this.userService=o,this.logger=a,this.ngUnsubscribe=new s.xQ,this.iconFillClass="button-color",this.isDisabled=!1,this.type="",this.conferenceMuteAllTextTranslationKey="conference.mute_all",this.conferenceUnmuteAllTextTranslationKey="conference.unmute_all",this.isShowingConferenceIcon=!1,this.microphoneService.microphoneStatus$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(e=>{this.microphoneIcon=e.icon,this.hoverTitle=e.hoverTitle})}ngOnInit(){this.isDisabled&&(this.isShowingConferenceIcon=!0),this.headsetCoreService.headsetCall$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(e=>{("mute"===e||"unmute"===e)&&!this.conferenceState&&this.microphoneService.toggleSelfMute()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}toggleMute(){this.conferenceState?this.conferenceMember?this.toggleMuteForGivenMember():this.toggleMuteForGivenConference():this.toggleMuteForSelf()}toggleMuteForSelf(){this.microphoneService.toggleSelfMute()}toggleMuteForGivenMember(){this.conferenceState&&this.conferenceMember&&this.apiConferenceV2Service.toggleMemberMute(this.conferenceMember)}toggleMuteForGivenConference(){this.conferenceState&&this.apiConferenceV2Service.updateConference(this.conferenceState.uuid,{muted:!this.conferenceState.muted}).catch(e=>{this.logger.error("error muting conference",e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.Y),r.Y36(a.p),r.Y36(c.a),r.Y36(l.y),r.Y36(u.K),r.Y36(h.Kf))},e.\u0275cmp=r.Xpm({type:e,selectors:[["microphone"]],inputs:{conferenceMember:"conferenceMember",conferenceState:"conferenceState",e2e:"e2e",iconFillClass:"iconFillClass",isDisabled:"isDisabled",type:"type"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["callTemplate",""],["conferenceMuteAllTemplate",""],["mutedIcon",""],["hoverTextTranslationKey","conference.mute_member","iconName","mic_on",3,"iconFillClass","disabled","e2e","appButtonClick"],["hoverTextTranslationKey","conference.unmute_member","iconName","mic_off",3,"iconFillClass","disabled","e2e","appButtonClick"],["iconName","mic_all_off",3,"e2e","iconFillClass","disabled","hoverTextTranslationKey","buttonTextTranslationKey","type","appButtonClick"],["iconName","mic_all_on",3,"e2e","iconFillClass","disabled","hoverTextTranslationKey","buttonTextTranslationKey","type","appButtonClick"],[3,"e2e","iconFillClass","hoverTextTranslationKey","iconName","appButtonClick"]],template:function(e,t){if(1&e&&(r.YNc(0,y,4,2,"ng-container",0),r.YNc(1,S,1,4,"ng-template",null,1,r.W1O)),2&e){const e=r.MAs(2);r.Q6J("ngIf",t.conferenceState||t.isShowingConferenceIcon)("ngIfElse",e)}},directives:[d.O5,p.V],encapsulation:2}),e})()},28704:function(e,t,i){"use strict";i.d(t,{p:function(){return c}});var n=i(26215),s=i(37716),r=i(81836),o=i(45832),a=i(25791);let c=(()=>{class e{constructor(e,t,i){this.sipService=e,this.snackBarService=t,this.guestService=i,this.microphoneStatusSource=new n.X({icon:"mic_on",hoverTitle:"telephone.mute"}),this.mutedCallIds=new Set,this.microphoneStatus$=this.microphoneStatusSource.asObservable(),this.sipService.callEnded$.subscribe(({callId:e})=>{this.mutedCallIds.delete(e)}),this.sipService.outgoingCallStarted$.subscribe(e=>{const t=this.sipService.activeMuted;this.sipService.activeMuted=!1,(null==e?void 0:e.callId)&&this.unMuteMicrophone(null==e?void 0:e.callId,t)}),this.sipService.callResume$.subscribe(e=>{const t=this.sipService.activeMuted;this.mutedCallIds.has(e)?(this.sipService.activeMuted=!0,this.muteMicrophone(e,!t)):(this.sipService.activeMuted=!1,this.unMuteMicrophone(e,t))})}toggleSelfMute(){let e="";this.sipService.activeCalls.forEach((t,i)=>{(this.guestService.isGuest()||t.accepted&&!t.onHold)&&(e=i)}),e&&(this.sipService.activeMuted=!this.sipService.activeMuted,this.sipService.activeMuted?this.muteMicrophone(e,!0):this.unMuteMicrophone(e,!0))}muteMicrophone(e,t){this.mutedCallIds.add(e),this.sipService.muteAudio(e),this.microphoneStatusSource.next({icon:"mic_off",hoverTitle:"telephone.unmute"}),t&&this.snackBarService.openInfo("telephone.muted")}unMuteMicrophone(e,t){this.mutedCallIds.delete(e),this.sipService.unmuteAudio(e),this.microphoneStatusSource.next({icon:"mic_on",hoverTitle:"telephone.mute"}),t&&this.snackBarService.openInfo("telephone.unmuted")}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.y),s.LFG(o.c),s.LFG(a.Q))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},61734:function(e,t,i){"use strict";i.d(t,{u:function(){return m}});var n=i(37716),s=i(66632),r=i(99445),o=i(38583),a=i(6508),c=i(8328),l=i(29790),u=i(82285);function h(e,t){1&e&&(n.ynx(0),n._uU(1),n.ALo(2,"translate"),n.BQk()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"conference.dynamic_conference")," "))}function d(e,t){if(1&e&&(n._uU(0),n.ALo(1,"async"),n.ALo(2,"decodeSipHeader"),n.ALo(3,"async")),2&e){const e=n.oxw(2);let t;n.Oqu((null==(t=n.lcZ(1,1,e.activeCall$))?null:t.name)||n.lcZ(2,3,null==(t=n.lcZ(3,5,e.activeCall$))?null:t.number))}}function p(e,t){if(1&e&&(n.TgZ(0,"div",3),n.TgZ(1,"span"),n.YNc(2,h,3,3,"ng-container",4),n.ALo(3,"async"),n.YNc(4,d,4,7,"ng-template",null,5,n.W1O),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"time"),n.ALo(9,"timeSince"),n.ALo(10,"async"),n.qZA(),n.qZA()),2&e){const e=n.MAs(5),t=n.oxw();let i;n.xp6(2),n.Q6J("ngIf",n.lcZ(3,3,t.isAdHocConference$))("ngIfElse",e),n.xp6(5),n.hij(" - ",n.lcZ(8,5,n.lcZ(9,7,null==(i=n.lcZ(10,9,t.activeCall$))?null:i.startTime)),"")}}function f(e,t){1&e&&(n.TgZ(0,"div",6),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"status-bar.all-calls-on-hold")," "))}let m=(()=>{class e{constructor(e,t){this.conferenceService=e,this.callTrackerService=t,this.outgoingCallStarted=new n.vpe,this.activeCall$=this.callTrackerService.activeCall$}ngOnInit(){this.isAdHocConference$=this.conferenceService.isAdHocConference$}set activeCall(e){e&&this._outgoingCustomCall&&this._outgoingCustomCall.accepted&&this.outgoingCallStarted.emit()}set outgoingCustomCall(e){this._outgoingCustomCall=e}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.Z),n.Y36(r.k))},e.\u0275cmp=n.Xpm({type:e,selectors:[["phone-status"]],inputs:{activeCall:"activeCall",outgoingCustomCall:"outgoingCustomCall"},outputs:{outgoingCallStarted:"outgoingCallStarted"},decls:5,vars:4,consts:[["class","phone-status__bar phone-status__bar--active","data-e2e","status-bar-fragment",4,"ngIf","ngIfElse"],[1,"horizontal-divider"],["nonActiveCall",""],["data-e2e","status-bar-fragment",1,"phone-status__bar","phone-status__bar--active"],[4,"ngIf","ngIfElse"],["notAdHoc",""],["data-e2e","status-bar-fragment__calls-on-hold",1,"phone-status__bar"]],template:function(e,t){if(1&e&&(n.YNc(0,p,11,11,"div",0),n.ALo(1,"async"),n._UZ(2,"div",1),n.YNc(3,f,3,3,"ng-template",null,2,n.W1O)),2&e){const e=n.MAs(4);n.Q6J("ngIf",n.lcZ(1,2,t.activeCall$))("ngIfElse",e)}},directives:[o.O5],pipes:[o.Ov,a._,c.A,l.X$,u.R],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{cursor:pointer;position:absolute;top:-2.4rem;width:100%}.active[_nghost-%COMP%]{top:0}@media screen and (max-width: 767px){[_nghost-%COMP%]{width:76.8rem}}.phone-status__bar[_ngcontent-%COMP%]{background-color:#ffd500;color:#fff;font-size:1.6rem;height:2.4rem;line-height:2.4rem;text-align:center}.horizontal-divider[_ngcontent-%COMP%]{background-color:#e5e5e5;height:.1rem;width:100%}"]}),e})()},89339:function(e,t,i){"use strict";i.d(t,{E:function(){return n}});const n=["/main/conference/details","/main/settings","/main/history/voicemail","/main/fax/send","/admin/nconnect-voice"]},4008:function(e,t,i){"use strict";i.d(t,{g:function(){return A}});var n=i(37716),s=i(79765),r=i(46782),o=i(54395),a=i(87519),c=i(27663),l=i(3679),u=i(8307),h=i(32722),d=i(89339),p=i(76916),f=i(99385),m=i(26411),g=i(81836),_=i(38294),v=i(55821),b=i(38583),y=i(56436),S=i(85499),C=i(63743),w=i(78023),E=i(29790);const T=["inputField"];function k(e,t){if(1&e&&(n.TgZ(0,"hoverbox"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.hij(" ",n.lcZ(2,1,e.searchTooltip)," ")}}function x(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-button",6),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw().clear()}),n.qZA()}if(2&e){const e=n.oxw();n.uIk("data-e2e",e.e2e+"__search-clear--button")}}let A=(()=>{class e{constructor(e,t,i,o,a){this.sipService=e,this.searchService=t,this.cdRef=i,this.router=o,this.injector=a,this.ngUnsubscribe=new s.xQ,this.isSearching=!1,this.isRouterChange=!1,this.showSearchTooltipAdmin=!1,this.showSearchTooltip=!1,this.placeholder="search",this.isAdminPortal=!1,this.searchChange=new n.vpe(!0),this.pressedEnterBtn=new n.vpe,this.searchFormControl=new l.NI,this.searchInput="",this.oldSearchInput="",this.isClearButtonVisible=!1,this.isSearchActive=!1,this.searchInputItem$=this.searchService.searchInputItem$,this.setTooltip(this.router.url),this.router.events.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{e instanceof u.OD&&(this.searchService.clearSearch(),this.isRouterChange=!0,this.setTooltip(e.url))})}onKeypress(e){if(this.isValidKeyPress(e)){if("Enter"===(null==e?void 0:e.key)&&this.isSearchActive&&!this.isAdminPortal)return e.preventDefault(),void this.injector.get(m.f).onSearchSubmit();this.startSearchWithEvent(e)}}ngOnInit(){this.searchInputItem$.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{this.assignSearchInputValue(e.searchString),this.searchService.setInputSearchItem(e),e.searchString&&setTimeout(()=>{var e;null===(e=this.inputField)||void 0===e||e.nativeElement.focus()},0)}),this.searchService.isSearching$.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{var t;if(this.mainHeaderAction&&e){this.isSearching=e;const i=(null===(t=this.mainHeaderAction)||void 0===t?void 0:t.actionName)===c.O.CLEAR_SEARCH;!this.isAdminPortal&&!i&&(this.mainHeaderAction.actionName=c.O.SEARCHING)}}),this.searchFormControl.valueChanges.pipe((0,o.b)(300),(0,a.x)(),(0,r.R)(this.ngUnsubscribe)).subscribe(e=>{var t,i,n,s,r;if(this.router.url.includes(h.h.CallHistory))return void this.searchService.setSearchItem({searchString:e});const o=(null===(t=this.mainHeaderAction)||void 0===t?void 0:t.actionName)===c.O.DELETE;if(o||this.searchService.setSearchingState(e),this.isAdminPortal&&e!==this.oldSearchInput)this.searchService.setInputSearchItem({searchString:e});else{const t=!!(null===(i=this.mainHeaderAction)||void 0===i?void 0:i.actionComponent)&&((null===(n=this.mainHeaderAction)||void 0===n?void 0:n.actionName)===c.O.SEARCHING||(null===(s=this.mainHeaderAction)||void 0===s?void 0:s.actionName)===c.O.CLEAR),a=!(this.sipService.onGoingCall&&e===this.oldSearchInput),l=!(this.isRouterChange&&!e),u=(null===(r=this.mainHeaderAction)||void 0===r?void 0:r.actionName)===c.O.CLEAR_SEARCH;(t&&a&&l||o)&&this.searchService.setInputSearchItem({searchString:e}),u&&(this.mainHeaderAction.actionName=c.O.SEARCHING)}this.oldSearchInput=e,this.isRouterChange=!1})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleSearchInput(){const e=!!this.searchInput;this.setSearchActive(e),this.isClearButtonVisible=e}handleKeyboardEvent(e){"Escape"===(null==e?void 0:e.key)&&(this.inputField.nativeElement.blur(),this.clear()),"Enter"===(null==e?void 0:e.key)&&this.onSubmit()}clear(){this.isAdminPortal||(this.mainHeaderAction.actionName=c.O.CLEAR),this.assignSearchInputValue(""),this.isClearButtonVisible=!1,this.setSearchActive(!1)}onBlur(){this.searchInput||this.setSearchActive(!1)}onFocus(){this.setSearchActive(!0)}onSubmit(){const e=this.removeNonAscii(this.searchInput);this.pressedEnterBtn.emit(e)}isValidKeyPress(e){var t;return-1!==["BODY","MAT-SIDENAV","A"].indexOf(null===(t=e.target)||void 0===t?void 0:t.nodeName)&&(0,f.Vj)(e.which)&&!(0,f.Qg)(e)}startSearchWithEvent(e){e.preventDefault();const t=this.searchService.searchItem.searchString+String.fromCharCode(e.keyCode);this.searchService.setSearchItem({searchString:t})}assignSearchInputValue(e){this.searchInput=e}setTooltip(e){if(!d.E.some(t=>e.includes(t))){const t=p.d.getComponentType(e)||c.I.CALLHISTORY;this.searchTooltip=`toolbar.search.tooltip.${t}`}}setSearchActive(e){this.isSearchActive=e,this.cdRef.detectChanges()}removeNonAscii(e){return e?(e=e.toString()).replace(/[^\x20-\x7E]/g,""):""}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(g.y),n.Y36(_.o),n.Y36(n.sBO),n.Y36(u.F0),n.Y36(n.zs3))},e.\u0275cmp=n.Xpm({type:e,selectors:[["search-component"]],viewQuery:function(e,t){if(1&e&&n.Gf(T,5),2&e){let e;n.iGM(e=n.CRH())&&(t.inputField=e.first)}},hostBindings:function(e,t){1&e&&n.NdJ("keypress",function(e){return t.onKeypress(e)},!1,n.evT)},inputs:{showSearchTooltipAdmin:"showSearchTooltipAdmin",showSearchTooltip:"showSearchTooltip",placeholder:"placeholder",mainHeaderAction:"mainHeaderAction",e2e:"e2e",isAdminPortal:"isAdminPortal",searchTooltip:"searchTooltip",showSearch:"showSearch"},outputs:{searchChange:"searchChange",pressedEnterBtn:"pressedEnterBtn"},decls:7,vars:11,consts:[["appHoverbox","",1,"search"],[4,"ngIf"],["icon","search","size","small",1,"search-icon",3,"fill"],["type","text",1,"search__input",3,"formControl","ngModel","placeholder","blur","focus","ngModelChange","keyup"],["inputField",""],["iconFill","search__clear-btn","iconName","close_round",3,"appButtonClick",4,"ngIf"],["iconFill","search__clear-btn","iconName","close_round",3,"appButtonClick"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.YNc(1,k,3,3,"hoverbox",1),n._UZ(2,"app-svg-icon",2),n.TgZ(3,"input",3,4),n.NdJ("blur",function(){return t.onBlur()})("focus",function(){return t.onFocus()})("ngModelChange",function(e){return t.searchInput=e})("ngModelChange",function(){return t.handleSearchInput()})("keyup",function(e){return t.handleKeyboardEvent(e)}),n.ALo(5,"translate"),n.qZA(),n.YNc(6,x,1,1,"app-button",5),n.qZA()),2&e&&(n.ekj("active",t.isSearchActive),n.xp6(1),n.Q6J("ngIf",t.showSearchTooltip||t.showSearchTooltipAdmin),n.xp6(1),n.Q6J("fill",t.showSearch?"search-icon__active--color":"search-icon--color"),n.xp6(1),n.s9C("placeholder",n.lcZ(5,9,t.placeholder)),n.Q6J("formControl",t.searchFormControl)("ngModel",t.searchInput),n.uIk("data-e2e",t.e2e+"__search--input"),n.xp6(3),n.Q6J("ngIf",t.isClearButtonVisible))},directives:[v.r,b.O5,y.u,l.Fj,l.JJ,l.oH,S.R,C.B,w.V],pipes:[E.X$],styles:["[_nghost-%COMP%]{display:flex;margin:0 1rem}@media screen and (max-width: 768px){.admin-header__search   [_nghost-%COMP%]{max-width:45rem}}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-ms-clear{display:none}.search[_ngcontent-%COMP%]{align-items:center;border-radius:.2rem;display:flex;flex-grow:1;height:3.8rem;position:relative}.search[_ngcontent-%COMP%]:hover{cursor:pointer;transition:background-color .13s ease-out}.search[_ngcontent-%COMP%]   .search__input[_ngcontent-%COMP%]{background:transparent;border:0;flex-grow:1;font-size:2rem;outline:none;padding:0 1rem 0 2.4rem}.search-icon[_ngcontent-%COMP%]{align-items:center;display:flex;margin-left:1rem}.search__clear-btn[_ngcontent-%COMP%]{height:auto;line-height:1.6rem;margin-right:1rem;outline:none;width:auto}"]}),e})()},14074:function(e,t,i){"use strict";i.d(t,{q:function(){return r}});var n=i(79765),s=i(37716);let r=(()=>{class e{constructor(){this.callbackSource=new n.xQ}setCallbackOnBusy(e){this.callbackSource.next(e)}removeCallbackOnBusy(){this.callbackSource.next()}getCallbackOnBusy(){return this.callbackSource.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},67798:function(e,t,i){"use strict";i.d(t,{c:function(){return u}});var n=i(37716),s=i(38583),r=i(56436),o=i(29790);function a(e,t){if(1&e&&n._UZ(0,"app-svg-icon",4),2&e){const e=n.oxw().$implicit,t=n.oxw();n.Q6J("ngClass",t.orderClasses(e.name))("fill",t.getButtonFill(t.order===e.name))}}function c(e,t){if(1&e&&n._UZ(0,"app-svg-icon",5),2&e){const e=n.oxw().$implicit,t=n.oxw();n.Q6J("fill",t.getButtonFill(t.order===e.name))("icon",e.icon)}}function l(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"span",1),n.NdJ("click",function(){const t=n.CHM(e).$implicit,i=n.oxw();return!t.disabled&&i.setOrder(t.name)}),n.YNc(1,a,1,2,"app-svg-icon",2),n._uU(2),n.ALo(3,"translate"),n.YNc(4,c,1,2,"app-svg-icon",3),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw();n.Tol("column "+e.class),n.ekj("active",i.order===e.name)("disabled",e.disabled),n.uIk("data-e2e",e.e2e?e.e2e:null),n.xp6(1),n.Q6J("ngIf",!e.disabled),n.xp6(1),n.hij(" ",n.lcZ(3,10,e.title)," "),n.xp6(2),n.Q6J("ngIf",e.icon)}}let u=(()=>{class e{constructor(){this.reverse=!0,this.orderChange=new n.vpe}ngOnInit(){this.order=this.initOrderItem(),this.setOrder(this.order)}initOrderItem(){if(this.data){const e=this.data.find(e=>!!e.isInitialOrder);this.order=(e?e.name:null)||this.data[0].name||""}return this.order}setOrder(e){this.reverse=this.order===e&&!this.reverse,this.order=e,this.orderChange.emit({order:this.order,reverse:this.reverse})}orderClasses(e){const t=this.order===e;return{"sort--active":this.order===e,"sort--asc":t&&!this.reverse,"sort--desc":t&&this.reverse}}getButtonFill(e){return e?"button-color":"fill-secondary"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["sortable-list-header"]],inputs:{data:"data"},outputs:{orderChange:"orderChange"},decls:1,vars:1,consts:[[3,"class","active","disabled","click",4,"ngFor","ngForOf"],[3,"click"],["class","sortable-list-header__icon","icon","arrow_up_long","size","xs",3,"ngClass","fill",4,"ngIf"],["class","column-title sortable-list-header__icon","size","small",3,"fill","icon",4,"ngIf"],["icon","arrow_up_long","size","xs",1,"sortable-list-header__icon",3,"ngClass","fill"],["size","small",1,"column-title","sortable-list-header__icon",3,"fill","icon"]],template:function(e,t){1&e&&n.YNc(0,l,5,12,"span",0),2&e&&n.Q6J("ngForOf",t.data)},directives:[s.sg,s.O5,r.u,s.mk],pipes:[o.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]   .column[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;flex:1 0 10rem;font-size:1.8rem;max-width:20rem;padding:0 1rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .column.active[_ngcontent-%COMP%]{transition:.2s}[_nghost-%COMP%]   .column.disabled[_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%]   .column[_ngcontent-%COMP%]:hover > app-svg-icon[_ngcontent-%COMP%]:not(.sort--active){transition:.2s}[_nghost-%COMP%]   .column[_ngcontent-%COMP%]:not(.column--extension):first-of-type{max-width:30rem;min-width:30rem;padding-left:0}[_nghost-%COMP%]   .column--extension[_ngcontent-%COMP%]{flex:0 0 10rem;padding-left:0}@media screen and (min-width: 1024px){[_nghost-%COMP%]   .column--extension[_ngcontent-%COMP%]{margin:0 1rem 0 0}}[_nghost-%COMP%]   .column--checkbox[_ngcontent-%COMP%]{flex:0 0 7rem;justify-content:center;text-align:center}@media screen and (min-width: 1024px){[_nghost-%COMP%]   .column--checkbox[_ngcontent-%COMP%]{margin:0 1rem}}[_nghost-%COMP%]   .column--button[_ngcontent-%COMP%]{flex:0 0 6rem;margin:0 0 0 1rem;text-align:right}[_nghost-%COMP%]   .column__xs[_ngcontent-%COMP%]{justify-content:center;max-width:4.5rem!important;min-width:inherit!important}[_nghost-%COMP%]   .column__small[_ngcontent-%COMP%]{max-width:8.5rem;text-align:center}[_nghost-%COMP%]   .column__large[_ngcontent-%COMP%]{max-width:inherit!important}[_nghost-%COMP%]   .sortable-list-header__icon[_ngcontent-%COMP%]{margin-right:.5rem;transition:transform .2s}[_nghost-%COMP%]   .sortable-list-header__icon.sort--asc[_ngcontent-%COMP%]{transform:scaleY(1)}[_nghost-%COMP%]   .sortable-list-header__icon.sort--desc[_ngcontent-%COMP%]{transform:scaleY(-1)}"],changeDetection:0}),e})()},80181:function(e,t,i){"use strict";i.d(t,{N:function(){return M}});var n=i(37716),s=i(7908),r=i(99795),o=i(79765),a=i(45435),c=i(46782),l=i(7460),u=i(82676),h=i(8307),d=i(51233),p=i(95786),f=i(22238),m=i(80173),g=i(66356),_=i(98910),v=i(10253),b=i(38583),y=i(45396),S=i(51095),C=i(78023),w=i(82613),E=i(77746),T=i(6555),k=i(56436),x=i(44163),A=i(29790),I=i(11845);function O(e,t){1&e&&(n.TgZ(0,"section",13),n._UZ(1,"logout-button",14),n.qZA())}function R(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"mat-list-item"),n.TgZ(1,"mat-radio-button",19),n.NdJ("click",function(){const t=n.CHM(e).$implicit,i=n.oxw(3);return i.setActive(i.preferredDeviceTypes.CLICK_TO_DIAL,t.id)}),n.TgZ(2,"span",20),n._uU(3),n.qZA(),n.TgZ(4,"span",22),n._uU(5),n.qZA(),n.qZA(),n.TgZ(6,"button",23),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(3).deleteClickToDialProfile(t)}),n._UZ(7,"app-svg-icon",24),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(3);n.xp6(1),n.Q6J("checked",i.isActiveProfile(e))("value",e.id),n.xp6(2),n.hij(" ",e.name," "),n.xp6(2),n.hij(" ",null==e.attributes||null==e.attributes.CLICKTODIAL_SOURCE?null:e.attributes.CLICKTODIAL_SOURCE.attribute_value," ")}}const P=function(e){return{value:e}};function D(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"mat-radio-group"),n.TgZ(1,"mat-list",17),n.TgZ(2,"mat-list-item",18),n.TgZ(3,"mat-radio-button",19),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2);return t.setActive(t.preferredDeviceTypes.UC_CLIENT,1)}),n.TgZ(4,"span",20),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"mat-list-item"),n.TgZ(8,"mat-radio-button",19),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(2);return t.setActive(t.preferredDeviceTypes.EXTENSION,null==t.userInfo||null==t.userInfo.activePhoneExtension?null:t.userInfo.activePhoneExtension.extensionId)}),n.TgZ(9,"span",20),n._uU(10),n.ALo(11,"translate"),n.qZA(),n.qZA(),n.qZA(),n.YNc(12,R,8,4,"mat-list-item",21),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.xp6(2),n.Q6J("modules","phone"),n.xp6(1),n.Q6J("checked",e.preferredDeviceTypes.UC_CLIENT===(null==e.preferredDevice?null:e.preferredDevice.type)||e.preferredDeviceTypes.CALL_THROUGH===(null==e.preferredDevice?null:e.preferredDevice.type))("value","uc"),n.xp6(2),n.hij(" ",n.lcZ(6,8,"settings.user.uc_client")," "),n.xp6(3),n.Q6J("checked",e.preferredDeviceTypes.EXTENSION===(null==e.preferredDevice?null:e.preferredDevice.type))("value","extension"),n.xp6(2),n.hij(" ",n.xi3(11,10,"settings.user.ext_{value}",n.VKq(13,P,null==e.userInfo||null==e.userInfo.activePhoneExtension?null:e.userInfo.activePhoneExtension.extensionNumber))," "),n.xp6(2),n.Q6J("ngForOf",e.clickToDialProfiles)}}function N(e,t){1&e&&(n.TgZ(0,"mat-list"),n.TgZ(1,"mat-list-item"),n._UZ(2,"app-spinner"),n.qZA(),n.qZA())}function L(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"section"),n.TgZ(1,"header",15),n.TgZ(2,"h2"),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"app-button",16),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw().addCustomNumber()}),n.qZA(),n.qZA(),n.TgZ(6,"section"),n.YNc(7,D,13,15,"mat-radio-group",6),n.YNc(8,N,3,0,"mat-list",6),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,3,"settings.user.primary_device")),n.xp6(4),n.Q6J("ngIf",!e.isLoadingProfiles&&!e.isLoadingDevices),n.xp6(1),n.Q6J("ngIf",e.isLoadingProfiles||e.isLoadingDevices)}}let M=(()=>{class e{constructor(e,t,i,r,a,c,l){this.clickToDialService=e,this.profileService=t,this.router=i,this.userService=r,this.preferredDeviceService=a,this.dialog=c,this.userHelpModesService=l,this.isCustomNumberShown=!1,this.isSwitchToAdminShown=!1,this.ngUnsubscribe=new o.xQ,this.adminMode=!1,this.onClose=new n.vpe,this.switchToUcClient=new n.vpe,this.showImpersonate=!1,this.clickToDialProfiles=[],this.isLoadingProfiles=!1,this.isLoadingDevices=!1,this.preferredDeviceTypes=s.Y,this.roleAdmin=!1,this.hasClientAccess=!1,this.hasExtension=!1,this.isHelpModeActive$=this.userHelpModesService.isHelpModeActive$}handle(e){e.stopPropagation(),!this.isCustomNumberShown&&!this.isSwitchToAdminShown&&this.onClose.emit(),this.userInfo=void 0}ngOnInit(){this.initUser()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initUser(){this.userService.userInfo$.pipe((0,a.h)(e=>!!(null==e?void 0:e.modules)),(0,c.R)(this.ngUnsubscribe)).subscribe(e=>{this.loadRules(e),e.activePhoneExtension&&this.initComponentCalls()})}initComponentCalls(){this.hasExtension=!0,!this.adminMode&&(this.isLoadingProfiles=!0,this.isLoadingDevices=!0,this.profileService.getProfiles().pipe((0,c.R)(this.ngUnsubscribe)).subscribe(e=>{this.clickToDialProfiles=e.data,this.isLoadingProfiles=!1}),this.preferredDeviceService.preferredDevice$.pipe((0,c.R)(this.ngUnsubscribe)).subscribe(e=>{this.preferredDevice=e,this.isLoadingDevices=!1}))}addCustomNumber(){this.isCustomNumberShown=!0,this.dialog.open(r.m).afterClosed().pipe((0,c.R)(this.ngUnsubscribe)).subscribe(e=>{this.isCustomNumberShown=!1,e&&this.onSaveCustomNumber(e)})}setActive(e,t){this.preferredDeviceService.setPreferredDevice(e,t).pipe((0,c.R)(this.ngUnsubscribe)).subscribe(e=>{this.preferredDevice=e})}onSaveCustomNumber(e){this.clickToDialProfiles.push(e)}deleteClickToDialProfile(e){this.profileService.deleteProfile(e).pipe((0,c.R)(this.ngUnsubscribe)).subscribe(()=>{this.isActiveProfile(e)&&this.setActive(this.preferredDeviceTypes.EXTENSION,this.userInfo.activePhoneExtension.extensionId);const t=this.clickToDialProfiles.indexOf(e);this.clickToDialProfiles.splice(t,1)})}isActiveProfile(e){return this.preferredDeviceTypes.CLICK_TO_DIAL===this.preferredDevice.type&&e.id===this.preferredDevice.id}loadRules(e){this.userInfo=e,this.roleAdmin=e.modules.includes("admin"),this.hasClientAccess=e.modules.includes("client")}toggleHelpMode(e){this.userHelpModesService.setHelpMode(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.q),n.Y36(u.H),n.Y36(h.F0),n.Y36(d.K),n.Y36(p._),n.Y36(f.uw),n.Y36(m.B))},e.\u0275cmp=n.Xpm({type:e,selectors:[["user-settings-drawer"]],hostBindings:function(e,t){1&e&&n.NdJ("keydown.escape",function(e){return t.handle(e)},!1,n.evT)},inputs:{adminMode:"adminMode"},outputs:{onClose:"onClose",switchToUcClient:"switchToUcClient"},decls:24,vars:17,consts:[["data-e2e","user-drawer-fragment",1,"user-settings-drawer",3,"click"],[1,"user-settings-drawer__header"],["data-e2e","user-info-fragment",1,"user-settings-drawer__user-info"],[1,"user-settings-drawer__header__actions"],["e2e","user-drawer-fragment"],["class","user-settings-drawer__admin",4,"ngIf"],[4,"ngIf"],[1,"user-settings-drawer__help"],[1,"user-settings-drawer__section-header"],["color","warn","data-e2e","user-drawer-fragment__help-switch-toggle",3,"checked","change"],["helpModeToggle",""],[1,"user-settings-drawer__actions"],["mat-button","","data-e2e","user-drawer-fragment__close--button",1,"user-settings-drawer__actions__close",3,"click"],[1,"user-settings-drawer__admin"],["logoutButtonType","systemConfig","e2e","user-drawer-fragment"],[1,"user-settings-drawer__section-header","user-settings-drawer__header__call-with"],["color","primary","hoverTextTranslationKey","toolbar.buttons.add_number_call_with.tooltip","iconFillClass","drawer-button","iconName","add","iconSize","small","e2e","user-drawer-fragment__call-with",3,"appButtonClick"],[1,"user-settings-drawer__list"],[1,"hide-module",3,"modules"],["color","primary",3,"checked","value","click"],[1,"user-settings-drawer__list__name"],[4,"ngFor","ngForOf"],[1,"user-settings-drawer__list__number"],["color","primary","mat-icon-button","",3,"click"],["fill","drawer-button","icon","delete","size","small"]],template:function(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",0),n.NdJ("click",function(e){return e.stopPropagation()}),n.TgZ(1,"header",1),n._UZ(2,"user-info",2),n.TgZ(3,"span",3),n._UZ(4,"vertical-divider"),n._UZ(5,"logout-button",4),n.qZA(),n.qZA(),n.YNc(6,O,2,0,"section",5),n.YNc(7,L,9,5,"section",6),n.TgZ(8,"section",7),n.TgZ(9,"header",8),n.TgZ(10,"h2"),n._uU(11),n.ALo(12,"translate"),n.qZA(),n.TgZ(13,"mat-slide-toggle",9,10),n.NdJ("change",function(){n.CHM(e);const i=n.MAs(14);return t.toggleHelpMode(i.checked)}),n.ALo(15,"async"),n.qZA(),n.qZA(),n.TgZ(16,"section"),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.qZA(),n.TgZ(19,"div",11),n.TgZ(20,"button",12),n.NdJ("click",function(){return t.onClose.emit()}),n._uU(21),n.ALo(22,"letterCase"),n.ALo(23,"translate"),n.qZA(),n.qZA(),n.qZA()}2&e&&(n.xp6(6),n.Q6J("ngIf",t.adminMode&&t.hasClientAccess||t.roleAdmin),n.xp6(1),n.Q6J("ngIf",!t.adminMode&&t.hasExtension),n.xp6(4),n.Oqu(n.lcZ(12,6,"settings.user.help.title")),n.xp6(2),n.Q6J("checked",n.lcZ(15,8,t.isHelpModeActive$)),n.xp6(4),n.hij(" ",n.lcZ(18,10,"settings.user.help.description")," "),n.xp6(4),n.hij(" ",n.xi3(22,12,n.lcZ(23,15,"done"),"done")," "))},directives:[g.M,_.y,v.M,b.O5,y.Rr,S.lW,C.V,w.VQ,E.i$,E.Tg,T.y,w.U0,b.sg,k.u,x.S],pipes:[A.X$,b.Ov,I.K],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.user-settings-drawer__header[_ngcontent-%COMP%]{align-items:center;display:flex;padding:1.2rem 0}.user-settings-drawer__user-info[_ngcontent-%COMP%]{background:none;cursor:default;width:calc(100% - 5rem)}.user-settings-drawer__section-header[_ngcontent-%COMP%]{align-items:center;border-bottom:.1rem solid #e5e5e5;display:flex;min-height:5.4rem;padding:0 2.4rem}.user-settings-drawer__section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex:1;line-height:3.2rem;padding:0}.user-settings-drawer__header__call-with[_ngcontent-%COMP%]{padding-right:1.2rem!important}[_nghost-%COMP%]    {bottom:0;left:0;position:absolute;right:0;top:0;z-index:5}[_nghost-%COMP%]     .user-settings-drawer{bottom:0;display:block;left:0;overflow-y:auto;position:absolute;right:0;top:0;width:38rem;z-index:3}[_nghost-%COMP%]     .user-settings-drawer>div, [_nghost-%COMP%]     .user-settings-drawer>section{border-top:.1rem solid #7fa1bf}[_nghost-%COMP%]     .user-settings-drawer>div h2, [_nghost-%COMP%]     .user-settings-drawer>section h2{color:#7fa1bf;font-size:1.8rem;line-height:1.8rem;margin-bottom:0;margin-top:0;padding:0 1.5rem}[_nghost-%COMP%]     .user-settings-drawer mat-list{padding-bottom:.8rem;padding-top:0}[_nghost-%COMP%]     .user-settings-drawer .mat-list-item{height:5.6rem}[_nghost-%COMP%]     .user-settings-drawer .mat-list-item-content{padding:0 1.6rem!important}[_nghost-%COMP%]     .user-settings-drawer .mat-radio-button{flex:1}[_nghost-%COMP%]     .user-settings-drawer .mat-radio-ripple>*{background-color:#fff3}[_nghost-%COMP%]     .user-settings-drawer .mat-radio-label-content{font-size:1.8rem;padding-left:1.6rem}[_nghost-%COMP%]     .user-settings-drawer .mat-radio-label-content .user-settings-drawer__list__number, [_nghost-%COMP%]     .user-settings-drawer .mat-radio-label-content .user-settings-drawer__list__name{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]     .user-settings-drawer .mat-radio-label-content .user-settings-drawer__list__number{font-size:1.6rem;width:24rem}[_nghost-%COMP%]     .user-settings-drawer .mat-radio-label-content .user-settings-drawer__list__name{width:24rem}[_nghost-%COMP%]     .user-settings-drawer .user-settings-drawer__help section{padding:1.6rem 2.4rem}[_nghost-%COMP%]     .user-settings-drawer .user-settings-drawer__actions{padding:1.5rem;text-align:right}[_nghost-%COMP%]     .user-settings-drawer .user-settings-drawer__admin{padding:1.5rem}[_nghost-%COMP%]     .user-settings-drawer .user-settings-drawer__admin .mat-button-wrapper{color:#fff}[_nghost-%COMP%]     .click-to-dial-impersonate{bottom:0;left:0;position:absolute;right:0;top:0;width:100%}[_nghost-%COMP%]     .click-to-dial-impersonate .click-to-dial-impersonate__container{background-color:#fff;margin:.4rem;z-index:3}[_nghost-%COMP%]     .click-to-dial-impersonate .click-to-dial-impersonate__container mat-list{padding-bottom:2.4rem}[_nghost-%COMP%]     .click-to-dial-impersonate .click-to-dial-impersonate__container mat-list-item{padding-top:2.4rem}[_nghost-%COMP%]     .click-to-dial-impersonate .click-to-dial-impersonate__container mat-list-item:first-child{border-bottom:.1rem solid #e5e5e5;padding-bottom:2.4rem}[_nghost-%COMP%]     .click-to-dial-impersonate .click-to-dial-impersonate__container mat-list-item .click-to-dial-impersonate__user{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]     .click-to-dial-impersonate .click-to-dial-impersonate__container mat-list-item .click-to-dial-impersonate__user__number{color:#00000080}"]}),e})()},61918:function(e,t,i){"use strict";i.d(t,{C:function(){return c}});var n=i(37716),s=i(49183),r=i(77310),o=i(56436),a=i(38583);let c=(()=>{class e{constructor(e){this.dropZoneService=e,this.isDragging$=this.dropZoneService.isDragging$}drop(e){this.dropZoneService.setDroppedZone("CallFooterZone",e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.b))},e.\u0275cmp=n.Xpm({type:e,selectors:[["drop-zone-call-footer"]],decls:4,vars:4,consts:[["id","CallFooterZone","cdkDropList","",1,"drop-zone-call-footer__drag-placeholder",3,"cdkDropListDropped"],[1,"drop-zone-call-footer"],["fill","white","icon","call","size","large"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("cdkDropListDropped",function(e){return t.drop(e)}),n.TgZ(1,"div",1),n.ALo(2,"async"),n._UZ(3,"app-svg-icon",2),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.ekj("is-hidden",!n.lcZ(2,2,t.isDragging$)))},directives:[r.Wj,o.u],pipes:[a.Ov],styles:[".cdk-drag-placeholder{display:none}.is-hidden[_ngcontent-%COMP%]{border:0;margin:0;max-height:0;max-width:0;min-height:0;min-width:0;opacity:0;padding:0;visibility:hidden}[_nghost-%COMP%]{width:31rem;z-index:1}.drop-zone-call-footer__drag-placeholder[_ngcontent-%COMP%]{height:6rem;width:31rem}"]}),e})()},11827:function(e,t,i){"use strict";i.d(t,{Q:function(){return c}});var n=i(37716),s=i(49183),r=i(77310),o=i(56436),a=i(38583);let c=(()=>{class e{constructor(e){this.dropZoneService=e,this.isDragging$=this.dropZoneService.isDragging$}drop(e,t){this.dropZoneService.setDroppedZone(t,e,this.activeCall)}onDragMoved(){this.isHover=!0}leaveMouse(){this.isHover=!1}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.b))},e.\u0275cmp=n.Xpm({type:e,selectors:[["drop-zone-call-item"]],inputs:{dropZoneName:"dropZoneName",iconName:"iconName",activeCall:"activeCall"},decls:5,vars:7,consts:[["cdkDropList","",1,"drop-zone-call-item__placeholder",3,"id","mouseleave","cdkDropListDropped","mouseover"],[1,"drop-zone-call-item__transfer"],[1,"drop-zone-call-item__has-drag-over"],["size","small",3,"icon","fill"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("mouseleave",function(){return t.leaveMouse()})("cdkDropListDropped",function(e){return t.drop(e,t.dropZoneName)})("mouseover",function(){return t.onDragMoved()}),n.TgZ(1,"div",1),n.ALo(2,"async"),n.TgZ(3,"span",2),n._UZ(4,"app-svg-icon",3),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.Q6J("id",t.dropZoneName),n.xp6(1),n.ekj("is-hidden",!n.lcZ(2,5,t.isDragging$)),n.xp6(3),n.Q6J("icon",t.iconName)("fill",t.isHover?"white":""))},directives:[r.Wj,o.u],pipes:[a.Ov],styles:[".cdk-drag-placeholder{display:none}.is-hidden[_ngcontent-%COMP%]{border:0;margin:0;max-height:0;max-width:0;min-height:0;min-width:0;opacity:0;padding:0;visibility:hidden}.drop-zone-call-item__transfer[_ngcontent-%COMP%]{align-items:center;border-radius:.3rem;display:flex;height:4.6rem;justify-content:center;margin-left:.2rem;position:relative;width:10rem}.drop-zone-call-item__placeholder[_ngcontent-%COMP%]{height:5rem;width:10rem}"]}),e})()},81825:function(e,t,i){"use strict";i.d(t,{K:function(){return p}});var n=i(4604),s=i(37716),r=i(97090),o=i(49183),a=i(99445),c=i(90971),l=i(77310),u=i(38583),h=i(56436),d=i(29790);let p=(()=>{class e{constructor(e,t,i,n){this.conferenceHelperService=e,this.dropZoneService=t,this.callTrackerService=i,this.whiteLabelService=n,this.contactCallIcon=this.whiteLabelService.data.contactCallIcon||"call",this.isDragging$=this.dropZoneService.isDragging$}drop(e){var t;this.makeCall((null===(t=e.item.data)||void 0===t?void 0:t.callItem)||e.item.data)}callFunctionKey(e){e.conferenceSubscription instanceof n.i?this.conferenceHelperService.callByPreferredDevice(e.conferenceSubscription):this.makeCall(e)}makeCall(e){this.callTrackerService.makeCall(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r._),s.Y36(o.b),s.Y36(a.k),s.Y36(c.D))},e.\u0275cmp=s.Xpm({type:e,selectors:[["drop-zone-contact"]],decls:7,vars:10,consts:[["id","PhonePanelZone","cdkDropList","",1,"drop-zone-contact",3,"ngClass","cdkDropListDropped"],["size","xx-large",3,"fill","icon"],[1,"drop-zone-contact__contact-title"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.NdJ("cdkDropListDropped",function(e){return t.drop(e)}),s.ALo(1,"async"),s._UZ(2,"app-svg-icon",1),s.ALo(3,"async"),s.TgZ(4,"span",2),s._uU(5),s.ALo(6,"translate"),s.qZA(),s.qZA()),2&e&&(s.Q6J("ngClass",s.lcZ(1,4,t.isDragging$)?"has-drag":""),s.xp6(2),s.Q6J("fill",s.lcZ(3,6,t.isDragging$)?"white":"phone-panel__telephone-details__icon")("icon",t.contactCallIcon),s.xp6(3),s.hij(" ",s.lcZ(6,8,"telephone.drop_contact")," "))},directives:[l.Wj,u.mk,h.u],pipes:[u.Ov,d.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}  .cdk-drag-placeholder{display:none}.is-hidden[_ngcontent-%COMP%]{border:0;margin:0;max-height:0;max-width:0;min-height:0;min-width:0;opacity:0;padding:0;visibility:hidden}[_nghost-%COMP%]{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center}.drop-zone-contact[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;flex-direction:column;justify-content:center;position:relative;width:32.2rem}@media screen and (min-width: 768px) and (max-width: 1023px){.drop-zone-contact[_ngcontent-%COMP%]{width:30vw}}@media screen and (max-width: 767px){.drop-zone-contact[_ngcontent-%COMP%]{width:23rem}}.drop-zone-contact.has-drag[_ngcontent-%COMP%]{background:#4dca4d;color:#fff}.drop-zone-contact.dnd-drag-over[_ngcontent-%COMP%]{background:#00b300}"]}),e})()},56506:function(e,t,i){"use strict";i.d(t,{e:function(){return u}});var n=i(37716),s=i(49183),r=i(66632),o=i(77310),a=i(56436),c=i(38583),l=i(29790);let u=(()=>{class e{constructor(e,t){this.dropZoneService=e,this.conferenceService=t,this.isDragging$=this.dropZoneService.isDragging$,this.isConferenceAdmin$=this.conferenceService.isConferenceAdmin$}drop(e){this.dropZoneService.setDroppedZone("ConferenceInviteZone",e,{})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.b),n.Y36(r.Z))},e.\u0275cmp=n.Xpm({type:e,selectors:[["drop-zone-invite-conference"]],decls:8,vars:9,consts:[["cdkDropList","","id","ConferenceInviteZone",1,"drop-invite-conference__placeholder",3,"cdkDropListDropped"],[1,"drop-zone-invite-conference"],["fill","white","icon","add","size","small"],[1,"drop-zone-invite-conference__text"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("cdkDropListDropped",function(e){return t.drop(e)}),n.TgZ(1,"div",1),n.ALo(2,"async"),n.ALo(3,"async"),n._UZ(4,"app-svg-icon",2),n.TgZ(5,"span",3),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.ekj("is-hidden",!n.lcZ(2,3,t.isDragging$)||!n.lcZ(3,5,t.isConferenceAdmin$)),n.xp6(5),n.hij(" ",n.lcZ(7,7,"conference.drag_to_invite")," "))},directives:[o.Wj,a.u],pipes:[c.Ov,l.X$],styles:[".cdk-drag-placeholder{display:none}.is-hidden[_ngcontent-%COMP%]{border:0;margin:0;max-height:0;max-width:0;min-height:0;min-width:0;opacity:0;padding:0;visibility:hidden}[_nghost-%COMP%]{position:absolute;width:100%;z-index:1}.drop-zone-invite-conference__text[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.drop-zone-invite-conference[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:17.5rem;justify-content:center}.drop-invite-conference__placeholder[_ngcontent-%COMP%]{height:20rem;width:100%}"]}),e})()},49183:function(e,t,i){"use strict";i.d(t,{b:function(){return r}});var n=i(79765),s=i(37716);let r=(()=>{class e{constructor(){this.droppedSource=new n.xQ,this.isDraggingSource=new n.xQ,this.dropped$=this.droppedSource.asObservable(),this.isDragging$=this.isDraggingSource.asObservable()}setDroppedZone(e,t,i){t.previousContainer!==t.container&&this.droppedSource.next({item:t.item.data,dropZone:e,activeCall:i})}droppedInSourceZone(e){e.previousContainer!==e.container&&this.setIsDragging(!1)}getDropZones(){return["TransferZone","PhonePanelZone","DynamicConferenceZone","ConferenceInviteZone","CallFooterZone","TransferZoneHold","DynamicConferenceZoneHold"]}onDragStart(){this.setIsDragging(!0)}onDragEnd(){this.setIsDragging(!1)}setIsDragging(e){this.isDraggingSource.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},36969:function(e,t,i){"use strict";i.d(t,{U:function(){return F}});var n=i(37716),s=i(63327),r=i(57158),o=i(81836),a=i(1933),c=i(35019),l=i(38583),u=i(56436),h=i(77540),d=i(66853),p=i(83112),f=i(11495),m=i(83897),g=i(3052),_=i(21289),v=i(93631),b=i(29790),y=i(57436);function S(e,t){1&e&&n._UZ(0,"app-svg-icon",2)}function C(e,t){1&e&&n.GkF(0)}const w=function(e){return{member:e}};function E(e,t){if(1&e&&(n.ynx(0),n.YNc(1,C,1,0,"ng-container",6),n.BQk()),2&e){const e=t.$implicit;n.oxw();const i=n.MAs(6);n.xp6(1),n.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",n.VKq(2,w,e))}}function T(e,t){1&e&&n.GkF(0)}function k(e,t){if(1&e&&(n.ynx(0),n.YNc(1,T,1,0,"ng-container",6),n.BQk()),2&e){const e=t.$implicit;n.oxw();const i=n.MAs(6);n.xp6(1),n.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",n.VKq(2,w,e))}}function x(e,t){if(1&e&&n._UZ(0,"svg-avatar",14),2&e){const e=n.oxw().member,t=n.oxw(2);n.Q6J("displayName",e.caller_id_name)("iconColor",t.memberIconColor)("bgColor",t.memberIconBgColor)}}function A(e,t){1&e&&n.GkF(0)}function I(e,t){if(1&e&&(n.ynx(0),n.YNc(1,A,1,0,"ng-container",15),n.BQk()),2&e){n.oxw(3);const e=n.MAs(1);n.xp6(1),n.Q6J("ngTemplateOutlet",e)}}const O=function(e){return{"sidebar-view":e}};function R(e,t){if(1&e&&(n.TgZ(0,"span",16),n._uU(1),n.qZA()),2&e){const e=n.oxw().member,t=n.oxw(2);n.Q6J("ngClass",n.VKq(2,O,t.isSidebarView)),n.xp6(1),n.hij(" ",e.caller_id_num," ")}}function P(e,t){if(1&e){const e=n.EpF();n.ynx(0),n._UZ(1,"raise-hand-button",17),n.TgZ(2,"app-button-end-call",18),n.NdJ("appButtonClick",function(){n.CHM(e);const t=n.oxw().member,i=n.oxw(2);return t.self?i.onHangUpConference():i.onHangUp(t.uuid)}),n.qZA(),n._UZ(3,"microphone",17),n.BQk()}if(2&e){const e=n.oxw().member,t=n.oxw(2);n.xp6(1),n.Q6J("conferenceMember",e)("conferenceState",t.conferenceState)("iconFillClass",e.talking&&!e.muted?"white":"button-color"),n.xp6(1),n.Q6J("hoverTextTranslationKey",e.self?"conference.hang_up":"conference.kick_member"),n.xp6(1),n.Q6J("conferenceMember",e)("conferenceState",t.conferenceState)("iconFillClass",e.talking&&!e.muted?"white":"button-color")}}const D=function(e,t,i){return{"small-view":e,"has-raised-hand":t,"sidebar-view":i}};function N(e,t){if(1&e&&(n.TgZ(0,"div",7),n.TgZ(1,"div",8),n.YNc(2,x,1,3,"svg-avatar",9),n.YNc(3,I,2,1,"ng-container",1),n.qZA(),n.TgZ(4,"div",10),n.TgZ(5,"span",11),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.YNc(8,R,2,4,"span",12),n.ALo(9,"isMemberNumberRelevant"),n.qZA(),n.TgZ(10,"div",13),n.YNc(11,P,4,7,"ng-container",1),n.qZA(),n.qZA()),2&e){const e=t.member;n.oxw();const i=n.MAs(8),s=n.oxw();n.ekj("is-speaking",e.talking),n.Q6J("ngClass",n.VKq(15,O,s.isSidebarView)),n.xp6(2),n.Q6J("ngIf",!e.muted)("ngIfElse",i),n.xp6(1),n.Q6J("ngIf",e.raise_hand),n.xp6(2),n.Q6J("ngClass",n.kEZ(17,D,s.isSmallView,e.raise_hand,s.isSidebarView)),n.xp6(1),n.hij(" ",e.self?n.lcZ(7,11,"conference.me"):e.caller_id_name," "),n.xp6(2),n.Q6J("ngIf",n.lcZ(9,13,e)),n.xp6(2),n.Q6J("ngClass",n.VKq(21,O,s.isSidebarView)),n.xp6(1),n.Q6J("ngIf",s.isModerator||e.self)}}function L(e,t){1&e&&n._UZ(0,"svg-wrapper",19)}function M(e,t){if(1&e&&(n.ynx(0),n.YNc(1,E,2,4,"ng-container",3),n.ALo(2,"conferenceMembersSelf"),n.YNc(3,k,2,4,"ng-container",3),n.ALo(4,"conferenceMembersSelf"),n.YNc(5,N,12,23,"ng-template",null,4,n.W1O),n.YNc(7,L,1,0,"ng-template",null,5,n.W1O),n.BQk()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",n.xi3(2,2,e.conferenceState.members,!0)),n.xp6(2),n.Q6J("ngForOf",n.xi3(4,5,e.conferenceState.members,!1))}}let F=(()=>{class e{constructor(e,t,i,n,s){this.apiAvService=e,this.logger=t,this.sipService=i,this.cinemaModeService=n,this.apiAvEventStateService=s,this.isSmallView=!1,this.isSidebarView=!1,this.memberIconColor="member-icon-color",this.memberIconBgColor="svg-wrapper--bg"}ngOnInit(){this.isSidebarView&&(this.memberIconColor="member-icon-color-sidebar-view",this.memberIconBgColor="svg-wrapper--bg-sidebar-view"),this.isModerator=this.apiAvEventStateService.isModerator(this.conferenceState)}onHangUp(e){this.cinemaModeService.exitCinemaMode(),this.apiAvService.deleteConferenceMember(this.conferenceState.uuid,e).catch(e=>{this.logger.error("error kicking conference member",e)})}onHangUpConference(){var e;const t=null===(e=this.sipService.onGoingCall)||void 0===e?void 0:e.callId;this.cinemaModeService.exitCinemaMode(),this.sipService.hangupCall(t)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.y),n.Y36(r.Kf),n.Y36(o.y),n.Y36(a.H),n.Y36(c.a))},e.\u0275cmp=n.Xpm({type:e,selectors:[["member-list"]],inputs:{isSmallView:"isSmallView",isSidebarView:"isSidebarView",conferenceState:"conferenceState",e2e:"e2e"},decls:3,vars:1,consts:[["raiseHandButton",""],[4,"ngIf"],["fill","white","icon","raise_hand","size","small","data-e2e","participant-fragment__avatar-raised-hand-icon",1,"member-list__raise-hand-indication"],[4,"ngFor","ngForOf"],["memberTemplate",""],["mutedIcon",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["itemHoverbox","","data-e2e","participant-fragment__list-element",1,"call-item","flexible-list__item",3,"ngClass"],[1,"member-list__user-icon"],["e2e","participant-fragment",3,"displayName","iconColor","bgColor",4,"ngIf","ngIfElse"],[1,"member-list__caller"],["data-e2e","participant-fragment__name",1,"member-list__name",3,"ngClass"],["class","member-list__number","data-e2e","participant-fragment__extension",3,"ngClass",4,"ngIf"],["hideIf","",1,"member-list__admin-buttons",3,"ngClass"],["e2e","participant-fragment",3,"displayName","iconColor","bgColor"],[4,"ngTemplateOutlet"],["data-e2e","participant-fragment__extension",1,"member-list__number",3,"ngClass"],["e2e","participant-fragment",1,"member-list__button",3,"conferenceMember","conferenceState","iconFillClass"],["e2e","participant-fragment__hang-up",3,"hoverTextTranslationKey","appButtonClick"],["bgColor","muted-icon-bg","iconColor","muted-icon-color","iconName","mic_off","size","medium","data-e2e","participant-fragment__avatar-muted-icon"]],template:function(e,t){1&e&&(n.YNc(0,S,1,0,"ng-template",null,0,n.W1O),n.YNc(2,M,9,8,"ng-container",1)),2&e&&(n.xp6(2),n.Q6J("ngIf",null==t.conferenceState?null:t.conferenceState.members.length))},directives:[l.O5,u.u,l.sg,l.tP,h.h,l.mk,d.B,p.T,f.g,m.Q,g.B,_.R],pipes:[v.k,b.X$,y.v],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}conference-details[_nghost-%COMP%]   .flexible-list__item__actions[_ngcontent-%COMP%], conference-details   [_nghost-%COMP%]   .flexible-list__item__actions[_ngcontent-%COMP%]{display:flex}.member-list__admin-buttons[_ngcontent-%COMP%]{display:none}.member-list__user-icon[_ngcontent-%COMP%]{position:relative}.member-list__raise-hand-indication[_ngcontent-%COMP%]{border-radius:50%;padding:.1rem;position:absolute;right:.2rem;top:-.7rem}.member-list__name[_ngcontent-%COMP%]{display:block;overflow:hidden;white-space:pre-line}.member-list__name.small-view[_ngcontent-%COMP%]{max-width:16rem;text-overflow:ellipsis;white-space:nowrap}.member-list__name.small-view.sidebar-view[_ngcontent-%COMP%]{max-width:12.9rem}.member-list__caller[_ngcontent-%COMP%]{flex:1}.flexible-list__item[_ngcontent-%COMP%]{align-items:center;cursor:default;display:flex;flex-direction:row;height:6.4rem;margin:.1rem 0}.flexible-list__item.item-hovered[_ngcontent-%COMP%]   .member-list__admin-buttons[_ngcontent-%COMP%]{display:flex}.flexible-list__item.item-hovered[_ngcontent-%COMP%]   .member-list__name.small-view[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flexible-list__item.item-hovered[_ngcontent-%COMP%]   .member-list__name.small-view.has-raised-hand[_ngcontent-%COMP%]{max-width:11.2rem}.flexible-list__item.item-hovered[_ngcontent-%COMP%]   .member-list__name.small-view.has-raised-hand.sidebar-view[_ngcontent-%COMP%]{max-width:8.1rem}"]}),e})()},95973:function(e,t,i){"use strict";i.d(t,{Y:function(){return u}});var n=i(22238),s=i(37716),r=i(8774),o=i(89973),a=i(38583),c=i(78023);function l(e,t){if(1&e&&(s.TgZ(0,"div",5),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",e.DISPLAY_NAME," ")}}let u=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.data=t,this.pickupCallService=i}ngOnInit(){this.data.functionKey&&(this.modalTitle=this.pickupCallService.getPickupInformationTranslation(this.data.functionKey.targetName),this.pickupGroups=this.data.functionKey.pickupGroups)}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.so),s.Y36(n.WI),s.Y36(r.I))},e.\u0275cmp=s.Xpm({type:e,selectors:[["pickup-call-info"]],decls:5,vars:2,consts:[["data-e2e","pickup-call-info-modal-fragment__info-header",1,"conference-info__modal","pickup-call-info__header",3,"title"],[1,"pickup-call-info__items"],["data-e2e","pickup-call-info-modal-fragment__group_services","class","pickup-call-info__item",4,"ngFor","ngForOf"],[1,"pickup-call-info__footer"],["color","primary","buttonTextTranslationKey","pickup.close","type","basic-button",3,"appButtonClick"],["data-e2e","pickup-call-info-modal-fragment__group_services",1,"pickup-call-info__item"]],template:function(e,t){1&e&&(s.TgZ(0,"modal-container",0),s.TgZ(1,"div",1),s.YNc(2,l,2,1,"div",2),s.qZA(),s.TgZ(3,"div",3),s.TgZ(4,"app-button",4),s.NdJ("appButtonClick",function(){return t.close()}),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("title",t.modalTitle),s.xp6(2),s.Q6J("ngForOf",t.pickupGroups))},directives:[o.O,a.sg,c.V],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;flex-direction:column}.pickup-call-info__item[_ngcontent-%COMP%]{color:#333;flex:1;font-size:1.5rem;padding:0 2.4rem;text-align:left}.pickup-call-info__items[_ngcontent-%COMP%]{height:10rem;overflow:auto;padding-top:1.2rem}.pickup-call-info__footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:1.2rem;padding:0 2.4rem}"]}),e})()},8774:function(e,t,i){"use strict";i.d(t,{I:function(){return d}});var n=i(79765),s=i(46782),r=i(7208),o=i(37716),a=i(51948),c=i(81836),l=i(64531),u=i(29790),h=i(99445);let d=(()=>{class e{constructor(e,t,i,r,o){this.busyLampEventStreamService=e,this.sipService=t,this.busyLampFieldService=i,this.translateService=r,this.callTrackerService=o,this.onFunctionKeyChangedSource=new n.xQ,this.onPickableChangeStatusSource=new n.xQ,this.ngUnsubscribe=new n.xQ,this.onFunctionKey$=this.onFunctionKeyChangedSource.asObservable(),this.onPickableChangeStatus$=this.onPickableChangeStatusSource.asObservable(),this.infoTranslationKey="pickup.information",this.busyLampFieldService.onPresenceStateChanged$.pipe((0,s.R)(this.ngUnsubscribe)).subscribe(e=>{if(e&&this.pickableFunctionKeys&&this.pickableFunctionKeys.length>0){const e=this.pickableFunctionKeys.filter(e=>this.isRinging(e.EXTENSION_NUMBER));this.onFunctionKeyChangedSource.next(e)}})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}emitFunctionkey(e){this.pickableFunctionKeys=e.filter(e=>e.PICKABLE)}pickupCall(e){this.callTrackerService.makeCall(`*3${e}`)}pickupCallRandomly(){this.callTrackerService.makeCall("*3")}getPickupInformationTranslation(e){return this.translateService.instant(this.infoTranslationKey,{username:e})}isRinging(e){return this.busyLampFieldService.getBusyLampFieldState(e)===r.x.RINGING}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.s),o.LFG(c.y),o.LFG(l.H),o.LFG(u.sK),o.LFG(h.k))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},11923:function(e,t,i){"use strict";i.d(t,{W:function(){return s}});var n=i(37716);let s=(()=>{class e{transform(e){switch(e){case"SPEEDDIAL":return"speed_dial";case"SERVICE":return"service";case"FUNCTION_CODE":return"function_code";case"MONITOR":case"INTERCOM":return"contact";default:return e}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"functionKeyIcon",type:e,pure:!0}),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},64209:function(e,t,i){"use strict";i.d(t,{z:function(){return r}});var n=i(79765),s=i(37716);let r=(()=>{class e{constructor(){this.onAddCharSource=new n.xQ,this.onAddChar$=this.onAddCharSource.asObservable()}addCharacter(e){this.onAddCharSource.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8328:function(e,t,i){"use strict";i.d(t,{A:function(){return m}});var n=i(79765),s=i(25917),r=i(46797),o=i(55197),a=i(75604);class c{constructor(e){this.notifier=e}call(e,t){return t.subscribe(new l(e,this.notifier,t))}}class l extends o.L{constructor(e,t,i){super(e),this.notifier=t,this.source=i,this.sourceIsBeingSubscribedTo=!0}notifyNext(e,t,i,n,s){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(e){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next()}}_unsubscribe(){const{notifications:e,retriesSubscription:t}=this;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null}_unsubscribeAndRecycle(){const{_unsubscribe:e}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=e,this}subscribeToRetries(){let e;this.notifications=new n.xQ;try{const{notifier:t}=this;e=t(this.notifications)}catch(t){return super.complete()}this.retries=e,this.retriesSubscription=(0,a.D)(this,e)}}var u=i(19773),h=i(88002),d=i(46782),p=i(38583),f=i(37716);let m=(()=>{class e{constructor(e){this.ngUnsubscribe=new n.xQ,this.async=new p.Ov(e)}transform(e){return this.date=e||new Date,this.timer$||(this.timer$=this.getObservable()),this.async.transform(this.timer$)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}getObservable(){return(0,s.of)(1).pipe(function(e){return t=>t.lift(new c(e))}(e=>e.pipe((0,u.zg)(()=>(0,r.H)(1e3)))),(0,h.U)(()=>this.onTick()),(0,d.R)(this.ngUnsubscribe))}onTick(){return Math.floor((Date.now()-this.date.getTime())/1e3)}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(f.sBO,16))},e.\u0275pipe=f.Yjl({name:"timeSince",type:e,pure:!1}),e})()},94428:function(e,t,i){"use strict";i.d(t,{bn:function(){return n},SD:function(){return s}});const n=[],s=e=>function(e){return(t,i)=>{let s,r=()=>t[i];Object.getOwnPropertyNames(t).includes(i)||(r=()=>s,Object.defineProperty(t,i,{get:r,set:e=>{s=e}})),n.push(Object.assign(Object.assign({},e),{getter:()=>{const t=r();return e.getter?t?e.getter(t):"-":t}}))}}(Object.assign(Object.assign({},e),{async:!0}))},93631:function(e,t,i){"use strict";i.d(t,{k:function(){return s}});var n=i(37716);let s=(()=>{class e{transform(e,t){return e.filter(e=>!!e.self===t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"conferenceMembersSelf",type:e,pure:!0}),e})()},57436:function(e,t,i){"use strict";i.d(t,{v:function(){return s}});var n=i(37716);let s=(()=>{class e{transform(e){return!e.self&&e.caller_id_name!==e.caller_id_num&&!e.caller_id_num.startsWith("anonymous")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"isMemberNumberRelevant",type:e,pure:!0}),e})()},25167:function(e,t,i){"use strict";i.d(t,{m:function(){return J}});var n=i(70850),s=i(38583);function r(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var o=i(37716);let a=(()=>{let e=class{constructor(e){this.ngZone=e,this.fns=[],this.commands=[],this.ing=!1}start(){!0!==this.ing&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular(()=>{this.process()}))}process(){for(;this.commands.length;)this.commands.shift()();let e=+new Date-this.nextTime;const t=1+Math.floor(e/100);e=100-e%100,this.nextTime+=100*t;for(let i=0,n=this.fns.length;i<n;i+=2){let e=this.fns[i+1];if(0===e)this.fns[i](t);else{e+=2*t-1;const n=Math.floor(e/20);n>0&&this.fns[i](n),this.fns[i+1]=e%20+1}}!this.ing||setTimeout(()=>this.process(),e)}add(e,t){return this.commands.push(()=>{this.fns.push(e),this.fns.push(1e3===t?1:0),this.ing=!0}),this}remove(e){return this.commands.push(()=>{const t=this.fns.indexOf(e);-1!==t&&this.fns.splice(t,2),this.ing=this.fns.length>0}),this}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.R0b))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}([r("design:paramtypes",[o.R0b])],e),e})(),c=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[a],imports:[[s.ez]]}),e})(),l=(()=>{class e{filterByString(e){return e&&(e=e.toLowerCase()),t=>!e||!!t&&-1!==(""+t).toLowerCase().indexOf(e)}filterByBoolean(e){return t=>Boolean(t)===e}filterByObject(e){return t=>{for(let i in e){if("$or"===i){if(!this.filterByOr(e.$or)(this.getValue(t)))return!1;continue}let n=t,s=!1;do{if(n.hasOwnProperty(i)||Object.getOwnPropertyDescriptor(n,i)){s=!0;break}}while(n=Object.getPrototypeOf(n));if(!s)return!1;let r=this.getValue(t[i]);const o=typeof e[i];let a;if(a="boolean"===o?this.filterByBoolean(e[i])(r):"string"===o?this.filterByString(e[i])(r):"object"===o?this.filterByObject(e[i])(r):this.filterDefault(e[i])(r),!a)return!1}return!0}}filterByOr(e){return t=>{let i=!1;const n=e.length,s=Array.isArray(t)?i=>-1!==t.indexOf(e[i]):i=>t===e[i];for(let e=0;e<n;e++)if(s(e)){i=!0;break}return i}}getValue(e){return"function"==typeof e?e():e}filterDefault(e){return t=>void 0===e||e==t}isNumber(e){return!isNaN(parseInt(e,10))&&isFinite(e)}transform(e,t){const i=typeof t;return e&&("boolean"===i?e.filter(this.filterByBoolean(t)):"string"===i?this.isNumber(t)?e.filter(this.filterDefault(t)):e.filter(this.filterByString(t)):e.filter("object"===i?this.filterByObject(t):"function"===i?t:this.filterDefault(t)))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"filterBy",type:e,pure:!1}),e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[l]}),e})();var h=i(3679),d=i(87636),p=i(8307),f=i(29790),m=i(14785),g=i(77310),_=i(21554),v=i(70346),b=i(51095),y=i(7539),S=i(22238),C=i(4929),w=i(72458);i(39490),i(25917),i(40205),i(35758),i(75319),i(68307),i(88002),i(5304),i(68939),i(78345),i(15257),i(91841),i(39075);let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[w.BQ],w.BQ]}),e})();var T=i(83166),k=i(77746),x=i(33935);i(46237),i(22759),i(45435);let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,w.BQ],w.BQ]}),e})();var I=i(4885),O=i(82613),R=i(67441),P=i(94935),D=i(45396),N=i(54436),L=i(77001),M=i(32789),F=i(65939),U=i(12522),H=i(11436),B=i(90625),$=(i(78023),i(83897),i(96566),i(53149),i(82332),i(208),i(44163),i(62782),i(7025),i(99795),i(12794),i(20746),i(22887),i(89937),i(2106),i(82139),i(84542)),j=i(18351);i(61918),i(11827),i(81825),i(56506),i(36461),i(46782),i(79765),i(7175),i(89973),i(52592),i(98295),i(85499),i(42070),i(60424),i(42683),i(59588),i(34899),i(63743),i(76318),i(56869),i(10253),i(20626),i(92543),i(11538),i(36969),i(61734),i(95973),i(91512),i(11495),i(96902),i(56436),i(21289),i(4008),i(5197),i(67798),i(83112),i(12126),i(69225),i(66356),i(83205),i(80181),i(98910),i(84985),i(95055),i(30234),i(14944),i(14142),i(66853),i(55821),i(65860),i(77540),i(18882),i(6555),i(234),i(68140),i(8250),i(74823),i(50614),i(93631),i(82285),i(51111),i(5588);var G=i(11923),V=i(39210),q=i(11845),Y=i(58667),Z=i(6508),z=(i(8328),i(59594)),K=(i(56765),i(57436),i(3088),i(61627),i(30606),i(94079),i(27077),i(89889),i(17685));i(62049),i(526);const W=[m.Iq,g._t,_.Bb,v.g,b.ot,y.p9,S.Is,C.N6,E,T.c,k.ie,x.Tx,A,I.Cq,O.Fk,R.LD,P.SJ,N.KP,D.rP,L.ZX,M.p0,F.Nh,U.g0,B.U8];let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[K.f,l,G.W,Z._,q.K,z.c,Y.H],imports:[[...W,n._J,s.ez,c,u,h.u5,V.X,H.AV,d.eL,h.UX,p.Bz,f.aw],m.Iq,g._t,_.Bb,v.g,b.ot,y.p9,S.Is,C.N6,E,T.c,k.ie,x.Tx,A,I.Cq,O.Fk,R.LD,P.SJ,N.KP,D.rP,L.ZX,M.p0,F.Nh,U.g0,B.U8,s.ez,c,u,h.u5,d.eL,h.UX]}),e})();o.B6R(j.P,[$.f],[])},32722:function(e,t,i){"use strict";i.d(t,{h:function(){return n}});var n=(()=>{return(e=n||(n={})).Guest="join",e.LoggedIn="main",e.CallHistory="/main/history/call",e.VoiceMailHistory="/main/history/voicemail",n;var e})()},8320:function(e,t,i){"use strict";i.d(t,{O:function(){return _}});var n=i(48248),s=i(55197),r=i(75604);class o{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new a(e,this.durationSelector))}}class a extends s.L{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1,this.durationSubscription=null}_next(e){try{const t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(t){this.destination.error(t)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(e,t){let i=this.durationSubscription;this.value=e,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=(0,r.D)(this,t),i&&!i.closed&&this.add(this.durationSubscription=i)}notifyNext(e,t,i,n,s){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const e=this.value,t=this.durationSubscription;t&&(this.durationSubscription=null,t.unsubscribe(),this.remove(t)),this.value=null,this.hasValue=!1,super._next(e)}}}var c=i(68307),l=i(66888),u=i(79765),h=i(46797),d=i(32722),p=i(37716),f=i(91477),m=i(8307),g=i(57158);let _=(()=>{class e{constructor(e,t,i){this.apiSchedulerService=e,this.router=t,this.logger=i,this.guestAuthorizedSource=new u.xQ,this.guestAuthorizationErrorSource=new u.xQ,this.guestAuthorizationError$=this.guestAuthorizationErrorSource.asObservable(),this.guestAuthorizedSource.pipe((0,c.b)(e=>this.applyGuestMeetingInformation(e)),function(e){return t=>t.lift(new o(e))}(e=>(0,h.H)(this.getApiTokenRefreshDurationInMs(e.conference))),(0,l.n)(()=>{const e=this.router.url.includes(`/${d.h.LoggedIn}/`);return e&&this.logger.debug("Canceling periodical guest credential refresh, as user logged-in in the meantime."),e})).subscribe(e=>{this.logger.debug("Running periodical guest credential refresh..."),this.authorizeGuest(e.link_id)})}authorizeGuest(e){this.apiSchedulerService.resolveLink(e).subscribe(e=>this.guestAuthorizedSource.next(e),t=>{this.logger.warn(`Failed to authorize guest with meeting id '${e}':`,t),this.guestAuthorizationErrorSource.next(e)})}authorizeGuestObservable(e){return this.apiSchedulerService.resolveLink(e).pipe((0,c.b)(e=>this.guestAuthorizedSource.next(e)))}setVoiceToken(e){this.voiceToken=e}setDeviceUuid(e){this.deviceUuid=e}setConferenceSubscriptionToken(e){this.logger.debug("Setting AV-API authorization conference subscription token."),this.conferenceSubscriptionToken=e}getAuthHeaders(){if(!this.voiceToken)return this.logger.error("Failed to provide AV-API authorization headers. No voice token set."),{};if(!this.deviceUuid)return this.logger.error("Failed to provide AV-API authorization headers. No device UUID set."),{};const e={Authorization:`Bearer ${this.voiceToken}`,"X-Cloudya-Device-UUID":this.deviceUuid},t="X-Conference-Subscriptions-Token";return this.conferenceSubscriptionToken?(e[t]=this.conferenceSubscriptionToken,this.logger.log("Using this.conferenceSubscriptionToken as xConferenceSubscriptionsTokenHeader")):(e[t]=`Bearer ${this.voiceToken}`,this.logger.log("Using this.voiceToken as xConferenceSubscriptionsTokenHeader")),e}applyGuestMeetingInformation(t){this.guestMeeting=t,this.setVoiceToken(t.conference.member.api_token);const i=e.getSipTokenLifespanInMs(t.conference),n=e.getApiTokenLifespanInMs(t.conference),s=Math.floor(i/1e3),r=Math.floor(n/1e3);this.logger.info(`Authorized guest mode with SIP token lifespan of ${s} seconds and API token lifespan of ${r} seconds.`)}getApiTokenRefreshDurationInMs(t){let i=e.getApiTokenLifespanInMs(t);i*=.95;const n=Math.floor(i/1e3);return this.logger.debug(`Guest mode credential refresh duration of ${n} seconds.`),i}static getSipTokenLifespanInMs(t){const i=e.getSipExpiryTimestamp(t.member.sip_token.data);return i?e.getTimeoutDurationInMsFromTimeoutTimestamp(i):0}static getApiTokenLifespanInMs(t){const i=e.parseApiToken(t).exp;return e.getTimeoutDurationInMsFromTimeoutTimestamp(i)}static parseApiToken(e){return(0,n.Z)(e.member.api_token)}static getTimeoutDurationInMsFromTimeoutTimestamp(e){return 1e3*e-Date.now()}static getSipExpiryTimestamp(e){const t=e.match("exp=(\\d+)?;"),i=t?t[1]:null;if(!i)return null;const n=parseInt(i,10);return isNaN(n)?null:n}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(f.P),p.LFG(m.F0),p.LFG(g.Kf))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8106:function(e,t,i){"use strict";i.d(t,{Q:function(){return d}});var n=i(99910),s=i(39485),r=i(79765),o=i(35758),a=i(37716),c=i(8320),l=i(51233),u=i(57158),h=i(25791);let d=(()=>{class e{constructor(e,t,i,n){this.apiAvAuthorizationService=e,this.userService=t,this.logger=i,this.guestService=n,this.messages=new r.xQ,this.V2_API=`${s.N.API_URL}/conference/v2`,this.onDestroySubjects=[],this.voiceTokenWasSet=!1,this.eventStreamCounter=1,this.disconnectTimeout=3e3,this.messages$=this.messages.asObservable(),this.userService.userInfo$.subscribe(e=>{e?(this.apiAvAuthorizationService.setVoiceToken(e.voiceToken),this.voiceTokenWasSet=!0,this.subscriptionForDisconnect&&(this.logger.debug("Connecting due to updated user-info."),this.connect())):(this.voiceTokenWasSet=!1,this.logger.debug("No user-info present. Disconnecting."),this.disconnect())})}setConferenceSubscriptionToken(e){this.logger.debug("Setting new conference subscription token."),this.apiAvAuthorizationService.setConferenceSubscriptionToken(e),this.refreshConnection()}connectUntil(e){this.subscriptionForDisconnect&&this.subscriptionForDisconnect.unsubscribe(),this.onDestroySubjects.push(e),e.subscribe(()=>{this.onDestroySubjects.splice(this.onDestroySubjects.indexOf(e),1)}),this.subscriptionForDisconnect=(0,o.D)(this.onDestroySubjects).subscribe(()=>{this.subscriptionForDisconnect&&(this.subscriptionForDisconnect.unsubscribe(),this.subscriptionForDisconnect=void 0),setTimeout(()=>{this.subscriptionForDisconnect||(this.logger.debug("No more connection required. Disconnecting."),this.disconnect())},this.disconnectTimeout)}),this.connection||(this.logger.debug("Connecting due to component need."),this.connect())}refreshConnection(){this.connection&&(this.logger.debug("Refreshing connection."),this.disconnect(),this.connect())}connect(){if(this.logger.info("Connecting to AV-API event stream."),this.connection)return void this.logger.error("Failed to connect. Connection is already established.");if(!this.voiceTokenWasSet&&!this.guestService.isGuest())return void this.logger.error("Failed to connect. Conditions are not met.");const e=new n.g(`${this.V2_API}/events`,{headers:this.apiAvAuthorizationService.getAuthHeaders()}),t=t=>{if(this.connection!==e)return void this.logger.error("Old conference event stream was not disconnected properly. This is probably an implementation error.");const i=JSON.parse(t.data);this.messages.next(i)};e.onmessage=t,e.addEventListener("call",t),e.addEventListener("meeting",t),e.addEventListener("dynamic",t),e.addEventListener("legacy",t),e.onerror=e=>{this.logger.error(e)},e.onerror=()=>{this.disconnect(),setTimeout(()=>{this.eventStreamCounter++,this.logger.debug("Connecting after an error occurred."),this.connect()},500*this.eventStreamCounter)},this.connection=e}disconnect(){this.onDestroySubjects=[],this.subscriptionForDisconnect&&(this.subscriptionForDisconnect.unsubscribe(),this.subscriptionForDisconnect=void 0),this.connection&&(this.logger.info("Disconnecting from AV-API event stream."),this.connection.close(),this.connection=void 0)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.O),a.LFG(l.K),a.LFG(u.Kf),a.LFG(h.Q))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8359:function(e,t,i){"use strict";i.d(t,{lF:function(){return n},VW:function(){return s},wu:function(){return r}});var n=(()=>{return(e=n||(n={})).bootstrap="bootstrap",e.destroy="conference-destroy",e.addMember="add-member",e.removeMember="del-member",e.floorChange="floor-change",e.raiseHand="raise-hand",e.lowerHand="lower-hand",e.startTalking="start-talking",e.stopTalking="stop-talking",e.videoEnabled="video-enabled",e.startVideo="add-video-feed",e.stopVideo="del-video-feed",e.muteAll="mute-conf",e.unmuteAll="unmute-conf",e.lockConference="lock",e.unlockConference="unlock",e.renameMember="rename-member",e.muteMember="mute-member",e.unmuteMember="unmute-member",n;var e})(),s=(()=>{return(e=s||(s={})).Legacy="legacy",e.Dynamic="dynamic",e.Meeting="meeting",e.OneOnOne="call",s;var e})(),r=(()=>{return(e=r||(r={})).Low="low",e.Normal="normal",e.High="high",e.Simulcast="simulcast",r;var e})()},35019:function(e,t,i){"use strict";i.d(t,{a:function(){return m}});var n=i(26215),s=i(66682),r=i(25917),o=i(8359),a=i(79765),c=i(47349),l=i(87519),u=i(88002),h=i(37716),d=i(81836),p=i(57158),f=i(8106);let m=(()=>{class e{constructor(e,t,i){this.sipService=e,this.logger=t,this.connectionService=i,this.activeCallConferenceStateSource=new n.X(null),this.onBootstrapSource=new a.xQ,this.onSelfDeletedSource=new a.xQ,this.conferenceStates=new Map,this.activeCallConferenceState$=this.activeCallConferenceStateSource.asObservable().pipe((0,c.d)(1),(0,l.x)()),this.onBootstrap$=this.onBootstrapSource.asObservable(),this.onSelfDeleted$=this.onSelfDeletedSource.asObservable(),(0,s.T)(this.sipService.onActiveCallsListChanged$,this.sipService.callResume$,this.sipService.callHold$).subscribe(()=>{this.updateActiveConference()}),this.connectionService.messages$.subscribe(e=>{this.onMessage(e)})}getConferenceStateObservableByUuid(e){if(!e)return this.logger.warn("No UUID provided. Returning observable of 'null'."),(0,r.of)(null);let t;try{t=this.getConferenceStateSubjectByUuid(e)}catch(i){return this.logger.warn(`Could not find conference state subject for conference UUID '${e}'. Returning observable of 'null'.`),(0,r.of)(null)}return t.asObservable()}isModerator(t){var i;return!!(null===(i=e.getSelf(t))||void 0===i?void 0:i.moderator)}isPhoneNumberInActiveCallConference(e){const t=this.activeCallConferenceStateSource.getValue();return!!(null==t?void 0:t.members.some(t=>t.caller_id_num===e))}getConferenceStateSubjectByUuid(e){const t=this.conferenceStates.get(e);if(!t)throw Error(`Could not find conference state subject for conference UUID '${e}'.\n      Was the 'bootstrap' event handled properly to initialize the conference state for this UUID?\n      Is the UUID valid?`);return t}isCallAssociatedToConferenceState(t,i){return t.sipSession.callLabel===e.getCallLabel(i)}updateActiveConference(){const e=this.sipService.getActiveCall();if(!e)return this.activeCallConferenceStateSource.next(null);this.conferenceStates.forEach(t=>{const i=t.getValue();this.isCallAssociatedToConferenceState(e,i)&&this.activeCallConferenceStateSource.next(i)})}onMessage(e){switch(e.action!==o.lF.startTalking&&e.action!==o.lF.stopTalking&&e.action!==o.lF.floorChange&&this.logger.debug(`Processing AV-API message (${e.action}).`),e.action){case o.lF.bootstrap:this.handleBootstrap(e),this.updateActiveConference();break;case o.lF.destroy:this.handleConferenceDestroy(e);break;case o.lF.addMember:this.handleAddMember(e),this.updateActiveConference();break;case o.lF.removeMember:this.handleMemberDelete(e);break;case o.lF.startTalking:case o.lF.stopTalking:case o.lF.floorChange:case o.lF.raiseHand:case o.lF.lowerHand:case o.lF.renameMember:case o.lF.muteMember:case o.lF.unmuteMember:case o.lF.startVideo:case o.lF.stopVideo:this.handleMemberUpdate(e);break;case o.lF.muteAll:case o.lF.unmuteAll:case o.lF.lockConference:case o.lF.unlockConference:case o.lF.videoEnabled:this.handleConferenceUpdate(e);break;default:this.logger.warn("Unhandled AV-API message:",e)}}handleBootstrap(t){const i=Object.assign(Object.assign({},t.conference),{members:[]});e.mapAndAddMessageMembersToState(t,i);const s=new n.X(i);this.conferenceStates.set(t.conference.uuid,s),s.subscribe(e=>{var t;(null===(t=this.activeCallConferenceStateSource.getValue())||void 0===t?void 0:t.uuid)===e.uuid&&this.activeCallConferenceStateSource.next(e)}),this.onBootstrapSource.next(i)}handleConferenceDestroy(e){var t;const i=e.conference.uuid;this.getConferenceStateSubjectByUuid(e.conference.uuid).complete(),this.conferenceStates.delete(i),(null===(t=this.activeCallConferenceStateSource.getValue())||void 0===t?void 0:t.uuid)===i&&this.activeCallConferenceStateSource.next(null)}handleAddMember(t){const i=this.getLatestState(t);i.size=t.conference.size,e.mapAndAddMessageMembersToState(t,i),this.updateState(t,i)}handleMemberUpdate(t){const i=this.getLatestState(t);t.members?(t.members.forEach(n=>{const s=i.members.findIndex(e=>e.uuid===n.uuid),r=n.feeds||[];delete n.feeds,i.members[s]=Object.assign(Object.assign({},i.members[s]),n),e.mapApiMemberToStateMember(i.members[s]),t.action===o.lF.startVideo&&i.members[s].feeds.push(...r),t.action===o.lF.stopVideo&&r.forEach(e=>{const t=i.members[s].feeds.findIndex(t=>t.uuid===e.uuid);-1!==t&&i.members[s].feeds.splice(t,1)})}),this.updateState(t,i)):this.logger.warn("Tried to handle AV-API member update, but no members provided. This could be an API or client implementation error.")}handleMemberDelete(t){const i=this.getLatestState(t);i.size=t.conference.size;let n=!1;t.members?(t.members.forEach(t=>{var s;n=n||t.uuid===(null===(s=e.getSelf(i))||void 0===s?void 0:s.uuid),i.members=i.members.filter(e=>e.uuid!==t.uuid)}),n&&(this.logger.debug('"self" member was deleted from the conference.'),this.onSelfDeletedSource.next(i)),this.updateState(t,i)):this.logger.warn("Tried to handle AV-API member deletion, but no members provided. This could be an API or client implementation error.")}handleConferenceUpdate(e){const t=this.getLatestState(e);t.locked=e.conference.locked,t.muted=e.conference.muted,t.video=e.conference.video,this.updateState(e,t)}updateState(e,t){t===this.getLatestState(e)&&this.logger.warn("Implementation error. Next conference state is same object as previous state."),this.getConferenceStateSubjectByUuid(e.conference.uuid).next(t)}getLatestState(e){const t=this.getConferenceStateSubjectByUuid(e.conference.uuid).getValue();return this.clone(t)}clone(e){const t=Object.assign({},e);return t.members=[],e.members.forEach(e=>{t.members.push(Object.assign({},e))}),t}static isOneOnOneState(e){return!e||e.kind===o.VW.OneOnOne}static getSelf(e){return e&&e.members.find(e=>e.self)||null}static getCallLabel(t){var i;return null===(i=e.getSelf(t))||void 0===i?void 0:i.call_label}static mapAndAddMessageMembersToState(t,i){!t.members||t.members.forEach(t=>{i.members.push(e.mapApiMemberToStateMember(t))})}static mapApiMemberToStateMember(e){return e.feeds||(e.feeds=[]),e}get activeCallConferenceStateSelfMember$(){return this.activeCallConferenceState$.pipe((0,u.U)(e=>((null==e?void 0:e.members)||[]).find(e=>null==e?void 0:e.self)||null))}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(d.y),h.LFG(p.Kf),h.LFG(f.Q))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},63327:function(e,t,i){"use strict";i.d(t,{y:function(){return u}});var n=i(39485),s=i(37716),r=i(91841),o=i(35019),a=i(8320),c=i(25791),l=i(57158);let u=(()=>{class e{constructor(e,t,i,s,r){this.http=e,this.apiAvEventStateService=t,this.apiAvAuthorizationService=i,this.guestService=s,this.logger=r,this.apiEndpoint=`${n.N.API_URL}/conference/v2`,this.apiAvEventStateService.activeCallConferenceState$.subscribe(e=>this.activeConferenceState=e)}changeGuestName(e,t){const i=e.members.find(e=>e.self);i?this.changeName(i,t,e):this.logger.error("Failed to change guest name. Could not find 'self' member in conference state.")}changeName(e,t,i){this.updateMember(e,{caller_id_name:t},i)}toggleRaiseHand(e){this.setRaiseHand(e,!e.raise_hand)}setRaiseHand(e,t){this.updateMember(e,{raise_hand:t})}toggleMemberMute(e){this.updateMember(e,{muted:!e.muted})}deleteConferenceMember(e,t){return this.http.delete(`${this.apiEndpoint}/conferences/${e}/members/${t}`,{headers:this.apiAvAuthorizationService.getAuthHeaders()}).toPromise()}deleteConference(e){return this.http.delete(`${this.apiEndpoint}/conferences/${e}`,{headers:this.apiAvAuthorizationService.getAuthHeaders()}).toPromise()}updateConference(e,t){return this.http.patch(`${this.apiEndpoint}/conferences/${e}`,t,{headers:this.apiAvAuthorizationService.getAuthHeaders()}).toPromise()}updateMember(e,t,i){var n;const s=(null==i?void 0:i.uuid)||(null===(n=this.activeConferenceState)||void 0===n?void 0:n.uuid);s?this.http.patch(`${this.apiEndpoint}/conferences/${s}/members/${e.uuid}`,t,{headers:this.apiAvAuthorizationService.getAuthHeaders()}).subscribe(()=>{}):this.logger.error("Failed to toggle update member. No conference state present.")}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.eN),s.LFG(o.a),s.LFG(a.O),s.LFG(c.Q),s.LFG(l.Kf))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},19122:function(e,t,i){"use strict";i.d(t,{i:function(){return o}});var n=i(37716),s=i(35249),r=i(91841);let o=(()=>{class e{constructor(e,t){this.adminAuthService=e,this.http=t}get(e){return this.http.get(e,this.adminAuthService.getCredentials())}post(e,t){return this.http.post(e,t,this.adminAuthService.getCredentials())}put(e,t){return this.http.put(e,t,this.adminAuthService.getCredentials())}delete(e){return this.http.delete(e,this.adminAuthService.getCredentials())}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.Y),n.LFG(r.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8259:function(e,t,i){"use strict";i.d(t,{j:function(){return u}});var n=i(88002),s=i(45146),r=i(94909),o=i(39485),a=i(89900),c=i(37716),l=i(91841);let u=(()=>{class e extends s.s{constructor(e){super(e),this.http=e,this.apiEndpoint=`${o.N.API_URL}/conferences`,this.conferenceApi=`${o.N.VOICE_CONTROL_URL}/conference`}getConferenceData(e,t){return this.get(`${this.apiEndpoint}/audio/service/${e}/data${t?`?pin=${t}`:""}`).pipe((0,n.U)(this.mapConference.bind(this)))}getConferenceRole(e){return this.get(`${this.apiEndpoint}/audio/service/${e}/role`)}getConferenceSubscriptions(){return this.get(`${this.apiEndpoint}/audio/subscriptions`).pipe((0,n.U)(this.mapConferenceSubscriptionData.bind(this)))}getConferenceServiceData(e,t){return this.get(`${this.apiEndpoint}/audio/service/${e}${t?`?pin=${t}`:""}`).pipe((0,n.U)(this.mapConferenceServiceData.bind(this)))}unsubscribeToConference(e){return this.delete(`${this.apiEndpoint}/audio/subscriptions/service/${e}`)}sendConferenceAction(e,t,i){this.post(`${this.conferenceApi}/${t}`,{action:e,pin:i}).subscribe()}sendRaiseHand(e,t){this.post(`${o.N.VOICE_CONTROL_URL}/conference/${e}/${t}`,{action:"signal-moderator"}).subscribe()}sendLowerHand(e,t){this.post(`${o.N.VOICE_CONTROL_URL}/conference/${e}/${t}`,{action:"unsignal-moderator"}).subscribe()}mapConference(e){const t=new r.E;return t.fromJSON(e),t}mapConferenceSubscriptionData(e){return Object.assign(Object.assign({},e),{data:e.data.map(this.mapConferenceSubscription.bind(this))})}mapConferenceServiceData(e){return e.isEmptyPin=a.K.isConferencePinEmpty(e),Object.assign({},e)}mapConferenceSubscription(e){return{adminPIN:e.ADMIN_PIN,displayName:e.DISPLAY_NAME,number:e.EXTENSION_NUMBER,externalIdentifier:e.EXTERNALIDENTIFIER,id:e.ID,memberCount:e.MEMBER_COUNT||0,role:e.ROLE,serviceNumber:e.SERVICE_NUMBER,userPIN:e.USER_PIN,isEmptyPin:a.K.isConferencePinEmpty(e)}}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(l.eN))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},91477:function(e,t,i){"use strict";i.d(t,{P:function(){return a}});var n=i(45146),s=i(39485),r=i(37716),o=i(91841);let a=(()=>{class e extends n.s{constructor(e){super(e),this.http=e,this.apiEndpoint=`${s.N.API_URL}/meeting`,this.voiceToken=""}getMeetings(){const e=Object.assign(Object.assign({},this.httpOptions),{observe:"response"});return this.http.get(`${this.apiEndpoint}/meetings`,e)}getMeetingDetails(e){return this.get(`${this.apiEndpoint}/meetings/${e}`,this.httpOptions)}createMeeting(e){return this.post(`${this.apiEndpoint}/meetings`,e,this.httpOptions)}updateMeeting(e,t){return this.patch(`${this.apiEndpoint}/meetings/${t}`,e,this.httpOptions)}deleteAllMeetings(){return this.delete(`${this.apiEndpoint}/meetings`,this.httpOptions)}batchDeleteMeetings(e){const t=`?uuid=${e.join("&uuid=")}`;return this.delete(`${this.apiEndpoint}/meetings${t}`,this.httpOptions)}deleteMeeting(e){return this.delete(`${this.apiEndpoint}/meetings/${e}`,this.httpOptions)}resolveLink(e){return this.get(`${this.apiEndpoint}/link/${e}`)}getDialInNumbers(){return this.get("assets/json/dial-in-numbers.json")}setVoiceToken(e){this.voiceToken=e,this.httpOptions={headers:{Authorization:`Bearer ${this.voiceToken}`}}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},45146:function(e,t,i){"use strict";i.d(t,{s:function(){return r}});var n=i(37716),s=i(91841);let r=(()=>{class e{constructor(e){this.http=e}get(e,t){return this.http.get(e,t)}post(e,t,i){return this.http.post(e,t,i)}patch(e,t,i){return this.http.patch(e,t,i)}put(e,t){return this.http.put(e,t)}delete(e,t){return this.http.delete(e,t)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},26411:function(e,t,i){"use strict";i.d(t,{f:function(){return f}});var n=i(99385),s=i(74529),r=i(37444),o=i(37716),a=i(87147),c=i(75282),l=i(38294),u=i(67856),h=i(57158),d=i(99445),p=i(45323);let f=(()=>{class e{constructor(e,t,i,n,s,r,o){this.callService=e,this.frontendConferenceHelperService=t,this.searchService=i,this.callRecordService=n,this.logger=s,this.callTrackerService=r,this.dtmfService=o,this.isLoading=!1,this.hasMoreData=!1,this.items=[],this.page=0,this.pageSize=25}callSearchString(e){let t="";(0,n.OO)(e)&&(t=e.split(",")[1],e=e.split(",")[0]),(0,n.e$)(e)?(this.dtmfService.setBulkDmfCharacter(t),this.callService.makeCall(e,e),this.searchService.clearSearch()):this.logger.info("Called string is not a valid phone number. String:",e)}onSearchSubmit(){this.searchService.doesSearchStringExist()?this.callSearchString(this.searchService.searchItem.searchString):this.redialLastCalledNumber(!0)}redialLastCalledNumber(e){if(this.isLoading)return;let t;e&&(this.items=[]),this.isLoading=!0;const i=this.items.length;i&&(t=this.items[i-1].timestamp),this.callRecordService.getCallHistoryItems("",r.J.ALL,t).subscribe(e=>{this.isLoading=!1,this.page++,this.hasMoreData=e.length>=this.pageSize,Array.prototype.push.apply(this.items,e);let t=this.items.find(e=>e.direction===s.k.OUT).remote;t=n.Lm.removeSpaces(t),t?this.searchService.setSearchItem({searchString:t}):this.hasMoreData&&this.redialLastCalledNumber()})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.M),o.LFG(c.c),o.LFG(l.o),o.LFG(u.g),o.LFG(h.Kf),o.LFG(d.k),o.LFG(p.y))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},5882:function(e,t,i){"use strict";i.d(t,{U:function(){return l}});var n=i(86363),s=i(22887),r=i(43190),o=i(37716),a=i(22238),c=i(29790);let l=(()=>{class e{constructor(e,t){this.dialog=e,this.translateService=t,this.defaultConfirmText="default_confirm_dialog.confirm_text",this.defaultCancelText="default_confirm_dialog.cancel_text",this.defaultMessage=this.translateService.instant("default_confirm_dialog.message")}confirm(e="",t=this.defaultMessage,i=this.defaultCancelText,n=this.defaultConfirmText){return this.createConfirmationDialog(e,t,i,n)}doTaskAfterConfirmation(e,t,i,s,o){return this.createConfirmationDialog(t,i,s,o).pipe((0,r.w)(t=>(0,n.s)(()=>!!t,e)))}createConfirmationDialog(e="",t=this.defaultMessage,i=this.defaultCancelText,n=this.defaultConfirmText){let r;return r=this.dialog.open(s.$,{autoFocus:!1}),r.componentInstance.title=e,r.componentInstance.message=t,r.componentInstance.cancel=i,r.componentInstance.ok=n,r.afterClosed()}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.uw),o.LFG(c.sK))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},95498:function(e,t,i){"use strict";i.d(t,{Y:function(){return v}});var n=i(91841),s=i(39485),r=i(86049),o=i(79765),a=i(77393),c=i(18891),l=i(75319),u=i(82298);const h={url:"",deserializer:e=>JSON.parse(e.data),serializer:e=>JSON.stringify(e)};class d extends o.ug{constructor(e,t){if(super(),e instanceof c.y)this.destination=t,this.source=e;else{const t=this._config=Object.assign({},h);if(this._output=new o.xQ,"string"==typeof e)t.url=e;else for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);if(!t.WebSocketCtor&&WebSocket)t.WebSocketCtor=WebSocket;else if(!t.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new u.t}}lift(e){const t=new d(this._config,this.destination);return t.operator=e,t.source=this,t}_resetState(){this._socket=null,this.source||(this.destination=new u.t),this._output=new o.xQ}multiplex(e,t,i){const n=this;return new c.y(s=>{try{n.next(e())}catch(o){s.error(o)}const r=n.subscribe(e=>{try{i(e)&&s.next(e)}catch(t){s.error(t)}},e=>s.error(e),()=>s.complete());return()=>{try{n.next(t())}catch(o){s.error(o)}r.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:e,protocol:t,url:i,binaryType:n}=this._config,s=this._output;let r=null;try{r=t?new e(i,t):new e(i),this._socket=r,n&&(this._socket.binaryType=n)}catch(c){return void s.error(c)}const o=new l.w(()=>{this._socket=null,r&&1===r.readyState&&r.close()});r.onopen=e=>{const{_socket:t}=this;if(!t)return r.close(),void this._resetState();const{openObserver:i}=this._config;i&&i.next(e);const n=this.destination;this.destination=a.L.create(e=>{if(1===r.readyState)try{const{serializer:t}=this._config;r.send(t(e))}catch(t){this.destination.error(t)}},e=>{const{closingObserver:t}=this._config;t&&t.next(void 0),e&&e.code?r.close(e.code,e.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:e}=this._config;e&&e.next(void 0),r.close(),this._resetState()}),n&&n instanceof u.t&&o.add(n.subscribe(this.destination))},r.onerror=e=>{this._resetState(),s.error(e)},r.onclose=e=>{this._resetState();const{closeObserver:t}=this._config;t&&t.next(e),e.wasClean?s.complete():s.error(e)},r.onmessage=e=>{try{const{deserializer:t}=this._config;s.next(t(e))}catch(t){s.error(t)}}}_subscribe(e){const{source:t}=this;return t?t.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add(()=>{const{_socket:e}=this;0===this._output.observers.length&&(e&&1===e.readyState&&e.close(),this._resetState())}),e)}unsubscribe(){const{_socket:e}=this;e&&1===e.readyState&&e.close(),this._resetState(),super.unsubscribe()}}var p=i(99385);class f{encodeKey(e){return f.standardEncoding(e)}encodeValue(e){return f.standardEncoding(e)}decodeKey(e){return(0,p.oc)(e)}decodeValue(e){return(0,p.oc)(e)}static standardEncoding(e){return encodeURIComponent(e)}}var m=i(88002),g=i(37716),_=i(45146);class v{constructor(e){this.apiService=e,this.integratorJwtToken=void 0}getCloudyaToken(){return this.apiService.post(v.apiToken)}trackSoloLicense(e){return this.apiService.post(v.apiTrackSoloLicense,e)}getIntegratorJwtToken(e,t="Cloudya PARTNER CRM Login"){const i=v.makeCrmConnectApiUrl(r.h.Login),n=v.prepareBodyRequest({User:e,Name:t});return this.apiService.post(i,n)}refreshIntegratorJwtToken(){const e=v.makeCrmConnectApiUrl(r.h.RefreshToken);return this.apiService.post(e)}setIntegratorJwtToken(e){this.integratorJwtToken=e}openConfig(){const e=v.makeCrmConnectApiUrl(r.h.ShowWindow),t=v.prepareBodyRequest({window:"configuration"});return this.apiService.post(e,t)}loadSettings(){return this.apiService.get(v.apiSettings)}saveSettings(e){return this.apiService.put(v.apiSettings,e)}loadAddressBooks(){const e=v.makeCrmConnectApiUrl(r.h.AddressBooks);return this.apiService.get(e).pipe((0,m.U)(e=>{const t=e.filter(e=>!e.HasError&&e.Enabled);return v.convertAddressBooksToSettings(t)}))}search(e){var t,i,n;const s=v.makeCrmConnectApiUrl(r.h.Search);e.count=null!==(t=e.count)&&void 0!==t?t:9999,e.offset=null!==(i=e.offset)&&void 0!==i?i:0,e.includePictures=null!==(n=e.includePictures)&&void 0!==n&&n;const o=v.prepareBodyRequest(e);return this.apiService.post(s,o)}closeIntegrator(){const e=v.makeCrmConnectApiUrl(r.h.Unload);return this.apiService.post(e)}openContact(e){const t=v.makeCrmConnectApiUrl(r.h.DoAction),i={actionId:e};let s=new n.WM;s=s.set("Accept","application/json, text/plain, */*");const o=v.prepareBodyRequest(i);return this.apiService.post(t,o,{headers:s})}getWebsocketConnection(){var e,t;return(t={url:v.socketEndpoint+(null===(e=this.integratorJwtToken)||void 0===e?void 0:e.Token)},new d(t)).asObservable()}static convertAddressBooksToSettings(e){return e.map((e,t)=>({name:e.Name,searchable:!0,openContacts:!1,order:t+1,available:!0}))}static makeCrmConnectApiUrl(e){return`${v.apiBaseUrl}${e}`}static prepareBodyRequest(e){return new n.LE({encoder:new f,fromObject:e})}}v.apiTrackSoloLicense=`${s.N.API_URL}/mondago/track-solo-licence`,v.apiBaseUrl="https://localhost:10443/api/v1/",v.apiToken=`${s.N.API_URL}/mondago/token`,v.apiSettings=`${s.N.API_URL}/mondago/settings`,v.socketEndpoint="wss://localhost:10443/api/v1/events/",v.\u0275fac=function(e){return new(e||v)(g.LFG(_.s))},v.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac})},66698:function(e,t,i){"use strict";i.d(t,{a:function(){return T}});var n=i(26215),s=i(25917),r=i(35758),o=i(40205),a=i(46797),c=i(87519),l=i(45435),u=i(88002),h=i(78345),d=i(5304),p=i(43190),f=i(48248),m=(()=>{return(e=m||(m={})).Initial="Initial",e.ConfigurationChanged="ConfigurationChanged",e.CrmConfigurationChanged="CrmConfigurationChanged",e.MakeCallRequest="MakeCallRequest",e.Unload="Unload",m;var e})();const g={AT:"+43",BE:"+32",BG:"+359",CH:"+41",DE:"+49",DK:"+45",ES:"+34",FR:"+33",GB:"+44",HR:"+385",HU:"+36",IE:"+353",IN:"+91",IT:"+39",NL:"+31",PL:"+48",PT:"+351",RO:"+40",SE:"+46",SI:"+386",US:"+1"};var _=(()=>{return(e=_||(_={})).Solo="SOLO_CTI_PER_USER",e.Unite="UNITE_CTI_PER_USER",_;var e})(),v=i(32502),b=i(37716),y=i(95498),S=i(725),C=i(57158),w=i(51233),E=i(99445);let T=(()=>{class e{constructor(e,t,i,s,r){this.crmConnectApiService=e,this.electronService=t,this.logger=i,this.userService=s,this.callTrackerService=r,this.crmConnectSettingsSource=new n.X([]),this.restartIntegratorTimer=3e4,this.isCrmConnectAvailableSource=new n.X(!1),this.isCrmConnectAvailable$=this.isCrmConnectAvailableSource.asObservable(),this.isCrmConnectOldAndInsecureSource=new n.X(!1),this.isDesktopApp=this.electronService.desktop,this.crmConnectSettings$=this.crmConnectSettingsSource.asObservable(),this.isCrmConnectOldAndInsecure$=this.isCrmConnectOldAndInsecureSource.asObservable(),this.isCrmConnectAvailableDistinct$=this.isCrmConnectAvailable$.pipe((0,c.x)()),this.isDesktopApp&&(this.userService.userInfo$.pipe((0,l.h)(e=>!!e)).subscribe(e=>{var t,i;this.userInfo=e,(null===(i=null===(t=this.userInfo)||void 0===t?void 0:t.modules)||void 0===i?void 0:i.includes("crmconnect"))&&this.checkDesktopAppVersionSupporting()}),this.electronService.isIntegratorProcessLoaded$.subscribe(e=>{e&&this.userInfo?this.loginToIntegrator():this.electronService.killCrmConnectIntegratorProcess()}))}disableCrmOldStatus(){this.isCrmConnectOldAndInsecureSource.next(!1)}getCurrentAvailableStatus(){return this.isDesktopApp&&this.isCrmConnectAvailableSource.getValue()}stopIntegrator(){this.getCurrentAvailableStatus()&&this.crmConnectApiService.closeIntegrator().subscribe(()=>{this.scheduleWebsocket.unsubscribe()})}restartIntegrator(){this.scheduleWebsocket&&this.scheduleWebsocket.unsubscribe(),this.startIntegrator()}searchInCrm(e,t=!1){return this.crmConnectApiService.search({query:e}).pipe((0,u.U)(e=>{const i=this.getCurrentCrmConnectsSettings(t);return this.mapSearchResponsesToResults(e,i)}))}openIntegratorConfiguration(){this.crmConnectApiService.openConfig().subscribe()}openContact(e){this.crmConnectApiService.openContact(e).subscribe()}findCrmContacts(e){return this.getCurrentAvailableStatus()&&e?this.searchInCrm(e,!0).pipe((0,u.U)(e=>{const t=e.filter(e=>!!e.results.length);return t.length?t:null}),(0,h.B)()):(0,s.of)(null)}getCurrentCrmConnectsSettings(t=!1){let i=this.crmConnectSettingsSource.getValue();return i=i.filter(e=>e.available),t?e.filterAndMapSearchableCrmSettings(i):i}syncCrmConnectSettings(){(0,r.D)([this.crmConnectApiService.loadAddressBooks(),this.crmConnectApiService.loadSettings()]).subscribe(([e,t])=>{this.combineSttings(e,t)})}updateCrmConnectSettings(e){this.setCurrentSettings(e)}resetSettings(){this.crmConnectApiService.loadAddressBooks().subscribe(e=>this.setCurrentSettings(e))}combineSttings(t,i,n=!1){if(e.isSettingsSame(t,i))this.crmConnectSettingsSource.next(t);else{const n=e.mergeSettings(t,i);this.crmConnectSettingsSource.next(n),this.saveCrmConnectSettings(n)}}setCurrentSettings(e){this.crmConnectSettingsSource.next(e),this.saveCrmConnectSettings(e)}checkDesktopAppVersionSupporting(){this.electronService.getAppVersion().subscribe(e=>{const t=Number(e.replace(/\./g,""));this.setCrmConnectOutdatedApp(t),this.runIntegratorOnDifferentDesktopApp(t)})}setCrmConnectOutdatedApp(e){!this.isMacintosh()&&e<=123&&"crm"!==this.isCrmConnectOldAndInsecureSource.value&&this.isCrmConnectOldAndInsecureSource.next("app")}runIntegratorOnDifferentDesktopApp(e){123===e&&this.startIntegrator(),e>123&&(this.electronService.getCrmConnectIntegratorInfo(),this.electronService.crmConnectIntegratorInfo$.pipe((0,c.x)((e,t)=>e.isInstalled===t.isInstalled)).subscribe(e=>{e.isInstalled&&this.userInfo&&(e.isNewVersion?this.startIntegrator():this.isCrmConnectOldAndInsecureSource.next("crm"))}))}isMacintosh(){return navigator.platform.includes("Mac")}startIntegrator(){this.crmConnectApiService.getCloudyaToken().pipe((0,d.K)(e=>(this.logger.debug("CRM Connect get token error: "+e),(0,o._)(e)))).subscribe(e=>{this.electronService.startWaitingCrmConnectEvent(),this.crmConnectJwtToken=(0,f.Z)(e.accessToken),this.cloudyaAccessToken=e,this.setCrmStartingParams(e.accessToken),this.logger.debug("Desktop App usage confirmed - Open the Integrator now."),this.electronService.startCrmConnectIntegrator(this.crmStartingParams)})}setCrmStartingParams(t){this.crmStartingParams={user:this.userInfo.user.uuid,token:t,tel:e.getE164FromCountryCode(this.userInfo),accesscode:"PCRM-NFON"}}loginToIntegrator(){this.crmConnectApiService.getIntegratorJwtToken(this.crmConnectJwtToken.uuid).pipe((0,v.d)(this.crmConnectJwtToken.license===_.Solo?this.crmConnectApiService.trackSoloLicense(this.cloudyaAccessToken):(0,s.of)(null)),(0,d.K)(e=>this.crmConnectError(e))).subscribe(e=>{this.initIntegratorJwtToken(e),this.scheduleCrmConnectWebsocket()})}refreshIntegratorJwtToken(){this.crmConnectApiService.refreshIntegratorJwtToken().pipe((0,d.K)(e=>this.crmConnectError(e))).subscribe(e=>{this.initIntegratorJwtToken(e),this.scheduleCrmConnectWebsocket()})}initIntegratorJwtToken(t){e.isTokenValid(null==t?void 0:t.Expires)?(this.crmConnectApiService.setIntegratorJwtToken(t),this.startTokenExpirationCountdown(t.Expires)):this.refreshIntegratorJwtToken()}filterAndMapPhoneSearchResults(e){return e.Fields.filter(e=>"Phone"===e.WellKnownName&&e.Value).map(e=>({type:e.Name,phone:e.Value}))}mapSearchResponsesToResults(e,t){const i=[];return e.forEach(e=>{var n,s;const r={crmId:e.AddinId,crmConnectName:e.AddinName,openCrmContactOnCall:null!==(s=null===(n=t.find(t=>t.name===e.AddinName))||void 0===n?void 0:n.openContacts)&&void 0!==s&&s,results:[]};e.Records.forEach(e=>{const t=this.filterAndMapPhoneSearchResults(e);t.length&&t.forEach(t=>{var i,n,s,o;const a={name:(null==e?void 0:e.DisplayText)||(null!==(n=null===(i=e.Fields.find(e=>"ContactName"===e.WellKnownName))||void 0===i?void 0:i.Value)&&void 0!==n?n:""),phoneNumber:t,actionId:null!==(o=null===(s=e.Actions.find(e=>"ShowRecord"===e.ActionId||"ShowRecordInEditMode"===e.ActionId))||void 0===s?void 0:s.UniqueId)&&void 0!==o?o:""};r.results.push(a)})}),i.push(r)}),i.sort((e,i)=>this.getIndexOfAddressBook(t,e.crmConnectName)>this.getIndexOfAddressBook(t,i.crmConnectName)?1:-1)}getIndexOfAddressBook(e,t){return e.findIndex(e=>e.name===t)}emitCrmAvailableState(e){this.isCrmConnectAvailableSource.next(this.isDesktopApp&&e)}saveCrmConnectSettings(e){this.userInfo&&this.crmConnectApiService.saveSettings(e).subscribe()}startTokenExpirationCountdown(e){const t=Math.round(1e3*e-(new Date).getTime());this.countDownToken&&this.countDownToken.unsubscribe(),this.countDownToken=(0,a.H)(t).subscribe(()=>{this.countDownToken.unsubscribe(),this.refreshIntegratorJwtToken()})}scheduleCrmConnectWebsocket(e=0){this.scheduleWebsocket&&this.scheduleWebsocket.unsubscribe(),this.scheduleWebsocket=(0,a.H)(e).pipe((0,p.w)(()=>this.crmConnectApiService.getWebsocketConnection())).subscribe(e=>{var t,i;switch(e.EventType){case m.Initial:this.emitCrmAvailableState(!0),this.syncCrmConnectSettings();break;case m.MakeCallRequest:if(null===(t=e.Payload)||void 0===t?void 0:t.Tel){const t=null===(i=e.Payload)||void 0===i?void 0:i.Tel;this.callTrackerService.makeCall({crmPhoneNumber:t})}break;case m.ConfigurationChanged:break;case m.CrmConfigurationChanged:this.logger.debug(this+" config changed"),this.syncCrmConnectSettings();break;case m.Unload:this.emitCrmAvailableState(!1);break;default:this.logger.debug("uh who are you?")}},()=>{this.emitCrmAvailableState(!1),this.restartIntegrator()})}crmConnectError(e){return this.scheduleCrmConnectWebsocket(this.restartIntegratorTimer),this.logger.debug("CRM Connect error API: "+e),(0,o._)(e||"Error API Integrator")}static reorderSettings(e){return e.map((e,t)=>(e.order=t+1,e))}static isTokenValid(e){return 1e3*e-(new Date).getTime()>0}static getE164FromCountryCode(e){var t;const i=(null===(t=e.activePhoneExtension)||void 0===t?void 0:t.countryCode)||"DE";return g[i]||g.DE}static isSettingsSame(e,t){return JSON.stringify(e)===JSON.stringify(t)}static mergeSettings(t,i){let n=[];return i.forEach(e=>{e.available=t.some((i,n)=>i.name===e.name&&(t.splice(n,1),!0)),n.push(e)}),n=n.concat(t),n=e.reorderSettings(n),n}static setAvailableSettings(e){return e.map(e=>(e.available=!0,e))}static filterAndMapSearchableCrmSettings(t){const i=t.filter(e=>e.searchable);return e.reorderSettings(i)}}return e.\u0275fac=function(t){return new(t||e)(b.LFG(y.Y),b.LFG(S.d),b.LFG(C.Kf),b.LFG(w.K),b.LFG(E.k))},e.\u0275prov=b.Yz7({token:e,factory:e.\u0275fac}),e})()},86049:function(e,t,i){"use strict";i.d(t,{h:function(){return n}});var n=(()=>{return(e=n||(n={})).Register="Register",e.Login="Login",e.RefreshToken="RefreshToken",e.Unload="Unload",e.ShowWindow="ShowWindow",e.MakeCall="MakeCall",e.Search="Search",e.DoAction="DoAction",e.AddressBooks="AddressBooks",e.Ping="Ping",e.OwnerContact="OwnerContact",e.Answer="Answer",e.Hangup="Hangup",e.TransferComplete="TransferComplete",e.TransferCancel="TransferCancel",e.TransferConsult="TransferConsult",e.TransferBlind="TransferBlind",e.SendDtmf="SendDtmf",e.Deflect="Deflect",e.Unhold="Unhold",e.Hold="Hold",e.Pickup="Pickup",e.Version="Version",n;var e})()},8225:function(e,t,i){"use strict";i.d(t,{I:function(){return ee}});var n=i(26215),s=i(28123),r=i(13233),o=i(45435),a=i(37716),c=i(83017),l=i(56042),u=(()=>{return(e=u||(u={}))[e.MUTE=0]="MUTE",e[e.UNMUTE=1]="UNMUTE",e[e.END_CALL=2]="END_CALL",e[e.ACCEPT_CALL=3]="ACCEPT_CALL",e[e.REJECT_CALL=4]="REJECT_CALL",e[e.FLASH=5]="FLASH",u;var e})(),h=i(14569),d=i(79765),p=i(46782),f=i(725),m=i(45832),g=i(57158);let _=(()=>{class e{constructor(e,t,i,n){this.headsetCoreService=e,this.electronService=t,this.snackBarService=i,this.logger=n,this.ngUnsubscribe=new d.xQ,this.actionsOrder=[],this.timer=400,this.isJabraEventListenerAdded=!1,this.isJabraInitialized=!1,this.mute=(e=!0)=>{this.headsetCoreService.onHeadsetControlBtnAction(l.R.MUTE,e)},this.unmute=(e=!0)=>{this.headsetCoreService.onHeadsetControlBtnAction(l.R.UNMUTE,e)},this.acceptCall=(e=!0)=>{this.headsetCoreService.onHeadsetControlBtnAction(l.R.ACCEPT_CALL,e)},this.rejectCall=(e=!0)=>{this.headsetCoreService.onHeadsetControlBtnAction(l.R.REJECT_CALL,e)},this.endCall=(e=!0)=>{this.headsetCoreService.onHeadsetControlBtnAction(l.R.END_CALL,e)},this.flash=(e=!0)=>{this.headsetCoreService.onHeadsetControlBtnAction(l.R.HOLD_RESUME,e)}}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initJabraDesktop(){this.initializeDesktopJabraApi()}init(){return function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const e=yield jabra.init().then(()=>jabra.getInstallInfo()).then(e=>e?e.installationOk?(jabra.resume(),jabra.onHook(),!0):(this.logger.error("A Jabra error occurred. Install info:",e),!1):(this.snackBarService.openErrorInfo("Jabra Browser Integration Extension is not Installed"),!1)).catch(e=>(this.logger.error(e),e.message));return e&&(this.addJabraEventListeners(),this.initSubscriptions()),this.reInitJabraPluginOnDeviceAttachDetach(),!!e})}activateIncomingCall(e){this.electronService.desktop?this.electronService.requestForIncomingCall(e):this.callHeadsetMethod("ring")}callStarted(){this.refreshActionsOrderState(),this.detectAction(h.Us.METHOD),setTimeout(()=>{this.callHeadsetMethod("offHook")},this.timer)}callEnded(e=0){this.detectAction(h.Us.METHOD),this.callHeadsetMethod("resume"),setTimeout(()=>{this.callHeadsetMethod("onHook"),e>0&&setTimeout(()=>{this.holdCall()},this.timer)},this.timer)}callMute(){this.refreshActionsOrderState(),this.callHeadsetMethod("mute")}callUnMute(){this.refreshActionsOrderState(),this.callHeadsetMethod("unmute")}holdCall(){this.refreshActionsOrderState(),this.callHeadsetMethod("hold"),this.electronService.desktop||this.callHeadsetMethod("onHook")}resumeCall(){this.refreshActionsOrderState(),this.electronService.desktop||this.callHeadsetMethod("offHook"),this.callHeadsetMethod("resume")}isJabraExist(e,t){return e.some(e=>e.label.toLowerCase().includes("jabra"))||t.some(e=>e.label.toLowerCase().includes("jabra"))}reInitJabraPluginOnDeviceAttachDetach(){this.electronService.desktop&&this.electronService.reInitPluginOnDeviceAttachDetach()}callHeadsetMethod(e){this.electronService.desktop?this.electronService.requestJabra(e):jabra[e]()}getAttachedDevices(){return jabra.getDevices().then(e=>e)}destroy(){this.removeJabraEventListeners()}addJabraEventListeners(){!this.isJabraEventListenerAdded&&this.isJabraInitialized&&(this.isJabraEventListenerAdded=!0,jabra.addEventListener("mute",this.mute),jabra.addEventListener("unmute",this.unmute),jabra.addEventListener("acceptcall",this.acceptCall),jabra.addEventListener("reject",this.rejectCall),jabra.addEventListener("endcall",this.endCall),jabra.addEventListener("flash",this.flash))}removeJabraEventListeners(){this.isJabraEventListenerAdded&&(jabra.removeEventListener("mute",this.mute),jabra.removeEventListener("unmute",this.unmute),jabra.removeEventListener("acceptcall",this.acceptCall),jabra.removeEventListener("reject",this.rejectCall),jabra.removeEventListener("endcall",this.endCall),jabra.removeEventListener("flash",this.flash),this.isJabraEventListenerAdded=!1)}initializeDesktopJabraApi(){this.electronService.initDesktopJabraApi(e=>{this.detectAction(h.Us.CALLBACK),this.attachJabraDesktopEvents(e),this.initSubscriptions()})}attachJabraDesktopEvents(e){const t=this.isHeadsetAction();switch(e){case u.MUTE:this.headsetCoreService.onHeadsetControlBtnAction(l.R.MUTE,t);break;case u.UNMUTE:this.headsetCoreService.onHeadsetControlBtnAction(l.R.UNMUTE,t);break;case u.END_CALL:this.headsetCoreService.onHeadsetControlBtnAction(l.R.END_CALL,t);break;case u.ACCEPT_CALL:this.headsetCoreService.onHeadsetControlBtnAction(l.R.ACCEPT_CALL,t);break;case u.REJECT_CALL:this.headsetCoreService.onHeadsetControlBtnAction(l.R.REJECT_CALL,t);break;case u.FLASH:this.headsetCoreService.onHeadsetControlBtnAction(l.R.HOLD_RESUME,!0);break;default:this.logger.warn("Jabra device button event not implemented. Event:",event)}}activateDevice(e){jabra.setActiveDeviceId(e),this.callHeadsetMethod("ring")}initSubscriptions(){this.headsetCoreService.callProgress$.pipe((0,p.R)(this.ngUnsubscribe)).subscribe(e=>{switch(e.type){case h.rP.INCOMING_CALL:e.value&&this.activateIncomingCall(e.value);break;case h.rP.CALL_STARTED:this.callStarted();break;case h.rP.CALL_ENDED:this.callEnded(e.numberOfCalls);break;case h.rP.CALL_MUTE:this.callMute();break;case h.rP.CALL_UNMUTE:this.callUnMute();break;case h.rP.CALL_HOLD:this.holdCall();break;case h.rP.CALL_RESUME:this.resumeCall();break;case h.rP.CONFERENCE_CREATE:this.callStarted()}})}detectAction(e){this.actionsOrder.length<2?this.actionsOrder.push(e):this.refreshActionsOrderState()}refreshActionsOrderState(){this.actionsOrder=[]}isHeadsetAction(){const e=!!this.actionsOrder.length&&this.actionsOrder[0]===h.Us.CALLBACK||!this.actionsOrder.length;return setTimeout(()=>{this.refreshActionsOrderState()},this.timer+20),e}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.Y),a.LFG(f.d),a.LFG(m.c),a.LFG(g.Kf))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=i(18185),b=i(81836),y=i(51233),S=i(15666),C=i(99445),w=i(30281),E=(()=>{return(e=E||(E={})).JabraChromeExtensionNotInstalled="The Jabra Chrome Extension is not installed",e.JabraChromeHostNotInstalled="The Jabra Chromehost is not installed",E;var e})(),T=(()=>{return(e=T||(T={})).JabraChromeExtensionInstall="install",e.JabraChromeHostInstall="update",T;var e})(),k=i(22238),x=i(89973),A=i(42070);let I=(()=>{class e{constructor(e){this.dialogRef=e}onCancel(){this.dialogRef.close(!1)}onAccept(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(k.so))},e.\u0275cmp=a.Xpm({type:e,selectors:[["headset-driver-update-info-modal"]],decls:5,vars:4,consts:[[1,"headset-driver-update-info-modal",3,"title"],[1,"headset-driver-update-info-modal__header"],["textColor","button--alert",3,"btnSaveCaption","btnCancelCaption","cancelClick","saveClick"]],template:function(e,t){1&e&&(a.TgZ(0,"modal-container",0),a.TgZ(1,"div",1),a.TgZ(2,"p"),a._uU(3),a.qZA(),a.qZA(),a.TgZ(4,"footer-actions",2),a.NdJ("cancelClick",function(){return t.onCancel()})("saveClick",function(){return t.onAccept()}),a.qZA(),a.qZA()),2&e&&(a.Q6J("title",t.title),a.xp6(3),a.Oqu(t.message),a.xp6(1),a.Q6J("btnSaveCaption",t.ok)("btnCancelCaption",t.cancel))},directives:[x.O,A.c],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{align-items:center;background-color:#0000004d;display:flex;flex:1;flex-direction:column;justify-content:center}.headset-driver-update-info-modal__header[_ngcontent-%COMP%]{padding:.8rem 2.4rem}"]}),e})();var O=(()=>{return(e=O||(O={})).INCOMING_CALL="INCOMING_CALL",e.OUTGOING_CALL="OUTGOING_CALL",e.START_CALL="START_CALL",e.REJECT_CALL="REJECT_CALL",e.END_CALL="END_CALL",e.HOLD_CALL="HOLD_CALL",e.RESUME_CALL="RESUME_CALL",e.MUTE_CALL="MUTE_CALL",e.UNMUTE_CALL="UNMUTE_CALL",O;var e})(),R=i(88002),P=i(87519);let D=(()=>{class e{constructor(e,t){this.logger=e,this.callTrackerService=t,this.signalStack=[]}updateActionTypeOrder(e,t){t&&this.isAllowedToUpdateHeadsetStatus(t)&&(this.lastEventFromSIPObservables=t),this.action||(this.action=e),setTimeout(()=>{this.action=""},400)}getLastEventFromSIPObservables(){return this.lastEventFromSIPObservables}isHeadsetAction(){return this.action===h.Yi.HEADSET}checkIfOnHoldCallsExists(){return this.callTrackerService.hasOnHoldCalls()}checkIfActiveCallExists(){return this.callTrackerService.hasActiveCall()}checkIfIncomingRingingExists(){return this.callTrackerService.hasIncomingCalls()}checkIfOutgoingRingingExist(){return this.callTrackerService.hasOutgoingCall()}isResumeAction(){const{prevSignal:e,currSignal:t}=this.getStackSignals();return(null==e?void 0:e.type)===w.k.HOOK_SWITCH&&!e.value&&t.type===w.k.FLASH&&t.value}isResumeAllowed(){const e=this.lastEventFromSIPObservables.type===h.rP.CALL_HOLD,t=this.checkIfOnHoldCallsExists()&&!this.checkIfActiveCallExists();return e||t}updateSignalStack(e){this.signalStack.push(e),this.signalStack=this.signalStack.slice(-2)}clearSignalStack(){this.signalStack=[],this.lastEventFromSIPObservables=void 0}getStackSignals(){const e=this.signalStack.length>1?this.signalStack[0]:void 0;return{prevSignal:e,currSignal:e?this.signalStack[1]:this.signalStack[0]}}getJabraSdkConfigData(){const e=this;return{partnerKey:"12aa-ce646ce8-65cb-4f34-952a-70dd821d3f05",appId:"nfon-jabra-app",appName:"NFON jabra app",logger:{write(t){e.logErrors(t)}}}}logErrors(e){(e.level===w.L.ERROR||e.level===w.L.WARNING)&&this.logger.log("Jabra log message received:",e.message)}hasCallBeenEndedBeforeItWasAnswered({type:e,activeCallsCount:t}){return e===h.rP.CALL_ENDED&&!t}isAllowedToUpdateHeadsetStatus(e){return!!e&&!this.hasCallBeenEndedBeforeItWasAnswered(e)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(g.Kf),a.LFG(C.k))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),N=(()=>{class e{constructor(e,t){this.headsetCoreService=e,this.jabraHelperService=t,this.jabraCallProgressSource=new d.xQ,this.jabraCallProgress$=this.jabraCallProgressSource.asObservable()}removeCallsListener(){var e;null===(e=this.callProgressSubscription)||void 0===e||e.unsubscribe()}initCallsListener(){this.removeCallsListener(),this.callProgressSubscription=this.headsetCoreService.callProgress$.subscribe(e=>{switch(this.jabraHelperService.updateActionTypeOrder(h.Yi.APP,e),e.type){case h.rP.INCOMING_CALL:e.value&&this.jabraCallProgressSource.next({type:O.INCOMING_CALL,deviceLabel:e.value});break;case h.rP.OUTGOING_CALL_ACCEPTED:case h.rP.CALL_STARTED:this.jabraCallProgressSource.next({type:O.START_CALL});break;case h.rP.OUTGOING_CALL_RINGING:this.jabraCallProgressSource.next({type:O.OUTGOING_CALL});break;case h.rP.CONFERENCE_CREATE:break;case h.rP.CALL_ENDED:this.jabraCallProgressSource.next(e.isRejectedCall||e.isOutgoingCallEndedBeforeRemotePartyAcceptsCall?{type:O.REJECT_CALL,activeCallsCount:e.numberOfCalls}:{type:O.END_CALL,activeCallsCount:e.numberOfCalls});break;case h.rP.CALL_HOLD:this.jabraCallProgressSource.next({type:O.HOLD_CALL});break;case h.rP.CALL_RESUME:this.jabraCallProgressSource.next({type:O.RESUME_CALL});break;case h.rP.CALL_MUTE:this.jabraCallProgressSource.next({type:O.MUTE_CALL});break;case h.rP.CALL_UNMUTE:this.jabraCallProgressSource.next({type:O.UNMUTE_CALL})}})}processFlashFromSDK(){const e=this.jabraHelperService.isResumeAction(),t=this.jabraHelperService.isResumeAllowed();e?t&&this.headsetCoreService.onHeadsetControlBtnAction(l.R.HOLD_RESUME,this.jabraHelperService.isHeadsetAction()):this.headsetCoreService.onHeadsetControlBtnAction(l.R.HOLD_RESUME,this.jabraHelperService.isHeadsetAction())}processAnswerCallFromSDK(){const e=this.jabraHelperService.isHeadsetAction();this.headsetCoreService.onHeadsetControlBtnAction(l.R.ACCEPT_CALL,e)}processMuteFromSDK(){this.headsetCoreService.onHeadsetControlBtnAction(l.R.MUTE,this.jabraHelperService.isHeadsetAction())}processRejectFromSDK(){this.headsetCoreService.onHeadsetControlBtnAction(l.R.REJECT_CALL,this.jabraHelperService.isHeadsetAction())}processHookFromSDK(){const{prevSignal:e,currSignal:t}=this.jabraHelperService.getStackSignals();if(e){if(e.type===w.k.FLASH&&this.jabraHelperService.checkIfOnHoldCallsExists())return;setTimeout(()=>{t.value?this.processAnswerCallFromSDK():this.handleHookSwitchWithFalseValue()},300)}else t.value&&this.processAnswerCallFromSDK()}handleHookSwitchWithFalseValue(){const e=this.jabraHelperService.checkIfOnHoldCallsExists(),t=this.jabraHelperService.checkIfActiveCallExists(),i=this.jabraHelperService.checkIfIncomingRingingExists(),n=this.jabraHelperService.checkIfOutgoingRingingExist();!t||e||i?(t||n)&&this.headsetCoreService.onHeadsetControlBtnAction(l.R.END_CALL,this.jabraHelperService.isHeadsetAction()):this.headsetCoreService.onHeadsetControlBtnAction(l.R.END_CALL,this.jabraHelperService.isHeadsetAction())}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.Y),a.LFG(D))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var L=i(35019);let M=(()=>{class e{constructor(e,t,i){this.jabraBaseService=e,this.jabraHelperService=t,this.apiAvEventStateService=i,this.isDynamicConferenceActive=!1,this.apiAvEventStateService.activeCallConferenceState$.pipe((0,R.U)(e=>!!e),(0,P.x)()).subscribe(e=>{this.isDynamicConferenceActive=e})}removeCallsSubscription(){var e;null===(e=this.callProgressSubscription)||void 0===e||e.unsubscribe()}initCallsSubscription(){this.jabraBaseService.initCallsListener(),this.removeCallsSubscription(),this.callProgressSubscription=this.jabraBaseService.jabraCallProgress$.subscribe(e=>{switch(e.type){case O.INCOMING_CALL:this.incomingCallSendToSDK(e.deviceLabel);break;case O.OUTGOING_CALL:this.outgoingCallSendToSDK();break;case O.START_CALL:this.startCallSendToSDK();break;case O.REJECT_CALL:case O.END_CALL:this.endCallSendToSDK();break;case O.HOLD_CALL:this.holdCallSendToSDK();break;case O.RESUME_CALL:this.resumeCallSendToSDK();break;case O.MUTE_CALL:this.muteCallSendToSDK();break;case O.UNMUTE_CALL:this.unMuteCallSendToSDK()}})}endCallSendToSDK(){const e=this.jabraHelperService.checkIfOnHoldCallsExists(),t=this.jabraHelperService.checkIfActiveCallExists(),i=this.jabraHelperService.checkIfIncomingRingingExists();this.isDynamicConferenceActive&&t?this.endCallToMakeDynamicConference():i?this.endCallWithIncomingRingingExist():e?this.endCallWithHoldCallExist():this.endCallAndCloseDeviceSubscription()}endCallWithIncomingRingingExist(){}endCallToMakeDynamicConference(){}outgoingCallSendToSDK(){}endCallWithHoldCallExist(){}incomingCallSendToSDK(e){}startCallSendToSDK(){}rejectCallSendToSDK(e){}holdCallSendToSDK(){}resumeCallSendToSDK(){}muteCallSendToSDK(){}unMuteCallSendToSDK(){}endCallAndCloseDeviceSubscription(){}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(N),a.LFG(D),a.LFG(L.a))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();var F=(()=>{return(e=F||(F={})).CHROMEHOST="https://developer.jabra.com/fileMedia/download",e.CHROME_EXTENSION="https://chrome.google.com/webstore/detail/jabra-sdk-version-4/kpmedpgagnidddimmioekjdhfllmdfia",F;var e})(),U=(()=>{return(e=U||(U={})).WINDOWS="0dbda019-542c-4998-b200-ace7c3d3d37c",e.MAC="82f6fbc3-a024-4db1-a7ab-bfc49fc42904",e.LINUX="b980b99a-9e87-42ed-b2eb-be21b1a45464",U;var e})(),H=i(29790),B=function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())})},$=(()=>{return(e=$||($={})).ExtensionTitle="headset.jabra_headset.extension_install_title",e.ExtensionInstallInfo="headset.jabra_headset.extension_install_info",e.DriverTitle="headset.jabra_headset.driver_update_title",e.DriverInstallInfo="headset.jabra_headset.driver_update_info",$;var e})();let j=(()=>{class e extends M{constructor(e,t,i,n,s,r){super(s,n,r),this.logger=e,this.dialog=t,this.translate=i,this.jabraHelperService=n,this.jabraBaseService=s,this.apiAvEventStateService=r,this.isDialogOpen=!1}initializeJabraSdk(){return B(this,void 0,void 0,function*(){if(this.jabraApi)return this.callControlFactory=new w.C(this.jabraApi),this.subscribeToDevicesList(),!0;try{return this.jabraApi=yield(0,w.v)(this.jabraHelperService.getJabraSdkConfigData()),this.callControlFactory=new w.C(this.jabraApi),this.subscribeToDevicesList(),!0}catch(e){return this.processJabraError(e),this.checkJabraHeadsetSoftwareMissingError(e),!1}})}destroy(e){var t;this.unsubscribeFromCallProgressSubscription(),this.unsubscribeFromDeviceSignals(),"LOGOUT"===e?this.callControlFactory=null:null===(t=this.deviceListSubscription)||void 0===t||t.unsubscribe()}openHeadsetDriverUpdateInfoModal(e,t,i="update"){if(this.isDialogOpen)return;this.isDialogOpen=!0;const n=this.dialog.open(I,{width:"56rem"});n.componentInstance.title=e,n.componentInstance.message=t,n.componentInstance.ok="headset."+i,n.componentInstance.cancel="headset.remind_me_later",n.afterClosed().subscribe(e=>{this.isDialogOpen=!1,e&&this.redirectUserToSoftwareUpdateLink(i)})}checkJabraHeadsetSoftwareMissingError(e){switch(e.message){case E.JabraChromeExtensionNotInstalled:this.translateModalInfoForExtension();break;case E.JabraChromeHostNotInstalled:this.translateModalInfoForDriver()}}incomingCallSendToSDK(){return B(this,void 0,void 0,function*(){try{(yield this.callControl.takeCallLock())&&(this.subscribeToDeviceSignals(),this.ring())}catch(e){const t=this.jabraHelperService.checkIfOnHoldCallsExists();!this.jabraHelperService.checkIfActiveCallExists()&&t&&this.ring()}})}outgoingCallSendToSDK(){return B(this,void 0,void 0,function*(){this.checkAndLockDeviceIfNotLocked().then(e=>B(this,void 0,void 0,function*(){var t;e&&(this.subscribeToDeviceSignals(),null===(t=this.callControl)||void 0===t||t.ring(!1),yield this.callControl.offHook(!0))}))})}startCallSendToSDK(){return B(this,void 0,void 0,function*(){this.checkAndLockDeviceIfNotLocked().then(e=>B(this,void 0,void 0,function*(){e&&(this.subscribeToDeviceSignals(),yield this.callControl.ring(!1),yield this.callControl.offHook(!0))}))})}rejectCallSendToSDK(e=0){return B(this,void 0,void 0,function*(){e?yield this.callControl.ring(!1):this.endCallAndCloseDeviceSubscription()})}endCallWithIncomingRingingExist(){return B(this,void 0,void 0,function*(){yield this.callControl.ring(!1),yield this.callControl.offHook(!1),yield this.callControl.hold(!1),this.ring()})}endCallToMakeDynamicConference(){return B(this,void 0,void 0,function*(){yield this.callControl.ring(!1),yield this.callControl.offHook(!1),yield this.callControl.hold(!1),yield this.callControl.offHook(!0)})}endCallWithHoldCallExist(){return B(this,void 0,void 0,function*(){yield this.callControl.ring(!1),this.holdCallSendToSDK()})}holdCallSendToSDK(){return B(this,void 0,void 0,function*(){yield this.callControl.offHook(!1),yield this.callControl.hold(!0)})}resumeCallSendToSDK(){return B(this,void 0,void 0,function*(){yield this.callControl.offHook(!0),yield this.callControl.hold(!1)})}muteCallSendToSDK(){return B(this,void 0,void 0,function*(){try{yield this.callControl.mute(!0)}catch(e){}})}unMuteCallSendToSDK(){return B(this,void 0,void 0,function*(){try{yield this.callControl.mute(!1)}catch(e){}})}endCallAndCloseDeviceSubscription(){var e;return B(this,void 0,void 0,function*(){try{yield this.callControl.ring(!1),yield this.callControl.offHook(!1),yield this.callControl.hold(!1),yield this.callControl.releaseCallLock(),null===(e=this.signalSubscription)||void 0===e||e.unsubscribe(),this.jabraHelperService.clearSignalStack()}catch(t){}})}redirectUserToSoftwareUpdateLink(e){switch(e){case T.JabraChromeExtensionInstall:window.open(F.CHROME_EXTENSION,"_blank");break;case T.JabraChromeHostInstall:window.open(this.getChromeHostUrl(),"_blank")}}getChromeHostUrl(){let e="";return navigator.userAgent.includes("Win")?e=U.WINDOWS:navigator.userAgent.includes("Mac")?e=U.MAC:navigator.userAgent.includes("Linux")&&(e=U.LINUX),`${F.CHROMEHOST}/${e}`}translateModalInfoForDriver(){this.translate.get([$.DriverTitle,$.DriverInstallInfo]).subscribe(e=>{this.openHeadsetDriverUpdateInfoModal(e[$.DriverTitle],e[$.DriverInstallInfo],"update")})}translateModalInfoForExtension(){this.translate.get([$.ExtensionTitle,$.ExtensionInstallInfo]).subscribe(e=>{this.openHeadsetDriverUpdateInfoModal(e[$.ExtensionTitle],e[$.ExtensionInstallInfo],"install")})}refreshCallControlStatusSendToSDK(){return B(this,void 0,void 0,function*(){yield this.callControl.takeCallLock(),yield this.callControl.ring(!1),yield this.callControl.offHook(!1),yield this.callControl.hold(!1),yield this.callControl.releaseCallLock()})}ring(){return B(this,void 0,void 0,function*(){yield this.callControl.ring(!0)})}processJabraError(e){e instanceof w.J&&(this.logger.error(e.message),this.logger.error(e.type))}checkAndLockDeviceIfNotLocked(){return B(this,void 0,void 0,function*(){return new Promise(e=>B(this,void 0,void 0,function*(){try{this.callControl.takeCallLock(),(yield this.callControl.takeCallLock())&&e(!0)}catch(t){t instanceof w.J&&t.type===w.E.SDK_USAGE_ERROR&&e(!0)}}))})}subscribeToDevicesList(){this.deviceListSubscription=this.jabraApi.deviceList.subscribe(e=>{const t=e.filter(e=>e.type!==w.s.DONGLE),i=t.length;if(i){if(1===i){const e=t[0];if(!this.callControlFactory||!this.callControlFactory.supportsCallControl(e))return;this.attachCallControlDevice(this.callControlFactory,e)}this.initCallsSubscription()}else this.unsubscribeFromDeviceSignals(),this.removeCallsSubscription()})}attachCallControlDevice(e,t){return B(this,void 0,void 0,function*(){this.callControl=yield e.createCallControl(t),this.refreshCallControlStatusSendToSDK()})}subscribeToDeviceSignals(){this.unsubscribeFromDeviceSignals(),this.signalSubscription=this.callControl.deviceSignals.subscribe(e=>{switch(this.jabraHelperService.updateActionTypeOrder(h.Yi.HEADSET),null==e?void 0:e.type){case w.k.HOOK_SWITCH:this.jabraHelperService.updateSignalStack(e),this.jabraBaseService.processHookFromSDK();break;case w.k.FLASH:this.jabraHelperService.updateSignalStack(e),this.jabraBaseService.processFlashFromSDK();break;case w.k.REJECT_CALL:this.jabraHelperService.updateSignalStack(e),this.jabraBaseService.processRejectFromSDK();break;case w.k.PHONE_MUTE:this.jabraBaseService.processMuteFromSDK();break;case w.k.LINE_BUSY:this.jabraHelperService.updateSignalStack(e)}})}unsubscribeFromCallProgressSubscription(){var e;null===(e=this.callProgressSubscription)||void 0===e||e.unsubscribe()}unsubscribeFromDeviceSignals(){var e;null===(e=this.signalSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(g.Kf),a.LFG(k.uw),a.LFG(H.sK),a.LFG(D),a.LFG(N),a.LFG(L.a))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var G=i(2562),V=function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())})};let q=(()=>{class e extends M{constructor(e,t,i){super(t,e,i),this.jabraHelperService=e,this.jabraBaseService=t,this.apiAvEventStateService=i,this.isOldApi=!1;const n=window;this.electronApi=n.nApi,this.isOldApi=!this.electronApi&&n.require}init(){this.electronApi.send("check-jabra-status",!0),this.electronApi.receive("jabra-status-request",e=>{e||this.electronApi.send("initJabra",!0)}),this.electronApi.receive("jabra-device-signals",e=>{this.subscribeToDeviceSignals(e.signal)}),this.initCallsSubscription()}destroy(e){this.removeCallsSubscription(),this.unsubscribeFromCallProgressSubscription(),this.electronApi.send("reset-jabra-sdk",e),this.removeDesktopAppEventListener()}unMuteCallSendToSDK(){return V(this,void 0,void 0,function*(){this.electronApi.send("jabra-calls-state",{type:"un-mute"})})}muteCallSendToSDK(){return V(this,void 0,void 0,function*(){this.electronApi.send("jabra-calls-state",{type:"mute"})})}endCallWithIncomingRingingExist(){this.electronApi.send("jabra-calls-state",{type:"end-call-with-incoming-ringing-exist"})}endCallToMakeDynamicConference(){this.electronApi.send("jabra-calls-state",{type:"end-call-to-make-dynamic-conference"})}endCallWithHoldCallExist(){this.electronApi.send("jabra-calls-state",{type:"stop-ring"}),this.holdCallSendToSDK()}resumeCallSendToSDK(){return V(this,void 0,void 0,function*(){this.electronApi.send("jabra-calls-state",{type:"resume"})})}holdCallSendToSDK(){return V(this,void 0,void 0,function*(){this.electronApi.send("jabra-calls-state",{type:"hold"})})}rejectCallSendToSDK(e=0){return V(this,void 0,void 0,function*(){e?this.electronApi.send("jabra-calls-state",{type:"stop-ring"}):this.endCallAndCloseDeviceSubscription()})}endCallAndCloseDeviceSubscription(){this.electronApi.send("jabra-calls-state",{type:"end-all-calls"}),this.jabraHelperService.clearSignalStack()}startCallSendToSDK(){return V(this,void 0,void 0,function*(){this.electronApi.send("jabra-calls-state",{type:"start-call"})})}incomingCallSendToSDK(e){return V(this,void 0,void 0,function*(){const t=this.jabraHelperService.checkIfOnHoldCallsExists(),i=this.jabraHelperService.checkIfActiveCallExists();this.electronApi.send("jabra-calls-state",{type:"ring",deviceLabel:e,isOnHoldCallsExists:t,isActiveCallExists:i})})}outgoingCallSendToSDK(){this.electronApi.send("jabra-calls-state",{type:"outgoing-call"})}subscribeToDeviceSignals(e){switch(this.jabraHelperService.updateActionTypeOrder(h.Yi.HEADSET),null==e?void 0:e.type){case w.k.HOOK_SWITCH:this.jabraHelperService.updateSignalStack(e),this.jabraBaseService.processHookFromSDK();break;case w.k.FLASH:this.jabraHelperService.updateSignalStack(e),this.jabraBaseService.processFlashFromSDK();break;case w.k.REJECT_CALL:this.jabraHelperService.updateSignalStack(e),this.jabraBaseService.processRejectFromSDK();break;case w.k.PHONE_MUTE:this.jabraBaseService.processMuteFromSDK();break;case w.k.LINE_BUSY:this.jabraHelperService.updateSignalStack(e)}}unsubscribeFromCallProgressSubscription(){var e;null===(e=this.callProgressSubscription)||void 0===e||e.unsubscribe()}removeDesktopAppEventListener(){["jabra-status-request","jabra-device-signals","jabra-calls-state","initJabra"].forEach(e=>{this.electronApi.removeListener(e)})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(D),a.LFG(N),a.LFG(L.a))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Y=function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())})},Z=(()=>{return(e=Z||(Z={})).WEB_OLD="web-old",e.WEB_NEW="web-new",e.DESKTOP="desktop",Z;var e})();let z=(()=>{class e{constructor(e,t,i,n,s,r){this.jabraService=e,this.jabraNewService=t,this.scriptService=i,this.electronService=n,this.headsetCoreService=s,this.jabraDesktopService=r,this.isJabraLoaded=!1,this.initializeJabraHeadset()}reInitJabraPluginOnDeviceAttachDetach(){this.jabraApi===Z.WEB_OLD&&this.jabraService.reInitJabraPluginOnDeviceAttachDetach()}init(){this.isJabraLoaded||(this.electronService.desktop?(this.jabraApi=Z.DESKTOP,this.jabraDesktopService.init(),this.isJabraLoaded=!0):this.initJabraWeb())}initJabraWeb(){return Y(this,void 0,void 0,function*(){(yield this.jabraNewService.initializeJabraSdk())?(this.jabraApi=Z.WEB_NEW,this.isJabraLoaded=!0):this.scriptService.loadScript("jabra").then(()=>Y(this,void 0,void 0,function*(){(yield this.jabraService.init())&&(this.jabraApi=Z.WEB_OLD,this.isJabraLoaded=!0)}))})}initializeJabraHeadset(){this.headsetCoreService.selectedHeadsetDevices$.subscribe(e=>{e.isJabraSelected?this.isJabraLoaded?this.jabraApi===Z.WEB_OLD&&this.jabraService.addJabraEventListeners():this.init():this.destroy(e.emitedFrom)})}destroy(e){switch(this.jabraApi){case Z.WEB_NEW:this.jabraNewService.destroy(e);break;case Z.WEB_OLD:this.jabraService.destroy();break;case Z.DESKTOP:this.jabraDesktopService.destroy(e)}this.isJabraLoaded=!1}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(_),a.LFG(j),a.LFG(G.Y),a.LFG(f.d),a.LFG(c.Y),a.LFG(q))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var K=i(11740);const W={eu:{frequency:425,duration:1e3,interval:3e3},gb:{frequency:425,duration:400,interval:2e3}};let J=(()=>{class e{constructor(e,t,i){this.logger=e,this.userService=t,this.callTrackerService=i,this.currentTone="eu",this.onStart=!1,this.tones=W,this.isRinging=!1,this.audioEl=new Audio,this.selectedAudioOutputDevice={deviceId:"",groupId:"",kind:"audiooutput",label:""},this.callTrackerService.endedCall$.pipe((0,o.h)(e=>!!e)).subscribe(()=>{this.stopRinging(),K.W.attachSinkId(this.audioEl,this.selectedAudioOutputDevice.deviceId,this.logger)}),this.callTrackerService.tryingCalls$.pipe((0,o.h)(e=>!!e.length),(0,P.x)()).subscribe(()=>{this.startRinging()}),this.callTrackerService.activeCall$.pipe((0,o.h)(e=>!!e)).subscribe(()=>{this.stopRinging(),K.W.attachSinkId(this.audioEl,this.selectedAudioOutputDevice.deviceId,this.logger)}),this.userService.userInfo$.pipe((0,o.h)(e=>!!(null==e?void 0:e.activePhoneExtension))).subscribe(e=>{this.init(e.activePhoneExtension.countryCode)}),this.createAudioContext()}updateRingbackToneDevice(e){this.ringbackToneAudioDevice=e,this.updateRingbackToneAudioDevice(this.ringbackToneAudioDevice)}addStreamTracks(e){setTimeout(()=>{const t=e.sessionDescriptionHandler.peerConnection,i=new MediaStream;t.getReceivers().forEach(e=>{const t=e.track;t&&i.addTrack(t)}),this.audioEl.srcObject=i,this.audioEl.play().catch(()=>{this.logger.error("Rejected while trying to play audio.")})},100)}updateRingbackToneAudioDevice(e){this.mediaDeviceInfo=e,this.attachAudioDevice()}startRinging(){this.isRinging||(this.isRinging=!0,this.play(!0))}init(e){this.setupByCountry(e),document.body.addEventListener("click",()=>{this.onStart||(this.onStart=!0,this.prepareRingingMelody())})}stopRinging(e=!1){const t=!!this.gain;this.isRinging=!1,this.rampToValue(1e-5),e&&t&&this.resetToDefaultSettings()}prepareRingingMelody(){var e,t,i;const n=null===(e=this.audioContext)||void 0===e?void 0:e.createMediaStreamDestination(),s=null===(t=this.audioContext)||void 0===t?void 0:t.createOscillator();this.gain=null===(i=this.audioContext)||void 0===i?void 0:i.createGain(),s&&(s.frequency.value=this.getToneConfiguration().frequency,s.connect(this.gain),this.gain.connect(n),this.playSilentTone(s,n))}stop(){const e=this.getToneConfiguration().duration;setTimeout(()=>{this.rampToValue(1e-5),this.isRinging&&this.play()},e)}play(e=!1){const t=this.getToneConfiguration().interval;setTimeout(()=>{this.isRinging&&(this.rampToValue(1),this.stop())},e?0:t)}getToneConfiguration(){return this.tones[this.currentTone]}attachAudioDevice(e=""){let t=e;if(!t){const e=this.mediaDeviceInfo;t=e?e.deviceId:""}K.W.attachSinkId(this.audioEl,t,this.logger)}playSilentTone(e,t){this.audioEl.volume=0,this.audioEl.srcObject=t.stream,this.audioEl.play(),this.attachAudioDevice(this.getAudioDestination()),e.start(0),this.rampToValue(1e-5),setTimeout(()=>{this.audioEl.volume=.25},500)}rampToValue(e){var t,i,n;const s=(null===(t=this.audioContext)||void 0===t?void 0:t.currentTime)+.1;this.gain||(this.onStart=!0,this.prepareRingingMelody()),null===(n=null===(i=this.gain)||void 0===i?void 0:i.gain)||void 0===n||n.exponentialRampToValueAtTime(e,s)}setupByCountry(e){this.currentTone="GB"===e?"gb":"eu"}getAudioDestination(){return this.mediaDeviceInfo?this.mediaDeviceInfo.deviceId:""}resetToDefaultSettings(){this.createAudioContext(),this.prepareRingingMelody()}createAudioContext(){this.audioContext=new(window.AudioContext||window.webkitAudioContext||window.mozAudioContext)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(g.Kf),a.LFG(y.K),a.LFG(C.k))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Q=function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())})},X=(()=>{return(e=X||(X={})).AUDIO_INPUT="audioinput",e.AUDIO_OUTPUT="audiooutput",e.RINGER_OUTPUT="ringeroutput",e.VIDEO_INPUT="videoinput",X;var e})();let ee=(()=>{class e{constructor(e,t,i,s,r,a,c,l,u,h){this.headsetCoreService=e,this.jabraService=t,this.sennheiserService=i,this.sipService=s,this.userService=r,this.audioPermissionService=a,this.logger=c,this.callTrackerService=l,this.jabraApiVersionDetectorService=u,this.ringbackToneService=h,this.deviceListSource=new n.X([]),this.audioInputDevicesSource=new n.X([]),this.audioOutputDevicesSource=new n.X([]),this.videoInputDevicesSource=new n.X([]),this.activeCameraSource=new n.X(null),this.userExtension="guest",this.deviceList$=this.deviceListSource.asObservable(),this.audioInputDevices$=this.audioInputDevicesSource.asObservable(),this.audioOutputDevices$=this.audioOutputDevicesSource.asObservable(),this.videoInputDevices$=this.videoInputDevicesSource.asObservable(),this.activeCamera$=this.activeCameraSource.asObservable(),this.userService.userInfo$.pipe((0,o.h)(e=>!!(null==e?void 0:e.activePhoneExtension))).subscribe(e=>{this.userExtension=e.activePhoneExtension.extensionNumber,this.updateDeviceList()}),this.updateDeviceList(),navigator&&navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=()=>{this.updateDeviceList()}),this.callTrackerService.incomingCalls$.subscribe(e=>{e.length&&(this.incomingCallerId=e[0].callItem.callId)}),this.sipService.outgoingCallStarted$.subscribe(e=>{e&&(this.incomingCallerId=e.callId)}),this.sennheiserService.toggleSennheiserSDK()}memoriseSelectedMediaDevice(e){this.saveMediaDevice(e.inputDevice),this.saveMediaDevice(e.outputDevice),this.saveMediaDevice(e.ringerMelodyOutputDevice,X.RINGER_OUTPUT),this.saveMediaDevice(e.videoDevice)}updateDeviceList(){return Q(this,void 0,void 0,function*(){const e=yield navigator.mediaDevices.enumerateDevices(),t=e.filter(e=>"audioinput"===e.kind&&"communications"!==e.deviceId),i=e.filter(e=>"audiooutput"===e.kind&&"communications"!==e.deviceId),n=e.filter(e=>"videoinput"===e.kind);this.sortDevicesDueToMemorisedList(t,i,n),this.audioInputDevicesSource.next(t),this.audioOutputDevicesSource.next(i),this.videoInputDevicesSource.next(n),this.deviceListSource.next(e),this.updateRingBackToneDevice(),this.setActiveCamera(this.loadStoredVideoInputDevice()),this.applyStoredVolume()})}getActiveCamera(){return this.activeCameraSource.getValue()}setActiveCamera(e){this.activeCameraSource.next(e)}loadStoredAudioInputDevice(){return this.loadStoredMediaDevice(X.AUDIO_INPUT,this.audioInputDevicesSource.getValue())}loadStoredAudioOutputDevice(){return this.loadStoredMediaDevice(X.AUDIO_OUTPUT,this.audioOutputDevicesSource.getValue())}loadStoredRingerOutputDevice(){return this.loadStoredMediaDevice(X.RINGER_OUTPUT,this.audioOutputDevicesSource.getValue())}loadStoredVideoInputDevice(){return this.loadStoredMediaDevice(X.VIDEO_INPUT,this.videoInputDevicesSource.getValue())}updateRingBackToneDevice(){const t=this.loadStoredAudioOutputDevice();e.ringbackToneAudioDevice=t,this.ringbackToneService.updateRingbackToneDevice(t)}checkAudioPermission(){return Q(this,void 0,void 0,function*(){let e=!1,t=!1;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){try{(yield navigator.mediaDevices.getUserMedia({audio:!0,video:!1})).getTracks().forEach(e=>e.stop()),t=!0,e=!0,this.audioPermissionService.setAudioPermission(!0)}catch(i){e="NotAllowedError"===i.name,e&&this.audioPermissionService.setAudioPermission(!1)}yield this.updateDeviceList()}return{isSupported:e,hasPermission:t}})}changeAudioInputOutputSource(e,t){e&&this.changeAudioInput(e),t&&this.changeAudioOutput(t)}getVideoDeviceByDeviceId(e){return this.videoInputDevicesSource.getValue().find(t=>t.deviceId===e)}hasSpeakers(){return this.audioOutputDevicesSource.getValue().length>0}checkPlantronicsHeadsetSelectedAsAudioOutput(){const e=[this.loadStoredAudioOutputDevice()];return this.headsetCoreService.isHeadsetExist(e,r.p.PLANTRONICS)||this.headsetCoreService.isHeadsetExist(e,r.p.POLY)}applyStoredVolume(){const e=document.querySelector("#remote-video video"),t=s.Q.getCached("audioOutputVolumes-"+this.userExtension,[]),i=this.loadStoredAudioOutputDevice().label,n=null==t?void 0:t.find(e=>e.label===i);e&&n&&(e.volume=n.value)}getDefaultDevice(e,t,i){if(t){const n=e.find(e=>e.deviceId===t.deviceId);if(n)return{device:n,fromCache:"default"!==n.deviceId};const r=e.find(e=>e.label===t.label);if(r)return s.Q.store(i+this.userExtension,r,!1),{device:r,fromCache:!0}}const n=this.deviceListSource.getValue().filter(e=>"default"===e.deviceId).map(e=>e.groupId),r=e.find(e=>n.includes(e.groupId));return r?{device:r,fromCache:!1}:{device:e.length>0?e[0]:null,fromCache:!1}}watchJabraDeviceChange(e){this.selectedInputDevice&&this.headsetCoreService.isHeadsetExist([e],r.p.JABRA)&&e.deviceId!==this.selectedInputDevice.deviceId&&this.jabraService.getAttachedDevices().then(e=>{}),this.selectedInputDevice=e}getMemorisedDevicesList(e){const t=this.getStorageName(e);return JSON.parse(localStorage.getItem(t)||"[]")}updateMemorisedDeviceList(e,t){const i=this.getStorageName(e);localStorage.setItem(i,JSON.stringify(t))}removeDuplicatesFormMemorisedDevices(e){return e.filter((e,t,i)=>t===i.findIndex(t=>t.deviceId===e.deviceId))}getStorageName(e){return`${e}-memorised-${this.userExtension}`}generateMediaDevicesIds(e){return e.map(e=>e.deviceId)}generateMediaDevicesLabels(e){return e.map(e=>e.label)}loadStoredMediaDevice(e,t=[]){let i;if(this.getMemorisedDevicesList(e).length){this.sortDevicesList(t,e);const n=t.map(t=>t[e]),s=Math.min(...n);i=t.filter(t=>t[e]===s)[0]}return i||(i=t.filter(e=>"default"===e.deviceId)[0],i||(i=t[0])),this.initHiddenDeviceLogger(i,e),i}sortDevicesDueToMemorisedList(e,t,i){const n=this.getMemorisedDevicesList(X.AUDIO_INPUT),s=this.getMemorisedDevicesList(X.AUDIO_OUTPUT),r=this.getMemorisedDevicesList(X.RINGER_OUTPUT),o=this.getMemorisedDevicesList(X.VIDEO_INPUT);n.length&&this.sortDevicesList(e,X.AUDIO_INPUT),s.length&&this.sortDevicesList(t,X.AUDIO_OUTPUT),r.length&&this.sortDevicesList(t,X.RINGER_OUTPUT),o.length&&this.sortDevicesList(i,X.VIDEO_INPUT)}sortDevicesList(e,t){e.forEach(e=>{delete e[t]});const i=this.getMemorisedDevicesList(t),n=this.generateMediaDevicesIds(e),s=this.generateMediaDevicesLabels(e);this.initHiddenLogger(i,e,t),i.forEach((i,r)=>{if("default"===i.deviceId){const n=i.label;e.forEach(e=>{const i=e.label;(n.includes(i)||i.includes(n))&&(e.hasOwnProperty(t)||(e[t]=r+1))})}else{const o=Math.max(n.indexOf(i.deviceId),s.indexOf(i.label)),a=e[o];a&&!a.hasOwnProperty(t)&&o>-1&&(a[t]=r+1)}}),e.forEach((e,i)=>{e[t]||(e[t]=1e3+i)})}saveMediaDevice(e,t){if(e){const i=t||e.kind;let n;n=this.getMemorisedDevicesList(i),n.unshift(e),n=this.removeDuplicatesFormMemorisedDevices(n),n.length>5&&(n.length=5),this.updateMemorisedDeviceList(i,n)}}changeAudioOutput(e){this.ringbackToneService.selectedAudioOutputDevice=e}changeAudioInput(e){this.sipService.selectedAudioInputDevice.label!==e.label&&(this.sipService.selectedAudioInputDevice=e,this.incomingCallerId&&this.sipService.changeAudioInput(this.incomingCallerId,this.sipService.activeMuted))}initHiddenLogger(e,t,i){localStorage.getItem("memorised-hidden-logger-input")&&i===X.AUDIO_INPUT&&this.logDevicesList(e,t,i),localStorage.getItem("memorised-hidden-logger-output")&&i===X.AUDIO_OUTPUT&&this.logDevicesList(e,t,i),localStorage.getItem("memorised-hidden-logger-video")&&i===X.VIDEO_INPUT&&this.logDevicesList(e,t,i),localStorage.getItem("memorised-hidden-logger-ringer")&&i===X.RINGER_OUTPUT&&this.logDevicesList(e,t,i)}logDevicesList(e,t,i){this.logger.info(`===== Memorised devices list ==== ${i}`),this.logger.info(JSON.stringify(e)),this.logger.info(`===== Actual devices list ==== ${i}`),this.logger.info(JSON.stringify(t))}initHiddenDeviceLogger(e,t){localStorage.getItem("hidden-logger-input-device")&&t===X.AUDIO_INPUT&&this.logSelectedDevice(e,t),localStorage.getItem("hidden-logger-output-device")&&t===X.AUDIO_OUTPUT&&this.logSelectedDevice(e,t),localStorage.getItem("hidden-logger-video-device")&&t===X.VIDEO_INPUT&&this.logSelectedDevice(e,t),localStorage.getItem("hidden-logger-ringer-revice")&&t===X.RINGER_OUTPUT&&this.logSelectedDevice(e,t)}logSelectedDevice(e,t){this.logger.info(`=====Selected Device ==== ${t}`),this.logger.info(JSON.stringify(e))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.Y),a.LFG(_),a.LFG(v.F),a.LFG(b.y),a.LFG(y.K),a.LFG(S.W),a.LFG(g.Kf),a.LFG(C.k),a.LFG(z),a.LFG(J))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},86970:function(e,t,i){"use strict";i.d(t,{l:function(){return r}});var n=i(79765),s=i(37716);let r=(()=>{class e{constructor(){this.callForwardingProfilesSource=new n.xQ,this.activeCallForwardingProfileChangeSource=new n.xQ,this.dndStateChangeSource=new n.xQ,this.ringtoneStateChangeSource=new n.xQ,this.hotkeyPressedSource=new n.xQ,this.callForwardingProfiles$=this.callForwardingProfilesSource.asObservable(),this.activeCallForwardingProfileChange$=this.activeCallForwardingProfileChangeSource.asObservable(),this.dndStateChange$=this.dndStateChangeSource.asObservable(),this.ringtoneStateChange$=this.ringtoneStateChangeSource.asObservable(),this.hotkeyPressed$=this.hotkeyPressedSource.asObservable()}updateCFList(e){this.callForwardingProfilesSource.next(e)}onCFProfileSelected(e){this.activeCallForwardingProfileChangeSource.next(e)}toggleDnd(){this.dndStateChangeSource.next()}toggleRingtone(){this.ringtoneStateChangeSource.next()}notifyUser(e){this.hotkeyPressedSource.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},68513:function(e,t,i){"use strict";i.d(t,{t:function(){return p}});var n=i(37716),s=i(45832),r=i(725),o=i(86900),a=i(86970),c=i(76916),l=i(52690),u=i(57158),h=i(8307);const d=new Map([["1","#808080"],["2","#f00"],["3","#f93"],["4","#ff0"],["5","#cc3"],["6","#330"],["7","#9f0"],["8","#390"],["9","#099"],["10","#6cf"],["11","#03f"],["12","#60f"],["13","#c9f"],["14","#c0c"],["15","#603"],["16","#c69"]]);let p=(()=>{class e{constructor(e,t,i,n,s,r,o,a){this.snackBarService=e,this.electronService=t,this.callForwardingService=i,this.electronFixSnackBarService=n,this.headerButtonService=s,this.callFunctionKeyService=r,this.logger=o,this.router=a}prepareCFColors(e){return[...e].map(e=>{const t=e.color_index;if("number"==typeof t){const i=this.getColor(t);i&&(e.color=this.getImageDataUrl(i))}return e})}removeProfileFromList(e,t){return e.filter(e=>(null==e?void 0:e.id.toString())!==t)}isProfilesListChanged(e,t){const i=this.generateIdsArray(e),n=this.generateIdsArray(t);return JSON.stringify(i)!==JSON.stringify(n)}initObservables(){if(this.electronService.isOldApi)this.electronService.ipcRenderer.on("dnd-status-changed",e=>{this.toggleDnd()}),this.electronService.ipcRenderer.on("ringtone-status-changed",e=>{this.toggleRingtone()}),this.electronService.ipcRenderer.on("call-pull",e=>{this.headerButtonService.handover()}),this.electronService.ipcRenderer.on("set-audio-device",e=>{this.headerButtonService.openDeviceSettingsDialog(!1)}),this.electronService.ipcRenderer.on("cf-profile-selected",(e,t)=>{this.activeProfileChanged(t)}),this.electronService.ipcRenderer.on("call-favourites",e=>{this.callFunctionKeyService.callFunctionKey(e)}),this.electronService.ipcRenderer.on("open-call-forwarding-profiles",()=>{this.goToCallForwarding()}),this.electronService.ipcRenderer.on("open-function-keys",()=>{this.goToFunctionKeys()});else if(this.electronService.electronApi)try{this.electronService.electronApi.receive("dnd-status-changed",()=>{this.toggleDnd()}),this.electronService.electronApi.receive("ringtone-status-changed",()=>{this.toggleRingtone()}),this.electronService.electronApi.receive("call-pull",()=>{this.headerButtonService.handover()}),this.electronService.electronApi.receive("set-audio-device",()=>{this.headerButtonService.openDeviceSettingsDialog(!1)}),this.electronService.electronApi.receive("cf-profile-selected",e=>{this.activeProfileChanged(e)}),this.electronService.electronApi.receive("call-favourites",e=>{this.callFunctionKeyService.callFunctionKey(e)}),this.electronService.electronApi.receive("open-call-forwarding-profiles",()=>{this.goToCallForwarding()}),this.electronService.electronApi.receive("open-function-keys",()=>{this.goToFunctionKeys()})}catch(e){this.logger.error("Something went wrong:",e)}}setActiveProfile(e,t){const i=e.filter(e=>e.id===t)[0];i&&(this.snackBarService.open("settings.profiles.activating"),this.callForwardingService.activateProfile(i).subscribe(e=>{i.update(e),this.snackBarService.openInfo("settings.profiles.activated",!0)}))}switchRingtone(){this.headerButtonService.toggleRinger()}swithcDnd(){this.headerButtonService.toggleDnd()}activeProfileChanged(e){this.electronFixSnackBarService.onCFProfileSelected(e)}toggleDnd(){this.electronFixSnackBarService.toggleDnd()}toggleRingtone(){this.electronFixSnackBarService.toggleRingtone()}generateIdsArray(e){return e.map(e=>e.id&&1*e.id||0).sort((e,t)=>e-t)}getColor(e){return d.get(e.toString())||""}getImageDataUrl(e){const t=document.createElement("canvas"),i=t.getContext("2d");return t.width=14,t.height=14,i&&(i.beginPath(),i.arc(7,7,7,0,2*Math.PI,!1),i.fillStyle=e,i.fill()),t.toDataURL()}goToCallForwarding(){this.router.navigate(["/main/settings/call-forwarding"])}goToFunctionKeys(){this.router.navigate(["/main/settings/function-keys"])}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.c),n.LFG(r.d),n.LFG(o.V),n.LFG(a.l),n.LFG(c.d),n.LFG(l.b),n.LFG(u.Kf),n.LFG(h.F0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},16015:function(e,t,i){"use strict";i.d(t,{b:function(){return u}});var n=i(17490),s=i(97574),r=i(7208),o=i(44566),a=i(37716),c=i(64531),l=i(98613);let u=(()=>{class e{constructor(e,t){this.busyLampFieldService=e,this.incomingCallHelperService=t}getCallForwardingInfo(e){return e?`${e.type} : ${e.name}`:""}generateTranslationsArray(){return s.$.enumToArray(o.c).map(e=>`rich_call_notification.${e}`)}removeTranslationPrefix(e){return Object.keys(e).forEach(t=>{const i=t.split(".")[1];Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(e,t)),delete e[t]}),e}mapCallForwardingSearchResultItem(e){const t=e.nameAbbreviation||"",i=this.incomingCallHelperService.getCallForwardingTargetName(e);let s=this.incomingCallHelperService.getCallForwardingTargetPhone(e),o=r.x.NOT_REGISTERED;return"type"in e&&"memberCount"in e&&"number"in e&&"string"==typeof e.number&&e.type===n.v.CONFERENCESERVICE?(o=e.memberCount?r.x.IDLE:r.x.NOT_REGISTERED,s=e.number):("extensionNumber"in e||"displayNumber"in e)&&(o=this.busyLampFieldService.getBusyLampFieldState(e.extensionNumber||e.displayNumber||-1)),{displayName:i,displayNumber:s,presenceState:o,nameAbbreviation:t}}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.H),a.LFG(l.D))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},34280:function(e,t,i){"use strict";i.d(t,{I:function(){return f}});var n=i(99385),s=i(79765),r=i(28049),o=i(88002),a=i(44566),c=i(37716),l=i(725),u=i(29790),h=i(99445),d=i(98613),p=i(16015);let f=(()=>{class e{constructor(e,t,i,n,r){this.electronService=e,this.translateService=t,this.callTrackerService=i,this.incomingCallHelperService=n,this.electronRichCallNotificationHelperService=r,this.translationsKeys=[],this.ngUnsubscribe=new s.xQ,this.crmConnectSearchResult=null,this.electronService.desktop&&(this.translationsKeys=this.electronRichCallNotificationHelperService.generateTranslationsArray(),this.attachEventsListeners(),this.listenCallEvents())}isRichCallNotificationsSupported(){const e=this.electronService.appVersion;return this.isDesktopApp()&&(e.major>1||1===e.major&&e.minor>5||1===e.major&&e.minor>=5&&e.patch>=2)}focusDesktopAppWindowOnNotification(){this.electronService.isOldApi?this.electronService.ipcRenderer.send("focus-desktop-app",!0):this.electronService.electronApi&&this.electronService.electronApi.send("focus-desktop-app",!0)}showNotification(e,t,i){this.translateService.get(this.translationsKeys).subscribe(s=>{const r={translationsKeys:this.electronRichCallNotificationHelperService.removeTranslationPrefix(s),call:Object.assign(Object.assign({},e),{avatar:(0,n.Cx)(e.name)}),callForwardingInfo:this.electronRichCallNotificationHelperService.getCallForwardingInfo(i),isCrm:t};this.openNotification(r)})}updateNotification(e){const t="crm-data-updated";this.crmConnectSearchResult=e.crmConnectSearchResult;const i={callId:e.callId,name:e.name,crmConnectSearchResult:this.mapCrmConnectObjects(e.crmConnectSearchResult)};this.electronService.isOldApi?this.electronService.ipcRenderer.send(t,i):this.electronService.electronApi.send(t,i)}isDesktopApp(){return this.electronService.desktop}hideNotification(e){const t="hide-call-notification";this.electronService.isOldApi?this.electronService.ipcRenderer.send(t,e):this.electronService.electronApi.send(t,e)}mapCrmConnectObjects(e){return e?e.map(e=>({crmId:e.crmId,crmConnectName:e.crmConnectName,nameFromResultArray:e.results[0].name})):[]}openNotification(e){const t="show-call-notification";this.electronService.isOldApi?this.electronService.ipcRenderer.send(t,e):this.electronService.electronApi.send(t,e)}attachEventsListeners(){this.initNotificationListener(),this.initCFSearchListener(),this.initForwardCallListener(),this.initCrmSelect()}initCrmSelect(){const e="open-crm-contact";this.electronService.isOldApi?this.electronService.ipcRenderer.on(e,(e,t)=>{this.onCrmSelectContact(t)}):this.electronService.electronApi&&this.electronService.electronApi.receive(e,e=>{this.onCrmSelectContact(e)})}initNotificationListener(){const e="receive-notification-callback-action";this.electronService.isOldApi?this.electronService.ipcRenderer.on(e,(e,t)=>{this.onNotificationAction(t)}):this.electronService.electronApi&&this.electronService.electronApi.receive(e,e=>{this.onNotificationAction(e)})}initCFSearchListener(){const e="cf-search-request";this.electronService.isOldApi?this.electronService.ipcRenderer.on(e,(e,t)=>{this.search(t)}):this.electronService.electronApi&&this.electronService.electronApi.receive(e,e=>{this.search(e)})}initForwardCallListener(){const e="forward-call";this.electronService.isOldApi?this.electronService.ipcRenderer.on(e,(e,{phoneNumber:t,callId:i})=>{this.forwardCall(t,i)}):this.electronService.electronApi&&this.electronService.electronApi.receive(e,({phoneNumber:e,callId:t})=>{this.forwardCall(e,t)})}search({value:e,callId:t}){this.incomingCallHelperService.retrieveCallForwardingTargets(e).pipe((0,r.P)(),(0,o.U)(e=>e.map(e=>this.electronRichCallNotificationHelperService.mapCallForwardingSearchResultItem(e)))).subscribe(e=>{this.shareSearchResult(e,t)})}shareSearchResult(e,t){const i="cf-search-response",n={items:e,callId:t};this.electronService.isOldApi?this.electronService.ipcRenderer.send(i,n):this.electronService.electronApi.send(i,n)}listenCallEvents(){this.callTrackerService.callStarted$.subscribe(e=>{e&&this.hideNotification(e.callId)}),this.callTrackerService.endedCall$.subscribe(e=>{e&&this.hideNotification(e.callId)})}forwardCall(e,t){this.callTrackerService.redirectIncomingCall(t,e)}unsubscribeFromCallEvents(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onNotificationAction({type:e,callId:t}){switch(e){case a.k.ACCEPT:this.callTrackerService.answerCall(t);break;case a.k.TERMINATE:this.callTrackerService.terminateCall(t);break;case a.k.VOICEMAIL:this.callTrackerService.redirectIncomingCall(t)}}getCrmConnectResultById(e){if(this.crmConnectSearchResult)return this.crmConnectSearchResult.find(t=>t.crmId===e)}onCrmSelectContact(e){const t=this.getCrmConnectResultById(e.crmId);t&&this.incomingCallHelperService.openContact(t)}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(l.d),c.LFG(u.sK),c.LFG(h.k),c.LFG(d.D),c.LFG(p.b))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e})()},725:function(e,t,i){"use strict";i.d(t,{d:function(){return p}});var n=i(79765),s=i(94402),r=i(45435),o=(()=>{return(e=o||(o={})).GET_APP_VERSION="get-app-version",e.REQUEST_APP_VERSION="request-app-version",e.GET_CRM_CONNECT_INTEGRATOR_INFO="get-crm-connect-integrator-info",e.CRM_CONNECT_INTEGRATOR_INFO="crm-connect-integrator-info",e.START_CRM_CONNECT_INTEGRATOR_PROCESS_LOADED="start-crm-connect-integrator-process-loaded",e.START_CRM_CONNECT_INTEGRATOR="start-crm-connect-integrator",e.KILL_CRM_CONNECT_INTEGRATOR="kill-crm-connect-integrator",e.JABRA_REQUEST_ACTIVATE_CALL="jabra-request-activate-call",e.JABRA_REQUEST="jabra-request",e.INIT_JABRA="initJabra",e.CHECK_JABRA_STATUS="check-jabra-status",e.JABRA_STATUS_REQUEST="jabra-status-request",e.JABRA_REFRESH_STATUS="jabra-refresh-status",e.JABRA_SEND_REQUEST="jabra-send-request",e.UPDATE_BADGE="update-badge",e.DEEP_LINK="deeplink",e.CHECK_PERMISSION="check-permission",e.CHECK_ONE_PERMISSION="{permission}-permission",e.CLOSE_DESKTOP_APP="close-desktop-app",e.ONLINE_STATUS_CHANGED="online-status-changed",e.REQUEST_MISSED_CALLS_AMOUNT="request-missed-calls-amount",o;var e})(),a=(()=>{return(e=a||(a={})).MICROPHONE="microphone",e.CAMERA="camera",e.SCREEN="screen",a;var e})(),c=i(37716),l=i(57158),u=i(81836),h=i(67267),d=i(92937);let p=(()=>{class e{constructor(e,t,i,s,o){this.logger=e,this.sipService=t,this.meetingService=i,this.ngZone=s,this.tokenService=o,this.onDesktopAppMicrophonePermissionChangeSource=new n.xQ,this.crmConnectIntegratorInfoSource=new n.xQ,this.isIntegratorProcessLoadedSource=new n.xQ,this.requestTotalAmountMissedNotificationsSource=new n.xQ,this.isOldApi=!1,this.desktop=!1,this.onDesktopAppMicrophonePermissionChange$=this.onDesktopAppMicrophonePermissionChangeSource.asObservable(),this.crmConnectIntegratorInfo$=this.crmConnectIntegratorInfoSource.asObservable(),this.isIntegratorProcessLoaded$=this.isIntegratorProcessLoadedSource.asObservable(),this.requestTotalAmountMissedNotifications$=this.requestTotalAmountMissedNotificationsSource.asObservable();const a=window;if(this.electronApi=a.nApi,this.isOldApi=!this.electronApi&&a.require,this.isOldApi){this.electron=a.require("electron"),this.ipcRenderer=this.electron.ipcRenderer;const e=this.electron.remote.app.getVersion();this.setVersion(e),this.desktop=!0}else if(this.electronApi)try{this.getAppVersion().subscribe(e=>{this.setVersion(e)}),this.desktop=!0}catch(c){this.logger.debug("Failed to get desktop app version",c)}this.desktop&&(this.getDeeplink(),this.tokenService.token$.pipe((0,r.h)(e=>!e)).subscribe(()=>this.onAppLogout()),this.requestForTotalAmountMissedNotifications()),(this.isOldApi||this.electronApi)&&(this.unregisterSipOnCloseDesktopApp(),this.sipService.onSipTransportError$.subscribe(()=>this.onlineStatusChanged()))}checkDesktopMicrophonePermission(){this.desktop&&this.checkPermission(a.MICROPHONE)}getAppVersion(){const e=o.GET_APP_VERSION;return this.loadAppVersion(),(0,s.D)(new Promise(t=>{this.isOldApi?(this.ipcRenderer.removeAllListeners(e),this.ipcRenderer.on(e,(e,i)=>t(i))):this.electronApi&&this.electronApi.receive(e,e=>t(e))}))}loadAppVersion(){this.senderEvent(o.REQUEST_APP_VERSION)}getCrmConnectIntegratorInfo(){this.senderEvent(o.GET_CRM_CONNECT_INTEGRATOR_INFO,!0),this.startWaitingCrmConnectIntegratorInfo()}startWaitingCrmConnectIntegratorInfo(){this.receiverEvent(o.CRM_CONNECT_INTEGRATOR_INFO,e=>this.crmConnectIntegratorInfoSource.next(e))}startWaitingCrmConnectEvent(){this.receiverEvent(o.START_CRM_CONNECT_INTEGRATOR_PROCESS_LOADED,e=>this.isIntegratorProcessLoadedSource.next(e))}startCrmConnectIntegrator(e){this.senderEvent(o.START_CRM_CONNECT_INTEGRATOR,e)}killCrmConnectIntegratorProcess(){this.senderEvent(o.KILL_CRM_CONNECT_INTEGRATOR,!0)}openExternalUrl(e){this.isOldApi?this.electron.shell.openExternal(e,{active:!0}):this.electronApi&&this.electronApi.shell.openExternal(e,{active:!0})}requestForIncomingCall(e){this.senderEvent(o.JABRA_REQUEST_ACTIVATE_CALL,e)}requestJabra(e){this.senderEvent(o.JABRA_REQUEST,e.toLowerCase())}reInitPluginOnDeviceAttachDetach(){this.senderEvent(o.INIT_JABRA,!0)}initDesktopJabraApi(e){this.senderEvent(o.CHECK_JABRA_STATUS,!0),this.startWaitingInitDesktopJabraApi(e)}startWaitingInitDesktopJabraApi(e){this.receiverEvent(o.JABRA_STATUS_REQUEST,t=>{this.startWaitingRequestDesktopJabraApi(e),t?this.refreshStatusInitDesktopJabraApi():this.reInitPluginOnDeviceAttachDetach()})}refreshStatusInitDesktopJabraApi(){this.senderEvent(o.JABRA_REFRESH_STATUS,!0)}startWaitingRequestDesktopJabraApi(e){this.receiverEvent(o.JABRA_SEND_REQUEST,t=>e(t))}isDesktopAppAndIsActive(){return this.desktop&&document.hasFocus()}onAppLogout(){this.updateDockInfoBadge(0)}updateDockInfoBadge(e){this.senderEvent(o.UPDATE_BADGE,e)}setVersion(e){const[t,i,n]=e.split(".").map(e=>parseInt(e,10));return this.appVersion={version:e,major:t,minor:i,patch:n}}checkPermission(e){this.callEvent(e,t=>{setTimeout(()=>{e===a.MICROPHONE?setTimeout(()=>{this.onDesktopAppMicrophonePermissionChangeSource.next("denied"===t),this.checkPermission(a.CAMERA)},500):e===a.CAMERA&&(this.checkPermission(a.SCREEN),setTimeout(()=>{this.isOldApi?this.electron.desktopCapturer.getSources({types:["screen","window"]}):this.electronApi&&this.electronApi.desktopCapturer.getSources({types:["screen","window"]})},500))},500)})}getDeeplink(){this.receiverEvent(o.DEEP_LINK,e=>this.handleDeeplink(e))}handleDeeplink(e){const t=e.replace("cloudya://",""),[i,n]=t.split("/");"meeting"===i&&n&&this.ngZone.run(()=>{this.meetingService.handleMeetingId(n)})}callEvent(e,t,i=!1){this.senderEvent(o.CHECK_PERMISSION,e),this.startWaitingCallEvent(e,t,i)}startWaitingCallEvent(e,t,i){const n=o.CHECK_ONE_PERMISSION.replace("{permission}",e);this.receiverEvent(n,e=>setTimeout(()=>t(e),i?500:0))}unregisterSipOnCloseDesktopApp(){this.receiverEvent(o.CLOSE_DESKTOP_APP,()=>this.sipService.unregister())}onlineStatusChanged(){this.senderEvent(o.ONLINE_STATUS_CHANGED,"offline")}requestForTotalAmountMissedNotifications(){this.receiverEvent(o.REQUEST_MISSED_CALLS_AMOUNT,()=>this.requestTotalAmountMissedNotificationsSource.next(!0))}senderEvent(e,t){this.isOldApi?this.ipcRenderer.send(e,t):this.electronApi&&this.electronApi.send(e,t)}receiverEvent(e,t){this.isOldApi?(this.ipcRenderer.removeAllListeners(e),this.ipcRenderer.on(e,(e,i)=>t(i))):this.electronApi&&this.electronApi.receive(e,e=>t(e))}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(l.Kf),c.LFG(u.y),c.LFG(h.D),c.LFG(c.R0b),c.LFG(d.B))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},9941:function(e,t,i){"use strict";i.d(t,{X:function(){return d}});var n=i(25917),s=i(88002),r=i(99385);class o{fromJSON(e){this.id=e.ID,this.displayName=e.DISPLAY_NAME,e.serviceExtensionNumber&&(this.extensionNumber=e.serviceExtensionNumber)}}class a{fromJSON(e){this.id=e.ID,this.displayName=e.DISPLAY_NAME,this.extensionNumber=e.EXTENSION_NUMBER}}var c=i(88044),l=i(39485),u=i(37716),h=i(91841);let d=(()=>{class e{constructor(e){this.http=e}getPhone(t="",i=0,n=25){const o=(0,r.U8)(t,i,n);return this.http.get(`${this.apiEndpointExtensionsPhone}?${o}`).pipe((0,s.U)(e.mapResponseWithMultiplePhoneItems))}getCallItemResult(e="",t=0,i=25,s){switch(s){case c.V.EXTENSION:return this.getPhone(e,t,i);case c.V.GROUP:return this.getGroups(e,t,i);default:return(0,n.of)([])}}getGroups(t="",i=0,n=25){const o=(0,r.U8)((0,r.Ie)(t),i,n);return this.http.get(`${this.apiEndpointExtensionsGroup}?${o}`).pipe((0,s.U)(e.mapResponseWithMultipleGroupItems))}getOneById(t){return this.http.get(`${this.apiEndpointExtensions}/${t}`).pipe((0,s.U)(e.mapToPhone))}static mapToPhone(e){const t=new a;return t.fromJSON(e),t}static mapToGroup(e){const t=new o;return t.fromJSON(e),t}static mapResponseWithMultipleGroupItems(t){return t&&(t=t.map(e.mapToGroup)),t}static mapResponseWithMultiplePhoneItems(t){return t&&(t=t.map(e.mapToPhone)),t}get apiEndpointExtensions(){return`${l.N.API_URL}/extensions`}get apiEndpointExtensionsPhone(){return`${l.N.API_URL}/extensions/phone`}get apiEndpointExtensionsGroup(){return`${l.N.API_URL}/extensions/group`}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(h.eN))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7175:function(e,t,i){"use strict";i.d(t,{e:function(){return f}});var n=i(26215),s=i(79765),r=i(66682),o=i(68307),a=i(88002),c=i(91841),l=i(99385),u=i(24832),h=i(39485),d=i(37716),p=i(64300);let f=(()=>{class e{constructor(e,t){this.http=e,this.languageService=t,this.coverDataSource=new n.X({body:"",subject:""}),this.deleteItemSource=new s.xQ,this.activeItemSource=new s.xQ,this.faxSubscriptionAvailableSource=new s.xQ,this.faxSubscriptionSource=new n.X([]),this.activeItem$=this.activeItemSource.asObservable(),this.deleteItem$=this.deleteItemSource.asObservable(),this.faxSubscriptionAvailable$=this.faxSubscriptionAvailableSource.asObservable(),this.faxSubscription$=this.faxSubscriptionSource.asObservable(),this.coverData$=this.coverDataSource.asObservable()}getDate(){const e=new Date,t="en"===this.languageService.getCurrentLanguage()?"en-GB":this.languageService.getCurrentLanguage();return e.toLocaleDateString(t,{weekday:"short",year:"numeric",month:"2-digit",day:"numeric",hour:"numeric",minute:"numeric"})}getSender(e){let t=[];if(this.faxSubscription$.subscribe(e=>{t=e}),e&&t.length){const i=t.find(t=>e===t.id);if(i)return i.preferred_outbound_number||i.extension_number}else if(t.length)return t[0].preferred_outbound_number||t[0].extension_number;return""}processInput(e,t){return e?(e=e.replace(/\$DATE/gi,this.getDate())).replace(/\$SENDER/gi,this.getSender(t)):""}deleteItem(e,t){this.deleteItemSource.next({id:e,key:t})}getSubscriptions(){return this.http.get(`${this.apiEndpointFaxes}/subscriptions`).pipe((0,o.b)(e=>{this.faxSubscriptionAvailableSource.next(!!e.data.length),this.faxSubscriptionSource.next(e.data)}))}getHasFaxAccess(){return(0,r.T)(this.getSubscriptions().pipe((0,a.U)(e=>!!e.data.length)),this.faxSubscriptionAvailable$)}getHistory(e="",t=1,i=25){const n=e&&(0,l.Ie)(e),s=(0,l.U8)(n,t,i);return this.http.get(`${this.apiEndpointFaxes}/history?${s}`,{observe:"response"}).pipe((0,a.U)(e=>({data:e.body,paginationHasMoreData:Number(e.headers.get("x-pagination-current-page"))<Number(e.headers.get("x-pagination-page-count"))})))}getReceivedItem(t){return this.http.get(`${this.apiEndpointFaxes}/history/received/${t}`).pipe((0,a.U)(e.mapResponseWithSingleItem))}getQueueItem(e){return this.http.get(`${this.apiEndpointFaxes}/history/queue/${e}`)}deleteFaxQueue(e){return this.http.delete(`${this.apiEndpointFaxes}/history/queue/${e}`)}downloadFaxReceived(e){let t=new c.WM;return t=t.set("Accept","application/pdf"),this.http.get(`${this.apiEndpointFaxes}/history/received/${e}/download`,{headers:t,responseType:"blob"})}getCovers(){return this.http.get(`${this.apiEndpointFaxes}/covers`)}getCover(e){return this.http.get(`${this.apiEndpointFaxes}/covers/${e}`)}deletePdf(e){return this.http.delete(`${this.apiEndpointFiles}/delete?filename=${e}`)}setFavoriteFaxSubscription(e){return this.http.put(`${this.apiEndpointFaxes}/subscriptions/${e}`,{favorite:1})}setFavoriteFaxCover(e){return this.http.put(`${this.apiEndpointFaxes}/covers/${e}`,{favorite:1})}deleteFaxSubscription(e){return this.http.delete(`${this.apiEndpointFaxes}/subscriptions/${e}`)}deleteFaxCover(e){return this.http.delete(`${this.apiEndpointFaxes}/covers/${e}`)}addFaxSubscription(e){return this.http.post(`${this.apiEndpointFaxes}/subscriptions`,{item:e})}updateFaxCover(e,t){return this.http.put(`${this.apiEndpointFaxes}/covers/${e}`,JSON.stringify(t))}addFaxCover(e){return this.http.post(`${this.apiEndpointFaxes}/covers`,JSON.stringify(e))}sendFax(e){return this.http.post(`${this.apiEndpointFaxes}/uploadandsend`,e)}static mapToFax(e){const t=new u.w;return t.fromJSON(e),t}static mapResponseWithSingleItem(t){return t&&e.mapToFax(t)}set coverData(e){this.coverDataSource.next(e)}set activeItem(e){this.activeItemSource.next(e)}get apiEndpointFaxes(){return`${h.N.API_URL}/faxes`}get apiEndpointFiles(){return`${h.N.API_URL}/file`}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(c.eN),d.LFG(p.T))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e})()},74688:function(e,t,i){"use strict";i.d(t,{q:function(){return C}});var n=i(28123),s=i(68307),r=i(45435),o=i(28049),a=i(88002),c=i(87519),l=i(26215),u=i(9112),h=i(71188),d=i(35019),p=i(8359),f=i(94428),m=i(37716),g=i(51233),_=i(7175),v=i(43962),b=i(66698),y=i(25791),S=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o};class C{constructor(e,t,i,n,f,m){this.userService=e,this.faxService=t,this.frontendConferenceService=i,this.crmConnectService=n,this.apiAvEventStateService=f,this.guestService=m,this.hasUserExtensionSource=new l.X(!1),this.hasUserModuleBulkImportSource=new l.X(!1),this.hasUserModuleVideoSource=new l.X(!1),this.hasUserModuleVideoConferenceSource=new l.X(!1),this.hasUserModuleMeetingSource=new l.X(!1),this.hasUserModuleMeetingOptionPerUserSource=new l.X(!1),this.hasUserExtension$=this.hasUserExtensionSource.asObservable(),this.hasUserModuleBulkImport$=this.hasUserModuleBulkImportSource.asObservable(),this.hasUserModuleMeeting$=this.hasUserModuleMeetingSource.asObservable(),this.hasFaxAccess$=this.faxService.getHasFaxAccess().pipe((0,s.b)(e=>h.V.hasFaxAccess=e)),this.hasConferenceAccess$=this.frontendConferenceService.getHasConferenceAccess().pipe((0,s.b)(e=>h.V.hasConferenceAccess=e)),this.hasCrmConnectAccess$=this.crmConnectService.isCrmConnectAvailableDistinct$.pipe((0,r.h)(e=>e),(0,o.P)()),this.hasActiveCallConferenceVideo$=this.apiAvEventStateService.activeCallConferenceState$.pipe((0,a.U)(e=>!!(null==e?void 0:e.video)),(0,c.x)()),this.isSchedulingMeetingsAvailable$=this.hasUserModuleMeetingOptionPerUserSource.asObservable(),this.activeCallConferenceKind$=this.apiAvEventStateService.activeCallConferenceState$.pipe((0,a.U)(e=>e?e.kind:null)),this.isVideoAvailable$=(0,u.aj)([this.guestService.isGuest$,this.apiAvEventStateService.activeCallConferenceState$,this.hasUserModuleVideoSource,this.hasUserModuleMeeting$]).pipe((0,a.U)(([e,t,i,n])=>e||(null==t?void 0:t.kind)===p.VW.Meeting||d.a.isOneOnOneState(t)&&i||(null==t?void 0:t.kind)===p.VW.Dynamic&&n),(0,c.x)()),this.listenForUserInfoChanges()}listenForUserInfoChanges(){this.userService.userInfo$.pipe((0,r.h)(e=>!!e)).subscribe(e=>{this.emitHasUserExtensionAccess(e),this.hasUserModuleBulkImportSource.next(C.hasUserModule(e,"bulk-import")),this.hasUserModuleVideoSource.next(C.hasUserModule(e,"video")),this.hasUserModuleVideoConferenceSource.next(C.hasUserModule(e,"videoconference")),this.hasUserModuleMeetingSource.next(C.hasUserModule(e,"meeting")),this.hasUserModuleMeetingOptionPerUserSource.next(C.hasUserModule(e,"meetingoptionperuser"))})}emitHasUserExtensionAccess(e){const t=!!n.Q.getCached("hasActivePhoneExtension",!1);this.hasUserExtensionSource.next(t||!!e.activePhoneExtension)}static hasUserModule(e,t){var i;return!!(null===(i=null==e?void 0:e.modules)||void 0===i?void 0:i.includes(t))}}C.\u0275fac=function(e){return new(e||C)(m.LFG(g.K),m.LFG(_.e),m.LFG(v.K),m.LFG(b.a),m.LFG(d.a),m.LFG(y.Q))},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),S([(0,f.SD)({name:"FeatureAccessService.isVideoAvailable$"})],C.prototype,"isVideoAvailable$",void 0),S([(0,f.SD)({name:"FeatureAccessService.isSchedulingMeetingsAvailable$"})],C.prototype,"isSchedulingMeetingsAvailable$",void 0)},75282:function(e,t,i){"use strict";i.d(t,{c:function(){return d}});var n=i(97090),s=i(37716),r=i(51233),o=i(95786),a=i(81836),c=i(66632),l=i(49090),u=i(99445),h=i(22238);let d=(()=>{class e extends n._{constructor(e,t,i,n,s,r,o){super(i,e,t,n,s,r,o)}getConferenceSubscriptionByCallRecord(e,t){return e.find(e=>e.number===t.remote)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K),s.LFG(o._),s.LFG(a.y),s.LFG(c.Z),s.LFG(l.s),s.LFG(u.k),s.LFG(h.uw))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},43962:function(e,t,i){"use strict";i.d(t,{K:function(){return f}});var n=i(79765),s=i(66682),r=i(28049),o=i(88002),a=i(66632),c=i(71188),l=i(37716),u=i(45146),h=i(8259),d=i(51233),p=i(81836);let f=(()=>{class e extends a.Z{constructor(e,t,i,s){super(e,t,i,s),this.apiService=e,this.apiConferenceService=t,this.userService=i,this.sipService=s,this.audioConferenceSource=new n.xQ,this.audioConferenceSubscriber$=this.audioConferenceSource.asObservable()}emitAudioConferenceChange(e){this.audioConferenceSource.next(e)}getSubscribedConferencesList(e,t){return this.getSubscriptionList(e,t).pipe((0,r.P)(),(0,o.U)(e=>(c.V.setSubscribedConferencesList(e.data),e)))}getHasConferenceAccess(){return(0,s.T)(this.getSubscribedConferencesList(void 0,!0).pipe((0,o.U)(e=>!!e.data.length)),this.conferenceSubscriptionAvailable$)}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(u.s),l.LFG(h.j),l.LFG(d.K),l.LFG(p.y))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})()},56042:function(e,t,i){"use strict";i.d(t,{R:function(){return n}});var n=(()=>{return(e=n||(n={})).ACCEPT_CALL="acceptCall",e.END_CALL="endCall",e.TERMINATE_OUTGOING_CALL="terminateOutgoingCall",e.REJECT_CALL="rejectCall",e.HOLD_RESUME="holdResume",e.RESUME_CALL="resumecall",e.HOLD_CALL="holdCall",e.MUTE="mute",e.UNMUTE="unmute",n;var e})()},83017:function(e,t,i){"use strict";i.d(t,{Y:function(){return b}});var n=i(26215),s=i(79765),r=i(45435),o=i(59328),a=i(54395),c=i(56042),l=i(13233);const u=[{vendorId:"0b0e",type:l.p.JABRA},{vendorId:"047f",type:l.p.PLANTRONICS},{vendorId:"047f",type:l.p.POLY},{vendorId:"1377",type:l.p.SENNHEISER},{vendorId:"1395",type:l.p.SENNHEISER}];var h=i(28235),d=i(14569),p=i(37716),f=i(81836),m=i(85260),g=i(28704),_=i(99445),v=i(92937);let b=(()=>{class e{constructor(e,t,i,r,o){this.sipService=e,this.conferencesEventStreamService=t,this.microphoneService=i,this.callTrackerService=r,this.tokenService=o,this.headsetCallSource=new n.X(""),this.callProgressSource=new s.xQ,this.triggerDynamicConferenceSource=new s.xQ,this.incomingCalls=new Map,this.DYNAMIC_CONFERENCE="[Dynamisch]",this.selectedHeadsetDevicesSource=new s.xQ,this.headsetCall$=this.headsetCallSource.asObservable(),this.callProgress$=this.callProgressSource.asObservable(),this.triggerDynamicConference$=this.triggerDynamicConferenceSource.asObservable(),this.selectedHeadsetDevices$=this.selectedHeadsetDevicesSource.asObservable(),this.initSubscription()}checkHeadsetExistence(e,t,i){const n=[e,t,i],s=this.isHeadsetExist(n,l.p.JABRA),r=this.isHeadsetExist(n,l.p.PLANTRONICS)||this.isHeadsetExist(n,l.p.POLY),o=this.isHeadsetExist(n,l.p.SENNHEISER);this.selectedHeadsetDevicesSource.next({isJabraSelected:s,isPlantronicsSelected:r,isSennheiserSelected:o,emitedFrom:"HEADSET"})}isHeadsetExist(e,t){return e.some(e=>this.isSelectedDevice(e,t))}updateHeadsetCallSource(e){this.headsetCallSource.next(e)}onHeadsetControlBtnAction(e,t=!1,i=""){t&&this.subscribeToHeadsetEvents(e,i)}subscribeToHeadsetEvents(e,t){if(e)switch(e){case c.R.ACCEPT_CALL:this.acceptCall();break;case c.R.END_CALL:this.endCall();break;case c.R.TERMINATE_OUTGOING_CALL:this.callTrackerService.terminateCall(t);break;case c.R.REJECT_CALL:this.endCall(!0);break;case c.R.RESUME_CALL:case c.R.HOLD_CALL:case c.R.HOLD_RESUME:this.holdOrResumeCall(t);break;case c.R.MUTE:case c.R.UNMUTE:this.microphoneService.toggleSelfMute()}}initSubscription(){this.callTrackerService.outgoingCallRinging$.pipe((0,r.h)(e=>!!(null==e?void 0:e.length))).subscribe(e=>{this.incomingCall=void 0,this.callProgressSource.next({type:d.rP.OUTGOING_CALL_RINGING,subType:d.rP.OUTGOING_CALL_RINGING,isIncomingCall:!1,callId:e[0].callItem.callId}),this.activeCall=e[0].callItem}),this.callTrackerService.callStarted$.subscribe(e=>{if(e){const t=null==e?void 0:e.callId;this.getActualIncomingCall()&&(this.callProgressSource.next({type:d.rP.CALL_STARTED,subType:d.rP.INCOMING_CALL_ACCEPTED,isIncomingCall:!0,callId:t}),this.incomingCall=void 0,this.deleteIncomingCall(t)),this.activeCall=e}}),this.callTrackerService.outgoingCall$.pipe((0,o.G)(),(0,r.h)(([e,t])=>!!e&&!t)).subscribe(([e,t])=>{const i=null==e?void 0:e.role,n=this.callTrackerService.getTheFistCallIdByCallState(h.O.ACTIVE);n&&this.callProgressSource.next({type:d.rP.OUTGOING_CALL_ACCEPTED,subType:i?d.rP.CONFERENCE_CREATE:void 0,callId:n})}),this.callTrackerService.incomingCalls$.subscribe(e=>{if(null==e?void 0:e.length){const t=e[0];this.incomingCall=t.callItem,this.updateIncomingCall(this.incomingCall),this.callProgressSource.next({type:d.rP.INCOMING_CALL,subType:d.rP.INCOMING_CALL_RINGING,isIncomingCall:!0,value:this.sipService.selectedAudioInputDevice.label,name:t.callItem.name||t.callItem.number.toString(),callId:t.callItem.callId})}}),this.callTrackerService.endedCall$.pipe((0,a.b)(2e3)).subscribe(e=>{var t;if(e){const{callId:i,isRejectedCall:n}=e,s=this.callTrackerService.getTotalCallsCount();this.callProgressSource.next({type:d.rP.CALL_ENDED,isIncomingCall:!!this.getActualIncomingCall(),numberOfCalls:s,callId:i,isRejectedCall:n,isOutgoingCallEndedBeforeRemotePartyAcceptsCall:this.isOutgoingCallEndedBeforeRemotePartyAcceptsCall()}),(null===(t=this.activeCall)||void 0===t?void 0:t.callId)===i?this.activeCall=void 0:(this.activeCall=this.sipService.onGoingCall,this.deleteIncomingCall(i),this.incomingCall=void 0)}}),this.sipService.callMuteUnmute$.subscribe(e=>{var t;const i=null===(t=this.sipService.onGoingCall)||void 0===t?void 0:t.callId;this.callProgressSource.next(e?{type:d.rP.CALL_MUTE,callId:i}:{type:d.rP.CALL_UNMUTE,callId:i})}),this.callTrackerService.callTracker$.pipe((0,r.h)(e=>!!e&&(null==e?void 0:e.callState)===h.O.HOLD)).subscribe(e=>{var t,i;const n=null==e?void 0:e.callItem.callId;((null===(t=this.incomingCall)||void 0===t?void 0:t.callId)===n||(null===(i=this.activeCall)||void 0===i?void 0:i.callId)===n)&&(this.callProgressSource.next({type:d.rP.CALL_HOLD,callId:n}),this.activeCall=this.sipService.onGoingCall)}),this.callTrackerService.resumedCall$.subscribe(e=>{e&&(this.callProgressSource.next({type:d.rP.CALL_RESUME,callId:e.callItem.callId}),this.activeCall=e.callItem)}),this.conferencesEventStreamService.conferenceCreate$.subscribe(e=>{e.extension!==this.DYNAMIC_CONFERENCE&&this.callProgressSource.next({type:d.rP.CONFERENCE_CREATE,callId:e.uuid})}),this.tokenService.token$.pipe((0,r.h)(e=>!e)).subscribe(()=>{this.selectedHeadsetDevicesSource.next({isJabraSelected:!1,isPlantronicsSelected:!1,isSennheiserSelected:!1,emitedFrom:"LOGOUT"})})}updateIncomingCall(e){this.incomingCalls.set(e.callId,e)}deleteIncomingCall(e){e&&this.incomingCalls.delete(e)}getActualIncomingCall(){return this.incomingCalls.size?Array.from(this.incomingCalls)[0][1]:void 0}acceptCall(){this.incomingCall&&(this.callTrackerService.answerCall(this.incomingCall.callId),this.incomingCall=void 0)}endCall(e=!1){var t,i;const n=e?(null===(t=this.incomingCall)||void 0===t?void 0:t.callId)||"":(null===(i=this.activeCall)||void 0===i?void 0:i.callId)||"";n&&this.callTrackerService.terminateCall(n)}holdOrResumeCall(e){this.activeCall?this.callTrackerService.hold():this.resumeCall(e)}resumeCall(e=""){if(e)this.callTrackerService.resumeCall(e);else{let e="";this.sipService.activeCalls.forEach(t=>{var i;t.onHold&&(null===(i=null==t?void 0:t.details)||void 0===i?void 0:i.callId)&&(e=t.details.callId)}),this.tryToFindDynamicConferenceInOnHoldCalls(e,()=>{this.callTrackerService.resumeCall(e)})}}tryToFindDynamicConferenceInOnHoldCalls(e,t){const i=this.getOnHoldCalls().filter(t=>t.callId===e&&this.isCallDynamicConferenceType(t));i.length&&this.triggerDynamicConferenceSource.next(i[0].extensionName),t&&t()}isCallDynamicConferenceType(e){return e&&e.hasOwnProperty("extensionName")}getOnHoldCalls(){const e=[];return this.sipService.activeCalls.forEach(t=>{t.onHold&&e.push(t.details)}),e}isOutgoingCallEndedBeforeRemotePartyAcceptsCall(){return!(this.getActualIncomingCall()||this.activeCall&&this.activeCall.hasOwnProperty("startTime"))}isSelectedDevice(e,t){t=t.toLocaleLowerCase();const i=e.label.match("(\\w+:\\w+)"),n=u.find(e=>e.type===t).vendorId,s=e.label.toLowerCase();if(i&&i[0]){const e=i[0].substring(0,i[0].indexOf(":")),n=u.find(t=>t.vendorId===e);if(n)return n.type===t}return s.includes(t)||s.includes(n)}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(f.y),p.LFG(m.i),p.LFG(g.p),p.LFG(_.k),p.LFG(v.B))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e})()},13233:function(e,t,i){"use strict";i.d(t,{p:function(){return n}});var n=(()=>{return(e=n||(n={})).JABRA="jabra",e.PLANTRONICS="plantronics",e.POLY="poly",e.SENNHEISER="sennheiser",n;var e})()},14569:function(e,t,i){"use strict";i.d(t,{Us:function(){return n},rP:function(){return s},Yi:function(){return r}});var n=(()=>{return(e=n||(n={})).METHOD="method",e.CALLBACK="callback",n;var e})(),s=(()=>{return(e=s||(s={})).INCOMING_CALL="incomingCall",e.INCOMING_CALL_RINGING="incomingCallRinging",e.INCOMING_CALL_ACCEPTED="incomingCallAccepted",e.OUTGOING_CALL="outgoingCall",e.OUTGOING_CALL_ACCEPTED="outgoingCallAccepted",e.OUTGOING_CALL_RINGING="outgoingCallRinging",e.CALL_ENDED="callEnded",e.CALL_MUTE="callMute",e.CALL_UNMUTE="callUnmute",e.CALL_HOLD="callHold",e.CALL_RESUME="callResume",e.CALL_STARTED="callStarted",e.CONFERENCE_CREATE="conferenceCreate",s;var e})(),r=(()=>{return(e=r||(r={})).APP="app",e.HEADSET="headset",r;var e})()},90780:function(e,t,i){"use strict";i.d(t,{z:function(){return u}});var n=i(56042),s=(()=>{return(e=s||(s={})).VOLUME_UP_HELD="VolumeUpHeld",e.TALK="Talk",e.TERMINATE_CALL="TerminateCall",e.MUTE_ON="MuteON",e.MUTE_OFF="MuteOFF",e.HOLD_CALL="HoldCall",e.RESUME_CALL="Resumecall",s;var e})(),r=i(14569),o=i(37716),a=i(83017),c=i(57158),l=i(2562);let u=(()=>{class e{constructor(e,t,i){this.headsetCoreService=e,this.logger=t,this.scriptService=i,this.spokes=null,this.pluginName="nfonPlantronics",this.pollRate=500,this.previousPollRate=500,this.deviceAttached=!1,this.isRegistered=!1,this.activeCallsStorage=new Map,this.isPlantronicsLoaded=!1,this.apiUrl="https://127.0.0.1:32018/Spokes",this.plantronicsHeadsetInit()}init(){this.connectToPlantronics(),this.initSubscriptions()}outgoingCall(t){this.event="outgoingCall",this.spokes.Plugin.outgoingCall(this.pluginName,this.getSpokeCallId(t),e.getContact(""),"ToHeadset",()=>{this.updateSessionState("outgoingCall"),this.startWatchEvents()})}incomingCall(t,i){this.event="incomingCall",this.spokes.Plugin.incomingCall(this.pluginName,this.getSpokeCallId(i),e.getContact(t),"Unknown","ToHeadset",()=>{this.updateSessionState("incomingCall",t),this.startWatchEvents()})}incomingCallStarted(){this.event="callStarted",this.spokes.Plugin.answerCall(this.pluginName,this.getSpokeCallId(),()=>{this.startWatchEvents()})}callEnded(e=0){this.event="endCall",this.spokes.Plugin.terminateCall(this.pluginName,this.getSpokeCallId(),()=>{e||clearInterval(this.run),this.activeCallsStorage.delete(this.sipCallId)})}callMute(){this.event="mute",this.spokes.Plugin.muteCall(this.pluginName,!0)}callUnMute(){this.event="unmute",this.spokes.Plugin.muteCall(this.pluginName,!1)}holdCall(){this.event="hold",this.spokes.Plugin.holdCall(this.pluginName,this.getSpokeCallId(),()=>{})}resumeCall(){this.event="resume",this.spokes.Plugin.resumeCall(this.pluginName,this.getSpokeCallId(),()=>{})}plantronicsHeadsetInit(){this.headsetCoreService.selectedHeadsetDevices$.subscribe(e=>{e.isPlantronicsSelected?this.isPlantronicsLoaded?this.init():this.initPlantronics():this.disconnectFromPlantronics()})}getSpokeCallId(e=""){const t=e||this.activeCallsStorage.get(this.sipCallId)||"1001";return"1001"===t&&this.logger.error("id is not detected"),new SpokesCallId({Id:t})}connectToPlantronics(e=!1){this.spokes||(this.spokes=new Spokes(this.apiUrl),this.spokes.Device.deviceInfo(t=>{t.isError?t.Err&&"There are no supported devices"===t.Err.Description||(this.pollRate=2500):(null!==t.Result?(this.deviceAttached=!0,this.spokes.Device.attach(t.Result.Uid,this.deviceAttachedCallback.bind(this))):this.deviceAttached=!1,this.pollRate=500,2500===this.previousPollRate&&(this.previousPollRate=500,this.startWatchEvents()),e&&this.reconnect())}))}deviceAttachedCallback(e){e.isError||!this.spokes.Device.isAttached?this.disconnectFromPlantronics():this.registerPlugin()}registerPlugin(e){this.isRegistered||this.spokes.Plugin.register(this.pluginName,t=>{t.isError?t.Err&&"Plugin exists"===t.Err.Description?this.setPluginActive(e):this.disconnectFromPlantronics():this.setPluginActive(e)})}setPluginActive(e){this.spokes.Plugin.isActive(this.pluginName,!0,t=>{t.isError||(this.isRegistered=!0,e&&e())})}unregisterPlugin(){this.spokes.Plugin.unRegister(this.pluginName),this.isRegistered=!1}disconnectFromPlantronics(e=!1){this.spokes&&(this.unregisterPlugin(),this.spokes.Device.release(t=>{t.isError?this.logger.error("Failed to release Plantronics device."):this.logger.info("Released Plantronics device."),e?(this.spokes=null,this.connectToPlantronics(e)):(this.spokes=null,this.unsubscribe())}))}pollDeviceEventsOrReconnect(){this.previousPollRate!==this.pollRate&&(this.previousPollRate=this.pollRate,this.startWatchEvents()),null!==this.spokes&&this.deviceAttached&&this.spokes.Device.isAttached?(this.spokes.Device.events(e=>{if(e.isError&&e.Err)"No response.  Server appears to be offline."===e.Err.Description&&(this.pollRate=2500),("Invalid session id"===e.Err.Description||"Empty session id"===e.Err.Description||"No response.  Server appears to be offline."===e.Err.Description)&&(this.deviceAttached=!1,this.disconnectFromPlantronics(!0));else if(e.Result.length>0)for(const t of e.Result);}),this.spokes.Plugin.callEvents(this.pluginName,e=>{if(e.isError&&e.Err)"No response.  Server appears to be offline."===e.Err.Description&&(this.pollRate=2500),("Invalid session id"===e.Err.Description||"Empty session id"===e.Err.Description||"No response.  Server appears to be offline."===e.Err.Description)&&(this.deviceAttached=!1,this.disconnectFromPlantronics(!0));else if(e.Result.length>0)for(const t of e.Result){const e=SessionCallState.Lookup[t.Action];e&&this.fireEvent(e)}})):this.connectToPlantronics()}fireEvent(t){let i=e.lowerCaseFirstLetter(t);switch(t){case s.TERMINATE_CALL:i=n.R.END_CALL;break;case s.MUTE_ON:i=n.R.MUTE;break;case s.MUTE_OFF:i=n.R.UNMUTE;break;case s.HOLD_CALL:i=n.R.HOLD_CALL;break;case s.RESUME_CALL:i=n.R.RESUME_CALL;break;default:this.logger.warn("Plantronics event is not implemented:",t)}if(this.event!==i)switch(i){case n.R.ACCEPT_CALL:this.headsetCoreService.onHeadsetControlBtnAction(n.R.ACCEPT_CALL,!0);break;case n.R.END_CALL:this.headsetCoreService.onHeadsetControlBtnAction(n.R.END_CALL,!0);break;case n.R.MUTE:this.headsetCoreService.onHeadsetControlBtnAction(n.R.MUTE,!0);break;case n.R.UNMUTE:this.headsetCoreService.onHeadsetControlBtnAction(n.R.UNMUTE,!0);break;case n.R.HOLD_CALL:this.headsetCoreService.onHeadsetControlBtnAction(n.R.HOLD_CALL,!0);break;case n.R.RESUME_CALL:this.headsetCoreService.onHeadsetControlBtnAction(n.R.RESUME_CALL,!0);break;default:this.logger.warn("Plantronics event not implemented:",i)}}startWatchEvents(){clearInterval(this.run),this.run=window.setInterval(this.pollDeviceEventsOrReconnect.bind(this),this.pollRate)}initSubscriptions(){this.unsubscribe(),this.progressSubscription=this.headsetCoreService.callProgress$.subscribe(e=>{switch(this.sipCallId=e.callId,e.type){case r.rP.INCOMING_CALL:e.name&&(this.sipCallId=e.callId,this.generateReadableCallId(e.callId),this.incomingCall(e.name));break;case r.rP.CALL_STARTED:this.generateReadableCallId(e.callId),e.isIncomingCall?this.incomingCallStarted():this.outgoingCall();break;case r.rP.OUTGOING_CALL_ACCEPTED:this.generateReadableCallId(e.callId);break;case r.rP.CALL_ENDED:this.callEnded(e.numberOfCalls);break;case r.rP.CALL_MUTE:this.callMute();break;case r.rP.CALL_UNMUTE:this.callUnMute();break;case r.rP.CALL_HOLD:this.holdCall();break;case r.rP.CALL_RESUME:this.resumeCall();break;default:this.logger.info("Plantronics action ignored:",e.type)}})}generateReadableCallId(e){this.activeCallsStorage.has(e)||this.activeCallsStorage.set(e,this.generateRandomId())}unsubscribe(){this.progressSubscription&&this.progressSubscription.unsubscribe()}generateRandomId(){let e=(Math.floor(100*Math.random())+1).toString();const t=[];return this.activeCallsStorage.forEach((e,i)=>{t.push(e)}),t.includes(e)&&(e=this.generateRandomId()),e}reconnect(){this.registerPlugin(()=>{const{type:e,callId:t,callerName:i}=this.sessionState;e===r.rP.INCOMING_CALL?this.incomingCall(i,t):e===r.rP.OUTGOING_CALL&&this.outgoingCall(t)})}updateSessionState(e,t=""){this.sessionState={type:e,callId:this.getSpokeCallId().Id,callerName:t}}initPlantronics(){this.scriptService.loadScript("jquery").then(()=>{this.scriptService.load("plantronics","plantronics-util").then(()=>{this.isPlantronicsLoaded=!0,this.init()})})}static lowerCaseFirstLetter(e){return e.charAt(0).toLowerCase()+e.slice(1)}static getContact(e){return new SpokesContact({Name:e})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.Y),o.LFG(c.Kf),o.LFG(l.Y))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},18185:function(e,t,i){"use strict";i.d(t,{F:function(){return u}});var n=i(28235),s=i(56042),r=i(14569),o=(()=>{return(e=o||(o={})).HeadsetAvailable="HeadsetAvailable",e.HeadsetConnected="HeadsetConnected",e.LoginStatusChanged="LoginStatusChanged",e.MuteMicrophone="MuteMicrophone",e.EndCall="EndCall",e.RejectCall="RejectCall",e.AcceptCall="AcceptCall",e.HoldCall="HoldCall",e.ResumeCall="ResumeCall",o;var e})(),a=i(37716),c=i(83017),l=i(99445);let u=(()=>{class e{constructor(e,t){this.headsetCoreService=e,this.callTrackerService=t,this.BRAND="EPOS",this.NAME="Cloudya WebApp",this.VERSION="1.0.250",this.sennheiserSdk=null,this.removedCallIdFromCallControlSet=new Set,this.incomingCallIdSet=new Set,this.handleRejectCallListener=()=>{this.headsetCoreService.subscribeToHeadsetEvents(s.R.REJECT_CALL)},this.handleAcceptCallListener=()=>{if(this.callTrackerService.getTheFistCallIdByCallState(n.O.ACTIVE))return;const e=this.getTheLatestOnHoldCallId();e&&this.removeOnHoldCallFromCallControl(e),this.headsetCoreService.subscribeToHeadsetEvents(s.R.ACCEPT_CALL)},this.handleHoldCallListener=e=>{this.headsetCoreService.subscribeToHeadsetEvents(s.R.HOLD_CALL,e.detail)},this.handleResumeCallListener=e=>{this.headsetCoreService.subscribeToHeadsetEvents(s.R.RESUME_CALL,e.detail)},this.handleMuteMicrophoneListener=()=>{this.headsetCoreService.subscribeToHeadsetEvents(s.R.MUTE)},this.handleEndCallListener=()=>{const e=this.callTrackerService.hasActiveCall(),t=this.callTrackerService.hasOutgoingCall();if(e)this.headsetCoreService.subscribeToHeadsetEvents(s.R.END_CALL);else if(t){const e=this.callTrackerService.getTheFistCallIdByCallState(n.O.RINGING);this.headsetCoreService.subscribeToHeadsetEvents(s.R.TERMINATE_OUTGOING_CALL,e)}}}toggleSennheiserSDK(){this.headsetCoreService.selectedHeadsetDevices$.subscribe(e=>{e.isSennheiserSelected?this.initializeSennheiserSDK():this.removeSennheiserSDK()})}initializeSennheiserSDK(){this.sennheiserSdk||(this.sennheiserSdk=new dseacallcontrolsdk(this.BRAND,this.NAME,this.VERSION),setTimeout(()=>{var e;null===(e=this.sennheiserSdk)||void 0===e||e.SendLoginEvent()},200),this.sendCallEventToSDK(),this.addHeadsetEventListeners())}removeSennheiserSDK(){var e,t;null===(e=this.sennheiserSdk)||void 0===e||e.SendTerminateEvent(),this.sennheiserSdk=null,null===(t=this.callProgressSubscription)||void 0===t||t.unsubscribe()}sendCallEventToSDK(){var e;null===(e=this.callProgressSubscription)||void 0===e||e.unsubscribe(),this.callProgressSubscription=this.headsetCoreService.callProgress$.subscribe(e=>{const t=e.callId;switch(e.type){case r.rP.INCOMING_CALL:this.handleIncomingCall(t);break;case r.rP.OUTGOING_CALL_RINGING:this.handleOutgoingCallRinging(t);break;case r.rP.CALL_HOLD:this.handlCallHold(t);break;case r.rP.CALL_STARTED:this.handleCallStarted(t);break;case r.rP.CALL_RESUME:this.handlCallResume(t);break;case r.rP.OUTGOING_CALL_ACCEPTED:this.handleOutgoingCallAccepted(t,e.subType);break;case r.rP.CALL_ENDED:this.handleCallEnded(t);break;case r.rP.CALL_MUTE:this.handleCallMute(!0);break;case r.rP.CALL_UNMUTE:this.handleCallMute(!1)}})}handleIncomingCall(e){var t;const i=this.callTrackerService.hasActiveCall(),n=this.getTheLatestOnHoldCallId();n&&this.removeOnHoldCallFromCallControl(n),i||(null===(t=this.sennheiserSdk)||void 0===t||t.SendIncomingCallEvent(e),this.incomingCallIdSet.add(e))}handleOutgoingCallRinging(e){var t;null===(t=this.sennheiserSdk)||void 0===t||t.SendOutgoingCallEvent(e)}handlCallHold(e){var t;null===(t=this.sennheiserSdk)||void 0===t||t.SendHoldCallEvent(e)}handleCallStarted(e){var t,i;this.incomingCallIdSet.has(e)||null===(t=this.sennheiserSdk)||void 0===t||t.SendIncomingCallEvent(e),null===(i=this.sennheiserSdk)||void 0===i||i.SendActiveCallEvent(e),this.decideToRemoveOnHoldCallFromCallControl()}handlCallResume(e){var t;null===(t=this.sennheiserSdk)||void 0===t||t.SendActiveCallEvent(e),this.decideToSwapCallsFromCallControl()}handleOutgoingCallAccepted(e,t){var i,n;t===r.rP.CONFERENCE_CREATE&&(null===(i=this.sennheiserSdk)||void 0===i||i.SendOutgoingCallEvent(e)),null===(n=this.sennheiserSdk)||void 0===n||n.SendActiveCallEvent(e),this.decideToRemoveOnHoldCallFromCallControl()}handleCallEnded(e){var t,i;null===(t=this.sennheiserSdk)||void 0===t||t.SendEndCallEvent(e);const s=this.getTheLatestOnHoldCallId();if(s)this.resetSdkAndResumeCallState(n.O.HOLD,s);else{const e=this.callTrackerService.getTheFistCallIdByCallState(n.O.INCOMING);e&&(null===(i=this.sennheiserSdk)||void 0===i||i.SendIncomingCallEvent(e))}}handleCallMute(e){var t;null===(t=this.sennheiserSdk)||void 0===t||t.SendMuteStatus(e)}resetSdkAndResumeCallState(e,t){this.removeSennheiserSDK(),this.initializeSennheiserSDK(),setTimeout(()=>{var i,s,r;null===(i=this.sennheiserSdk)||void 0===i||i.SendIncomingCallEvent(t),null===(s=this.sennheiserSdk)||void 0===s||s.SendActiveCallEvent(t),e===n.O.HOLD&&(null===(r=this.sennheiserSdk)||void 0===r||r.SendHoldCallEvent(t))},500)}decideToRemoveOnHoldCallFromCallControl(){const e=this.getTheLatestOnHoldCallId();this.callTrackerService.hasActiveCall()&&e&&this.removeOnHoldCallFromCallControl(e)}decideToSwapCallsFromCallControl(){const e=this.callTrackerService.getTheFistCallIdByCallState(n.O.ACTIVE),t=this.getTheLatestOnHoldCallId();e&&this.removedCallIdFromCallControlSet.has(e)&&t&&(this.removeOnHoldCallFromCallControl(t),this.removedCallIdFromCallControlSet.delete(e),this.resetSdkAndResumeCallState(n.O.ACTIVE,e))}removeOnHoldCallFromCallControl(e){var t;null===(t=this.sennheiserSdk)||void 0===t||t.SendEndCallEvent(e),this.removedCallIdFromCallControlSet.add(e)}getTheLatestOnHoldCallId(){var e,t,i;return null===(i=null===(t=null===(e=this.callTrackerService.getCallTrackersByCallState(n.O.HOLD).slice())||void 0===e?void 0:e.pop())||void 0===t?void 0:t.callItem)||void 0===i?void 0:i.callId}addHeadsetEventListeners(){this.removeHeadsetEventListeners(),document.addEventListener(o.MuteMicrophone,this.handleMuteMicrophoneListener),document.addEventListener(o.EndCall,this.handleEndCallListener),document.addEventListener(o.RejectCall,this.handleRejectCallListener),document.addEventListener(o.AcceptCall,this.handleAcceptCallListener),document.addEventListener(o.HoldCall,this.handleHoldCallListener),document.addEventListener(o.ResumeCall,this.handleResumeCallListener)}removeHeadsetEventListeners(){document.removeEventListener(o.MuteMicrophone,this.handleMuteMicrophoneListener),document.removeEventListener(o.EndCall,this.handleEndCallListener),document.removeEventListener(o.RejectCall,this.handleRejectCallListener),document.removeEventListener(o.AcceptCall,this.handleAcceptCallListener),document.removeEventListener(o.HoldCall,this.handleHoldCallListener),document.removeEventListener(o.ResumeCall,this.handleResumeCallListener)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.Y),a.LFG(l.k))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},64300:function(e,t,i){"use strict";i.d(t,{T:function(){return h}});var n=i(71188),s=i(79765),r=i(88002),o=i(46782);const a=["de","en","es","fr","hr","it","nl","pl","cs","sk","ro","sl"];var c=i(37716),l=i(90971),u=i(29790);let h=(()=>{class e{constructor(e,t){this.whiteLabelService=e,this.translateService=t,this.ngUnsubscribe=new s.xQ,this.init()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}createLanguagesArray(){const e=[],t=this.getAvailableLanguageValues();for(const i of t)e.push({value:i,title:`language.${i}`});return e}updateLanguage(t){e.setCurrentLanguage(t),this.setHtmlLang(t),this.changeInterfaceLanguage()}changeInterfaceLanguage(){this.translateService.use(this.getCurrentLanguage())}getAvailableLanguages(){return this.createLanguagesArray()}getAvailableLanguageValues(){return this.whiteLabelService.data.languages||a}getCurrentLanguage(){return n.V.currentLanguage||e.setCurrentLanguage(this.getBrowserLanguage()),n.V.currentLanguage||this.getCurrentLanguage()}setHtmlLang(e){document.documentElement.lang=e||this.getCurrentLanguage()}getBrowserLanguage(){const e=this.translateService.getBrowserLang();return this.isLanguageSelectable(e)?e:"en"}isLanguageSelectable(e){return this.getAvailableLanguageValues().includes(e)}init(){this.languageChange$=this.translateService.onLangChange.pipe((0,r.U)(e=>!!e.lang),(0,o.R)(this.ngUnsubscribe))}static setCurrentLanguage(e){n.V.currentLanguage=e}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(l.D),c.LFG(u.sK))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},88640:function(e,t,i){"use strict";i.d(t,{i:function(){return u}});var n=i(26215),s=i(13653),r=i(45435),o=i(37716),a=i(51233),c=i(57158);const l={cinemaModeVideosPerPage:6,isOwnVideoMirrored:!0,isVirtualBackgroundEnabled:!1,isMicrophoneActivatedOnJoin:!0,isCameraActivatedOnJoin:!0,isWelcomeSound:!0,isDesktopAppAutoUpdate:!0};let u=(()=>{class e{constructor(e,t){this.userService=e,this.logger=t,this.userStorageKeyId="guest",this.userConfigSource=new n.X(l),this.userConfig$=this.userConfigSource.asObservable(),this.userConfig$.pipe((0,s.T)(1)).subscribe(()=>{this.storeConfig()}),this.loadConfig(),this.userService.userInfo$.pipe((0,r.h)(e=>!!e)).subscribe(e=>{this.userStorageKeyId=e.user.uuid,this.loadConfig()})}setDeviceSettings(e){this.updateUserConfig(t=>{t.isOwnVideoMirrored=e.isOwnVideoMirrored,t.isVirtualBackgroundEnabled=e.isVirtualBackgroundEnabled})}toggleMicrophoneActivatedOnJoin(){this.updateUserConfig(e=>e.isMicrophoneActivatedOnJoin=!e.isMicrophoneActivatedOnJoin)}toggleCameraActivatedOnJoin(){this.updateUserConfig(e=>e.isCameraActivatedOnJoin=!e.isCameraActivatedOnJoin)}toggleWelcomeSound(){this.updateUserConfig(e=>e.isWelcomeSound=!e.isWelcomeSound)}toggleDesktopAppUpdate(){this.updateUserConfig(e=>e.isDesktopAppAutoUpdate=!e.isDesktopAppAutoUpdate)}setCinemaModePageSize(e){e<1?this.logger.error("Failed to apply cinema-mode page size to local user config. Page size must be greater than 0."):this.updateUserConfig(t=>{t.cinemaModeVideosPerPage=e})}getCurrentUserConfig(){return this.userConfigSource.value}updateUserConfig(e){const t=this.userConfigSource.getValue(),i=Object.assign({},t);e(i),JSON.stringify(t)!==JSON.stringify(i)&&this.userConfigSource.next(i)}storeConfig(){localStorage.setItem(this.getLocalStorageKey(),JSON.stringify(this.userConfigSource.getValue()))}loadConfig(){const e=localStorage.getItem(this.getLocalStorageKey());if(!e)return void this.logger.debug("No local user config found in localStorage. Using default user config.");const t=JSON.parse(e),i=Object.assign(Object.assign({},l),t);this.logger.debug("Applying user config found in localStorage."),this.userConfigSource.next(i)}getLocalStorageKey(){return`userConfig-${this.userStorageKeyId}`}}return e.pageSizeOptions=[6,9,12,16,20],e.\u0275fac=function(t){return new(t||e)(o.LFG(a.K),o.LFG(c.Kf))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},39583:function(e,t,i){"use strict";i.d(t,{h:function(){return u},d:function(){return h}});var n=i(39485),s=i(57158);const r=["TRACE","DEBUG","INFO ","LOG  ","WARN ","ERROR","FATAL"];function o(e,...t){switch(t.push(...e.additional),e.level){case s._z.TRACE:console.trace(...t);break;case s._z.DEBUG:console.debug(...t);break;case s._z.INFO:console.info(...t);break;case s._z.LOG:console.log(...t);break;case s._z.WARN:console.warn(...t);break;default:console.error(...t)}}class a{onLog(e){o(e,`${a.getTimestamp(new Date)} ${r[e.level].padStart(5," ")} ${e.message}`)}static getTimestamp(e){return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}.${e.getMilliseconds().toString().padStart(3,"0")}`}}class c{constructor(){this.fileNameRegExp=/([^\/]+.)\..*$/,this.borderSize="0.32rem",this.fileNameBorderRadiusTopLeft="1.28rem"}onLog(e){const t=r[e.level],i=c.getHslHueOfString(e.fileName),n=e.fileName.match(this.fileNameRegExp),s=`hsl(${i}, 100%, 70%)`,a=`${this.borderSize} solid ${s}`;o(e,`%c${t} %c ${n?n[1]:""}%c:${e.lineNumber} %c ${e.message}`,`${c.getCssBorderLeftForFirstElementInLine(e.level)}`,`\n      background: ${s};\n      color: #222;\n      border-top: ${a};\n      border-radius: ${this.fileNameBorderRadiusTopLeft} 0 0 0;\n      `,`\n      background: ${s};\n      color: #555;\n      border-top: ${a};\n      `,"")}static getCssBorderLeftForFirstElementInLine(e){return 0===e||e>3?"":"border-left: .65rem solid transparent;"}static getHslHueOfString(e){return c.getHashCode(e)%360}static getHashCode(e){let t=0;if(0===e.length)return t;for(let i=0;i<e.length;i++)t=e.charCodeAt(i)+((t<<5)-t),t&=t;return t}}var l=i(37716),u=(()=>{return(e=u||(u={})).TRACE="TRACE",e.DEBUG="DEBUG",e.INFO="INFO",e.LOG="LOG",e.WARN="WARN",e.ERROR="ERROR",e.FATAL="FATAL",e.OFF="OFF",u;var e})();let h=(()=>{class e{constructor(e){this.logger=e,this.logLevelStorageKey="logLevel",this.LogType=Object.values(u),this.logMessage(u.DEBUG,"Disabling NGXLogger console output."),this.logger.updateConfig(Object.assign(Object.assign({},this.logger.getConfigSnapshot()),{disableConsoleLogging:!0}));let t=new c;(n.N.production||window.e2e)&&(t=new a),this.logger.registerMonitor(t),this.logMessage(u.INFO,"Registered logger monitor for pretty console outputs.")}applyLocalStorageLogLevel(){let e=localStorage.getItem(this.logLevelStorageKey);if(!e)return void this.logMessage(u.DEBUG,"No log-level set in localStorage. Using environment log-level:",this.LogType[this.logger.getConfigSnapshot().level]);let t=parseInt(e,10);isNaN(t)&&(e=e.toUpperCase(),t=this.LogType.indexOf(e)),-1!==t?(this.logMessage(u.LOG,"Applying log-level from localStorage:",this.LogType[e]),this.setLogLevel(t)):this.logMessage(u.WARN,`Failed to apply log-level set in localStorage. The localStorage value for '${this.logLevelStorageKey}' is invalid:`,e)}setLogLevel(e){e<0||e>this.LogType.length?this.logMessage(u.ERROR,"Tried to set invalid log-level:",e):(this.logMessage(u.DEBUG,"Setting log-level to:",e),localStorage.setItem(this.logLevelStorageKey,e.toString()),this.logger.updateConfig(Object.assign(Object.assign({},this.logger.getConfigSnapshot()),{level:e})))}logMessage(e,t,...i){switch(e){case u.ERROR:this.logger.error(t,i);break;case u.DEBUG:this.logger.debug(t,i);break;case u.WARN:this.logger.warn(t,i);break;case u.INFO:this.logger.info(t,i);break;case u.FATAL:this.logger.fatal(t,i)}}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(s.Kf))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},91557:function(e,t,i){"use strict";i.d(t,{J:function(){return u}});var n=i(79765),s=i(66682),r=i(25917),o=i(22759),a=i(96736),c=i(87519),l=i(37716);let u=(()=>{class e{constructor(){this.searchStateSource=new n.xQ,this.updateSelectedEditItemsCountSource=new n.xQ,this.searchState$=this.searchStateSource.asObservable(),this.isOnline=!1,this.updateSelectedEditItemsCount$=this.updateSelectedEditItemsCountSource.asObservable(),this.isOnline$=(0,s.T)((0,r.of)(navigator.onLine),(0,o.R)(window,"online").pipe((0,a.h)(!0)),(0,o.R)(window,"offline").pipe((0,a.h)(!1))).pipe((0,c.x)()),this.isOnline$.subscribe(e=>{this.isOnline=e})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})()},69317:function(e,t,i){"use strict";i.d(t,{g:function(){return o}});var n=i(37716),s=i(29790),r=i(34280);let o=(()=>{class e{constructor(t,i){this.translateService=t,this.electronRichCallNotificationService=i,this.notifications=[],e.supportsNotifications()&&this.setStatus(Notification.permission)}setStatus(e){this.isGranted="granted"===e}requestPermission(){Notification.requestPermission(e=>{this.setStatus(e)})}showIncomingCall(t,i,n,s,r){if(this.electronRichCallNotificationService.isRichCallNotificationsSupported())this.electronRichCallNotificationService.showNotification({name:t,number:i,callId:n},s,r);else{const s=`${t||""} ${t?`(${i})`:i}`,r={callId:n},o={body:this.getInstantTranslation("notification.incoming-call"),icon:"/assets/person.png",requireInteraction:!0,data:r},a=new Notification(s,o);a.onclick=()=>{this.electronRichCallNotificationService.focusDesktopAppWindowOnNotification(),e.focusWindowAndCloseNotification(a)},this.addNotification(a)}}updateNotificationOnCrmCallback(e){this.electronRichCallNotificationService.updateNotification(e)}addNotification(e){this.notifications.push(e)}isAlreadyShowNotification(e){return this.notifications.some(t=>t.data.callId===e)}clearNotifications(t){this.notifications.forEach((i,n)=>{t.some(e=>e.callId===i.data.callId)||(e.closeNotification(i),this.notifications.splice(n,1))})}getInstantTranslation(e){return this.translateService.instant(e)}static supportsNotifications(){return"Notification"in window}static focusWindowAndCloseNotification(t){window.focus(),e.closeNotification(t)}static closeNotification(e){e.close()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.sK),n.LFG(r.I))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},59594:function(e,t,i){"use strict";i.d(t,{c:function(){return o}});var n=i(79765),s=i(37716),r=i(90625);let o=(()=>{class e{constructor(e,t){this.overlayContainer=e,this.rendererFactory=t,this.pushSource=new n.xQ,this.popSource=new n.xQ,this.onPush$=this.pushSource.asObservable(),this.onPop$=this.popSource.asObservable(),this.renderer=t.createRenderer(null,null)}push(e){this.pushSource.next(e)}pop(){this.popSource.next()}addClass(e){this.renderer.addClass(this.overlayContainer.getContainerElement(),e)}removeClass(e){this.renderer.removeClass(this.overlayContainer.getContainerElement(),e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.Xj),s.LFG(s.FYo))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},7208:function(e,t,i){"use strict";i.d(t,{x:function(){return n},Y:function(){return s}});var n=(()=>{return(e=n||(n={})).NOT_REGISTERED="not_registered",e.IDLE="idle",e.IN_USE="in-use",e.BUSY="busy",e.RINGING="ringing",e.CALL_WAITING="call-waiting",e.NOT_AVAILABLE="not_available",n;var e})(),s=(()=>{return(e=s||(s={})).CONFERENCE="conference",e.ICON="icon",e.TEXT="text",s;var e})()},64531:function(e,t,i){"use strict";i.d(t,{H:function(){return f}});var n=i(79765),s=i(9112),r=i(7208),o=i(39485),a=i(28049),c=i(37716),l=i(91841),u=i(13427),h=i(51233),d=i(51948),p=i(57158);let f=(()=>{class e{constructor(e,t,i,r,o){this.http=e,this.liteModeService=t,this.userService=i,this.busyLampEventStreamService=r,this.logger=o,this.isSecondaryDeviceInUseSource=new n.xQ,this.onPresenceStateChangedSource=new n.xQ,this.initialPresenceStatesLoaded=!1,this.presenceStates=[],this.onPresenceStateChanged$=this.onPresenceStateChangedSource.asObservable(),this.isSecondaryDeviceInUse$=this.isSecondaryDeviceInUseSource.asObservable(),(0,s.aj)([this.getExtensionsApi(),this.userService.userInfo$]).pipe((0,a.P)()).subscribe(([e,t])=>this.loadPresenceState(e,t),e=>{this.logger.error(e)})}getBusyLampFieldState(e){if(this.presenceStates[e])switch(this.presenceStates[e].status){case-1:return r.x.NOT_REGISTERED;case 0:return r.x.IDLE;case 1:return r.x.IN_USE;case 2:return r.x.BUSY;case 8:return r.x.RINGING;case 9:return r.x.CALL_WAITING}return r.x.NOT_REGISTERED}loadPresenceState(e,t){if(t&&t.activePhoneExtension){const i=t.activePhoneExtension.extensionNumber;this.presenceStates=e,this.presenceStates.length&&this.onSecondaryDeviceInUse(this.presenceStates[i].status),!this.initialPresenceStatesLoaded&&!this.liteModeService.isLiteMode()&&(this.updateOnPresenceStateChangedSource(!0),this.startPresenceStream(i)),this.initialPresenceStatesLoaded=!0}}startPresenceStream(e){this.busyLampEventStreamService.changeExtensionState$.subscribe(t=>{t.exten&&this.presenceStates[t.exten]&&(this.presenceStates[t.exten].status=t.status,this.updateOnPresenceStateChangedSource(!0),this.onSecondaryDeviceInUse(this.presenceStates[e].status))})}onSecondaryDeviceInUse(e){this.updateSecondaryDeviceInUseState(1===e)}updateSecondaryDeviceInUseState(e){this.isSecondaryDeviceInUseSource.next(e)}updateOnPresenceStateChangedSource(e){this.onPresenceStateChangedSource.next(e)}getExtensionsApi(){return this.http.get(`${o.N.VOICE_CONTROL_URL}/extensions/`)}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(l.eN),c.LFG(u.v),c.LFG(h.K),c.LFG(d.s),c.LFG(p.Kf))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e})()},44566:function(e,t,i){"use strict";i.d(t,{c:function(){return n},k:function(){return s}});var n=(()=>{return(e=n||(n={})).IncomingCall="incoming_call",e.Group="group",e.ForwardCallTo="forward_call_to",e.SelectCrm="select_crm",e.NoCrm="no_crm",n;var e})(),s=(()=>{return(e=s||(s={})).ACCEPT="accept",e.TERMINATE="terminate",e.VOICEMAIL="voicemail",s;var e})()},91856:function(e,t,i){"use strict";i.d(t,{r:function(){return c}});var n=i(26215),s=i(45435),r=i(88002),o=i(8307),a=i(37716);let c=(()=>{class e{constructor(e){this.router=e,this.routeChangedSource=new n.X(this.router.url),this.routeParamIdChangedSource=new n.X(0),this.routeChanged$=this.routeChangedSource.asObservable(),this.routeParamIdChanged$=this.routeParamIdChangedSource.asObservable(),this.listenForAvailableParamIdChanges().subscribe(e=>{this.routeParamIdChangedSource.next(e)})}updateRouteChangedSource(e){this.routeChangedSource.next(e)}listenForRouteChanges(){return this.router.events.pipe((0,s.h)(e=>e instanceof o.m2))}listenForAvailableParamIdChanges(){return this.router.events.pipe((0,s.h)(e=>e instanceof o.jw),(0,r.U)(e=>e.snapshot.params.id),(0,s.h)(e=>!isNaN(e)))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(o.F0))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2562:function(e,t,i){"use strict";i.d(t,{Y:function(){return r}});const n=[{name:"jabra",src:"https://gnaudio.github.io/jabra-browser-integration/JavaScriptLibrary/jabra.browser.integration-3.0.js"},{name:"jquery",src:"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"},{name:"plantronics",src:"https://pltdev.github.io/spokes.js"},{name:"plantronics-util",src:"https://pltdev.github.io/util.js"}];var s=i(37716);let r=(()=>{class e{constructor(){this.scripts={},n.forEach(e=>{this.scripts[e.name]={loaded:!1,src:e.src}})}load(...e){const t=[];return e.forEach(e=>t.push(this.loadScript(e))),Promise.all(t)}loadScript(e){return new Promise(t=>{if(this.scripts[e].loaded)t({script:e,loaded:!0,status:"Already Loaded"});else{const i=document.createElement("script");i.type="text/javascript",i.src=this.scripts[e].src,i.readyState?i.onreadystatechange=()=>{("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,this.scripts[e].loaded=!0,t({script:e,loaded:!0,status:"Loaded"}))}:i.onload=()=>{this.scripts[e].loaded=!0,t({script:e,loaded:!0,status:"Loaded"})},i.onerror=()=>t({script:e,loaded:!1,status:"Loaded"}),document.getElementsByTagName("head")[0].appendChild(i)}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},38294:function(e,t,i){"use strict";i.d(t,{o:function(){return a}});var n=i(79765),s=i(99385),r=i(37716),o=i(57158);let a=(()=>{class e{constructor(e){this.logger=e,this.isSearchResponseEmpty=!1,this.searchResponseEmptyButValidPhoneNumberSource=new n.xQ,this.isSearchingSource=new n.xQ,this.searchItemSource=new n.xQ,this.searchInputItemSource=new n.xQ,this.searchStringLengthAccumulator=0,this.searchResponseEmptyButValidPhoneNumber$=this.searchResponseEmptyButValidPhoneNumberSource.asObservable(),this.searchItem={searchString:""},this.searchItem$=this.searchItemSource.asObservable(),this.searchInputItem$=this.searchInputItemSource.asObservable(),this.isSearching$=this.isSearchingSource.asObservable()}setSearchItem(e){this.logger.debug("Searching for:",e.searchString),this.searchItem=e,this.searchInputItemSource.next(e)}setInputSearchItem(e){this.logger.debug("Searching for:",e.searchString),this.searchItem=e,this.searchItemSource.next(e)}searchViaDialpad(e,t=!1){this.logger.debug("Searching via dialpad for:",e),this.adjustSearchString(e,t),this.setSearchItem(this.searchItem)}doesSearchStringExist(){return!!this.searchItem.searchString}isSearchable(e){return!!this.previousSearchHasSuccess(e.length)||((0,s.e$)(e)&&this.emitValidPhoneNumber(e),!1)}setSearchingState(e){this.olderSearchString!==e&&(this.isSearchingSource.next(this.olderSearchString!==e),this.olderSearchString=e)}checkIsSearchResponseEmpty(e){e?(this.isSearchResponseEmpty=e.isSearchResponseEmpty,this.searchStringLengthAccumulator=e.searchStringLength):(this.logger.info("Search response is empty."),this.isSearchResponseEmpty=!1,this.searchStringLengthAccumulator=0)}resetSearchResponse(){this.checkIsSearchResponseEmpty(!1)}clearSearch(){this.logger.debug("Clearing search."),this.setSearchItem({searchString:""}),this.resetSearchResponse()}previousSearchHasSuccess(e){return!(this.isSearchResponseEmpty&&e>=this.searchStringLengthAccumulator||(e<this.searchStringLengthAccumulator&&(this.isSearchResponseEmpty=!1),0))}emitValidPhoneNumber(e){this.searchResponseEmptyButValidPhoneNumberSource.next(e)}adjustSearchString(e,t){t?this.searchItem.searchString=e:this.searchItem.searchString+=e}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.Kf))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},25304:function(e,t,i){"use strict";i.d(t,{Q:function(){return l}});var n=i(26215),s=i(46230),r=i(93137),o=i(37716),a=i(8225),c=function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())})};let l=(()=>{class e{constructor(e){this.devicesService=e,this.openVideoStreams=[],this.videoPreviewSource=new n.X(null),this.audioMeterSource=new n.X(0),this.audioContext=new AudioContext,this.videoPreview$=this.videoPreviewSource.asObservable(),this.audioMeter$=this.audioMeterSource.asObservable().pipe((0,r.p)(100)),this.videoConstraints={height:140,width:224}}updateVideoStream(e,t){return c(this,void 0,void 0,function*(){try{const i=this.videoPreviewSource.getValue();if(i&&i.getTracks()[0].getSettings().deviceId===e)return;i&&this.stopMediaStreamTracks(i);const n=yield navigator.mediaDevices.getUserMedia({audio:!1,video:Object.assign({deviceId:e},this.videoConstraints)});t.value?(this.stopMediaStreamTracks(n),this.videoPreviewSource.next(null)):(this.videoPreviewSource.next(n),this.stopOldVideoStreams(),this.openVideoStreams.push(n))}catch(i){throw this.videoPreviewSource.next(null),i}})}updateAudioInputStream(e,t){var i,n;return c(this,void 0,void 0,function*(){if(this.currentAudioStreamDeviceId!==e||!(null===(i=this.audioStream)||void 0===i?void 0:i.active)){this.audioMeterSource.next(0),null===(n=this.volumeAnalyser)||void 0===n||n.stop(),this.volumeAnalyser=s(this.audioContext,{tweenIn:2,tweenOut:6},e=>{this.audioMeterSource.next(e)}),this.audioStream&&this.stopMediaStreamTracks(this.audioStream);try{const i=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:e},video:!1});if(this.currentAudioStreamDeviceId=e,t.value)this.stopMediaStreamTracks(i),this.volumeAnalyser.stop();else{this.audioStream=i;const e=this.audioContext.createMediaStreamSource(i);e.connect(this.audioContext.createGain()),e.connect(this.volumeAnalyser),i.addEventListener("inactive",()=>this.volumeAnalyser.stop.bind(this.volumeAnalyser))}}catch(r){throw r}}})}stopStreams(){var e;const t=this.videoPreviewSource.getValue();t&&this.stopMediaStreamTracks(t),this.stopOldVideoStreams(),this.videoPreviewSource.next(null),this.audioStream&&this.stopMediaStreamTracks(this.audioStream),this.audioMeterSource.next(0),null===(e=this.volumeAnalyser)||void 0===e||e.stop()}checkVideoPermission(e){return c(this,void 0,void 0,function*(){let t,i;try{const n=this.devicesService.loadStoredVideoInputDevice(),s=yield navigator.mediaDevices.getUserMedia({audio:!1,video:Object.assign({deviceId:n?n.deviceId:void 0},this.videoConstraints)});e.value?(t=!0,i=!0,this.stopMediaStreamTracks(s)):(t=!0,i=!0,this.videoPreviewSource.next(s))}catch(n){t="NotAllowedError"===n.name,i="NotReadableError"===n.name}return yield this.devicesService.updateDeviceList(),{isSupported:t,hasPermission:i}})}stopOldVideoStreams(){this.openVideoStreams.forEach(e=>{this.stopMediaStreamTracks(e)}),this.openVideoStreams=[]}stopMediaStreamTracks(e){e.getTracks().forEach(e=>e.stop())}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.I))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},45832:function(e,t,i){"use strict";i.d(t,{E:function(){return c},c:function(){return l}});var n=i(37716),s=i(29790),r=i(77001),o=i(57158),a=i(59594),c=(()=>{return(e=c||(c={}))[e.Default=0]="Default",e[e.CinemaMode=1]="CinemaMode",e[e.CinemaModeWithSidebar=2]="CinemaModeWithSidebar",c;var e})();let l=(()=>{class e{constructor(e,t,i,n){this.translateService=e,this.matSnackBar=t,this.logger=i,this.overlayContainerService=n}open(e,t,i,n){return e=this.translateService.instant(e,n),t=t&&this.translateService.instant(t),this.logger.debug("Open Material snack-bar with config:",i),this.matSnackBar.open(e,t,i)}setMode(t){switch(this.overlayContainerService.removeClass(e.overlayCinemaModeClass),this.overlayContainerService.removeClass(e.overlayCinemaModeWithSideBarClass),t){case c.CinemaMode:this.overlayContainerService.addClass(e.overlayCinemaModeClass);break;case c.CinemaModeWithSidebar:this.overlayContainerService.addClass(e.overlayCinemaModeWithSideBarClass)}}openInfo(e,t,i,n,s){(!n||!n.duration)&&(n=Object.assign(Object.assign({},n),{duration:2e3})),t?setTimeout(()=>this.open(e,i,n,s),2e3):this.open(e,i,n,s)}openErrorInfo(e,t,i,n){(!i||!i.duration)&&(i=Object.assign(Object.assign({},i),{duration:5e3})),this.open(e,t,i,n)}dismiss(){this.matSnackBar.dismiss()}}return e.overlayCinemaModeClass="cdk-overlay-container--cinema-mode",e.overlayCinemaModeWithSideBarClass="cdk-overlay-container--cinema-mode-with-sidebar",e.\u0275fac=function(t){return new(t||e)(n.LFG(s.sK),n.LFG(r.ux),n.LFG(o.Kf),n.LFG(a.c))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},71188:function(e,t,i){"use strict";i.d(t,{V:function(){return r}});var n=i(28123),s=i(37716);let r=(()=>{class e{static getState(e,t){return n.Q.getCached(e,t)}static setSubscribedConferencesList(t){return n.Q.store(e.SUBSCRIBED_CONFERENCES,t)}static getSubscribedConferencesList(){return n.Q.getCached(e.SUBSCRIBED_CONFERENCES,!1)}static set dialpadVisible(t){n.Q.store(e.DIALPAD_VISIBLE,t,!1)}static get dialpadVisible(){return this.getState(e.DIALPAD_VISIBLE,!0)}static set ringerActive(t){n.Q.store(e.RINGER_ACTIVE,t,!1)}static get ringerActive(){return this.getState(e.RINGER_ACTIVE,!0)}static set doNotDisturb(t){n.Q.store(e.DO_NOT_DISTURB,t,!1)}static get doNotDisturb(){return this.getState(e.DO_NOT_DISTURB,!1)}static set currentTheme(t){n.Q.store(e.CURRENT_THEME,t,!1)}static get currentTheme(){return n.Q.getCached(e.CURRENT_THEME,"")}static set currentLanguage(t){n.Q.store(e.CURRENT_LANGUAGE,t,!1)}static get currentLanguage(){return n.Q.getCached(e.CURRENT_LANGUAGE,"en")}static set hasFaxAccess(t){n.Q.store(e.HAS_FAX_ACCESS,t,!1)}static get hasFaxAccess(){return n.Q.getCached(e.HAS_FAX_ACCESS,!1)}static set hasConferenceAccess(t){n.Q.store(e.HAS_CONFERENCE_ACCESS,t,!1)}static get hasConferenceAccess(){return n.Q.getCached(e.HAS_CONFERENCE_ACCESS,!1)}}return e.DIALPAD_VISIBLE="DIALPAD_VISIBLE",e.RINGER_ACTIVE="RINGER_ACTIVE",e.DO_NOT_DISTURB="DO_NOT_DISTURB",e.CURRENT_THEME="CURRENT_THEME",e.CURRENT_LANGUAGE="CURRENT_LANGUAGE",e.SUBSCRIBED_CONFERENCES="SUBSCRIBED_CONFERENCES",e.HAS_FAX_ACCESS="HAS_FAX_ACCESS",e.HAS_CONFERENCE_ACCESS="HAS_CONFERENCE_ACCESS",e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},28859:function(e,t,i){"use strict";i.d(t,{l:function(){return l}});var n=i(66682),s=i(25917),r=i(22759),o=i(96736),a=i(87519),c=i(37716);let l=(()=>{class e{constructor(){this.isOnline=!1,this.isOnline$=(0,n.T)((0,s.of)(navigator.onLine),(0,r.R)(window,"online").pipe((0,o.h)(!0)),(0,r.R)(window,"offline").pipe((0,o.h)(!1))).pipe((0,a.x)()),this.isOnline$.subscribe(e=>{this.isOnline=e})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e})()},53010:function(e,t,i){"use strict";i.d(t,{y:function(){return s}});var n=i(17564);const s=[{value:n.B.BTItaliaTheme,label:"BTItalia",assetFolder:"btitalia",host:/btnextevolution/i},{value:n.B.ChessTheme,label:"CHESS",assetFolder:"chesscloudpbx",host:/chesscloudpbx/i},{value:n.B.CentrexxTheme,label:"centrexx",assetFolder:"centrexx",host:/deutsche-telefon/i},{value:n.B.CloudyaTheme,label:"Cloudya",assetFolder:"cloudya",host:/cloudya/i},{value:n.B.DFNTheme,label:"DFN",assetFolder:"dfn",host:/dfn/i},{value:n.B.DialogTelekomTheme,label:"DIALOG telekom",assetFolder:"dialogtelekom",host:/dialog-vt/i},{value:n.B.HostProfisTheme,label:"HostProfis",assetFolder:"hostprofis",host:/hostprofis/i},{value:n.B.O2Theme,label:"O2",assetFolder:"o2",host:/digitalphone/i},{value:n.B.SunriseTheme,label:"Sunrise",assetFolder:"sunrise",host:/sunrise/i},{value:n.B.TelekomTheme,label:"Telekom",assetFolder:"telekom",host:/telekom/i}]},17564:function(e,t,i){"use strict";i.d(t,{B:function(){return n}});var n=(()=>{return(e=n||(n={})).BTItaliaTheme="bt-italia-theme",e.ChessTheme="chess-theme",e.CentrexxTheme="centrexx-theme",e.CloudyaTheme="cloudya-theme",e.DFNTheme="dfn-theme",e.DialogTelekomTheme="dialog-telekom-theme",e.HostProfisTheme="host-profis-theme",e.O2Theme="o2-theme",e.SunriseTheme="sunrise-theme",e.TelekomTheme="telekom-theme",n;var e})()},77402:function(e,t,i){"use strict";i.d(t,{V:function(){return n}});const n="CSS_HASH"},39249:function(e,t,i){"use strict";i.d(t,{f:function(){return c}});var n=i(71188),s=i(17564),r=i(53010),o=i(77402),a=i(37716);let c=(()=>{class e{constructor(){this.defaultTheme=s.B.CloudyaTheme,this.host=window.location.host,this.styleSheet=document.head.querySelector("#theme-stylesheet"),this.themes=r.y,this.init()}init(){this.setFavicon()}changeTheme(e){document&&(document.body.className=e),n.V.currentTheme=e,this.setStyleSheet(e)}getTheme(){if(this.isDevHost||window.e2e)return n.V.currentTheme||this.defaultTheme;for(const e of this.themes)if(this.host.match(e.host))return e.value;return this.defaultTheme}getThemeLabel(){return this.currentTheme.label}setFavicon(){if(document){const e=document.getElementById("favicon");e&&(e.href=`${this.assetPath}/logo/favicon.ico`)}}setStyleSheet(e){this.styleSheet&&(this.styleSheet.getAttribute("href").indexOf(e)>-1||this.styleSheet.setAttribute("href",`${e}.${o.V}.css`))}get assetPath(){return`assets/theme-images/${this.currentTheme.assetFolder}`}get isDevHost(){return this.host.match(/localhost|start-test/i)}get isCloudyaTheme(){return this.getTheme()===s.B.CloudyaTheme}get currentTheme(){return this.themes.find(e=>e.value===this.getTheme())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},50614:function(e,t,i){"use strict";i.d(t,{$:function(){return r}});var n=i(28123),s=i(37716);let r=(()=>{class e{constructor(){this.cacheKey="function-key"}getNameByExtension(e){const t=n.Q.getCached("userinfo",null);if(t&&t.user&&t.activePhoneExtension.inboundPhoneNumbers.length){const i=this.formatInboundPhoneNumbers(t),n=this.isExtensionNumberBelongsToCurrentUser(e,i);if(e&&n)return`${t.user.firstname} ${t.user.lastname}`}}getNameByFunctionKey(e){const t=n.Q.getCached(this.cacheKey,"");if(t&&t.length>0)return this.findInList(t,e)}findInList(e,t){const i=e.find(e=>null!==e.FORMAT_PLAIN&&e.FORMAT_PLAIN.replace(/\s/g,"").substring(3)===t.replace(/\s/g,"").substring(3));return i&&i.DISPLAY_NAME?i.DISPLAY_NAME:t}formatInboundPhoneNumbers(e){const t=[];return e.activePhoneExtension.inboundPhoneNumbers.map(i=>{t.push(i.replace(/\(\d{3}-\d{3}\)/g,e.activePhoneExtension.extensionNumber).replace(/[^+0-9$]/g,"").replace(/^00/g,"+"))}),t}isExtensionNumberBelongsToCurrentUser(e,t){if(e)for(const i of t)if(i===e.replace(/\s/g,""))return!0;return!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},1933:function(e,t,i){"use strict";i.d(t,{H:function(){return l}});var n=i(26215),s=i(9112),r=i(88002),o=i(87519),a=i(37716),c=i(25791);let l=(()=>{class e{constructor(e){this.guestService=e,this.isSidebarOpenSource=new n.X(!1),this.isSidebarOpen$=this.isSidebarOpenSource.asObservable(),this.isInCinemaModeSource=new n.X(!1),this.isInCinemaMode$=(0,s.aj)([this.isInCinemaModeSource.asObservable(),this.guestService.isGuest$]).pipe((0,r.U)(([e,t])=>e||t),(0,o.x)())}enterCinemaMode(){this.isInCinemaModeSource.next(!0)}exitCinemaMode(){this.isInCinemaModeSource.next(!1)}toggleSidebar(){this.isSidebarOpenSource.next(!this.isSidebarOpenSource.getValue())}openSidebar(){this.isSidebarOpenSource.next(!0)}closeSidebar(){this.isSidebarOpenSource.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.Q))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},45342:function(e,t,i){"use strict";i.d(t,{n:function(){return o}});var n=i(17564),s=i(12286),r=i(41023);const o={[n.B.BTItaliaTheme]:{copyrightTranslation:"app.copyright_btitalia",downloadableAppList:{productTitle:"BT Next Evolution",desktopAppItems:[],mobileAppItems:[{os:"android",link:"https://play.google.com/store/apps/details?id=MISSING"},{os:"ios",link:"https://apps.apple.com/de/app/MISSING/MISSING"}]},isPoweredByLogoShown:!1,isPoweredByLogoShownUserInfo:!1,languages:["it","en"],legalLinks:[{name:"imprint",url:"https://www.globalservices.bt.com/pmi/it/footer_links/legal_disclaimer",e2e:"__imprint"},{name:"data_protection",url:"https://www.globalservices.bt.com/pmi/it/footer_links/privacy_policy",e2e:"__data-protection"},{name:"gtc_sla",url:"https://www.globalservices.bt.com/it/legal/documenti-utili",e2e:"__terms-and-conditions"}],login:{links:[{name:"Documentation",url:{default:"https://my.btnextevolution.it/it/",en:"https://my.btnextevolution.it/en/"},e2e:"__documentation"},{name:"Downloads",url:{default:"https://my.btnextevolution.it/it/downloads",en:"https://my.btnextevolution.it/en/downloads"},e2e:"__downloads"}],portalLinks:[{name:"Administration_portal",url:"https://portal.btnextevolution.it/",iconName:"extension",e2e:"__admin-portal"}],isShowPortalMenu:!0},sidenav:{logoHidden:!0},logo:[{location:["auth-header","auth__advertisement__image"],name:"logo--white"}],meetingPerUser:"Meet & Share Plus"},[n.B.ChessTheme]:{copyrightTranslation:"app.copyright_chess",downloadableAppList:{productTitle:"Cloud PBX",desktopAppItems:[{os:"Windows",title:`cloud_pbx-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,link:`https://cdn.cloudya.com/cloud_pbx-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,e2e:"__desktop-app-windows-download"},{os:"Windows",title:`cloud_pbx-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,link:`https://cdn.cloudya.com/cloud_pbx-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,e2e:"__desktop-app-windows-crm-download"},{os:"Mac",title:`cloud_pbx-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,link:`https://cdn.cloudya.com/cloud_pbx-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,e2e:"__desktop-app-mac-download"}],mobileAppItems:[{os:"android",link:"https://play.google.com/store/apps/details?id=mobile.app.chesscloudpbx"},{os:"ios",link:"https://apps.apple.com/us/app/chess-cloud-pbx/id1478414865?l=de&ls=1"}]},isPoweredByLogoShown:!1,isPoweredByLogoShownUserInfo:!0,legalLinks:[{name:"imprint",url:"https://chessict.co.uk/media/1981/chess-limited-legal-notices.pdf",e2e:"__imprint"},{name:"data_protection",url:"https://chessict.co.uk/media/2163/group-privacy-policy-external-qapd12112sept20.pdf",e2e:"__data-protection"},{name:"gtc_sla",url:"https://chessict.co.uk/media/1948/200616_general-conditions_chess-group.pdf",e2e:"__terms-and-conditions"}],login:{links:[{name:"Documentation",url:"https://mypbx.chesscloudpbx.com/documentation/",e2e:"__documentation"},{name:"Downloads",url:"https://mypbx.chesscloudpbx.com/downloads/",e2e:"__downloads"}],portalLinks:[{name:"Admin_portal",url:"https://admin.chesscloudpbx.com/",iconName:"extension",e2e:"__admin-portal"},{name:"pbx_portal",url:"https://mypbx.chesscloudpbx.com/en/",iconName:"settings_solid",e2e:"__reporting-portal"},{name:"contact_us",url:"https://chessict.co.uk/company#getInTouch",iconName:"email",e2e:"__contact"}],isShowPortalMenu:!0},logo:[{location:["auth__advertisement__image","info-page"],name:"logo--blue"}],meetingPerUser:"Meet & Share Plus",letterCaseSettings:{letterCase:r.V.Uppercase}},[n.B.CentrexxTheme]:{copyrightTranslation:"app.copyright_centrexx",downloadableAppList:{productTitle:"centrexx",desktopAppItems:[{os:"Windows",title:`centrexx-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,link:`https://cdn.cloudya.com/centrexx-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,e2e:"__desktop-app-windows-download"},{os:"Mac",title:`centrexx-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,link:`https://cdn.cloudya.com/centrexx-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,e2e:"__desktop-app-mac-download"}],mobileAppItems:[{os:"android",link:"https://play.google.com/store/apps/details?id=app.centrexx.deutschetelefonstandard"},{os:"ios",link:"https://apps.apple.com/de/app/centrexx/id1564049292"}]},isPoweredByLogoShown:!1,isPoweredByLogoShownUserInfo:!1,languages:["de","en"],legalLinks:[{name:"imprint",url:"https://www.deutsche-telefon.de/impressum.html",e2e:"__imprint"},{name:"data_protection",url:"https://www.deutsche-telefon.de/datenschutzhinweise.html",e2e:"__data-protection"},{name:"gtc_sla",url:"https://www.deutsche-telefon.de/allgemeine-geschaeftsbedingungen.html",e2e:"__terms-and-conditions"}],login:{links:[{name:"Documentation",url:{default:"https://doc.deutsche-telefon.de/de/dokumentation/handbuecher",en:"https://doc.deutsche-telefon.de/en/documentation/manuals"},e2e:"__documentation"},{name:"Downloads",url:{default:"https://doc.deutsche-telefon.de/de/downloads",en:"https://doc.deutsche-telefon.de/en/downloads"},e2e:"__downloads"}],portalLinks:[{name:"Administration_portal",url:"https://admin.deutsche-telefon.de",iconName:"extension",e2e:"__admin-portal"}],isShowPortalMenu:!0},logo:[{location:["auth__advertisement__image","info-page"],name:"logo--yellow"}],meetingPerUser:"Meet & Share Plus",letterCaseSettings:{letterCase:r.V.Uppercase}},[n.B.CloudyaTheme]:{copyrightTranslation:"app.copyright_cloudya",downloadableAppList:{productTitle:"Cloudya",desktopAppItems:[{os:"Windows",title:`cloudya-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,link:`https://cdn.cloudya.com/cloudya-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,e2e:"__desktop-app-windows-download"},{os:"Windows - CRM Connect",title:`cloudya-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,link:`https://cdn.cloudya.com/cloudya-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,e2e:"__desktop-app-windows-crm-download"},{os:"Mac",title:`cloudya-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,link:`https://cdn.cloudya.com/cloudya-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,e2e:"__desktop-app-mac-download"}],mobileAppItems:[{os:"android",link:"https://play.google.com/store/apps/details?id=com.nfon.cloudya"},{os:"ios",link:"https://apps.apple.com/de/app/cloudya/id1277085827"}]},isPoweredByLogoShown:!1,isPoweredByLogoShownUserInfo:!1,legalLinks:[{name:"imprint",url:"https://www.nfon.com/legal-notice/",e2e:"__imprint"},{name:"data_protection",url:"https://www.nfon.com/data-disclaimer/",e2e:"__data-protection"},{name:"gtc_sla",url:"https://www.nfon.com/gtc",e2e:"__terms-and-conditions"}],login:{links:[{name:"Documentation",url:"https://www.mynfon.com/documentation/",e2e:"__documentation"},{name:"Downloads",url:{default:"https://www.nfon.com/en/service/downloads/",de:"https://www.nfon.com/de/service/downloads/",en:"https://www.nfon.com/en/service/downloads",es:"https://www.nfon.com/es/servicio/descargas",fr:"https://www.nfon.com/fr/service/telechargements",it:"https://www.nfon.com/it/supporto/downloads",nl:"https://www.nfon.com/nl/service/downloads",pl:"https://www.nfon.com/pl/serwis/pliki-do-pobrania",ro:"https://www.nfon.com/ro/serviciu/descarcari"},e2e:"__downloads"}],portalLinks:[{name:"Administration_portal",url:"https://portal.nfon.com/",iconName:"extension",e2e:"__admin-portal"},{name:"Reporting_portal",url:"https://reporting.nfon.com/",iconName:"cdr",e2e:"__reporting-portal"}],isShowPortalMenu:!0,isOneColumnLayout:!0,productName:"cloudya"},logo:[{location:["sidenav__footer","auth-header"],name:"nfon-logo"}],meetingPerUser:"Meet & Share Plus"},[n.B.DFNTheme]:{copyrightTranslation:"app.copyright_DFN",downloadableAppList:{productTitle:"DFN VoIP-Centrex",desktopAppItems:[{os:"Windows",title:`dfn_voip-centrex-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,link:`https://cdn.cloudya.com/dfn_voip-centrex-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,e2e:"__desktop-app-windows-download"},{os:"Windows",title:`dfn_voip-centrex-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,link:`https://cdn.cloudya.com/dfn_voip-centrex-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,e2e:"__desktop-app-windows-crm-download"},{os:"Mac",title:`dfn_voip-centrex-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,link:`https://cdn.cloudya.com/dfn_voip-centrex-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,e2e:"__desktop-app-mac-download"}],mobileAppItems:[{os:"android",link:"https://play.google.com/store/apps/details?id=mobile.app.dfn.voipcentrex"},{os:"ios",link:"https://apps.apple.com/de/app/dfn-voip-centrex/id1479962246"}]},isPoweredByLogoShown:!1,legalLinks:[{name:"imprint",url:"https://www.dfn.de/impressum/",e2e:"__imprint"},{name:"data_protection",url:{default:"https://voip-centrex.dfn.de/de/datenschutz",en:"https://voip-centrex.dfn.de/en/data-privacy"},e2e:"__data-protection"}],login:{links:[{name:"Documentation",url:"https://voip-centrex.dfn.de/handbuecher/",e2e:"__documentation"},{name:"Downloads",url:"https://voip-centrex.dfn.de/downloads/",e2e:"__downloads"}],isOneColumnLayout:!1,portalLinks:[{name:"Admin_portal",url:"https://portal.voip-centrex.dfn.de",iconName:"extension",e2e:"__admin-portal"}],isShowPortalMenu:!1,isHiddenReportingPortalUrl:!1},logo:[{fileType:"png",location:["auth__advertisement__image"],name:"logo"},{fileType:"png",location:["info-page"],name:"dfn"}],meetingPerUser:"Meet & Share Plus"},[n.B.DialogTelekomTheme]:{copyrightTranslation:"app.copyright_dialogtelekom",downloadableAppList:{productTitle:"VT-DIALOG telekom",desktopAppItems:[{os:"Windows",title:`vt-dialog_telekom-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,link:`https://cdn.cloudya.com/vt-dialog_telekom-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,e2e:"__desktop-app-windows-download"},{os:"Windows",title:`vt-dialog_telekom-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,link:`https://cdn.cloudya.com/vt-dialog_telekom-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,e2e:"__desktop-app-windows-crm-download"},{os:"Mac",title:`vt-dialog_telekom-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,link:`https://cdn.cloudya.com/vt-dialog_telekom-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,e2e:"__desktop-app-mac-download"}],mobileAppItems:[{os:"android",link:"https://play.google.com/store/apps/details?id=mobile.app.dialogtelekom.vt"},{os:"ios",link:"https://apps.apple.com/de/app/id1482751499"}]},isPoweredByLogoShown:!1,legalLinks:[{name:"imprint",url:"https://www.dialog-telekom.at/impressum/",e2e:"__imprint"},{name:"data_protection",url:"https://www.dialog-telekom.at/datenschutz/",e2e:"__data-protection"},{name:"gtc_sla",url:"https://www.dialog-telekom.at/agb/",e2e:"__terms-and-conditions"}],login:{links:[{name:"Documentation",url:"http://dialog-telekom.kommunikations-dienste.de/dokumentation/",e2e:"__documentation"},{name:"Downloads",url:"http://dialog-telekom.kommunikations-dienste.de/downloads/",e2e:"__downloads"}],portalLinks:[{name:"Admin_portal",url:"https://serviceportal.dialog-vt.at",iconName:"extension",e2e:"__admin-portal"}],isShowPortalMenu:!0,isHiddenReportingPortalUrl:!1,isHiddenMainLogo:!0},logo:[{fileType:"png",location:["info-page"],name:"dialog-Telekom"},{location:["auth__advertisement__image"],hide:!0},{location:["sidenav__footer","drawer__footer"],name:"logo--condensed"}],meetingPerUser:"Meet & Share Plus",letterCaseSettings:{letterCase:r.V.Capitalize,ignoreKeyList:["gtc_sla","settings.user.admin.switch","admin.user_edit.permissions.customer_right_administration.title"]}},[n.B.HostProfisTheme]:{copyrightTranslation:"app.copyright_hostprofis",downloadableAppList:{productTitle:"CloudFon",desktopAppItems:[{os:"Windows",title:`cloudfon-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,link:`https://cdn.cloudya.com/cloudfon-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,e2e:"__desktop-app-windows-download"},{os:"Windows",title:`cloudfon-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,link:`https://cdn.cloudya.com/cloudfon-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,e2e:"__desktop-app-windows-crm-download"},{os:"Mac",title:`cloudfon-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,link:`https://cdn.cloudya.com/cloudfon-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,e2e:"__desktop-app-mac-download"}],mobileAppItems:[{os:"android",link:"https://play.google.com/store/apps/details?id=app.cloudfon.hostprofis"},{os:"ios",link:"https://apps.apple.com/at/app/cloudfon/id1509666777?app=itunes&ign-mpt=uo%3D4"}]},isPoweredByLogoShown:!1,isPoweredByLogoShownUserInfo:!1,languages:["de","en"],legalLinks:[{name:"imprint",url:"https://www.hostprofis.com/web/impressum",e2e:"__imprint"},{name:"data_protection",url:"https://www.hostprofis.com/web/data-protection",e2e:"__data-protection"},{name:"gtc_sla",url:"https://www.hostprofis.com/web/legal/terms",e2e:"__terms-and-conditions"}],login:{links:[{name:"Documentation",url:{default:"http://hostprofis.nfon-manuals.webseiten.cc/de/documentation/",en:"http://hostprofis.nfon-manuals.webseiten.cc/en/documentation/"},e2e:"__documentation"},{name:"Downloads",url:{default:"http://hostprofis.nfon-manuals.webseiten.cc/de/downloads/",en:"http://hostprofis.nfon-manuals.webseiten.cc/en/downloads/"},e2e:"__downloads"}],portalLinks:[{name:"Admin_portal",url:"https://xportal.hostprofis.at",iconName:"extension",e2e:"__admin-portal"},{name:"Reporting_portal",url:"https://www.hostprofis.com/web/login",iconName:"cdr",e2e:"__reporting-portal"}],isShowPortalMenu:!0,isOneColumnLayout:!0},logo:[{location:["auth__advertisement__image","info-page"],name:"logo--blue"}],meetingPerUser:"Meet & Share Plus",letterCaseSettings:{letterCase:r.V.Uppercase}},[n.B.O2Theme]:{copyrightTranslation:"app.copyright_o2",contactCallIcon:"contact_call",iconInfos:[{key:"dialCallButton",iconName:"call",size:"medium"},{key:"callModal",iconName:"call_modal",size:"small"}],downloadableAppList:{productTitle:"Digital Phone",desktopAppItems:[{os:"Windows",title:`digital_phone-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,link:`https://cdn.cloudya.com/digital_phone-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,e2e:"__desktop-app-windows-download"},{os:"Windows",title:`digital_phone-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,link:`https://cdn.cloudya.com/digital_phone-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,e2e:"__desktop-app-windows-crm-download"},{os:"Mac",title:`digital_phone-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,link:`https://cdn.cloudya.com/digital_phone-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,e2e:"__desktop-app-mac-download"}],mobileAppItems:[{os:"android",link:"https://play.google.com/store/apps/details?id=app.digitalphone.o2business"},{os:"ios",link:"https://apps.apple.com/de/app/digital-phone/id1454365864"}]},isPoweredByLogoShown:!1,isLoginLogoInFooter:!0,legalLinks:[{name:"imprint",url:"https://www.o2online.de/business/recht/impressum/",e2e:"__imprint"},{name:"data_protection",url:"https://www.o2business.de/recht/datenschutz/",e2e:"__data-protection"},{name:"gtc_sla",url:"https://www.o2online.de/business/recht/agb/",e2e:"__terms-and-conditions"}],login:{links:[{name:"Documentation",url:"https://my.digitalphone.o2business.de/dokumentation/",e2e:"__documentation"},{name:"Downloads",url:"https://my.digitalphone.o2business.de/downloads/",e2e:"__downloads"}],portalLinks:[{name:"Admin_portal",url:"https://admin.digitalphone.o2business.de/de/",iconName:"extension",e2e:"__admin-portal"},{name:"Reporting_portal",url:"https://evn.digitalphone.o2business.de/",iconName:"cdr",e2e:"__reporting-portal"}],isOneColumnLayout:!0,isShowPortalMenu:!0},logo:[{location:["info-page"],name:"logo--blue"}],meetingPerUser:"Meet & Share Plus",guestLandingImage:"/assets/theme-images/o2/guest/portal.svg",letterCaseSettings:{letterCase:r.V.Uppercase,ignoreKeyList:["gtc_sla","imprint","data_protection","Documentation","Downloads"]}},[n.B.SunriseTheme]:{copyrightTranslation:"app.copyright_sunrise",downloadableAppList:{productTitle:"Sunrise Cloud PBX",desktopAppItems:[{os:"Windows",title:`sunrise_cloud_pbx-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,link:`https://cdn.cloudya.com/sunrise_cloud_pbx-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,e2e:"__desktop-app-windows-download"},{os:"Windows",title:`sunrise_cloud_pbx-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,link:`https://cdn.cloudya.com/sunrise_cloud_pbx-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,e2e:"__desktop-app-windows-crm-download"},{os:"Mac",title:`sunrise_cloud_pbx-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,link:`https://cdn.cloudya.com/sunrise_cloud_pbx-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,e2e:"__desktop-app-mac-download"}],mobileAppItems:[{os:"android",link:"https://play.google.com/store/apps/details?id=mobile.app.sunrise.cloudpbx"},{os:"ios",link:"https://apps.apple.com/us/app/sunrise-cloud-pbx/id1454234071?l=de&ls=1"}]},isPoweredByLogoShown:!0,isPoweredByLogoShownUserInfo:!0,languages:["de","en","fr","it"],legalLinks:[{name:"data_protection",url:{default:"https://www.sunrise.ch/ds",en:"https://www.sunrise.ch/dp",fr:"https://www.sunrise.ch/dc",it:"https://www.sunrise.ch/pd"},e2e:"__data-protection"},{name:"imprint",url:{default:"https://www.sunrise.ch/de/impressum",en:"https://www.sunrise.ch/en/impressum",fr:"https://www.sunrise.ch/fr/impressum",it:"https://www.sunrise.ch/it/impressum"},e2e:"__imprint"},{name:"gtc_sla",url:{default:"https://www.sunrise.ch/agb-business",en:"https://www.sunrise.ch/gtc-business",fr:"https://www.sunrise.ch/cgv-business",it:"https://www.sunrise.ch/it/business/legal.html"},e2e:"__terms-and-conditions"}],login:{links:[{name:"Documentation",url:"https://home.cpbx.sunrise.ch/dokumentation/",e2e:"__documentation"},{name:"Downloads",url:"https://home.cpbx.sunrise.ch/downloads/",e2e:"__downloads"}],portalLinks:[{name:"Admin_portal",url:"https://serviceportal.cpbx.sunrise.ch/",iconName:"extension",e2e:"__admin-portal"},{name:"Business_portal",url:{default:"https://www.sunrise.ch/sbp",en:"https://www.sunrise.ch/sbp",fr:"https://www.sunrise.ch/sbp",it:"https://www.sunrise.ch/sbp"},iconName:"cdr",e2e:"__reporting-portal"}],isOneColumnLayout:!0,isShowPortalMenu:!0},logo:[{location:["auth-header","info-page"],name:"logo--red"}],headerInfo:"Hotline 0800 707 700",meetingPerUser:"Meet & Share Plus",letterCaseSettings:{letterCase:r.V.Uppercase}},[n.B.TelekomTheme]:{copyrightTranslation:"app.copyright_telekom",downloadableAppList:{productTitle:"UCC Cloud",desktopAppItems:[{os:"Windows",title:`ucc_cloud-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,link:`https://cdn.cloudya.com/ucc_cloud-${s.k.DESKTOP_APP_WIN_VERSION}-win.zip`,e2e:"__desktop-app-windows-download"},{os:"Windows",title:`ucc_cloud-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,link:`https://cdn.cloudya.com/ucc_cloud-${s.k.DESKTOP_APP_WIN_VERSION}-crm-win.zip`,e2e:"__desktop-app-windows-crm-download"},{os:"Mac",title:`ucc_cloud-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,link:`https://cdn.cloudya.com/ucc_cloud-${s.k.DESKTOP_APP_MAC_VERSION}-mac.zip`,e2e:"__desktop-app-mac-download"}],mobileAppItems:[{os:"android",link:"https://play.google.com/store/apps/details?id=mobile.app.nfon.tsystems"},{os:"ios",link:"https://apps.apple.com/de/app/ucc-cloud/id1479964758"}]},isPoweredByLogoShown:!1,isPoweredByLogoShownUserInfo:!1,isLogoInFooter:!0,languages:["de","en"],legalLinks:[{name:"imprint",url:{default:"https://my.nfon.telekom.net/de/imprint",en:"https://my.nfon.telekom.net/en/imprint"},e2e:"__imprint"},{name:"data_protection",url:{default:"https://my.nfon.telekom.net/de/data-privacy",en:"https://my.nfon.telekom.net/en/data-privacy"},e2e:"__data-protection"}],login:{isMultipleHeader:!0,links:[{name:"themes.telekom.customer_centre",url:{default:"https://my.nfon.telekom.net/de/",en:"https://my.nfon.telekom.net/en/"},e2e:"__customer_centre"},{name:"themes.telekom.configuration",url:{default:"https://admin.nfon.telekom.net/de/",en:"https://admin.nfon.telekom.net/en"},e2e:"__admin-portal"},{name:"themes.telekom.downloads",url:{default:"https://my.nfon.telekom.net/de/downloads",en:"https://my.nfon.telekom.net/en/downloads"},e2e:"__downloads"},{name:"themes.telekom.documentation",url:{default:"https://my.nfon.telekom.net/de/dokumentation",en:"https://my.nfon.telekom.net/en/documentation/manuals"},e2e:"__documentation"}],isHiddenLanguageIcon:!0,isOneColumnLayout:!0,isShowPortalMenu:!1,inputMode:"outline",isHiddenReportingPortalUrl:!0},logo:[{location:["info-page"],name:"logo--magenta"},{location:["sidebar__footer","drawer__footer"],hide:!0}],settingsCallforwardingAlwaysShowArrow:!0,sidenav:{logoHidden:!0},meetingPerUser:"Meet & Share Plus",letterCaseSettings:{letterCase:r.V.Capitalize,ignoreKeyList:["gtc_sla","settings.user.admin.switch","admin.user_edit.permissions.customer_right_administration.title"]}}}},90971:function(e,t,i){"use strict";i.d(t,{D:function(){return a}});var n=i(45342),s=i(37716),r=i(97574),o=i(39249);let a=(()=>{class e{constructor(e,t){this.helpersService=e,this.themeService=t}getCustomLogo(e){if(e&&this.data.logo)return this.data.logo.find(t=>t.location.includes(e))}getLinkForLanguage(e,t){return"object"==typeof e.url&&null!==e.url&&(e.url=e.url[t]||e.url.default),e}get data(){return n.n[this.themeService.getTheme()]}get isHiddenReportingPortal(){const e=this.data;return!!(e&&e.login&&e.login.isHiddenReportingPortalUrl)&&e.login.isHiddenReportingPortalUrl}get inputMode(){const e=this.data;return e.login&&e.login.inputMode?e.login.inputMode:"legacy"}get size(){return this.helpersService.getDeepProperty(this.data,"login.buttonSize")||"button--fullwidth"}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.$),s.LFG(o.f))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},86900:function(e,t,i){"use strict";i.d(t,{V:function(){return m}});var n=i(26215),s=i(47349),r=i(88002),o=i(68307),a=i(78345),c=i(11223),l=i(75382),u=i(42061),h=i(32502),d=i(39485),p=i(37716),f=i(91841);let m=(()=>{class e{constructor(e){this.httpClient=e,this.profilesSource=new n.X([]),this.profiles$=this.profilesSource.asObservable().pipe((0,s.d)(1)),this.activeProfile$=this.profiles$.pipe((0,r.U)(e=>e.find(e=>e.active)||e[0])),this.profilesLength$=this.profiles$.pipe((0,r.U)(e=>e.length)),this.isCallForwardingActive$=this.activeProfile$.pipe((0,r.U)(e=>this.isUnconditionalForwardingActive(e))),this.getList().subscribe()}getList(){return this.httpClient.get(this.apiCallForwardsProfiles).pipe((0,r.U)(l.y.parseMultiple),(0,o.b)(e=>{this.profilesSource.next(e)}),(0,a.B)())}addPhoneNumber(e,t){const i=e.replace(/\+/,"00");return this.httpClient.post(`${this.apiPhoneNumber}${t?"?prefix=1":""}`,{phonenumber:i}).pipe((0,r.U)(e=>this.mapPhonenumber2Destination(e)))}getInitDestinations(){return this.httpClient.get(this.apiCallForwardsDestinationsInit).pipe((0,r.U)(c.R.parseMultiple))}getAvailableDestinations(e={page:1,perPage:25}){let t=this.apiCallForwardsDestinationsAll;const i=[];return e.page&&i.push(`page=${e.page}`),e.perPage&&i.push(`per-page=${e.perPage}`),e.search&&i.push(`search=${encodeURIComponent(e.search)}`),e.sort&&i.push(`sort=${e.sort}`),e.filter&&i.push(`filter=${e.filter}`),t+=`?${i.join("&")}`,this.httpClient.get(t).pipe((0,r.U)(c.R.parseMultiple))}createRule(e){return this.httpClient.post(`${this.apiCallForwardsProfiles}/${e.profileId}/rules`,e.json()).pipe((0,r.U)(u.h.parseSingle),(0,h.d)(this.getList()))}updateRule(e){return this.httpClient.put(`${this.apiCallForwardsProfiles}/${e.profileId}/rules/${e.id}`,e.json()).pipe((0,r.U)(u.h.parseSingle),(0,h.d)(this.getList()))}deleteRule(e){return this.httpClient.delete(`${this.apiCallForwardsProfiles}/${e.profileId}/rules/${e.id}`).pipe((0,h.d)(this.getList()))}activateProfile(e){return this.httpClient.put(`${this.apiCallForwardsProfiles}/${e.id}/activate`,null).pipe((0,r.U)(l.y.parseSingle),(0,h.d)(this.getList()))}createProfile(e){return this.httpClient.post(this.apiCallForwardsProfiles,e.json()).pipe((0,r.U)(l.y.parseSingle),(0,h.d)(this.getList()))}updateProfile(e){return this.httpClient.put(`${this.apiCallForwardsProfiles}/${e.id}`,e.json()).pipe((0,r.U)(l.y.parseSingle),(0,h.d)(this.getList()))}deleteProfile(e){return this.httpClient.delete(`${this.apiCallForwardsProfiles}/${e.id}`).pipe((0,h.d)(this.getList()))}mapPhonenumber2Destination(e){return new c.R(e.object)}isUnconditionalForwardingActive(e){var t,i;return!!(e&&e.rules&&(null===(t=e.rules[0].unconditional)||void 0===t?void 0:t.active)&&(null===(i=e.rules[0].unconditional.destination)||void 0===i?void 0:i.afdId))}get apiPhoneNumber(){return`${d.N.API_URL}/phonenumber`}get apiCallForwards(){return`${d.N.API_URL}/callforwards`}get apiCallForwardsProfiles(){return`${this.apiCallForwards}/profiles`}get apiCallForwardsDestinations(){return`${this.apiCallForwards}/destinations`}get apiCallForwardsDestinationsInit(){return`${this.apiCallForwards}/destinations/init`}get apiCallForwardsDestinationsAll(){return`${this.apiCallForwards}/destinations/all`}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(f.eN))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2106:function(e,t,i){"use strict";i.d(t,{s:function(){return m}});var n=i(22238),s=i(37716),r=i(3679),o=i(89973),a=i(98295),c=i(67441),l=i(38583),u=i(7539),h=i(42070),d=i(72458),p=i(29790);function f(e,t){if(1&e&&(s.TgZ(0,"mat-option",10),s._uU(1),s.qZA()),2&e){const e=t.index;s.Q6J("value",e),s.xp6(1),s.hij(" ",e+1," ")}}let m=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.formBuilder=t,this.data=i,this.crmConnectSetting=this.data.crmConnectSettings[this.data.index]}ngOnInit(){this.initForm()}initForm(){this.crmConnectSettingForm=this.formBuilder.group({order:this.crmConnectSetting.order-1,searchable:this.crmConnectSetting.searchable,openContacts:this.crmConnectSetting.openContacts})}save(){const e=this.crmConnectSettingForm.getRawValue();this.crmConnectSetting.searchable=e.searchable,this.crmConnectSetting.openContacts=e.openContacts,this.dialogRef.close({crmConnectSetting:this.data.crmConnectSettings[e.order],previousIndex:this.data.index,currentIndex:e.order})}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.so),s.Y36(r.qu),s.Y36(n.WI))},e.\u0275cmp=s.Xpm({type:e,selectors:[["settings-crm-connect-edit"]],decls:17,vars:12,consts:[[3,"title"],[1,"crm-connect-address-book-edit"],[3,"formGroup"],[1,"crm-connect-address-book-edit__row","crm-connect-address-book-edit__row--auto"],["formControlName","order",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"crm-connect-address-book-edit__row"],["formControlName","searchable","color","primary"],["formControlName","openContacts","color","primary"],["e2e","function-key-modal-fragment",3,"cancelClick","saveClick"],[3,"value"]],template:function(e,t){1&e&&(s.TgZ(0,"modal-container",0),s.TgZ(1,"div",1),s.TgZ(2,"form",2),s.TgZ(3,"div",3),s.TgZ(4,"mat-form-field"),s.TgZ(5,"mat-select",4),s.ALo(6,"translate"),s.YNc(7,f,2,2,"mat-option",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",6),s.TgZ(9,"mat-checkbox",7),s._uU(10),s.ALo(11,"translate"),s.qZA(),s.qZA(),s.TgZ(12,"div",6),s.TgZ(13,"mat-checkbox",8),s._uU(14),s.ALo(15,"translate"),s.qZA(),s.qZA(),s.TgZ(16,"footer-actions",9),s.NdJ("cancelClick",function(){return t.close()})("saveClick",function(){return t.save()}),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("title",t.data.crmConnectSettings[t.data.index].name),s.xp6(2),s.Q6J("formGroup",t.crmConnectSettingForm),s.xp6(3),s.Q6J("placeholder",s.lcZ(6,6,"settings.crm_connect.position")),s.xp6(2),s.Q6J("ngForOf",t.data.crmConnectSettings),s.xp6(3),s.hij(" ",s.lcZ(11,8,"settings.crm_connect.searchable")," "),s.xp6(4),s.hij(" ",s.lcZ(15,10,"settings.crm_connect.form.open_contacts")," "))},directives:[o.O,r._Y,r.JL,r.sg,a.KE,c.gD,r.JJ,r.u,l.sg,u.oG,h.c,d.ey],pipes:[p.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.hide-module[_ngcontent-%COMP%]{display:none!important}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.mat-form-field.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-size:1.6rem;margin-top:1rem}.mat-form-field-label[_ngcontent-%COMP%]{font-size:1.8rem}mat-form-field[_ngcontent-%COMP%]{flex:1;width:100%}mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:disabled{color:#00000061}.mat-form-field-label-wrapper[_ngcontent-%COMP%]{top:-1.44375em}.mat-form-field-infix[_ngcontent-%COMP%]{padding:.5rem 0}.crm-connect-address-book-edit[_ngcontent-%COMP%]{padding:.8rem 2.4rem;width:64rem}.crm-connect-address-book-edit__row[_ngcontent-%COMP%]{margin-top:2rem}.crm-connect-address-book-edit__row.crm-connect-address-book-edit__row--auto[_ngcontent-%COMP%]{margin-top:1rem;width:10rem}"],changeDetection:0}),e})()},82139:function(e,t,i){"use strict";i.d(t,{a:function(){return T}});var n=i(79765),s=i(46782),r=i(68307),o=i(66698),a=i(2106),c=i(77310),l=i(37716),u=i(22238),h=i(39210),d=i(77746),p=i(38583),f=i(78023),m=i(44163),g=i(29790);function _(e,t){if(1&e&&(l.TgZ(0,"div",25),l._uU(1),l.qZA()),2&e){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.name," ")}}const v=function(e){return{"crm-connect__list-item--dragging":e}};function b(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"mat-list-item",17),l.YNc(1,_,2,1,"div",18),l.TgZ(2,"div",19),l._uU(3),l.qZA(),l.TgZ(4,"div",20),l._uU(5),l.qZA(),l.TgZ(6,"div",21),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.TgZ(9,"div",22),l._uU(10),l.ALo(11,"translate"),l.qZA(),l.TgZ(12,"div",23),l.TgZ(13,"app-button",24),l.NdJ("appButtonClick",function(){const t=l.CHM(e).index;return l.oxw(3).editCrmConnectSetting(t)}),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit,i=l.oxw(3);l.Q6J("ngClass",l.VKq(9,v,i.isDragStarted)),l.xp6(3),l.hij(" ",e.order," "),l.xp6(2),l.hij(" ",e.name," "),l.xp6(2),l.hij(" ",l.lcZ(8,5,e.searchable?"yes":"no")," "),l.xp6(3),l.hij(" ",l.lcZ(11,7,e.openContacts?"yes":"no")," ")}}function y(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"mat-list",15),l.NdJ("cdkDropListDropped",function(t){return l.CHM(e),l.oxw(2).dropSuccess(t.previousIndex,t.currentIndex)})("cdkDropListSorted",function(){return l.CHM(e),l.oxw(2).toggleDragStart()}),l.YNc(1,b,14,11,"mat-list-item",16),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",e.crmConnectSettings)}}function S(e,t){if(1&e&&(l.ynx(0),l.YNc(1,y,2,1,"mat-list",14),l.BQk()),2&e){const e=l.oxw(),t=l.MAs(24);l.xp6(1),l.Q6J("ngIf",e.crmConnectSettings)("ngIfElse",t)}}function C(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",26),l.TgZ(1,"app-button",27),l.NdJ("appButtonClick",function(){return l.CHM(e),l.oxw().openConfiguration()}),l.qZA(),l.TgZ(2,"app-button",28),l.NdJ("appButtonClick",function(){return l.CHM(e),l.oxw().resetSettings()}),l.qZA(),l.qZA()}}function w(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"app-button",29),l.NdJ("appButtonClick",function(){return l.CHM(e),l.oxw().startIntegrator()}),l.qZA()}}function E(e,t){1&e&&(l.TgZ(0,"mat-list"),l._UZ(1,"app-spinner"),l.qZA())}let T=(()=>{class e{constructor(e,t){this.crmConnectService=e,this.dialog=t,this.ngUnsubscribe=new n.xQ,this.isCrmConnectAvailable=!1,this.isDragStarted=!1}ngOnInit(){this.checkCrmConnectAvailable(),this.crmConnectService.crmConnectSettings$.pipe((0,s.R)(this.ngUnsubscribe)).subscribe(e=>{this.allCrmConnectSettings=e;const t=e.filter(e=>e.available);this.crmConnectSettings=o.a.reorderSettings(t)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}toggleDragStart(){this.isDragStarted=!this.isDragStarted}dropSuccess(e,t){this.toggleDragStart(),this.changeCrmConnectSettingsOrder(e,t),this.allCrmConnectSettings=o.a.reorderSettings(this.allCrmConnectSettings),this.crmConnectService.updateCrmConnectSettings(this.allCrmConnectSettings)}editCrmConnectSetting(e){this.dialog.open(a.s,{data:{index:e,crmConnectSettings:this.crmConnectSettings},autoFocus:!1}).afterClosed().pipe((0,r.b)(e=>{this.allCrmConnectSettings=this.allCrmConnectSettings.map(t=>(e.crmConnectSetting&&t.name===e.crmConnectSetting.name&&(t.openContacts=e.crmConnectSetting.openContacts,t.searchable=e.crmConnectSetting.searchable),t)),e.previousIndex&&e.currentIndex&&this.changeCrmConnectSettingsOrder(e.previousIndex,e.currentIndex)}),(0,s.R)(this.ngUnsubscribe)).subscribe(()=>this.crmConnectService.updateCrmConnectSettings(this.allCrmConnectSettings))}openConfiguration(){this.crmConnectService.openIntegratorConfiguration()}startIntegrator(){this.crmConnectService.restartIntegrator()}resetSettings(){this.crmConnectService.resetSettings()}checkCrmConnectAvailable(){this.crmConnectService.isCrmConnectAvailableDistinct$.pipe((0,s.R)(this.ngUnsubscribe)).subscribe(e=>{this.isCrmConnectAvailable=e})}changeCrmConnectSettingsOrder(e,t){const i=this.getIndexInAllSettings(e),n=this.getIndexInAllSettings(t);(0,c.bA)(this.allCrmConnectSettings,i,n)}getIndexInAllSettings(e){const t=this.allCrmConnectSettings.findIndex(t=>this.crmConnectSettings[e].name===t.name);return t<0?e:t}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(o.a),l.Y36(u.uw))},e.\u0275cmp=l.Xpm({type:e,selectors:[["settings-crm-connect"]],decls:25,vars:17,consts:[[1,"crm-connect"],["infinite-scroll","",1,"crm-connect__scroll-area",3,"infiniteScrollThrottle","scrollWindow"],[1,"crm-connect__list"],[1,"crm-connect__list-item","crm-connect__list-item--header"],[1,"crm-connect__column","crm-connect__column--position","crm-connect__column--header"],[1,"crm-connect__column","crm-connect__column--name","crm-connect__column--header"],[1,"crm-connect__column","crm-connect__column--searchable","crm-connect__column--header"],[1,"crm-connect__column","crm-connect__column--open-contacts","crm-connect__column--header"],[1,"crm-connect__column","crm-connect__column--function","crm-connect__column--header"],[4,"ngIf"],[1,"crm-connect__list-item","crm-connect__list-item--footer"],["class","crm-connect-buttons",4,"ngIf","ngIfElse"],["showStartButton",""],["spinner",""],["cdkDropList","","class","crm-connect__list",3,"cdkDropListDropped","cdkDropListSorted",4,"ngIf","ngIfElse"],["cdkDropList","",1,"crm-connect__list",3,"cdkDropListDropped","cdkDropListSorted"],["cdkDrag","","class","crm-connect__list-item",3,"ngClass",4,"ngFor","ngForOf"],["cdkDrag","",1,"crm-connect__list-item",3,"ngClass"],["class","crm-connect__list-item__preview",4,"cdkDragPreview"],[1,"crm-connect__column","crm-connect__column--position"],[1,"crm-connect__column","crm-connect__column--name"],[1,"crm-connect__column","crm-connect__column--searchable","crm-connect__column--center"],[1,"crm-connect__column","crm-connect__column--open-contacts","crm-connect__column--center"],[1,"crm-connect__column","crm-connect__column--function"],["iconName","menu_vertical","iconSize","small","hoverTextTranslationKey","toolbar.buttons.crm_connect.tooltip",1,"crm-connect__button-config",3,"appButtonClick"],[1,"crm-connect__list-item__preview"],[1,"crm-connect-buttons"],["type","raised-button-submit","color","primary","buttonTextTranslationKey","settings.crm_connect.button_configuration",1,"crm-connect__button-open-configuration",3,"appButtonClick"],["type","raised-button-submit","color","primary","buttonTextTranslationKey","settings.crm_connect.button_reset_settings",1,"crm-connect__button-reset-settings",3,"appButtonClick"],["type","raised-button-submit","color","primary","buttonTextTranslationKey","settings.crm_connect.button_start_integrator",1,"crm-connect__button-open-configuration",3,"appButtonClick"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"mat-list",2),l.TgZ(3,"mat-list-item",3),l.TgZ(4,"div",4),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.TgZ(7,"div",5),l._uU(8),l.ALo(9,"translate"),l.qZA(),l.TgZ(10,"div",6),l._uU(11),l.ALo(12,"translate"),l.qZA(),l.TgZ(13,"div",7),l._uU(14),l.ALo(15,"translate"),l.qZA(),l._UZ(16,"div",8),l.qZA(),l.qZA(),l.YNc(17,S,2,2,"ng-container",9),l.TgZ(18,"mat-list",2),l.TgZ(19,"mat-list-item",10),l.YNc(20,C,3,0,"div",11),l.YNc(21,w,1,0,"ng-template",null,12,l.W1O),l.qZA(),l.qZA(),l.YNc(23,E,2,0,"ng-template",null,13,l.W1O),l.qZA(),l.qZA()),2&e){const e=l.MAs(22);l.xp6(1),l.Q6J("infiniteScrollThrottle",50)("scrollWindow",!1),l.xp6(4),l.hij(" ",l.lcZ(6,9,"settings.crm_connect.position")," "),l.xp6(3),l.hij(" ",l.lcZ(9,11,"settings.crm_connect.crm_name")," "),l.xp6(3),l.hij(" ",l.lcZ(12,13,"settings.crm_connect.searchable")," "),l.xp6(3),l.hij(" ",l.lcZ(15,15,"settings.crm_connect.open_contacts")," "),l.xp6(3),l.Q6J("ngIf",t.isCrmConnectAvailable),l.xp6(3),l.Q6J("ngIf",t.isCrmConnectAvailable)("ngIfElse",e)}},directives:[h.R,d.i$,d.Tg,p.O5,c.Wj,p.sg,c.Zt,p.mk,c.pV,f.V,m.S],pipes:[g.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.crm-connect[_ngcontent-%COMP%]{flex:1}.crm-connect__scroll-area[_ngcontent-%COMP%]{height:100%;overflow-y:scroll}.crm-connect__list[_ngcontent-%COMP%]{padding-top:0}.crm-connect__list-item__preview[_ngcontent-%COMP%]{align-items:center;background:#fff;border:.1rem solid #e5e5e5;box-sizing:border-box;display:flex;flex-direction:row;height:5.6rem!important;padding:0 1.6rem;position:relative;width:inherit}.crm-connect__list-item[_ngcontent-%COMP%]{border-bottom:.1rem solid #e5e5e5;height:5.6rem!important}.crm-connect__list-item[_ngcontent-%COMP%]:hover{background:#e5f7fd;cursor:pointer}.crm-connect__list-item[_ngcontent-%COMP%]:hover   .crm-connect__button-config[_ngcontent-%COMP%]{display:block}.crm-connect__list-item--header[_ngcontent-%COMP%]:hover{background:transparent;cursor:auto}.crm-connect__list-item--footer[_ngcontent-%COMP%]{border-bottom:0;height:6.4rem!important}.crm-connect__list-item--footer[_ngcontent-%COMP%]:hover{background:transparent;cursor:auto}.crm-connect__button-config[_ngcontent-%COMP%]{display:none}.crm-connect-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.crm-connect__button-open-configuration[_ngcontent-%COMP%], .crm-connect__button-reset-settings[_ngcontent-%COMP%]{margin:0 3rem}.crm-connect__column[_ngcontent-%COMP%]{flex:1 0 auto;font-size:1.8rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.crm-connect__column--header[_ngcontent-%COMP%]{color:#b5b5b5}.crm-connect__column--position[_ngcontent-%COMP%]{width:6.5rem}.crm-connect__column--name[_ngcontent-%COMP%]{flex:0 1 auto;width:100%}.crm-connect__column--searchable[_ngcontent-%COMP%], .crm-connect__column--open-contacts[_ngcontent-%COMP%]{text-align:center;width:15rem}.crm-connect__column--function[_ngcontent-%COMP%]{width:4.8rem}"]}),e})()},42683:function(e,t,i){"use strict";i.d(t,{r:function(){return Ee}});var n=i(87636),s=i(37816),r=i(47199),o=i(3679),a=i(22238);let c=(()=>{class e{static functionKeyType(){const t=[e.FUNCTION_KEY_TYPE_FUNCTION_CODE,e.FUNCTION_KEY_TYPE_SERVICE,e.FUNCTION_KEY_TYPE_INTERCOM,e.FUNCTION_KEY_TYPE_MONITOR,e.FUNCTION_KEY_TYPE_SPEEDDIAL];return function(e){return e.value&&-1!==t.indexOf(e.value)?{invalidFunctionKeyType:!0}:null}}}return e.FUNCTION_KEY_TYPE_FUNCTION_CODE="FUNCTION_CODE",e.FUNCTION_KEY_TYPE_SERVICE="SERVICE",e.FUNCTION_KEY_TYPE_INTERCOM="INTERCOM",e.FUNCTION_KEY_TYPE_MONITOR="MONITOR",e.FUNCTION_KEY_TYPE_SPEEDDIAL="SPEEDDIAL",e})();const l=/^(\*{1,2}|\#)[0-9\*]+$/;class u{static functionCode(){return function(e){return e.value&&!e.value.match(l)?{invalidFunctionCode:!0}:null}}}var h=i(90980),d=i(86752),p=i(79765),f=i(66682),m=i(25917),g=i(54395),_=i(39761),v=i(88002),b=i(45435),y=i(28049),S=i(5304),C=i(46782),w=i(1046),E=i(28123),T=i(17490),k=i(48431),x=i(37716),A=i(45832),I=i(29790),O=i(89973),R=i(52592),P=i(98295),D=i(67441),N=i(38583),L=i(83166),M=i(85499),F=i(42070),U=i(72458),H=i(21554),B=i(44163),$=i(83112);function j(e,t){if(1&e&&(x.TgZ(0,"mat-option",17),x._uU(1),x.qZA()),2&e){const e=t.$implicit;x.Q6J("value",e),x.xp6(1),x.hij(" ",e+1," ")}}function G(e,t){1&e&&(x.TgZ(0,"mat-hint",18),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"settings.function_keys.name.error.required")," "))}const V=function(e){return{maxlength:e}};function q(e,t){if(1&e&&(x.TgZ(0,"mat-hint",18),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.hij(" ",x.xi3(2,1,"settings.function_keys.name.error.maxlength",x.VKq(4,V,null==e.functionKeyForm.controls.NAME.errors||null==e.functionKeyForm.controls.NAME.errors.maxlength?null:e.functionKeyForm.controls.NAME.errors.maxlength.requiredLength))," ")}}function Y(e,t){if(1&e&&(x.TgZ(0,"mat-option",19),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){const e=t.$implicit;x.Q6J("value",e.value),x.xp6(1),x.hij(" ",x.lcZ(2,2,e.translationKey)," ")}}function Z(e,t){if(1&e&&(x.TgZ(0,"mat-hint",27),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){const e=x.oxw(2);x.xp6(1),x.hij(" ",x.lcZ(2,1,"MONITOR"===e.data.activeKey.FUNCTIONKEY_TYPE?"settings.function_keys.blf.error.required":"settings.function_keys.service.error.required")," ")}}function z(e,t){1&e&&(x.TgZ(0,"mat-hint",28),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"settings.function_keys.service.error.invalid")," "))}function K(e,t){1&e&&x._UZ(0,"app-spinner",29)}function W(e,t){if(1&e&&(x.TgZ(0,"mat-option",30),x.TgZ(1,"div",4),x._UZ(2,"svg-avatar",31),x.TgZ(3,"span",32),x._uU(4),x.qZA(),x.TgZ(5,"span",33),x._uU(6),x.qZA(),x.qZA(),x.qZA()),2&e){const e=t.$implicit;x.Q6J("value",e),x.xp6(2),x.Q6J("displayName",e.DISPLAY_NAME),x.xp6(2),x.hij(" ",e.name||e.displayName||e.DISPLAY_NAME," "),x.xp6(2),x.hij(" ",e.number||e.extensionNumber||e.EXTENSION_NUMBER||e.ID," ")}}function J(e,t){if(1&e&&(x.TgZ(0,"mat-form-field",8),x._UZ(1,"input",20),x.ALo(2,"translate"),x.YNc(3,Z,3,3,"mat-hint",21),x.YNc(4,z,3,3,"mat-hint",22),x.YNc(5,K,1,0,"app-spinner",23),x.TgZ(6,"mat-autocomplete",24,25),x.YNc(8,W,7,4,"mat-option",26),x.ALo(9,"async"),x.qZA(),x.qZA()),2&e){const e=x.MAs(7),t=x.oxw();x.xp6(1),x.s9C("placeholder",x.lcZ(2,7,"settings.function_keys.target.label")),x.Q6J("matAutocomplete",e),x.xp6(2),x.Q6J("ngIf",t.hasErrorTargetDestinationIdRequired),x.xp6(1),x.Q6J("ngIf",t.hasErrorTargetDestinationIdInvalid),x.xp6(1),x.Q6J("ngIf",t.loadingTargets),x.xp6(1),x.Q6J("displayWith",t.displayFn),x.xp6(2),x.Q6J("ngForOf",x.lcZ(9,9,t.filteredTargets$))}}function Q(e,t){1&e&&(x.TgZ(0,"mat-hint",27),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"settings.function_keys.target.error.required")," "))}function X(e,t){1&e&&(x.TgZ(0,"mat-hint",28),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"settings.function_keys.target.error.invalid")," "))}function ee(e,t){if(1&e&&(x.TgZ(0,"div",8),x.TgZ(1,"mat-form-field"),x._UZ(2,"input",34),x.ALo(3,"translate"),x.YNc(4,Q,3,3,"mat-hint",21),x.YNc(5,X,3,3,"mat-hint",22),x.qZA(),x.qZA()),2&e){const e=x.oxw();x.xp6(2),x.Q6J("placeholder",x.lcZ(3,3,"settings.function_keys.target.label")),x.xp6(2),x.Q6J("ngIf",e.hasErrorNumberRequired),x.xp6(1),x.Q6J("ngIf",e.hasErrorNumberInvalid)}}function te(e,t){1&e&&(x.TgZ(0,"mat-hint",27),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"settings.function_keys.function_code.error.required")," "))}function ie(e,t){1&e&&(x.TgZ(0,"mat-hint",28),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"settings.function_keys.function_code.error.invalid")," "))}function ne(e,t){if(1&e&&(x.TgZ(0,"div",8),x.TgZ(1,"mat-form-field"),x._UZ(2,"input",35),x.ALo(3,"translate"),x.YNc(4,te,3,3,"mat-hint",21),x.YNc(5,ie,3,3,"mat-hint",22),x.qZA(),x.qZA()),2&e){const e=x.oxw();x.xp6(2),x.Q6J("placeholder",x.lcZ(3,3,"settings.function_keys.function_code.label")),x.xp6(2),x.Q6J("ngIf",e.hasErrorFunctionCodeRequired),x.xp6(1),x.Q6J("ngIf",e.hasErrorFunctionCodeInvalid)}}function se(e,t){if(1&e&&(x.TgZ(0,"div"),x._uU(1),x.qZA()),2&e){const e=x.oxw();x.xp6(1),x.hij(" ",e.keyEditErrorMessage," ")}}let re=(()=>{class e{constructor(e,t,i,n,s){this.functionKeysService=e,this.snackbarService=t,this.translateService=i,this.dialogRef=n,this.data=s,this.ngUnsubscribe=new p.xQ,this.tmpKeys=[],this.availableKeys=[],this.onStartEditing=!0,this.activeKeyName=null,this.functionKeyTypes=r.rz,this.SPEEDDIAL=r.nA,this.FUNCTION_CODE=r.gb,this.INTERCOM=r.PS,this.SERVICE=r.F7,this.MONITOR=r.vd,this.monitorTargets=[],this.intercomTargets=[],this.serviceTargets=[],this.targets=[],this.contactTargets=[],this.isLoading=!1,this.loadingTargets=!1,this.prevSearch="",this.hasErrorNameRequired=!1,this.hasErrorNameMaxLength=!1,this.hasErrorNumberRequired=!1,this.hasErrorNumberInvalid=!1,this.hasErrorFunctionCodeRequired=!1,this.hasErrorFunctionCodeInvalid=!1,this.hasErrorTargetDestinationIdRequired=!1,this.hasErrorTargetDestinationIdInvalid=!1,this.allowedSearchTypes=[this.MONITOR.value,this.SERVICE.value,this.INTERCOM.value],this.createForm(),setTimeout(()=>{this.functionKeyForm.get("FUNCTIONKEY_TYPE").value||this.functionKeyForm.controls.FUNCTIONKEY_TYPE.setValue(this.MONITOR.value,{emitModelToViewChange:!0})}),this.filteredTargets$=this.functionKeyForm.get("TARGETDESTINATION_ID").valueChanges.pipe((0,g.b)(300)).pipe((0,_.O)(""),(0,v.U)(this.mapContactTargets.bind(this))),setTimeout(()=>{const e=this.functionKeysService.functionKeyItem;e&&(0,f.T)(this.functionKeysService.getTargets(e.number,this.MONITOR.value),this.functionKeysService.getTargets(e.number,this.SERVICE.value)).pipe((0,b.h)(e=>!!e.length),(0,y.P)(),(0,S.K)(e=>(0,m.of)([])),(0,v.U)(t=>t.find(t=>t.EXTENSION_NUMBER===e.number)),(0,k.K)(e=>{this.loadingTargets=e}),(0,C.R)(this.ngUnsubscribe)).subscribe(t=>{t?this.setTypeTargetControl(t.DISCRIMINATOR===T.v.SERVICEEXTENSION?r.F7.value:r.vd.value,t):l.test(e.number)?this.setTypeTargetControl(r.gb.value,e.number):this.setTypeTargetControl(r.nA.value,e.number),this.functionKeysService.functionKeyItem=null})})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnChanges(e){this.availableKeys=this.getAvailableKeys()}ngOnInit(){this.setActiveKey(this.data.activeKeyNumber),this.availableKeys=this.getAvailableKeys(),this.setTitle()}functionKeyTypeChange(){this.getHasTargetDestinationIdControl(),this.getHasNumberControl(),this.getHasFunctionCodeControl()}mapContactTargets(e){return e&&this.prevSearch!==e&&-1!==this.allowedSearchTypes.indexOf(this.data.activeKey.FUNCTIONKEY_TYPE)?(this.prevSearch=e,this.contactTargets=this.getTargetItems(e),this.filterItems(e,this.contactTargets)):this.contactTargets.slice()}displayFn(e){return e&&e.DISPLAY_NAME}updateActiveKeyNumber(){this.data.activeKey.FUNCTIONKEY_NUMBER=parseInt(this.data.activeKey.FUNCTIONKEY_NUMBER,10)}createForm(){this.availableKeys=this.loadDefaultAvailableKeys(),this.functionKeyForm=new o.cw({NAME:new o.NI(this.data.activeKey.NAME,o.kI.compose([o.kI.required,o.kI.maxLength(255)])),FUNCTIONKEY_NUMBER:new o.NI(this.data.activeKey.FUNCTIONKEY_NUMBER,o.kI.required),FUNCTIONKEY_TYPE:new o.NI(this.data.activeKey.FUNCTIONKEY_TYPE,o.kI.compose([o.kI.required,c.functionKeyType])),FUNCTION_CODE:new o.NI(this.data.activeKey.FUNCTION_CODE),NUMBER:new o.NI(this.data.activeKey.NUMBER),TARGETDESTINATION_ID:new o.NI(this.data.activeKey.TARGETDESTINATION_ID)}),this.subscribeToFunctionKeyTypeChange(),this.subscribeToFunctionKeyFormFieldsStatusChanges()}subscribeToFunctionKeyTypeChange(){this.functionKeyForm.get("FUNCTIONKEY_TYPE").valueChanges.pipe((0,C.R)(this.ngUnsubscribe)).subscribe(e=>{this.prevSearch="",this.data.activeKey.FUNCTIONKEY_TYPE=e,this.keyEditErrorMessage=null;let t=[],i=!1;e===r.nA.value?(t=r.V9[r.nA.value],this.functionKeyForm.get("NUMBER").setValidators(o.kI.compose([o.kI.required,h.b.international_e123()]))):e===r.gb.value?(t=r.V9[r.gb.value],this.functionKeyForm.get("FUNCTION_CODE").setValidators(o.kI.compose([o.kI.required,u.functionCode()]))):(t=r.V9.DEFAULT,i=!0,this.functionKeyForm.get("TARGETDESTINATION_ID").setValidators(o.kI.compose([o.kI.required,w.C.autocompleteIsItemSelected()]))),this.contactTargets=this.getTargetItems(),this.clearForm(t,i),this.updateFormValueAndValidity(),this.functionKeyTypeChange()})}subscribeToFunctionKeyFormFieldsStatusChanges(){const e=this.getField("NAME"),t=this.getField("FUNCTION_CODE"),i=this.getField("NUMBER"),n=this.getField("TARGETDESTINATION_ID");e.statusChanges.pipe((0,C.R)(this.ngUnsubscribe)).subscribe(()=>{this.hasErrorNameRequired=d.f.getFieldErrorState(e,"required"),this.hasErrorNameMaxLength=d.f.getFieldErrorState(e,"maxlength")}),t.statusChanges.pipe((0,C.R)(this.ngUnsubscribe)).subscribe(()=>{this.hasErrorFunctionCodeRequired=d.f.getFieldErrorState(t,"required"),this.hasErrorFunctionCodeInvalid=d.f.getFieldErrorState(t,"invalidFunctionCode")}),i.statusChanges.pipe((0,C.R)(this.ngUnsubscribe)).subscribe(()=>{this.hasErrorNumberRequired=d.f.getFieldErrorState(i,"required"),this.hasErrorNumberInvalid=d.f.getFieldErrorState(i,"invalidPhoneNumber")}),n.statusChanges.pipe((0,C.R)(this.ngUnsubscribe)).subscribe(()=>{var t;this.hasErrorTargetDestinationIdRequired=d.f.getFieldErrorState(n,"required"),this.hasErrorTargetDestinationIdInvalid=d.f.getFieldErrorState(n,"itemNotSelected"),(null===(t=n.value)||void 0===t?void 0:t.DISPLAY_NAME)&&!e.value.trim()&&e.setValue(n.value.DISPLAY_NAME)})}clearForm(e,t){!e||(e.forEach(e=>{this.functionKeyForm.get(e).setValue(""),this.functionKeyForm.get(e).setValidators(null)}),t&&!this.onStartEditing&&this.functionKeyForm.controls.TARGETDESTINATION_ID.setValue(""),this.onStartEditing=!1)}updateFormValueAndValidity(){this.functionKeyForm.get("NUMBER").updateValueAndValidity(),this.functionKeyForm.get("FUNCTION_CODE").updateValueAndValidity(),this.functionKeyForm.get("TARGETDESTINATION_ID").updateValueAndValidity()}close(){this.dialogRef.close()}saveKey(){E.Q.removeItem("function-key");const e=this.functionKeyForm.value,t=this.clearUnusedProperties(e),i=this.formatFunctionKeyFormData(t);this.data.allItems[this.data.activeKey.FUNCTIONKEY_NUMBER]&&this.data.allItems[this.data.activeKey.FUNCTIONKEY_NUMBER].FUNCTIONKEY_TYPE&&e.FUNCTIONKEY_NUMBER===parseInt(this.data.activeKey.FUNCTIONKEY_NUMBER,10)?this.updateFunctionKey(i):this.createFunctionKey(i)}getDisplayFunctionKeyNumber(e){return parseInt(e,10)+1}loadDefaultAvailableKeys(){this.tmpKeys=[];for(let e=0;e<this.data.maxListViewItems;e++)this.tmpKeys.push(e);return this.tmpKeys}getTargetItems(e=""){return e&&this.getTargets(e),this.data.activeKey.FUNCTIONKEY_TYPE===this.MONITOR.value?this.monitorTargets:this.data.activeKey.FUNCTIONKEY_TYPE===this.INTERCOM.value?this.intercomTargets:this.data.activeKey.FUNCTIONKEY_TYPE===this.SERVICE.value?this.serviceTargets:this.targets}getTargets(e=""){this.functionKeysService.getTargets(e,this.data.activeKey.FUNCTIONKEY_TYPE).pipe((0,k.K)(e=>{this.loadingTargets=e}),(0,C.R)(this.ngUnsubscribe)).subscribe(e=>{e.forEach(e=>{"PHONEEXTENSION"===e.DISCRIMINATOR&&(this.monitorTargets.push(e),this.intercomTargets.push(e)),-1!==["QUEUESERVICE","SKILLSERVICE","IVRSERVICE","TIMECONTROLSERVICE","GROUPSERVICE","CONFERENCESERVICE","SERVICEEXTENSION"].indexOf(e.DISCRIMINATOR)&&this.serviceTargets.push(e)}),this.contactTargets=e,this.functionKeyForm.get("TARGETDESTINATION_ID").enable()})}filterItems(e,t){if("string"==typeof e&&-1!==e.search(/[\[\]?*+|{}\\()@.\n\r]/))return[];const i=e.DISPLAY_NAME?e.DISPLAY_NAME.toString().toLowerCase():e.toString().toLowerCase(),n=new RegExp(".*"+i+".*","i");return t.filter(e=>{var t;return e.DISPLAY_NAME||e.EXTENSION_NUMBER?n.test(e.DISPLAY_NAME.toLowerCase())||n.test(null===(t=e.EXTENSION_NUMBER)||void 0===t?void 0:t.toLowerCase()):n.test(e.extension.toLowerCase())})}setTypeTargetControl(e,t){let i="TARGETDESTINATION_ID";e===r.gb.value?i="FUNCTION_CODE":e===r.nA.value&&(i="NUMBER",t=t&&t.replace(/\s/g,"")),this.functionKeyForm.controls.FUNCTIONKEY_TYPE.setValue(e,{emitModelToViewChange:!0}),this.functionKeyForm.controls[i].setValue(t,{emitModelToViewChange:!0})}updateFunctionKey(e){this.snackbarService.openInfo("settings.function_keys.saving"),this.functionKeysService.updateFunctionKey(this.data.activeKey.FUNCTIONKEY_NUMBER,e).pipe((0,k.K)(e=>{this.isLoading=e}),(0,C.R)(this.ngUnsubscribe)).subscribe(()=>{this.dialogRef.close({created:!1,key:e})},()=>{this.snackbarService.openErrorInfo("Error occurred")})}createFunctionKey(e){this.keyEditErrorMessage=null,this.snackbarService.openInfo("settings.function_keys.saving"),this.functionKeysService.createFunctionKey(e).pipe((0,k.K)(e=>{this.isLoading=e}),(0,C.R)(this.ngUnsubscribe)).subscribe(()=>{this.dialogRef.close({created:!0,key:e})},e=>{this.snackbarService.openErrorInfo("Error occurred"),400===e.status&&e._body&&(this.keyEditErrorMessage=JSON.parse(e._body).message||null)})}clearUnusedProperties(e){let t=[];switch(e.FUNCTIONKEY_TYPE){case r.nA.value:case r.gb.value:t=r.V9[e.FUNCTIONKEY_TYPE];break;default:t=r.V9.DEFAULT}return t.forEach(t=>{delete e[t]}),e}getAvailableKeys(){this.tmpKeys=[];const e=this.data.allItems.length;for(let t=0;t<e;t++){const e=this.data.allItems[t];if(e){const t=parseInt(e.FUNCTIONKEY_NUMBER,10);(!e.FUNCTIONKEY_TYPE||t===this.data.activeKeyNumber)&&this.tmpKeys.push(t)}}return this.tmpKeys}setActiveKey(e){if(null!==e){const t=this.data.allItems.find(t=>+t.FUNCTIONKEY_NUMBER===e);if(!t)return void(this.data.activeKey=this.generateEmptyKey(e));this.data.activeKey=Object.assign({},t),this.data.activeKey.NAME=this.data.activeKey.DISPLAY_NAME,this.data.activeKey.NUMBER=this.data.activeKey.FORMAT_PLAIN,this.activeKeyName=this.data.activeKey.TARGET_NAME;const i=parseInt(this.data.activeKey.FUNCTIONKEY_NUMBER,10);this.functionKeyForm.patchValue({NAME:this.data.activeKey.DISPLAY_NAME||"",NUMBER:this.data.activeKey.FORMAT_PLAIN||"",FUNCTION_CODE:this.data.activeKey.FUNCTION_CODE||"",FUNCTIONKEY_TYPE:this.data.activeKey.FUNCTIONKEY_TYPE||"",FUNCTIONKEY_NUMBER:this.isFunctionKeyNumberValid(i)?i:"",TARGETDESTINATION_ID:{DISPLAY_NAME:this.data.activeKey.TARGET_NAME,ID:this.data.activeKey.TARGET_ID}})}}isFunctionKeyNumberValid(e){return void 0!==e&&!isNaN(parseFloat(""+e))&&isFinite(e)}generateEmptyKey(e){return{FUNCTIONKEY_NUMBER:e}}formatFunctionKeyFormData(e){return e.TARGETDESTINATION_ID?Object.assign(Object.assign({},e),{TARGETDESTINATION_ID:e.TARGETDESTINATION_ID.ID||e.TARGETDESTINATION_ID}):e}setTitle(){const e=this.translateService.instant("settings.function_keys.key"),t=this.getDisplayFunctionKeyNumber(this.functionKeyForm.get("FUNCTIONKEY_NUMBER").value);this.title=t?`${e} ${t.toString()}`:e}getHasTargetDestinationIdControl(){this.hasTargetDestinationIdControl=this.data.activeKey.FUNCTIONKEY_TYPE!==this.SPEEDDIAL.value&&this.data.activeKey.FUNCTIONKEY_TYPE!==this.FUNCTION_CODE.value}getHasNumberControl(){this.hasNumberControl=this.data.activeKey.FUNCTIONKEY_TYPE===this.SPEEDDIAL.value}getHasFunctionCodeControl(){this.hasFunctionCodeControl=this.data.activeKey.FUNCTIONKEY_TYPE===this.FUNCTION_CODE.value}getField(e){return this.functionKeyForm.get(e)}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(d.f),x.Y36(A.c),x.Y36(I.sK),x.Y36(a.so),x.Y36(a.WI))},e.\u0275cmp=x.Xpm({type:e,selectors:[["function-key-form"]],features:[x.TTD],decls:24,vars:22,consts:[["data-e2e","function-key-modal-fragment",1,"function-key-form-dialog"],["e2e","function-key-modal-fragment",3,"title"],[3,"formGroup","ngSubmit"],["loading-area-indicator","",3,"loadingAreaIndicatorActive"],[1,"row-container"],[1,"function-keys__number"],["formControlName","FUNCTIONKEY_NUMBER","data-e2e","function-key-modal-fragment__key-dropdown",3,"placeholder","ngModelChange"],["data-e2e","function-key-modal-fragment__key-dropdown-option",3,"value",4,"ngFor","ngForOf"],[1,"second-column"],["formControlName","NAME","matInput","","maxlength","255","type","text","data-e2e","function-key-modal-fragment__name--input",3,"focus","placeholder"],["class","mat-hint--error",4,"ngIf"],[1,"function-keys__type"],["formControlName","FUNCTIONKEY_TYPE","data-e2e","function-key-modal-fragment__type-dropdown",3,"placeholder"],["data-e2e","function-key-modal-fragment__type-dropdown-option",3,"value",4,"ngFor","ngForOf"],["class","second-column",4,"ngIf"],[4,"ngIf"],["e2e","function-key-modal-fragment",3,"saveDisabled","cancelClick"],["data-e2e","function-key-modal-fragment__key-dropdown-option",3,"value"],[1,"mat-hint--error"],["data-e2e","function-key-modal-fragment__type-dropdown-option",3,"value"],["formControlName","TARGETDESTINATION_ID","matInput","","type","text","data-e2e","function-key-modal-fragment__target--input",3,"matAutocomplete","placeholder"],["class","mat-hint--error","data-e2e","function-key-modal-fragment__target-error-required",4,"ngIf"],["class","mat-hint--error","data-e2e","function-key-modal-fragment__target-error-invalid",4,"ngIf"],["matSuffix","","size","small",4,"ngIf"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["data-e2e","function-key-modal-fragment__target-error-required",1,"mat-hint--error"],["data-e2e","function-key-modal-fragment__target-error-invalid",1,"mat-hint--error"],["matSuffix","","size","small"],[3,"value"],[3,"displayName"],["mat-line","","data-e2e","function-key-modal-fragment__target-autocomplete-option-name"],["mat-line","","data-e2e","function-key-modal-fragment__target-autocomplete-option-number"],["formControlName","NUMBER","matInput","","type","text","data-e2e","function-key-modal-fragment__target--input",3,"placeholder"],["formControlName","FUNCTION_CODE","matInput","","type","text","data-e2e","function-key-modal-fragment__target--input",3,"placeholder"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x.TgZ(1,"modal-container",1),x.TgZ(2,"form",2),x.NdJ("ngSubmit",function(){return t.functionKeyForm.valid&&t.saveKey()}),x.TgZ(3,"section",3),x.TgZ(4,"div",4),x.TgZ(5,"mat-form-field",5),x.TgZ(6,"mat-select",6),x.NdJ("ngModelChange",function(){return t.updateActiveKeyNumber()}),x.ALo(7,"translate"),x.YNc(8,j,2,2,"mat-option",7),x.qZA(),x.qZA(),x.TgZ(9,"mat-form-field",8),x._UZ(10,"input",9),x.ALo(11,"translate"),x.YNc(12,G,3,3,"mat-hint",10),x.YNc(13,q,3,6,"mat-hint",10),x.qZA(),x.qZA(),x.TgZ(14,"div",4),x.TgZ(15,"mat-form-field",11),x.TgZ(16,"mat-select",12),x.ALo(17,"translate"),x.YNc(18,Y,3,4,"mat-option",13),x.qZA(),x.qZA(),x.YNc(19,J,10,11,"mat-form-field",14),x.YNc(20,ee,6,5,"div",14),x.YNc(21,ne,6,5,"div",14),x.YNc(22,se,2,1,"div",15),x.qZA(),x.qZA(),x.TgZ(23,"footer-actions",16),x.NdJ("cancelClick",function(){return t.close()}),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&e&&(x.xp6(1),x.Q6J("title",t.title),x.xp6(1),x.Q6J("formGroup",t.functionKeyForm),x.xp6(1),x.Q6J("loadingAreaIndicatorActive",t.isLoading),x.xp6(3),x.Q6J("placeholder",x.lcZ(7,16,"settings.function_keys.key")),x.xp6(2),x.Q6J("ngForOf",t.availableKeys),x.xp6(2),x.Q6J("focus",!0)("placeholder",x.lcZ(11,18,"settings.function_keys.name.label")),x.xp6(2),x.Q6J("ngIf",t.hasErrorNameRequired),x.xp6(1),x.Q6J("ngIf",t.hasErrorNameMaxLength),x.xp6(3),x.Q6J("placeholder",x.lcZ(17,20,"settings.function_keys.type.label")),x.xp6(2),x.Q6J("ngForOf",t.functionKeyTypes),x.xp6(1),x.Q6J("ngIf",t.hasTargetDestinationIdControl),x.xp6(1),x.Q6J("ngIf",t.hasNumberControl),x.xp6(1),x.Q6J("ngIf",t.hasFunctionCodeControl),x.xp6(1),x.Q6J("ngIf",t.keyEditErrorMessage),x.xp6(1),x.Q6J("saveDisabled",!t.functionKeyForm.valid))},directives:[O.O,o._Y,o.JL,o.sg,R.O,P.KE,D.gD,o.JJ,o.u,N.sg,o.Fj,L.Nt,o.nD,M.R,N.O5,F.c,U.ey,P.bx,H.ZL,H.XC,B.S,P.R9,$.T,U.X2],pipes:[I.X$,N.Ov],styles:['@charset "UTF-8";.hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.hide-module[_ngcontent-%COMP%]{display:none!important}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.mat-form-field.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-size:1.6rem;margin-top:1rem}.mat-form-field-label[_ngcontent-%COMP%]{font-size:1.8rem}mat-form-field[_ngcontent-%COMP%]{flex:1;width:100%}mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:disabled{color:#00000061}.mat-form-field-label-wrapper[_ngcontent-%COMP%]{top:-1.44375em}.mat-form-field-infix[_ngcontent-%COMP%]{padding:.5rem 0}.ng-invalid.ng-dirty[_ngcontent-%COMP%]:not(.ng-untouched)   .mat-input-placeholder-wrapper[_ngcontent-%COMP%], .ng-invalid.ng-dirty[_ngcontent-%COMP%]:not(.ng-untouched)   .mat-hint--error[_ngcontent-%COMP%]{color:#b30000}.ng-invalid.ng-dirty[_ngcontent-%COMP%]:not(.ng-untouched)   .mat-input-underline[_ngcontent-%COMP%]{background-color:#0000006b!important}.ng-touched.ng-dirty.mat-input-invalid[_ngcontent-%COMP%]   .ng-invalid.ng-dirty[_ngcontent-%COMP%]:not(.ng-untouched)   .mat-input-underline[_ngcontent-%COMP%]{background-color:#b30000!important}.function-keys__type[_ngcontent-%COMP%], .function-keys__number[_ngcontent-%COMP%]{margin-right:1rem}section[_ngcontent-%COMP%]{padding:.8rem 2.4rem;width:64rem}@media screen and (max-width: 1023px){section[_ngcontent-%COMP%]{width:50rem}}@media screen and (max-width: 767px){section[_ngcontent-%COMP%]{width:auto}}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.row-container[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:last-child{color:#999;padding-left:.5rem}.row-container[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:last-child:before{content:"\\2022"}.row-container[_ngcontent-%COMP%]   .mat-hint--error[_ngcontent-%COMP%]{color:#b30000}.second-column[_ngcontent-%COMP%]{flex-grow:2;margin-left:.8rem 2.4rem/2}']}),e})();var oe=i(77310),ae=i(8307),ce=i(91557),le=i(65939),ue=i(39210),he=i(77746),de=i(51095),pe=i(55821),fe=i(56436),me=i(63743),ge=i(14944);function _e(e,t){if(1&e&&(x.TgZ(0,"div",24),x.TgZ(1,"div",25),x._uU(2),x.qZA(),x.TgZ(3,"div",25),x._uU(4),x.qZA(),x.TgZ(5,"div",25),x._uU(6),x.ALo(7,"translate"),x.qZA(),x.TgZ(8,"div",25),x._uU(9),x.qZA(),x.qZA()),2&e){const e=x.oxw().$implicit,t=x.oxw(2);x.xp6(2),x.hij(" ",t.getDisplayFunctionKeyNumber(null==e?null:e.FUNCTIONKEY_NUMBER)," "),x.xp6(2),x.hij(" ",(null==e?null:e.DISPLAY_NAME)||t.emptyKeyDisplayName,""),x.xp6(2),x.hij(" ",x.lcZ(7,4,null==e?null:e.functionKeyTypeTranslation),""),x.xp6(3),x.hij(" ",(null==e?null:e.TARGET_NAME)||(null==e?null:e.FUNCTION_CODE),"")}}function ve(e,t){if(1&e&&(x.TgZ(0,"div",26),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.hij(" ",(null==e?null:e.TARGET_NAME)||(null==e?null:e.FUNCTION_CODE)," ")}}function be(e,t){if(1&e&&(x.TgZ(0,"div",26),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.hij(" ",null==e?null:e.FORMAT_DISPLAY," ")}}function ye(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",27),x.NdJ("click",function(){x.CHM(e);const t=x.oxw().$implicit;return x.oxw(2).deleteKey(null==t?null:t.FUNCTIONKEY_NUMBER)}),x._UZ(1,"app-svg-icon",28),x.qZA()}}function Se(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"mat-list-item",13),x.NdJ("dblclick",function(){const t=x.CHM(e).$implicit;return x.oxw(2).onKeyControlClick(t)}),x.YNc(1,_e,10,6,"ng-template",14),x.TgZ(2,"div",15),x._uU(3),x.qZA(),x.TgZ(4,"div",16),x.TgZ(5,"div",17),x._uU(6),x.qZA(),x.qZA(),x.TgZ(7,"div",18),x._uU(8),x.ALo(9,"translate"),x.qZA(),x.YNc(10,ve,2,1,"div",19),x.YNc(11,be,2,1,"div",19),x.TgZ(12,"div",20),x.YNc(13,ye,2,0,"button",21),x.TgZ(14,"button",22),x.NdJ("click",function(){const t=x.CHM(e).$implicit;return x.oxw(2).onKeyControlClick(t)}),x._UZ(15,"app-svg-icon",23),x.qZA(),x.qZA(),x.qZA()}if(2&e){const e=t.$implicit,i=x.oxw(2);x.xp6(1),x.Q6J("matchSize",!0),x.xp6(2),x.hij(" ",i.getDisplayFunctionKeyNumber(null==e?null:e.FUNCTIONKEY_NUMBER)," "),x.xp6(3),x.hij(" ",(null==e?null:e.DISPLAY_NAME)||i.emptyKeyDisplayName," "),x.xp6(2),x.hij(" ",x.lcZ(9,9,null==e?null:e.functionKeyTypeTranslation)," "),x.xp6(2),x.Q6J("ngIf",(null==e?null:e.FUNCTIONKEY_TYPE)!=i.SPEEDDIAL.value),x.xp6(1),x.Q6J("ngIf",(null==e?null:e.FUNCTIONKEY_TYPE)==i.SPEEDDIAL.value),x.xp6(2),x.Q6J("ngIf",null==e?null:e.FUNCTIONKEY_TYPE),x.xp6(1),x.uIk("data-e2e","main-settings-function-keys-page__table-row-"+(null!=e&&e.FUNCTIONKEY_TYPE?"edit":"add")+"--button"),x.xp6(1),x.Q6J("icon",null!=e&&e.FUNCTIONKEY_TYPE?"edit":"add")}}function Ce(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"mat-list",11),x.NdJ("cdkDropListDropped",function(t){return x.CHM(e),x.oxw().drop(t)}),x.YNc(1,Se,16,11,"mat-list-item",12),x.qZA()}if(2&e){const e=x.oxw();x.xp6(1),x.Q6J("ngForOf",e.loadedItems)}}function we(e,t){1&e&&(x.TgZ(0,"mat-list",3),x.TgZ(1,"mat-list-item",29),x._UZ(2,"app-spinner"),x.qZA(),x.qZA())}let Ee=(()=>{class e extends s.H{constructor(e,t,i,n,s){super(e),this.router=e,this.functionKeysService=t,this.snackbarService=i,this.mainService=n,this.dialog=s,this.loadItemsInStep=128,this.step=0,this.ngUnsubscribe=new p.xQ,this.dragIndex=-1,this.snackBarOptions={duration:6e3},this.maxKeyAmount=1024,this.maxListViewItems=55,this.emptyKeyDisplayName="-",this.devices=[],this.isLoadingFunctionKeys=!1,this.allItems=[],this.loadedItems=[],this.activeKey={NAME:null,NUMBER:null,FUNCTIONKEY_TYPE:null,FUNCTION_CODE:null,FUNCTIONKEY_NUMBER:null,TARGETDESTINATION_ID:null,DISPLAY_NAME:null,FORMAT_PLAIN:null,TARGET_NAME:null},this.activeKeyNumber=null,this.SPEEDDIAL=r.nA,this.FUNCTION_CODE=r.gb,this.INTERCOM=r.PS,this.SERVICE=r.F7,this.MONITOR=r.vd,this.isShown=!0,this.selected={},this.items=[],this.hasMoreData=!0,this.isSortOrderUpdating=!1,this.generateKeys(),this.getFunctionKeys(),this.bind()}ngAfterViewInit(){this.functionKeysService.openFunctionKeysForm&&(this.functionKeysService.openFunctionKeysForm=!1,this.getFunctionKeys(!0,!0))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}generateKeys(){for(let t=0;t<this.maxKeyAmount;t++)this.allItems[t]=e.generateEmptyKey(t)}getListItems(){this.step++,Array.prototype.push.apply(this.loadedItems,this.allItems.slice(this.loadItemsInStep*this.step+1,this.loadItemsInStep*this.step+this.loadItemsInStep+1)),this.hasMoreData=this.loadedItems.length!==this.maxKeyAmount}getDisplayFunctionKeyNumber(e){return parseInt(e,10)+1}onKeyControlClick(e){const t=!e.FUNCTIONKEY_TYPE,i=e.FUNCTIONKEY_NUMBER.toString();this.activeKeyNumber=parseInt(i,10),this.openKeyForm(t)}drop(e){(0,oe.bA)(this.loadedItems,e.previousIndex,e.currentIndex),this.saveDropped(e.currentIndex,e.previousIndex)}openKeyForm(e){this.dialog.open(re,{data:{activeKeyNumber:this.activeKeyNumber,allItems:this.allItems,activeKey:this.activeKey,maxListViewItems:this.maxListViewItems,maxKeyAmount:this.maxKeyAmount},autoFocus:!1}).afterClosed().pipe((0,C.R)(this.ngUnsubscribe)).subscribe(t=>{t&&this.onKeyCreatedUpdated(t,e)})}getKeyTooltip(e){return this.items[e]?this.items[e].DISPLAY_NAME:null}getFunctionKeys(e,t){this.isLoadingFunctionKeys=!0,this.functionKeysService.getList().pipe((0,C.R)(this.ngUnsubscribe)).subscribe(i=>{i.data.forEach(e=>{this.allItems[e.FUNCTIONKEY_NUMBER]=e}),e&&(this.resetFunctionKeysList(),this.hasMoreData=!0),Array.prototype.push.apply(this.loadedItems,this.allItems.slice(0,this.loadItemsInStep+1)),this.isLoadingFunctionKeys=!1,t&&this.onCreateNew()})}onCreateNew(){const e=this.loadedItems.length;for(let t=0;t<e;t++){const e=this.loadedItems[t];if(!e.DISPLAY_NAME&&!e.TARGET_NAME){this.activeKeyNumber=+e.FUNCTIONKEY_NUMBER;break}}this.activeKey={},this.openKeyForm(!0)}deleteKey(t,i=!0){i&&this.openSnackBarInfo("settings.function_keys.deleting"),E.Q.removeItem("function-key"),this.functionKeysService.deleteKey(t).pipe((0,C.R)(this.ngUnsubscribe)).subscribe(()=>{this.items[t]=e.generateEmptyKey(t),this.allItems[t]=e.generateEmptyKey(t),this.loadedItems[t]=e.generateEmptyKey(t),this.activeKey={},i&&this.openSnackBarInfo("settings.function_keys.function_key_deleted"),this.getFunctionKeys(!0)},()=>{this.snackbarService.openErrorInfo("Error occurred")})}onKeyCreatedUpdated(e,t){if(e.created){(t||this.activeKeyNumber!==Number(e.key.FUNCTIONKEY_NUMBER))&&this.openSnackBarInfo("settings.function_keys.function_key_saved");const i=this.activeKeyNumber;null!==this.activeKeyNumber&&Number(e.key.FUNCTIONKEY_NUMBER)!==this.activeKeyNumber?this.loadedItems.find(e=>parseInt(e.FUNCTIONKEY_NUMBER,10)===i).hasOwnProperty("DISPLAY_NAME")&&this.deleteKey(this.activeKeyNumber,!1):this.getFunctionKeys(!0),this.items[e.key.FUNCTIONKEY_NUMBER]=e.key}else this.openSnackBarInfo("settings.function_keys.function_key_saved"),this.getFunctionKeys(!0)}resetFunctionKeysList(){this.loadedItems=[],this.step=0}saveDropped(e,t){var i;this.loadedItems=this.loadedItems.map((e,t)=>Object.assign(Object.assign({},e),{FUNCTIONKEY_NUMBER:t}));const n=this.loadedItems.map((e,t)=>{if(this.loadedItems[t])return this.loadedItems[t]});this.allItems=[...n,...this.allItems.slice(n.length,this.allItems.length)],(null===(i=this.loadedItems[e])||void 0===i?void 0:i.FUNCTIONKEY_TYPE)&&t>-1&&(this.isSortOrderUpdating=!0,this.functionKeysService.updateFunctionKeyOrder(t,e).pipe((0,C.R)(this.ngUnsubscribe)).subscribe(()=>{this.onFunctionKeyOrderUpdated(),this.openSnackBarInfo("settings.function_keys.function_key_saved")},()=>{this.onFunctionKeyOrderUpdated(),this.snackbarService.openErrorInfo("Error occurred")}))}bind(){this.getKeyTooltip=this.getKeyTooltip.bind(this)}onFunctionKeyOrderUpdated(){this.isSortOrderUpdating=!1,this.dragIndex=-1}openSnackBarInfo(e){this.snackbarService.openInfo(e,!1,"",this.snackBarOptions)}static generateEmptyKey(e){return{FUNCTIONKEY_NUMBER:e}}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(ae.F0),x.Y36(d.f),x.Y36(A.c),x.Y36(ce.J),x.Y36(a.uw))},e.\u0275cmp=x.Xpm({type:e,selectors:[["settings-function-keys"]],viewQuery:function(e,t){if(1&e&&x.Gf(n.ig,5),2&e){let e;x.iGM(e=x.CRH())&&(t.$templatePortals=e)}},features:[x.qOj],decls:25,vars:20,consts:[["data-e2e","main-settings-function-keys-page"],["id","function-keys__list-view",1,"function-keys__list-view"],["infinite-scroll","",1,"scroll-area",3,"infiniteScrollDisabled","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"function-keys__list"],[1,"header","function-keys__list-item"],[1,"key"],[1,"flex"],["appHoverbox","","mat-icon-button","","type","button","data-e2e","main-settings-function-keys-page__table-add--button",3,"click"],["icon","add","size","small"],["class","function-keys__list","cdkDropList","",3,"cdkDropListDropped",4,"ngIf"],["class","function-keys__list",4,"ngIf"],["cdkDropList","",1,"function-keys__list",3,"cdkDropListDropped"],["class","function-keys__list-item","cdkDrag","","data-e2e","main-settings-function-keys-page__table-row",3,"dblclick",4,"ngFor","ngForOf"],["cdkDrag","","data-e2e","main-settings-function-keys-page__table-row",1,"function-keys__list-item",3,"dblclick"],["cdkDragPreview","",3,"matchSize"],["data-e2e","main-settings-function-keys-page__table-row-number",1,"key"],[1,"flex","function-keys__user-info"],["ellipsisTitle","","data-e2e","main-settings-function-keys-page__table-row-name",1,"function-keys__user-info__display-name"],["data-e2e","main-settings-function-keys-page__table-row-type",1,"flex"],["class","flex","data-e2e","main-settings-function-keys-page__table-row-target",4,"ngIf"],[1,"actions"],["mat-icon-button","","type","button","data-e2e","main-settings-function-keys-page__table-row-delete--button",3,"click",4,"ngIf"],["mat-icon-button","","type","button",3,"click"],["fill","fill-contrast","size","small",3,"icon"],[1,"function-keys__drag-preview"],[1,"function-keys__drag-preview__item"],["data-e2e","main-settings-function-keys-page__table-row-target",1,"flex"],["mat-icon-button","","type","button","data-e2e","main-settings-function-keys-page__table-row-delete--button",3,"click"],["fill","fill-contrast","icon","delete","size","small"],[1,"function-keys__list-item"]],template:function(e,t){1&e&&(x.TgZ(0,"mat-tab-group",0),x.TgZ(1,"mat-tab"),x.TgZ(2,"div",1),x.TgZ(3,"div",2),x.NdJ("scrolled",function(){return t.getListItems()}),x.TgZ(4,"mat-list",3),x.TgZ(5,"mat-list-item",4),x.TgZ(6,"div",5),x._uU(7),x.ALo(8,"translate"),x.qZA(),x.TgZ(9,"div",6),x._uU(10),x.ALo(11,"translate"),x.qZA(),x.TgZ(12,"div",6),x._uU(13),x.ALo(14,"translate"),x.qZA(),x.TgZ(15,"div",6),x._uU(16),x.ALo(17,"translate"),x.qZA(),x.TgZ(18,"button",7),x.NdJ("click",function(){return t.onCreateNew()}),x._UZ(19,"app-svg-icon",8),x.TgZ(20,"hoverbox"),x._uU(21),x.ALo(22,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.YNc(23,Ce,2,1,"mat-list",9),x.YNc(24,we,3,0,"mat-list",10),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&e&&(x.xp6(3),x.Q6J("infiniteScrollDisabled",!t.hasMoreData)("infiniteScrollThrottle",50)("scrollWindow",!1),x.xp6(4),x.Oqu(x.lcZ(8,10,"settings.function_keys.key")),x.xp6(3),x.Oqu(x.lcZ(11,12,"settings.function_keys.name.label")),x.xp6(3),x.Oqu(x.lcZ(14,14,"settings.function_keys.type.label")),x.xp6(3),x.Oqu(x.lcZ(17,16,"settings.function_keys.target.label")),x.xp6(5),x.hij(" ",x.lcZ(22,18,"toolbar.buttons.function_key_add.tooltip")," "),x.xp6(2),x.Q6J("ngIf",!t.isLoadingFunctionKeys),x.xp6(1),x.Q6J("ngIf",t.isLoadingFunctionKeys))},directives:[le.SP,le.uX,ue.R,he.i$,he.Tg,de.lW,pe.r,fe.u,me.B,N.O5,oe.Wj,N.sg,oe.Zt,oe.pV,ge.w,B.S],pipes:[I.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]    {display:flex;flex:1;min-height:0}[_nghost-%COMP%]     .mat-list-base .mat-list-item .mat-list-item-content{padding:0 1.6rem}[_nghost-%COMP%]     .scroll-area{height:100%;overflow-y:scroll}[_nghost-%COMP%]     .expansion-container{position:relative}[_nghost-%COMP%]     .device-and-expansions-impersonate{background-color:#fff;box-shadow:0 .5rem .5rem -.3rem #0003,0 .8rem 1rem .1rem #00000024,0 .3rem 1.4rem .2rem #0000001f;display:flex;flex-direction:column;justify-content:flex-end;left:.5rem;position:absolute;right:.5rem;top:.5rem;z-index:1}[_nghost-%COMP%]     .device-and-expansions-impersonate .device-and-expansions-impersonate__container{background-color:#fff}[_nghost-%COMP%]     .device-and-expansions-impersonate .device-and-expansions-impersonate__container .device-and-expansions-impersonate__device, [_nghost-%COMP%]     .device-and-expansions-impersonate .device-and-expansions-impersonate__container .device-and-expansions-impersonate__expansion, [_nghost-%COMP%]     .device-and-expansions-impersonate .device-and-expansions-impersonate__container .device-and-expansions-impersonate__add{border-bottom:.1rem solid #e5e5e5;cursor:pointer;display:flex;padding:1.5rem}[_nghost-%COMP%]     .device-and-expansions-impersonate .device-and-expansions-impersonate__container .device-and-expansions-impersonate__device span, [_nghost-%COMP%]     .device-and-expansions-impersonate .device-and-expansions-impersonate__container .device-and-expansions-impersonate__expansion span, [_nghost-%COMP%]     .device-and-expansions-impersonate .device-and-expansions-impersonate__container .device-and-expansions-impersonate__add span{display:flex;flex:1}[_nghost-%COMP%]     .device-and-expansions-impersonate .device-and-expansions-impersonate__container i.selected{color:#00b300}@media (min-width: 500px){[_nghost-%COMP%]     .device-and-expansions-impersonate .device-and-expansions-impersonate__container{background-color:transparent;justify-content:flex-start}[_nghost-%COMP%]     .device-and-expansions-impersonate .device-and-expansions-impersonate__container .device-and-expansions-impersonate__container{margin:.5rem;width:24.6rem}}[_nghost-%COMP%]     mat-tab-group{flex:1}[_nghost-%COMP%]     mat-tab-group .mat-tab-label{display:none}[_nghost-%COMP%]     mat-tab-group .mat-tab-body-wrapper, [_nghost-%COMP%]     mat-tab-group .mat-tab-body-content{display:flex;flex:1}[_nghost-%COMP%]     mat-tab-group #function-keys__layout{display:flex;flex:1}[_nghost-%COMP%]     mat-tab-group #function-keys__layout .function-keys__layout__phone{background-color:#fff;display:flex;flex:1;margin-left:1.5rem}[_nghost-%COMP%]     mat-tab-group #function-keys__layout .empty-block{display:none}[_nghost-%COMP%]     mat-tab-group #function-keys__layout .empty-block p{text-align:center}[_nghost-%COMP%]     mat-tab-group #function-keys__layout .is-empty{align-items:center;background-color:#fff;display:flex;flex:1;justify-content:center;margin-left:1.5rem}[_nghost-%COMP%]     mat-tab-group #function-keys__layout .is-empty .empty-block{display:block}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view{flex:1}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list{padding-top:0}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list .function-keys__list-item{border-bottom:.1rem solid;height:5.6rem;-webkit-user-select:none;-moz-user-select:none;user-select:none}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list .function-keys__list-item.header button{position:absolute;right:.5rem}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list .function-keys__list-item .flex{flex:1;font-size:1.8rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list .function-keys__list-item .key{font-size:1.8rem;width:6.8rem}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list .function-keys__list-item .actions{align-items:center;bottom:0;display:none;padding:0 .8rem;position:absolute;right:0;top:0}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list .function-keys__list-item .actions button{margin-left:.8rem;margin-right:.8rem}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list .function-keys__list-item:hover .actions{display:flex}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list.drag-started .mat-list-item:hover{background-color:transparent}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list.drag-started .mat-list-item:hover .actions{display:none}[_nghost-%COMP%]     mat-tab-group .function-keys__list-view .function-keys__list .dnd-sortable-drag{transform:scale(1)}.function-keys__layout__side-container[_ngcontent-%COMP%]{display:flex}.function-keys__layout__side[_ngcontent-%COMP%]{border-right:.1rem solid #e5e5e5;width:32.2rem}.function-keys__layout__side[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{align-items:center;border-bottom:.1rem solid #e5e5e5;color:#000;display:flex;height:5.6rem;padding-left:1rem;padding-right:1rem}.function-keys__layout__side[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;font-size:1.7rem;margin:0;overflow:hidden;padding-left:.5rem;padding-right:.5rem;text-overflow:ellipsis;white-space:nowrap}.function-keys__layout__side[_ngcontent-%COMP%] > header[_ngcontent-%COMP%], .function-keys__layout__side[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{background-color:#fff;color:#000}.function-keys__layout__side[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.function-keys__layout__side[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{cursor:pointer;display:block;height:5.6rem;padding-bottom:0;padding-top:0;position:relative}.function-keys__layout__side[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   .primary-content[_ngcontent-%COMP%]{line-height:5.6rem}.function-keys__layout__side[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   .primary-content[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.function-keys__layout__side[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{margin-right:2rem}.function-keys__layout__side.function-keys__key-list[_ngcontent-%COMP%]{background-color:#fff}.function-keys__layout__side.function-keys__key-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .function-keys__layout__side.function-keys__key-list[_ngcontent-%COMP%]   section[_ngcontent-%COMP%], .function-keys__layout__side.function-keys__key-list[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{cursor:pointer}.function-keys__layout__side.function-keys__device-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.function-keys__layout__side.function-keys__device-list[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{flex:1}.function-keys__expansion-modal__container[_ngcontent-%COMP%]{align-items:center;background-color:#0000004d;bottom:0;display:flex;flex:1;flex-direction:column;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:4}.function-keys__expansion-modal__container[_ngcontent-%COMP%]   .function-keys__expansion-modal[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem;min-width:35rem}.function-keys__expansion-modal__container[_ngcontent-%COMP%]   .function-keys__expansion-modal[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]{padding:0}.function-keys__expansion-modal__container[_ngcontent-%COMP%]   .function-keys__expansion-modal[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{height:7.2rem;padding:1rem}.function-keys__expansion-modal__container[_ngcontent-%COMP%]   .function-keys__expansion-modal[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   .phone-icon[_ngcontent-%COMP%]{margin-right:1rem}.function-keys__expansion-modal__container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}@media all and (min-width: 840px) and (max-width: 1279px){#function-keys__layout[_ngcontent-%COMP%]{margin-left:1.6rem;margin-right:1.6rem}}.function-keys__user-info[_ngcontent-%COMP%]{display:flex}.function-keys__user-info__display-name[_ngcontent-%COMP%]{max-width:28rem}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{align-items:center;display:flex}.cdk-drag-preview[_ngcontent-%COMP%]   .mat-pseudo-checkbox[_ngcontent-%COMP%]{margin-right:1rem;padding:1.6rem}  .cdk-drag-preview .mat-list-item-content{box-sizing:border-box;display:flex;flex-direction:row;height:inherit;margin:2rem;padding:1.6rem;position:relative}.function-keys__drag-preview[_ngcontent-%COMP%]{background:#fff;border:.1rem solid #e5e5e5;display:flex;line-height:3}.function-keys__drag-preview__item[_ngcontent-%COMP%]{flex-grow:1;line-height:5rem;text-align:center}"]}),e})()},47199:function(e,t,i){"use strict";i.d(t,{PS:function(){return n},nA:function(){return s},F7:function(){return r},gb:function(){return o},vd:function(){return a},V9:function(){return c},rz:function(){return l}});const n={value:"INTERCOM",translationKey:"settings.function_keys.type.intercom"},s={value:"SPEEDDIAL",translationKey:"settings.function_keys.type.speed_dial"},r={value:"SERVICE",translationKey:"settings.function_keys.type.service"},o={value:"FUNCTION_CODE",translationKey:"settings.function_keys.type.function_code"},a={value:"MONITOR",translationKey:"settings.function_keys.type.monitor"},c={[s.value]:["FUNCTION_CODE","TARGETDESTINATION_ID"],[o.value]:["NUMBER","TARGETDESTINATION_ID"],DEFAULT:["FUNCTION_CODE","NUMBER"]},l=[n,s,r,o,a]},86752:function(e,t,i){"use strict";i.d(t,{f:function(){return p}});var n=i(79765),s=i(88002),r=i(78345);class o{constructor(){this.expansions=[]}addExpansion(e){return this.expansions.push(e),!0}removeExpansionById(e){this.expansions.forEach((t,i)=>{this.expansions[i].ID===e&&this.expansions.splice(i,1)})}getAmountOfFreeExpansionSlots(e){return e.length-this.expansions.length}setExpansionActive(e){this.setExpansionsDeactive(),this.expansions[e].SELECTED=!0}setExpansionsDeactive(){this.expansions.forEach((e,t)=>{this.expansions[t].SELECTED=!1})}}class a{constructor(e){this.SELECTED=!1,e&&Object.assign(this,e)}getCleanName(){return this.NAME.toLowerCase().replace(/[^a-z0-9]/g,"")}getStartIndex(){return this.KEY_OFFSET}getStartKey(){return this.KEY_OFFSET+1}getEndIndex(){return this.KEY_OFFSET+this.KEY_AMOUNT}getEndKey(){return this.KEY_OFFSET+this.KEY_AMOUNT}}class c{constructor(e){this.SELECTED=!1,e&&Object.assign(this,e),this.TOTAL_KEY_AMOUNT=this.KEY_AMOUNT,this.EXPANSIONS=new o,this.POSSIBLE_EXPANSIONS=new o}resetExpansions(){this.EXPANSIONS=new o}getCleanName(){return this.NAME.toLowerCase().replace(/[^a-z0-9]/g,"")}addExpansionByKey(e){this.EXPANSIONS.setExpansionsDeactive(),this.POSSIBLE_EXPANSIONS.expansions[e].SELECTED=!0;const t=this.POSSIBLE_EXPANSIONS.expansions[e];t.KEY_OFFSET=this.TOTAL_KEY_AMOUNT,this.EXPANSIONS.expansions.push(t),this.TOTAL_KEY_AMOUNT+=t.KEY_AMOUNT,this.POSSIBLE_EXPANSIONS.expansions.splice(e,1)}addExpansion(e){e.KEY_OFFSET=this.TOTAL_KEY_AMOUNT,this.TOTAL_KEY_AMOUNT+=e.KEY_AMOUNT,this.EXPANSIONS.expansions.push(e)}setPossibleExpansions(e){let t=0;if(e.data.length)for(;t<e.data[0].AMOUNT-this.EXPANSIONS.expansions.length;)e.data.forEach(e=>{const i=new a;i.DEVICE_EXPANSION_TYPE_ID=e.DEVICE_EXPANSION_TYPE_ID,i.KEY_OFFSET=e.KEY_OFFSET,i.PAGE_AMOUNT=e.dEVICEEXPANSIONTYPE.PAGE_AMOUNT,i.KEY_AMOUNT=e.dEVICEEXPANSIONTYPE.KEY_AMOUNT,i.MODEL=e.dEVICEEXPANSIONTYPE.MODEL,i.MANUFACTURER_ID=e.dEVICEEXPANSIONTYPE.MANUFACTURER_ID,i.NAME=e.dEVICEEXPANSIONTYPE.mANUFACTURER.NAME+" "+e.dEVICEEXPANSIONTYPE.MODEL;let n=0;for(;n<e.AMOUNT;)this.POSSIBLE_EXPANSIONS.addExpansion(i),n++,t++})}getStartIndex(){return 0}getStartKey(){return 1}getEndIndex(){return this.KEY_AMOUNT}getEndKey(){return this.KEY_AMOUNT}}var l=i(47199),u=i(39485),h=i(37716),d=i(91841);let p=(()=>{class e{constructor(e){this.http=e,this.favouritesListSource=new n.xQ,this.favouritesList$=this.favouritesListSource.asObservable()}updateFunctionKeyOrder(e,t){return this.http.put(`${this.apiEndpointFunctionKeys}/${e}/position`,JSON.stringify({to:t}))}getList(e=""){const t=[];return e&&t.push(`search=${e}`),this.http.get(`${this.apiEndpointFunctionKeys}?${t.join("&")}`).pipe((0,s.U)(e=>{const t=this.mapDataWithTranslation(e);return this.favouritesListSource.next(t.data),t}),(0,r.B)())}mapFunctionKeyTypeTranslation(e){var t;return(null===(t=l.rz.find(t=>t.value===e))||void 0===t?void 0:t.translationKey)||e}mapDataWithTranslation(e){return Object.assign(Object.assign({},e),{data:e.data?e.data.map(e=>Object.assign(Object.assign({},e),{functionKeyTypeTranslation:this.mapFunctionKeyTypeTranslation(e.FUNCTIONKEY_TYPE)})):null})}getPossibleExpansionsOfDevice(e){return this.http.get(`${this.apiEndpointFunctionKeys}/device/${e}/possible-expansions`).pipe((0,r.B)())}getExpansions(e){return this.http.get(`${this.apiEndpointFunctionKeys}/device/${e}/expansions`).pipe((0,r.B)())}getDevices(){return this.http.get(`${this.apiEndpointFunctionKeys}/devices`).pipe((0,s.U)(e=>e.map(this.mapToDevice)),(0,r.B)())}mapToDevice(e){return new c(e)}getTargets(e="",t){const i=[];return e&&i.push(`type=${t}`,`search=${e}`),this.http.get(`${this.apiEndpointFunctionKeys}/targets?${i.join("&")}`)}addPhoneExpansion(e,t){return this.http.post(`${this.apiEndpointFunctionKeys}/device/${e}/expansions`,JSON.stringify(t))}deletePhoneExpansion(e,t){return this.http.delete(`${this.apiEndpointFunctionKeys}/device/${e}/expansion/${t}`)}createFunctionKey(e){return this.http.post(`${this.apiEndpointFunctionKeys}`,JSON.stringify(e))}updateFunctionKey(e,t){return this.http.put(`${this.apiEndpointFunctionKeys}/${e}`,JSON.stringify(t))}deleteKey(e){return this.http.delete(`${this.apiEndpointFunctionKeys}/${e}`)}static getFieldErrorState(e,t){return e.hasError(t)&&e.dirty}get openFunctionKeysForm(){return this._openFunctionKeysForm}set openFunctionKeysForm(e){this._openFunctionKeysForm=e}get functionKeyItem(){return this._functionKeyItem}set functionKeyItem(e){this._functionKeyItem=e}get apiEndpointFunctionKeys(){return`${u.N.API_URL}/functionkeys`}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(d.eN))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})()},37816:function(e,t,i){"use strict";i.d(t,{H:function(){return n}});class n{constructor(e){this.router=e,this.isSideNavShown=!1}close(){this.router.navigate(["/main/settings"])}toggleSideNav(){this.isSideNavShown=!this.isSideNavShown}}},27355:function(e,t,i){"use strict";i.d(t,{b:function(){return l}});var n=i(79765),s=i(68307),r=i(78345),o=i(39485),a=i(37716),c=i(91841);let l=(()=>{class e{constructor(e){this.http=e,this.settingsSource=new n.xQ,this.settings$=this.settingsSource.asObservable()}getSettings(){return this.http.get(this.apiEndpointExtensionsSettings).pipe((0,s.b)(e=>{this.updateLocalSettings(e)}),(0,r.B)())}updateSettings(e){return this.http.put(this.apiEndpointExtensionsSettings,e)}updatePhoneSettings(e){return this.http.put(`${this.apiEndpointExtensionsSettings}/phone`,e)}updateVoicemailSettings(e){return this.http.put(`${this.apiEndpointExtensionsSettings}/voicemail`,e)}updateVoicemailPIN(e){return this.http.put(`${this.apiEndpointExtensionsSettings}/voicemail-pin`,JSON.stringify(e)).pipe((0,r.B)())}getPhones(){return this.http.get(`${this.apiEndpointExtensionsSettings}/phones`).pipe((0,r.B)())}getVoicemeailSettings(){return this.http.get(`${this.apiEndpointExtensionsSettings}/voicemail`).pipe((0,r.B)())}updateLocalSettings(e){this.settingsSource.next(e)}get apiEndpointExtensionsSettings(){return`${o.N.API_URL}/extensions/settings`}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},44163:function(e,t,i){"use strict";i.d(t,{S:function(){return r}});var n=i(37716),s=i(4885);let r=(()=>{class e{constructor(){this.size="medium"}get diameter(){return"small"===this.size?20:32}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-spinner"]],inputs:{size:"size"},decls:1,vars:1,consts:[["data-e2e","loading-spinner-fragment",3,"diameter"]],template:function(e,t){1&e&&n._UZ(0,"mat-spinner",0),2&e&&n.Q6J("diameter",t.diameter)},directives:[s.$g],styles:["[_nghost-%COMP%]{align-items:center;display:flex;justify-content:center;width:100%}"]}),e})()},62782:function(e,t,i){"use strict";i.d(t,{a:function(){return o}});var n=i(39485),s=i(37716),r=i(29790);let o=(()=>{class e{constructor(){this.url="/index.html",this.updateAvailable=!1}click(){window.location.reload()}ngOnInit(){n.N.minuteIntervalForUpdateCheck&&(this.interval=setInterval(()=>this.fetchHtml(),1e3*n.N.minuteIntervalForUpdateCheck*60))}ngOnDestroy(){clearInterval(this.interval)}fetchHtml(){return fetch(this.url,{cache:"no-store"}).then(e=>{if(200!==e.status)throw new Error("offline");return e.text()}).then(e=>{this.oldHtml?this.oldHtml!==e&&(this.oldHtml=e,this.updateAvailable=!0,clearInterval(this.interval)):this.oldHtml=e}).catch(e=>{})}get active(){return this.updateAvailable}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["auto-reload"]],hostVars:2,hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t.click()}),2&e&&s.ekj("active",t.active)},inputs:{url:"url"},exportAs:["autoReload"],decls:3,vars:3,template:function(e,t){1&e&&(s.TgZ(0,"div"),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&e&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"new_version_available")))},pipes:[r.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{cursor:pointer;position:absolute;top:-2.4rem;transition:top .3s ease-in-out;width:100%}.active[_nghost-%COMP%]{top:0}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{background-color:#ffd500;color:#333;font-size:1.6rem;height:2.4rem;line-height:2.4rem;text-align:center}"]}),e})()},526:function(e,t,i){"use strict";i.d(t,{K:function(){return m}});var n=i(79765),s=i(46782),r=i(7208),o=i(37716),a=i(64531),c=i(66853),l=i(38583),u=i(29790);function h(e,t){if(1&e&&o._UZ(0,"div",5),2&e){const e=o.oxw();o.ekj("presence-state--text-and-icon",e.showTextAndIcon),o.Q6J("ngClass",e.presenceState)}}function d(e,t){if(1&e&&o._UZ(0,"div",6),2&e){const e=o.oxw();o.ekj("active",e.isConferenceActive)}}function p(e,t){if(1&e&&(o.TgZ(0,"span",7),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.hij(" ",o.lcZ(2,1,e.conferencePresenceStateText)," ")}}function f(e,t){if(1&e&&(o.TgZ(0,"div",8),o.TgZ(1,"span"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.ekj("busy-lamp-field--text-and-icon",e.showTextAndIcon),o.xp6(2),o.hij(" ",o.lcZ(3,3,e.textPresenceState)," ")}}let m=(()=>{class e{constructor(e){this.busyLampFieldService=e,this.ngUnsubscribe=new n.xQ,this.entityPresenceStateType="icon",this.isConferenceActive=!1,this.showTextAndIcon=!1,this.showTextForConference=!1,this.presenceStateVisualizationTypes=r.Y,this.conferencePresenceStateText="",this.busyLampFieldService.onPresenceStateChanged$.pipe((0,s.R)(this.ngUnsubscribe)).subscribe(e=>{e&&this.checkPresenceState()})}ngOnInit(){this.checkPresenceState()}ngOnChanges(e){e.hasOwnProperty("isConferenceActive")&&this.setConferencePresenceStateText()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}checkPresenceState(){this.presenceState=this.busyLampFieldService.getBusyLampFieldState(this.extension),this.textPresenceState=`presence-state.${this.presenceState}`}setConferencePresenceStateText(){this.conferencePresenceStateText=this.isConferenceActive?`presence-state.${r.x.IDLE}`:`presence-state.${r.x.NOT_AVAILABLE}`}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(a.H))},e.\u0275cmp=o.Xpm({type:e,selectors:[["busy-lamp-field"]],inputs:{entityPresenceStateType:"entityPresenceStateType",extension:"extension",isConferenceActive:"isConferenceActive",showTextAndIcon:"showTextAndIcon",showTextForConference:"showTextForConference",e2e:"e2e"},features:[o.TTD],decls:5,vars:4,consts:[["hideIf","","data-e2e","busy-lamp-field-fragment",1,"busy-lamp-field__indicator"],["class","busy-lamp-field busy-lamp-field__icon",3,"presence-state--text-and-icon","ngClass",4,"ngIf"],["class","busy-lamp-field busy-lamp-field__conference","data-e2e","conference-info-modal-fragment__status",3,"active",4,"ngIf"],["class","busy-lamp-field__conference-text","data-e2e","conference-info-modal-fragment__status-text",4,"ngIf"],["class","busy-lamp-field__text",3,"busy-lamp-field--text-and-icon",4,"ngIf"],[1,"busy-lamp-field","busy-lamp-field__icon",3,"ngClass"],["data-e2e","conference-info-modal-fragment__status",1,"busy-lamp-field","busy-lamp-field__conference"],["data-e2e","conference-info-modal-fragment__status-text",1,"busy-lamp-field__conference-text"],[1,"busy-lamp-field__text"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,h,1,3,"div",1),o.YNc(2,d,1,2,"div",2),o.YNc(3,p,3,3,"span",3),o.YNc(4,f,4,5,"div",4),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",t.entityPresenceStateType===t.presenceStateVisualizationTypes.ICON||t.showTextAndIcon),o.xp6(1),o.Q6J("ngIf",t.entityPresenceStateType===t.presenceStateVisualizationTypes.CONFERENCE),o.xp6(1),o.Q6J("ngIf",t.showTextForConference),o.xp6(1),o.Q6J("ngIf",t.entityPresenceStateType===t.presenceStateVisualizationTypes.TEXT||t.showTextAndIcon))},directives:[c.B,l.O5,l.mk],pipes:[u.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{align-items:center;color:#666;display:flex}.busy-lamp-field__indicator[_ngcontent-%COMP%]{align-items:center;display:flex;flex:auto;justify-content:left}.busy-lamp-field[_ngcontent-%COMP%]{border-radius:50%;height:1.2rem;width:1.2rem}.busy-lamp-field.ringing[_ngcontent-%COMP%], .busy-lamp-field.call-waiting[_ngcontent-%COMP%]{-webkit-animation-direction:normal;animation-direction:normal;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:ringing;animation-name:ringing;-webkit-animation-timing-function:steps(2,end);animation-timing-function:steps(2,end)}.busy-lamp-field__text[_ngcontent-%COMP%]{justify-content:left;width:100%}.busy-lamp-field--text-and-icon[_ngcontent-%COMP%]{margin-right:.5rem}.busy-lamp-field__conference[_ngcontent-%COMP%]{background:#b2b2b2}.busy-lamp-field__conference.active[_ngcontent-%COMP%]{background:#00b300}.busy-lamp-field__conference-text[_ngcontent-%COMP%]{margin-left:.8rem}"]}),e})()},74823:function(e,t,i){"use strict";i.d(t,{X:function(){return o}});var n=i(37716),s=i(38583),r=i(29790);let o=(()=>{class e{constructor(e,t){this.datePipe=e,this.translateService=t,this.formatFull="dd.MM.yyyy, H:mm",this.formatTime="H:mm"}transform(e){if(e){const t=new Date(e),i=new Date,n=this.daysDiff(t,i);if(n<2){const t=this.datePipe.transform(e,this.formatTime)+"";return`${this.translateService.instant(1===n?"yesterday":"today")}, ${t.toLowerCase()}`}return(this.datePipe.transform(e,this.formatFull)+"").toLowerCase()}return""}daysDiff(e,t){const i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-i)/864e5)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.uU,16),n.Y36(r.sK,16))},e.\u0275pipe=n.Yjl({name:"callDate",type:e,pure:!0}),e})()},7025:function(e,t,i){"use strict";i.d(t,{e:function(){return m}});var n=i(37716),s=i(36461),r=i(77746),o=i(99385),a=i(61466),c=i(56436),l=i(83166),u=i(3679),h=i(85499),d=i(38583),p=i(29790);function f(e,t){if(1&e&&(n.TgZ(0,"mat-list-option",12),n.TgZ(1,"div",13),n._uU(2),n.qZA(),n.TgZ(3,"div",14),n.TgZ(4,"div",15),n._uU(5),n.qZA(),n.TgZ(6,"div",16),n._uU(7),n.qZA(),n.qZA(),n.qZA()),2&e){const e=t.$implicit;n.Q6J("value",e),n.xp6(2),n.hij(" ",e.letter," "),n.xp6(3),n.hij(" ",e.name||e.displayName||e.DISPLAY_NAME," "),n.xp6(2),n.hij(" ",e.number||e.extensionNumber||e.EXTENSION_NUMBER||e.ID," ")}}let m=(()=>{class e{constructor(){this.items=[],this.title="Select",this.searchPlaceholder="modal.search_placeholder",this.onFilter=new n.vpe,this.onSelect=new n.vpe,this.toggleFn=new n.vpe,this.flattenedItems=[]}handle(e){e.stopPropagation(),this.close()}ngOnChanges(e){e.items&&(this.filteredItems=this.items,this.flattenedItems=this.flattenItems(this.items))}onSelectionChange(e){this.selectItem(e.option.value)}onKeyDown(e){e.keyCode===s.JH&&(e.preventDefault(),this.matListOptions&&this.matListOptions.length&&this.matListOptions.first.focus())}selectItem(e){this.onSelect.emit(e)}close(){this.toggleFn.emit()}filterItem(e=null,t){this.onFilter.observers.length>0?(this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=window.setTimeout(()=>{this.onFilter.emit(e)},300)):this.filter(e)}filter(e=null){let t;const i=[];let n="name";if(t=e&&"string"==typeof e?(0,o.fA)(e):"",""===t)return void(this.filteredItems=this.items);const s=new RegExp(".*"+t+".*","i");this.items.forEach(e=>{e.items.forEach(e=>{let t="";e.name?t=e.name:e.displayName?(t=e.displayName,n="displayName"):e.DISPLAY_NAME&&(t=e.DISPLAY_NAME,n="DISPLAY_NAME"),s.test(t)&&i.push(e)})}),this.filteredItems=(0,a.L)(i,n)}flattenItems(e){const t=[];return e.forEach(e=>{e.items.forEach((i,n)=>{t.push(Object.assign({letter:0===n?e.letter:null},i))})}),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["categorized-modal"]],viewQuery:function(e,t){if(1&e&&n.Gf(r.vS,5),2&e){let e;n.iGM(e=n.CRH())&&(t.matListOptions=e)}},hostBindings:function(e,t){1&e&&n.NdJ("keydown.escape",function(e){return t.handle(e)},!1,n.evT)},inputs:{items:"items",title:"title",searchPlaceholder:"searchPlaceholder"},outputs:{onFilter:"onFilter",onSelect:"onSelect",toggleFn:"toggleFn"},features:[n.TTD],decls:16,vars:9,consts:[["data-e2e","conference-selector-modal-fragment",1,"categorized-modal",3,"click"],[1,"categorized-modal__container",3,"click"],[1,"categorized-modal__header"],[1,"categorized-modal__header__title"],[1,"categorized-modal__content"],[1,"categorized-modal__subheader"],[1,"categorized-modal__subheader__wrapper"],["icon","search","size","small"],["autocomplete","off","matInput","","data-e2e","conference-selector-modal-fragment__search--input",1,"categorized-modal__input",3,"ngModel","focus","placeholder","keydown","keyup","ngModelChange"],[1,"categorized-modal__categories"],["data-e2e","conference-selector-modal-fragment__selector-list",3,"selectionChange"],["class","categorized-modal__categories__item","data-e2e","conference-selector-modal-fragment__selector-list-option",3,"value",4,"ngFor","ngForOf"],["data-e2e","conference-selector-modal-fragment__selector-list-option",1,"categorized-modal__categories__item",3,"value"],[1,"categorized-modal__categories__letter"],[1,"categorized-modal__categories__name-container"],[1,"categorized-modal__categories__name"],[1,"categorized-modal__categories__number"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("click",function(){return t.close()}),n.TgZ(1,"div",1),n.NdJ("click",function(e){return e.stopPropagation()}),n.TgZ(2,"header",2),n.TgZ(3,"span",3),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA(),n.TgZ(6,"section",4),n.TgZ(7,"div",5),n.TgZ(8,"div",6),n._UZ(9,"app-svg-icon",7),n.TgZ(10,"label"),n.TgZ(11,"input",8),n.NdJ("keydown",function(e){return t.onKeyDown(e)})("keyup",function(e){return t.filterItem(e.target.value,e)})("ngModelChange",function(e){return t.nameFilter=e}),n.ALo(12,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"div",9),n.TgZ(14,"mat-selection-list",10),n.NdJ("selectionChange",function(e){return t.onSelectionChange(e)}),n.YNc(15,f,8,4,"mat-list-option",11),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.hij(" ",n.lcZ(5,5,t.title)," "),n.xp6(7),n.s9C("placeholder",n.lcZ(12,7,t.searchPlaceholder)),n.Q6J("ngModel",t.nameFilter)("focus",!0),n.xp6(4),n.Q6J("ngForOf",t.flattenedItems))},directives:[c.u,l.Nt,u.Fj,u.JJ,u.On,h.R,r.Ub,d.sg,r.vS],pipes:[p.X$],styles:['.hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.categorized-modal[_ngcontent-%COMP%]{background-color:#0000004d;bottom:0;display:flex;left:0;position:absolute;right:0;top:0;z-index:4}.categorized-modal__header[_ngcontent-%COMP%]{align-items:center;background-color:#333;color:#fff;display:flex;flex-direction:row;font-size:2.2rem;height:5.6rem;padding:0 1.6rem}.categorized-modal__header__title[_ngcontent-%COMP%]{margin-left:.5rem;overflow:hidden}.categorized-modal__subheader[_ngcontent-%COMP%]{color:#fff}.categorized-modal__subheader__wrapper[_ngcontent-%COMP%]{align-items:center;display:flex;height:5.6rem;padding:0 1.6rem}.categorized-modal__input[_ngcontent-%COMP%]{background-color:transparent;border:0;color:#fff;flex:1;font-size:1.8rem;padding:0 .8rem}.categorized-modal__input[_ngcontent-%COMP%]::-moz-placeholder{color:#ffffffc4}.categorized-modal__input[_ngcontent-%COMP%]::placeholder{color:#ffffffc4}.categorized-modal__input[_ngcontent-%COMP%]::-moz-placeholder{color:#ffffffc4}.categorized-modal__input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#ffffffc4}.categorized-modal__input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ffffffc4}.categorized-modal__input[_ngcontent-%COMP%]:focus{outline:none}.categorized-modal__container[_ngcontent-%COMP%]{background-color:#fff;flex:1}.categorized-modal__content[_ngcontent-%COMP%]{height:calc(100% - 5.6rem)}.categorized-modal__categories[_ngcontent-%COMP%]{height:calc(100% - 5.6rem);overflow-y:scroll}  .mat-list-option .mat-pseudo-checkbox{display:none}  .mat-list-text{color:#5f626e;display:flex;flex-direction:row!important;font-family:"Brix","Helvetica","Arial",sans-serif}  .mat-list-item span{font-family:"Brix","Helvetica","Arial",sans-serif}.categorized-modal__categories__item[_ngcontent-%COMP%]{margin:1.6rem 0}.categorized-modal__categories__letter[_ngcontent-%COMP%]{font-size:1.8rem;padding-right:2.6rem!important;text-align:center;width:1.8rem}.categorized-modal__categories__name[_ngcontent-%COMP%]{font-size:1.8rem}.categorized-modal__categories__name[_ngcontent-%COMP%], .categorized-modal__categories__number[_ngcontent-%COMP%]{font-family:"Brix","Helvetica","Arial",sans-serif}.categorized-modal__categories__number[_ngcontent-%COMP%]{color:#0000008a;font-size:1.6rem}.categorized-modal[_ngcontent-%COMP%]{align-items:center;justify-content:center}.categorized-modal__header[_ngcontent-%COMP%]{background-color:#e5e5e5;color:#000}.categorized-modal__subheader[_ngcontent-%COMP%]{background-color:#fff;border-bottom:.1rem solid #e5e5e5}.categorized-modal__input[_ngcontent-%COMP%]{color:#000}.categorized-modal__input[_ngcontent-%COMP%]::placeholder{color:#000000c4}.categorized-modal__input[_ngcontent-%COMP%]::-moz-placeholder{color:#000000c4}.categorized-modal__input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#000000c4}.categorized-modal__input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#000000c4}.categorized-modal__container[_ngcontent-%COMP%]{flex:initial;height:80vh;width:32rem}']}),e})()},99795:function(e,t,i){"use strict";i.d(t,{m:function(){return E}});var n=i(37716),s=i(3679),r=i(58293),o=i(90980),a=i(79765),c=i(46782),l=i(7460),u=i(82676),h=i(22238),d=i(89973),p=i(38583),f=i(52592),m=i(98295),g=i(83166),_=i(85499),v=i(42070),b=i(29790);function y(e,t){1&e&&(n.TgZ(0,"mat-hint",9),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"settings.click_to_dial.name.error.required")," "))}function S(e,t){1&e&&(n.TgZ(0,"mat-hint",9),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"settings.click_to_dial.phone_number.error.required")," "))}function C(e,t){1&e&&(n.TgZ(0,"mat-hint",9),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"settings.click_to_dial.phone_number.error.invalid")," "))}function w(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"form",3),n.NdJ("ngSubmit",function(){return n.CHM(e),n.oxw().form.valid}),n.TgZ(1,"section",4),n.TgZ(2,"mat-form-field"),n.TgZ(3,"input",5),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw()._item.name=t}),n.ALo(4,"translate"),n.qZA(),n.YNc(5,y,3,3,"mat-hint",6),n.qZA(),n.TgZ(6,"mat-form-field"),n.TgZ(7,"input",7),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().number=t}),n.ALo(8,"translate"),n.qZA(),n.YNc(9,S,3,3,"mat-hint",6),n.YNc(10,C,3,3,"mat-hint",6),n.qZA(),n.qZA(),n.TgZ(11,"footer-actions",8),n.NdJ("saveClick",function(){return n.CHM(e),n.oxw().save()}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("formGroup",e.form),n.xp6(1),n.Q6J("loadingAreaIndicatorActive",e.isLoading),n.xp6(2),n.Q6J("ngModel",e._item.name)("focus",!0)("placeholder",n.lcZ(4,12,"settings.click_to_dial.name.label")),n.xp6(2),n.Q6J("ngIf",e.form.controls.name.hasError("required")&&e.form.controls.name.touched),n.xp6(2),n.Q6J("ngModel",e.number)("placeholder",n.lcZ(8,14,"settings.click_to_dial.phone_number.label")),n.xp6(2),n.Q6J("ngIf",e.form.controls.number.hasError("required")&&e.form.controls.number.touched),n.xp6(1),n.Q6J("ngIf",e.form.controls.number.hasError("invalidPhoneNumber")&&e.form.controls.number.touched),n.xp6(1),n.Q6J("dialogRef",e.dialogRef)("saveDisabled",!e.form.valid)}}let E=(()=>{class e{constructor(e,t,i){this.clickToDialService=e,this.profileService=t,this.dialogRef=i,this.ngUnsubscribe=new a.xQ,this.onSave=new n.vpe,this._item=new r.P,this.isLoading=!1,this.isSubmitted=!1,this.form=new s.cw({name:new s.NI(this._item.name,s.kI.compose([s.kI.required,s.kI.maxLength(50)])),number:new s.NI(this.number,s.kI.compose([s.kI.required,o.b.international_e123()]))})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}save(){this._item.attributes||(this._item.attributes={}),this._item.attributes.CLICKTODIAL_SOURCE=this.number,this.createProfile()}close(e){this.dialogRef.close(e)}createProfile(){this.isLoading=!0,this.profileService.createProfile(this._item.json()).pipe((0,c.R)(this.ngUnsubscribe)).subscribe(e=>{this.isLoading=!1,this.close(e)},()=>{this.isLoading=!1})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.q),n.Y36(u.H),n.Y36(h.so))},e.\u0275cmp=n.Xpm({type:e,selectors:[["click-to-dial-entry"]],outputs:{onSave:"onSave"},decls:4,vars:4,consts:[["data-e2e","click-to-dial-target-modal-fragment",1,"click-to-dial-settings__phone-number"],[1,"click-to-dial-settings__phone-number__modal",3,"title"],["class","contact-form","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","",1,"contact-form",3,"formGroup","ngSubmit"],["loading-area-indicator","",3,"loadingAreaIndicatorActive"],["formControlName","name","matInput","","type","text","data-e2e","click-to-dial-target-modal-fragment__name--input",3,"ngModel","focus","placeholder","ngModelChange"],["class","mat-hint--error",4,"ngIf"],["formControlName","number","matInput","","type","text","data-e2e","click-to-dial-target-modal-fragment__number--input",3,"ngModel","placeholder","ngModelChange"],["e2e","click-to-dial-target-modal-fragment",3,"dialogRef","saveDisabled","saveClick"],[1,"mat-hint--error"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"modal-container",1),n.ALo(2,"translate"),n.YNc(3,w,12,16,"form",2),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.Q6J("title",n.lcZ(2,2,"settings.user.custom_number")),n.xp6(2),n.Q6J("ngIf",!t.isSubmitted))},directives:[d.O,p.O5,s._Y,s.JL,s.sg,f.O,m.KE,s.Fj,g.Nt,s.JJ,s.u,_.R,v.c,m.bx],pipes:[b.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]     .mat-input-underline .mat-input-ripple{background-color:#fff}.click-to-dial-settings__phone-number[_ngcontent-%COMP%]{display:flex}.click-to-dial-settings__phone-number[_ngcontent-%COMP%]   .click-to-dial-settings__phone-number__modal[_ngcontent-%COMP%]{max-width:30rem;position:relative}.click-to-dial-settings__phone-number__modal[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.8rem 2.4rem}"]}),e})()},17685:function(e,t,i){"use strict";i.d(t,{f:function(){return l}});var n=i(37716),s=i(22238),r=i(78023),o=i(29790);let a=(()=>{class e{constructor(e){this.dialogRef=e}closeDialog(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.so))},e.\u0275cmp=n.Xpm({type:e,selectors:[["coachee-info-dialog"]],decls:8,vars:6,consts:[["mat-dialog-title","",1,"coachee-info-dialog__dialog-title"],["align","end"],["buttonTextTranslationKey","coachee.info_dialog.close","type","basic-button",3,"appButtonClick"]],template:function(e,t){1&e&&(n.TgZ(0,"span",0),n._uU(1),n.ALo(2,"translate"),n.qZA(),n.TgZ(3,"mat-dialog-content"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"mat-dialog-actions",1),n.TgZ(7,"app-button",2),n.NdJ("appButtonClick",function(){return t.closeDialog()}),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",n.lcZ(2,2,"coachee.info_dialog.title"),"\n"),n.xp6(3),n.hij(" ",n.lcZ(5,4,"coachee.info_dialog.content"),"\n"))},directives:[s.uh,s.xY,s.H8,r.V],pipes:[o.X$],styles:[".coachee-info-dialog__dialog-title[_ngcontent-%COMP%]{font-size:1.8rem}"]}),e})();var c=i(51233);let l=(()=>{class e{constructor(e,t){this.dialog=e,this.userService=t,this.userService.userInfo$.subscribe(e=>{this.openCoacheeInfoDialog(e)})}openCoacheeInfoDialog(e){var t;!this.coacheeInfoDialogRef&&(null===(t=null==e?void 0:e.activePhoneExtension)||void 0===t?void 0:t.isCoachee)&&(this.coacheeInfoDialogRef=this.dialog.open(a,{autoFocus:!1,width:"56rem",panelClass:"dialog-container"}))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.uw),n.LFG(c.K))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},96566:function(e,t,i){"use strict";i.d(t,{q:function(){return _}});var n=i(37716),s=i(39249),r=i(90971),o=i(97574),a=i(38583),c=i(56869),l=i(53149),u=i(29790);function h(e,t){1&e&&(n.TgZ(0,"div",8),n._UZ(1,"logo",9),n.qZA())}function d(e,t){if(1&e&&n._UZ(0,"app-link",10),2&e){const e=t.$implicit;n.Q6J("link",e)("e2e","footer-fragment"+e.e2e)}}function p(e,t){if(1&e&&(n.TgZ(0,"span",11),n._UZ(1,"img",12),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.Q6J("src",e.poweredByLogo,n.LSH)}}function f(e,t){if(1&e&&(n.TgZ(0,"span",9),n._UZ(1,"img",13),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.Q6J("src",e.loginLogoInFooter,n.LSH)}}const m=function(e){return{year:e}};function g(e,t){if(1&e&&(n.TgZ(0,"footer",1),n.YNc(1,h,2,0,"div",2),n.TgZ(2,"div",3),n.YNc(3,d,1,2,"app-link",4),n.YNc(4,p,2,1,"span",5),n.qZA(),n.YNc(5,f,2,1,"span",6),n.TgZ(6,"div",7),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.isShowingBrandLogo),n.xp6(2),n.Q6J("ngForOf",e.legalLinks),n.xp6(1),n.Q6J("ngIf",e.isShowingPoweredByLogo),n.xp6(1),n.Q6J("ngIf",e.isLoginPage&&e.isLoginLogoInFooter),n.xp6(1),n.ekj("app-footer__is-login",e.isLoginPage),n.xp6(1),n.hij(" ",n.xi3(8,7,e.copyrightTranslation,n.VKq(10,m,e.year))," ")}}let _=(()=>{class e{constructor(e,t,i){this.themeService=e,this.whiteLabelService=t,this.helperService=i,this.isLoginPage=!1,this.copyrightTranslation=this.whiteLabelService.data.copyrightTranslation,this.isPoweredByLogoShown=!!this.helperService.getDeepProperty(this.whiteLabelService.data,"isPoweredByLogoShown"),this.isLogoInFooter=!!this.helperService.getDeepProperty(this.whiteLabelService.data,"isLogoInFooter"),this.isLoginLogoInFooter=!!this.helperService.getDeepProperty(this.whiteLabelService.data,"isLoginLogoInFooter"),this.mainLogo="",this.poweredByLogo="",this.loginLogoInFooter="",this.year=(new Date).getFullYear(),this.legalLinks=this.whiteLabelService.data.legalLinks,this.viewLoaded=!1,this.isShowingBrandLogo=!1,this.isShowingPoweredByLogo=!1}ngOnInit(){const e=this.themeService.assetPath;this.mainLogo=`${e}/logo/main-logo-header.svg`,this.poweredByLogo=this.isPoweredByLogoShown?`${e}/logo/powered-by-nfon-logo-monochrom.png`:"",this.loginLogoInFooter=this.isLoginPage&&this.isLoginLogoInFooter?`${e}/logo/footer-logo.svg`:"",this.isShowingBrandLogo=!this.isLoginPage&&this.isLogoInFooter,this.isShowingPoweredByLogo=this.isLoginPage&&this.isPoweredByLogoShown}ngAfterViewInit(){setTimeout(()=>{this.viewLoaded=!0})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.f),n.Y36(r.D),n.Y36(o.$))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-footer"]],inputs:{isLoginPage:"isLoginPage"},decls:1,vars:1,consts:[["class","app-footer__wrapper","data-e2e","footer-fragment",4,"ngIf"],["data-e2e","footer-fragment",1,"app-footer__wrapper"],["class","app-footer__section app-footer-logo",4,"ngIf"],[1,"app-footer__section","app-footer-links"],[3,"link","e2e",4,"ngFor","ngForOf"],["class","app-footer__logo-powered-by",4,"ngIf"],["class","app-footer__logo",4,"ngIf"],["data-e2e","footer-fragment__copyright",1,"app-footer__section","app-footer__section--right","app-footer-copyright"],[1,"app-footer__section","app-footer-logo"],[1,"app-footer__logo"],[3,"link","e2e"],[1,"app-footer__logo-powered-by"],["alt","Powered by NFON","data-e2e","footer-fragment__powered-by-nfon--img",1,"app-footer__logo-powered-by__image",3,"src"],["alt","",1,"app-footer__login-logo-footer__image",3,"src"]],template:function(e,t){1&e&&n.YNc(0,g,9,12,"footer",0),2&e&&n.Q6J("ngIf",t.viewLoaded)},directives:[a.O5,a.sg,c.R,l.J],pipes:[u.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{position:relative}.app-footer__wrapper[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:flex-start;overflow:hidden;padding:0 1.6rem;z-index:2}.app-footer__section[_ngcontent-%COMP%]{align-items:center;display:flex;flex:0 1 auto;height:5.6rem}.app-footer__section[_ngcontent-%COMP%] + .app-footer__section[_ngcontent-%COMP%]{padding-left:1.6rem}.app-footer__section.app-footer__section--right[_ngcontent-%COMP%]{margin-left:auto}.app-footer__logo[_ngcontent-%COMP%]{height:2rem;padding-left:.5rem}.app-footer__logo-powered-by[_ngcontent-%COMP%]{height:5.6rem;margin-left:auto;margin-right:3rem;width:18.9rem}.app-footer__login-logo-footer__image[_ngcontent-%COMP%]{width:100%}.app-footer__logo[_ngcontent-%COMP%]{margin-left:auto;margin-right:3rem;width:17.2rem}"]}),e})()},53149:function(e,t,i){"use strict";i.d(t,{J:function(){return _}});var n=i(46782),s=i(79765),r=i(37716),o=i(725),a=i(90971),c=i(64300),l=i(38583),u=i(56436),h=i(11845),d=i(29790);function p(e,t){if(1&e&&r._UZ(0,"app-svg-icon",4),2&e){const e=r.oxw();r.s9C("icon",e.linkByLanguage.iconName)}}function f(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"letterCase"),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij(" ",r.xi3(2,1,null==e.link?null:e.link.name,null==e.link?null:e.link.name)," ")}}function m(e,t){if(1&e&&(r.TgZ(0,"span"),r._uU(1),r.ALo(2,"letterCase"),r.ALo(3,"translate"),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij(" ",r.xi3(2,1,r.lcZ(3,4,null==e.link?null:e.link.name),null==e.link?null:e.link.name)," ")}}const g=function(e){return[e]};let _=(()=>{class e{constructor(e,t,i){this.electronService=e,this.whiteLabelService=t,this.languageService=i,this.ngUnsubscribe=new s.xQ,this.customClass="default",this.isCookieBannerLink=!1,this.linkByLanguage=Object.assign({},this.link)}ngOnInit(){this.languageService.languageChange$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(()=>{this.setLink(this.link)})}ngOnChanges(e){e.link&&this.setLink(e.link.currentValue)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setLink(e){this.language=this.languageService.getCurrentLanguage(),this.isCookieBannerLink="Datenschutzhinweisen"===this.link.name,Object.assign(this.linkByLanguage,this.link),this.linkByLanguage=this.whiteLabelService.getLinkForLanguage(this.linkByLanguage,this.language)}openUrl(e){return"string"==typeof e&&(this.electronService.desktop?this.electronService.openExternalUrl(e):window.open(e,"_blank")),!1}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.d),r.Y36(a.D),r.Y36(c.T))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-link"]],inputs:{link:"link",customClass:"customClass",e2e:"e2e"},features:[r.TTD],decls:5,vars:10,consts:[[1,"app-link",3,"href","ngClass","click"],["fill","header-login-button-color","size","medium",3,"icon",4,"ngIf"],[4,"ngIf","ngIfElse"],["translateLabel",""],["fill","header-login-button-color","size","medium",3,"icon"]],template:function(e,t){if(1&e&&(r.TgZ(0,"a",0),r.NdJ("click",function(){return t.openUrl(t.linkByLanguage.url)}),r.YNc(1,p,1,1,"app-svg-icon",1),r.YNc(2,f,3,4,"span",2),r.YNc(3,m,4,6,"ng-template",null,3,r.W1O),r.qZA()),2&e){const e=r.MAs(4);r.ekj("app-link--bold",t.linkByLanguage.bold),r.Q6J("href",t.linkByLanguage.url,r.LSH)("ngClass",r.VKq(8,g,t.customClass)),r.uIk("data-e2e",t.e2e?t.e2e+"--a":null),r.xp6(1),r.Q6J("ngIf",t.linkByLanguage.iconName),r.xp6(1),r.Q6J("ngIf",t.isCookieBannerLink)("ngIfElse",e)}},directives:[l.mk,l.O5,u.u],pipes:[h.K,d.X$],styles:[".app-link[_ngcontent-%COMP%]{margin-right:1rem;text-decoration:none}.app-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.app-link--bold[_ngcontent-%COMP%]{font-weight:bold}"]}),e})()},89937:function(e,t,i){"use strict";i.d(t,{v:function(){return u}});var n=i(37716),s=i(14785),r=i(45832),o=i(38583),a=i(78023);function c(e,t){if(1&e){const e=n.EpF();n.ynx(0),n.TgZ(1,"app-button",2),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw().copy()}),n.qZA(),n.BQk()}if(2&e){const e=n.oxw();n.xp6(1),n.Q6J("buttonTextTranslationKey",e.tooltipText)}}function l(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-button",3),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw().copy()}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("hoverTextTranslationKey",e.tooltipText)}}let u=(()=>{class e{constructor(e,t){this.clipboard=e,this.snackBarService=t}copy(){let e;e=this.clipboard.copy(this.textToCopy)?"clipboard.success":"clipboard.failure",this.snackBarService.openInfo(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.TU),n.Y36(r.c))},e.\u0275cmp=n.Xpm({type:e,selectors:[["copy-to-clipboard-button"]],inputs:{tooltipText:"tooltipText",textToCopy:"textToCopy",isStrokedButton:"isStrokedButton"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["iconButton",""],["color","primary","type","stroked-button",1,"app-button__button",3,"buttonTextTranslationKey","appButtonClick"],["iconFill","button-color","iconName","clipboard",3,"hoverTextTranslationKey","appButtonClick"]],template:function(e,t){if(1&e&&(n.YNc(0,c,2,1,"ng-container",0),n.YNc(1,l,1,1,"ng-template",null,1,n.W1O)),2&e){const e=n.MAs(2);n.Q6J("ngIf",t.isStrokedButton)("ngIfElse",e)}},directives:[o.O5,a.V],styles:[".app-button__button[_ngcontent-%COMP%]{padding-top:1rem;width:17rem}"]}),e})()},94079:function(e,t,i){"use strict";i.d(t,{D:function(){return m}});var n=i(46782),s=i(79765),r=i(37716),o=i(86970),a=i(68513),c=i(45832),l=i(38583);const u=["profilesList"],h=["dndButton"],d=["ringtoneButton"],p=["hotkeyButton"];function f(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",2),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().setActiveProfile(t.id)}),r._uU(1),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e.name," ")}}let m=(()=>{class e{constructor(e,t,i){this.electronFixSnackBarService=e,this.electronHelperService=t,this.snackBarService=i,this.ngUnsubscribe=new s.xQ}ngOnInit(){this.initObservables()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setActiveProfile(e){this.electronHelperService.setActiveProfile(this.profiles,e)}toggleDnd(){this.electronHelperService.swithcDnd()}toggleRingtone(){this.electronHelperService.switchRingtone()}hotkeyButtonClick(){this.snackBarService.openInfo(`navigation.settings.hotkeys.${this.translationKey}`)}initObservables(){this.electronFixSnackBarService.callForwardingProfiles$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(e=>{this.profiles=e}),this.electronFixSnackBarService.activeCallForwardingProfileChange$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(e=>{this.triggerCFButtonClick(e)}),this.electronFixSnackBarService.dndStateChange$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(()=>{this.dndButton.nativeElement.click()}),this.electronFixSnackBarService.ringtoneStateChange$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(()=>{this.ringtoneButton.nativeElement.click()}),this.electronFixSnackBarService.hotkeyPressed$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(e=>{this.translationKey=e,this.hotkeyButton.nativeElement.click()})}triggerCFButtonClick(e){const t=this.profiles.findIndex(t=>t.id===e);t>-1&&this.profilesList.nativeElement.childNodes[t].click()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.l),r.Y36(a.t),r.Y36(c.c))},e.\u0275cmp=r.Xpm({type:e,selectors:[["electron-fix-snack-bar"]],viewQuery:function(e,t){if(1&e&&(r.Gf(u,5),r.Gf(h,5),r.Gf(d,5),r.Gf(p,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.profilesList=e.first),r.iGM(e=r.CRH())&&(t.dndButton=e.first),r.iGM(e=r.CRH())&&(t.ringtoneButton=e.first),r.iGM(e=r.CRH())&&(t.hotkeyButton=e.first)}},decls:12,vars:1,consts:[["profilesList",""],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["dndButton",""],["ringtoneButton",""],["hotkeyButton",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",null,0),r.YNc(2,f,2,1,"button",1),r.qZA(),r.TgZ(3,"button",2,3),r.NdJ("click",function(){return t.toggleDnd()}),r._uU(5,"Dnd"),r.qZA(),r.TgZ(6,"button",2,4),r.NdJ("click",function(){return t.toggleRingtone()}),r._uU(8,"Switch Ringtone"),r.qZA(),r.TgZ(9,"button",2,5),r.NdJ("click",function(){return t.hotkeyButtonClick()}),r._uU(11,"Hotkey button"),r.qZA()),2&e&&(r.xp6(2),r.Q6J("ngForOf",t.profiles))},directives:[l.sg],styles:["[_nghost-%COMP%]{visibility:hidden}"]}),e})()},11538:function(e,t,i){"use strict";i.d(t,{Y:function(){return r}});var n=i(37716);const s=["*"];let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["page-content"]],ngContentSelectors:s,decls:1,vars:0,template:function(e,t){1&e&&(n.F$t(),n.Hsn(0))},styles:["[_nghost-%COMP%]{background:#fff;display:block}@media screen and (min-width: 1025px){[_nghost-%COMP%]{margin-top:1.6rem}}"]}),e})()},5197:function(e,t,i){"use strict";i.d(t,{D:function(){return r}});var n=i(37716);const s=["*"];let r=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["section-title"]],ngContentSelectors:s,decls:1,vars:0,template:function(e,t){1&e&&(n.F$t(),n.Hsn(0))},styles:["[_nghost-%COMP%]{display:block;font-size:1.6rem}"]}),e})()},3088:function(e,t,i){"use strict";i.d(t,{t:function(){return u}});var n=i(37716),s=i(8307),r=i(38583),o=i(14944),a=i(56436);function c(e,t){if(1&e&&n._UZ(0,"app-svg-icon",3),2&e){const e=n.oxw();n.Q6J("icon",e.icon)}}const l=["*"];let u=(()=>{class e{constructor(e){this.router=e,this.itemRouterLinkActiveOptions={exact:!0},this.itemLevel="1",this.hasSubItems=!1,this.itemClicked=new n.vpe,this.isClientSidenavItem=!1}ngOnInit(){this.isClientSidenavItem=!this.router.url.includes("admin")}sideNavItemClicked(){this.hasSubItems||this.itemClicked.emit()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["sidenav-item"]],inputs:{itemRouterLink:"itemRouterLink",itemRouterLinkActiveOptions:"itemRouterLinkActiveOptions",itemTitle:"itemTitle",itemLevel:"itemLevel",hasSubItems:"hasSubItems",icon:"icon",e2e:"e2e"},outputs:{itemClicked:"itemClicked"},ngContentSelectors:l,decls:5,vars:8,consts:[["routerLinkActive","active",1,"sidenav-item__link",3,"ngClass","routerLinkActiveOptions","routerLink","click"],["class","sidenav-item__icon","fill","","size","medium",3,"icon",4,"ngIf"],["ellipsisTitle","",1,"sidenav-item__title"],["fill","","size","medium",1,"sidenav-item__icon",3,"icon"]],template:function(e,t){1&e&&(n.F$t(),n.TgZ(0,"a",0),n.NdJ("click",function(){return t.sideNavItemClicked()}),n.YNc(1,c,1,1,"app-svg-icon",1),n.TgZ(2,"span",2),n._uU(3),n.qZA(),n.qZA(),n.Hsn(4)),2&e&&(n.ekj("sidenav-item__link--client",t.isClientSidenavItem),n.Q6J("ngClass","sidenav-item__link--"+t.itemLevel)("routerLinkActiveOptions",t.itemRouterLinkActiveOptions)("routerLink",t.itemRouterLink),n.uIk("data-e2e",t.e2e),n.xp6(1),n.Q6J("ngIf",t.icon),n.xp6(2),n.hij(" ",t.itemTitle," "))},directives:[s.yS,s.Od,r.mk,r.O5,o.w,a.u],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:block;flex-direction:column}.sidenav-item__link[_ngcontent-%COMP%]{align-items:center;display:flex;font-size:1.7rem;line-height:4rem;padding:0 1.6rem;text-decoration:none;transition:background .13s ease-out}.sidenav-item__icon[_ngcontent-%COMP%]{margin-right:1.6rem}.sidenav-item__link--2[_ngcontent-%COMP%]{font-weight:bold;padding-left:3.2rem}.sidenav-item__link--3[_ngcontent-%COMP%]{padding-left:4.8rem}.sidenav-item__link--4[_ngcontent-%COMP%]{font-weight:bold;padding-left:6.4rem}.sidenav-item__link--client[_ngcontent-%COMP%]{padding:1.1rem 4rem 1.1rem 2.4rem}.sidenav-item__link--client.active[_ngcontent-%COMP%]{border-left-style:solid}"],changeDetection:0}),e})()},98910:function(e,t,i){"use strict";i.d(t,{y:function(){return s}});var n=i(37716);let s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["vertical-divider"]],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%]{height:3.6rem;width:.1rem}.divider--right[_nghost-%COMP%]{margin-left:1rem}.divider--left[_nghost-%COMP%]{margin-right:1rem}.mat-drawer-over[_nghost-%COMP%], .mat-drawer-over   [_nghost-%COMP%], .user-settings-drawer[_nghost-%COMP%]:first-of-type, .user-settings-drawer   [_nghost-%COMP%]:first-of-type{width:0}"]}),e})()},12286:function(e,t,i){"use strict";i.d(t,{k:function(){return r}});var n=JSON.parse('{"name":"cloudya","version":"1.5.2","desktopAppMacVersion":"1.5.2","desktopAppWinVersion":"1.5.2","commitInfo":"","description":"Cloudya","license":"ISC","main":"src/main.ts","author":"NFON <cloudya@nfon.com>","private":true,"scripts":{"ng":"ng","prestart":"npm run build:clear","tsc":"tsc","tsc:w":"tsc -w","clear-dist":"node clear-dist.js","pack:tdev":"npm run build:tdev && node build-deb.js --env=tdev","pack:prod":"npm run build:prod && node build-deb.js --env=prod","compodoc":"compodoc -p src/tsconfig.json --theme readthedocs -n \'Web-Frontend\' --hideGenerator -d ./documentation","start":"ng serve --host 0.0.0.0","start:secure":"ng serve --host 0.0.0.0 --ssl","start:proxy":"npm start -- --proxy-config proxy.conf.json --configuration=proxy","start:docker-local":"npm start -- --configuration=docker-local","sdl":"npm run start:docker-local","go":"npm i && npm start","clear:reports":"rimraf ./reports/**/* !.gitkeep","tslint":"tslint","stylelint":"stylelint","lint":"concurrently \'npm:lint:*\'","lint:ng":"ng lint --format verbose","lint:js":"tslint --format verbose \'*.js\' \'scripts/**/*.js\'","lint:e2e":"tslint --format verbose \'e2e/**/*.js\' \'e2e/**/*.ts\' --exclude \'e2e/node_modules/**/*\'","lint:scss":"stylelint \\"**/*.scss\\"","lint:json":"eslint --ext .json .","lint:indent":"eslint --ext .js,.ts .","lint-fix":"concurrently \'npm:lint-fix:*\'","lint-fix:ng":"npm run lint:ng -- --fix","lint-fix:js":"npm run lint:js -- --fix","lint-fix:e2e":"npm run lint:e2e -- --fix","lint-fix:scss":"npm run lint:scss -- --fix","lint-fix:json":"npm run lint:json -- --fix","lint-fix:indent":"npm run lint:indent -- --fix","lint-report":"concurrently \'npm:lint-report:*\'","lint-report:ng":"ng lint --format=junit > reports/lint/ng.xml","lint-report:js":"npm run lint:js -- --format junit --out reports/lint/js.xml","lint-report:e2e":"npm run lint:e2e -- --format junit --out reports/lint/e2e.xml","lint-report:scss":"npm run lint:scss --  --custom-formatter ./node_modules/stylelint-junit-formatter --output-file reports/lint/scss.xml","lint-report:json":"npm run lint:json -- --format junit --output-file reports/lint/json.xml","lint-report:indent":"npm run lint:indent -- --format junit --output-file reports/lint/indent.xml","test":"npm run unit-test","unit-test":"cross-env JEST_REPORT_FILE=./reports/unit-test/jest-bamboo-report.json jest","unit-test:coverage":"npm run unit-test -- --coverage --coverageDirectory reports/unit-test/coverage","unit-test:watch":"jest --watch","pre-build":"concurrently \'npm:pre-build:*\'","pre-build:add-package-info":"sh ./scripts/add-package-info.sh","pre-build:add-css-hash":"sh ./scripts/add-css-hash.sh","buildNew":"scripts/build.sh","buildNew:prod":"cross-env ANGULAR_ENVIRONMENT=production npm run buildNew","buildNew:tdev":"cross-env ANGULAR_ENVIRONMENT=tdev npm run buildNew","buildNew-serve":"cd ./dist/frontend && angular-http-server -p 4200","buildNew-report":"webpack-bundle-analyzer dist/frontend/stats*.json --mode static --report reports/bundle/index.html","verify-svg-no-title-tag":"scripts/verify-svg-no-title-tag.sh","verify-build":"concurrently \'npm:verify-build:*\'","verify-build:css-hash":"scripts/verify-css-hash.sh","build:clear":"rimraf ./dist/* !.gitkeep","build:clear:legacy":"rimraf ./dist/frontend/* !.git","build":"sh ./scripts/create-deployable-dist-locally.sh","buildMac":"cross-env ENV_MAC=1 sh ./scripts/create-deployable-dist-locally.sh","build:tdev":"npm run pre-build:add-css-hash && npm run build:clear:legacy && node --max_old_space_size=8192 node_modules/@angular/cli/lib/init build --configuration=tdev --delete-output-path=false","build:prod":"npm run pre-build:add-css-hash && npm run build:clear:legacy && node --max_old_space_size=8192 node_modules/@angular/cli/lib/init build --configuration=production --delete-output-path=false","buildMac:tdev":"sh ./scripts/add-css-hash__mac.sh && npm run build:clear:legacy && node --max_old_space_size=8192 node_modules/@angular/cli/lib/init build --configuration=tdev --delete-output-path=false","buildMac:prod":"sh ./scripts/add-css-hash__mac.sh && npm run build:clear:legacy && node --max_old_space_size=8192 node_modules/@angular/cli/lib/init build --configuration=production --delete-output-path=false"},"files":["*.js","build","node_modules"],"jest":{"transformIgnorePatterns":["node_modules/(?!(@gnaudio/jabra-js)/)"],"preset":"jest-preset-angular","testMatch":["**/?(*.)+(spec|test).[jt]s?(x)"],"setupFiles":["jest-canvas-mock"],"testPathIgnorePatterns":["/node_modules/","/local_dependencies/","/e2e/"],"setupFilesAfterEnv":["<rootDir>/src/jest.config.js"],"testResultsProcessor":"jest-bamboo-reporter"},"build":{"appId":"com.cloudya.app","productName":"Cloudya","target":"NSIS","directories":{"output":"build"},"mac":{"icon":"builder/icons/mac/icon-cloudya.icns"}},"dependencies":{"@angular/cdk":"12.2.13","@angular/common":"12.2.16","@angular/core":"12.2.16","@angular/forms":"12.2.16","@angular/material":"12.2.13","@angular/router":"12.2.16","@angular/service-worker":"12.2.16","@gnaudio/jabra-js":"4.1.0","@mediapipe/camera_utils":"^0.3.1640029074","@mediapipe/control_utils":"^0.6.1629159505","@mediapipe/drawing_utils":"^0.3.1620248257","@mediapipe/selfie_segmentation":"^0.1.1632777926","@ngx-translate/core":"12.1.2","@schematics/angular":"^14.2.4","angular-svg-icon":"8.0.0","desktop-screen-sharing-fix":"file:local_dependencies/desktop-screen-sharing-fix","file-saver":"2.0.2","friendly-challenge":"0.8.10","md5":"2.3.0","ng2-cookies":"1.0.12","ng2-file-upload":"1.4.0","ng2-pdf-viewer":"6.4.1","ngx-countdown":"9.0.1","ngx-filter-pipe":"2.1.0","ngx-infinite-scroll":"10.0.1","ngx-logger":"4.2.1","ngx-order-pipe":"2.0.1","rxjs":"6.5.5","sip.js":"file:local_dependencies/sip.js","uuid":"8.3.2","volume-meter":"2.0.1","webrtc-adapter":"4.2.2","zone.js":"0.11.4"},"devDependencies":{"@angular-builders/jest":"7.3.1","@angular-devkit/build-angular":"12.2.17","@angular/animations":"12.2.16","@angular/cli":"12.2.17","@angular/compiler":"12.2.16","@angular/compiler-cli":"12.2.16","@angular/platform-browser":"12.2.16","@angular/platform-browser-dynamic":"12.2.16","@angular/platform-server":"12.2.16","@babel/preset-env":"7.7.6","@types/file-saver":"1.3.1","@types/jest":"24.0.23","@types/md5":"2.2.0","@types/node":"12.12.39","@types/phantom":"3.2.4","@types/rimraf":"3.0.0","@types/yargs":"10.0.3","@typescript-eslint/eslint-plugin":"4.18.0","@typescript-eslint/parser":"4.18.0","angular-http-server":"1.10.0","autoprefixer":"8.3.0","codelyzer":"6.0.1","concurrently":"6.0.0","core-js":"3.4.8","cross-env":"7.0.3","eslint":"7.22.0","eslint-plugin-json":"2.1.2","git-last-commit":"0.3.0","globby":"11.0.2","jest":"24.9.0","jest-auto-spies":"1.6.5","jest-bamboo-reporter":"1.2.1","jest-canvas-mock":"2.3.1","jest-preset-angular":"7.1.1","jwt-decode":"3.1.2","ng-mocks":"14.0.1","postcss":"8.4.13","recursive-copy":"2.0.10","rimraf":"3.0.2","rxjs-tslint-rules":"4.34.7","stylelint":"13.12.0","stylelint-config-sass-guidelines":"8.0.0","stylelint-junit-formatter":"0.2.2","stylelint-order":"4.1.0","stylelint-scss":"3.19.0","ts-jest":"24.2.0","tslint":"6.1.2","typescript":"4.2.4","webpack-bundle-analyzer":"4.4.1","webpack-dev-server":"2.11.1","yargs":"11.0.0"}}'),s=i.t(n,2);const r={VERSION:s.version,DESKTOP_APP_MAC_VERSION:s.desktopAppMacVersion,DESKTOP_APP_WIN_VERSION:s.desktopAppWinVersion,COMMIT_INFO:s.commitInfo,EMAIL_PATTERN:"[A-Za-z0-9!#$%&'*+-/=?^_`.{|}~]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}"}},22887:function(e,t,i){"use strict";i.d(t,{$:function(){return l}});var n=i(37716),s=i(22238),r=i(89973),o=i(38583),a=i(42070);function c(e,t){if(1&e&&(n.TgZ(0,"p",3),n._uU(1),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Oqu(e.message)}}let l=(()=>{class e{constructor(e){this.dialogRef=e}close(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.so))},e.\u0275cmp=n.Xpm({type:e,selectors:[["confirm-dialog"]],decls:3,vars:4,consts:[[3,"title"],["class","confirm-dialog__message","data-e2e","admin-user-delete-confirmation-modal-fragment",4,"ngIf"],["e2e","admin-user-delete-confirmation-modal-fragment",3,"btnCancelCaption","btnSaveCaption","cancelClick","saveClick"],["data-e2e","admin-user-delete-confirmation-modal-fragment",1,"confirm-dialog__message"]],template:function(e,t){1&e&&(n.TgZ(0,"modal-container",0),n.YNc(1,c,2,1,"p",1),n.TgZ(2,"footer-actions",2),n.NdJ("cancelClick",function(){return t.close(!1)})("saveClick",function(){return t.close(!0)}),n.qZA(),n.qZA()),2&e&&(n.Q6J("title",t.title),n.xp6(1),n.Q6J("ngIf",t.message),n.xp6(1),n.Q6J("btnCancelCaption",t.cancel)("btnSaveCaption",t.ok))},directives:[r.O,o.O5,a.c],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.hide-module[_ngcontent-%COMP%]{display:none!important}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.mat-form-field.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-size:1.6rem;margin-top:1rem}.mat-form-field-label[_ngcontent-%COMP%]{font-size:1.8rem}mat-form-field[_ngcontent-%COMP%]{flex:1;width:100%}mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:disabled{color:#00000061}.mat-form-field-label-wrapper[_ngcontent-%COMP%]{top:-1.44375em}.mat-form-field-infix[_ngcontent-%COMP%]{padding:.5rem 0}.confirm-dialog__message[_ngcontent-%COMP%]{padding:.8rem 2.4rem}"]}),e})()},83897:function(e,t,i){"use strict";i.d(t,{Q:function(){return c}});var n=i(78023),s=i(37716),r=i(38583),o=i(56436);function a(e,t){if(1&e&&s._UZ(0,"app-svg-icon",2),2&e){const e=s.oxw();s.Q6J("size",e.iconSize)}}let c=(()=>{class e extends n.V{constructor(){super(),this.isBackgroundFilled=!1,this.isRounded=!1}ngOnChanges(e){e.isBackgroundFilled&&(this.type=e.isBackgroundFilled.currentValue?"raised-button":""),e.isRounded&&(this.isRounded=e.isRounded.currentValue),this.setClasses()}setClasses(){this.classes={"app-button-end-call--rounded":this.isRounded,[`app-button-end-call--${this.iconSize}`]:this.iconSize}}appButtonEndCallClick(){this.appButtonClick.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-button-end-call"]],inputs:{isBackgroundFilled:"isBackgroundFilled",isRounded:"isRounded"},features:[s.qOj,s.TTD],decls:2,vars:6,consts:[["iconName","call_end","color","warn","iconFillClass","call-hang-up-color",1,"app-button-end-call","exclude-app-button-style",3,"ngClass","hoverTextTranslationKey","type","iconSize","e2e","appButtonClick"],["fill","white","icon","call_end",3,"size",4,"ngIf"],["fill","white","icon","call_end",3,"size"]],template:function(e,t){1&e&&(s.TgZ(0,"app-button",0),s.NdJ("appButtonClick",function(){return t.appButtonEndCallClick()}),s.YNc(1,a,1,1,"app-svg-icon",1),s.qZA()),2&e&&(s.Q6J("ngClass",t.classes)("hoverTextTranslationKey",t.hoverTextTranslationKey)("type",t.type)("iconSize",t.iconSize)("e2e",t.e2e),s.xp6(1),s.Q6J("ngIf",t.isBackgroundFilled))},directives:[n.V,r.mk,r.O5,o.u],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:block}.app-button-end-call[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.app-button-end-call[_ngcontent-%COMP%]     button{height:100%;min-height:4.8rem;min-width:4.8rem;padding:0!important;width:100%}.app-button-end-call--small[_ngcontent-%COMP%]{height:4.8rem}.app-button-end-call--medium[_ngcontent-%COMP%]{height:5rem}.app-button-end-call--large[_ngcontent-%COMP%]{height:5.6rem;width:100%}.app-button-end-call--rounded[_ngcontent-%COMP%]{border-radius:50%;overflow:hidden}.app-button-end-call--rounded.app-button-end-call--small[_ngcontent-%COMP%]{width:4.8rem}.app-button-end-call--rounded.app-button-end-call--medium[_ngcontent-%COMP%]{width:5rem}.app-button-end-call--rounded.app-button-end-call--large[_ngcontent-%COMP%]{height:7rem;width:7rem}"]}),e})()},78023:function(e,t,i){"use strict";i.d(t,{V:function(){return H}});var n=i(37716),s=i(38583),r=i(51095),o=i(55821),a=i(89889),c=i(56436),l=i(33935),u=i(14944),h=i(63743),d=i(29790),p=i(11845);function f(e,t){}function m(e,t){1&e&&n.YNc(0,f,0,0,"ng-template")}function g(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){return n.CHM(e),n.oxw().onAppButtonClick()}),n.TgZ(1,"span"),n._UZ(2,"app-svg-icon",8),n._UZ(3,"span",9),n.qZA(),n.Hsn(4),n.YNc(5,m,1,0,void 0,10),n.qZA()}if(2&e){const e=n.oxw(),t=n.MAs(8);n.ekj("app-button__transparent--disabled",e.isButtonDisabled&&e.transparentOnDisabled),n.Q6J("color",e.color)("disabled",e.isButtonDisabled),n.uIk("data-e2e",e.e2e?e.e2e+"--button":null),n.xp6(2),n.Q6J("fill",e.iconFill)("icon",e.iconName)("size",e.iconSize)("e2e",e.e2e),n.xp6(1),n.Q6J("ngClass",e.underlinedColor),n.xp6(2),n.Q6J("ngTemplateOutlet",t)}}function _(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){return n.CHM(e),n.oxw().onAppButtonClick()}),n.TgZ(1,"span",12),n._UZ(2,"app-svg-icon",8),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.ekj("app-button__transparent--disabled",e.isButtonDisabled&&e.transparentOnDisabled),n.s9C("type",e.buttonType),n.Q6J("disabled",e.isButtonDisabled),n.uIk("data-e2e",e.e2e?e.e2e+"--button":null),n.xp6(2),n.Q6J("fill",e.iconFill)("icon",e.iconName)("size",e.iconSize)("e2e",e.e2e),n.xp6(1),n.Gre("app-button__button-text ",e.color,""),n.xp6(1),n.hij(" ",n.lcZ(5,13,e.buttonTextTranslationKey)," ")}}function v(e,t){}function b(e,t){1&e&&n.YNc(0,v,0,0,"ng-template")}function y(e,t){}function S(e,t){1&e&&n.YNc(0,y,0,0,"ng-template")}const C=function(e,t){return[e,t]};function w(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",13),n.NdJ("click",function(){return n.CHM(e),n.oxw().onAppButtonClick()}),n.YNc(1,b,1,0,void 0,10),n.YNc(2,S,1,0,void 0,10),n.qZA()}if(2&e){const e=n.oxw(),t=n.MAs(8),i=n.MAs(6);n.ekj("app-button__transparent--disabled",e.isButtonDisabled&&e.transparentOnDisabled),n.s9C("type",e.buttonType),n.Q6J("ngClass",n.WLB(10,C,e.textColor,e.size))("color",e.color)("disabled",e.isButtonDisabled)("tabindex",e.tabindex),n.uIk("data-e2e",e.e2e?e.e2e+"--button":null),n.xp6(1),n.Q6J("ngTemplateOutlet",t),n.xp6(1),n.Q6J("ngTemplateOutlet",i)}}function E(e,t){}function T(e,t){1&e&&n.YNc(0,E,0,0,"ng-template")}function k(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){return n.CHM(e),n.oxw().onAppButtonClick()}),n.YNc(1,T,1,0,void 0,10),n.qZA()}if(2&e){const e=n.oxw(),t=n.MAs(6);n.ekj("app-button__transparent--disabled",e.isButtonDisabled&&e.transparentOnDisabled),n.s9C("type",e.buttonType),n.Q6J("ngClass",n.WLB(9,C,e.textColor,e.size))("color",e.color)("disabled",e.isButtonDisabled)("tabindex",e.tabindex),n.uIk("data-e2e",e.e2e?e.e2e+"--button":null),n.xp6(1),n.Q6J("ngTemplateOutlet",t)}}function x(e,t){}function A(e,t){1&e&&n.YNc(0,x,0,0,"ng-template")}function I(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){return n.CHM(e),n.oxw().onAppButtonClick()}),n.YNc(1,A,1,0,void 0,10),n.qZA()}if(2&e){const e=n.oxw(),t=n.MAs(6);n.ekj("app-button__transparent--disabled",e.isButtonDisabled&&e.transparentOnDisabled),n.s9C("type",e.buttonType),n.Q6J("ngClass",n.WLB(9,C,e.textColor,e.size))("color",e.color)("disabled",e.isButtonDisabled)("tabindex",e.tabindex),n.uIk("data-e2e",e.e2e?e.e2e+"--button":null),n.xp6(1),n.Q6J("ngTemplateOutlet",t)}}function O(e,t){if(1&e&&(n.ynx(0),n._uU(1),n.ALo(2,"letterCase"),n.ALo(3,"translate"),n.BQk()),2&e){const e=n.oxw(3);n.xp6(1),n.hij(" ",n.xi3(2,1,n.lcZ(3,4,e.buttonTextTranslationKey),e.buttonTextTranslationKey)," ")}}function R(e,t){if(1&e&&(n._uU(0),n.ALo(1,"letterCase"),n.ALo(2,"translate")),2&e){const e=n.oxw(3);n.hij(" ",n.xi3(1,1,n.xi3(2,4,e.buttonTextTranslationKey.translationKey,null==e.buttonTextTranslationKey?null:e.buttonTextTranslationKey.translateParams),e.buttonTextTranslationKey.translationKey)," ")}}function P(e,t){if(1&e&&(n.TgZ(0,"div",17),n.YNc(1,O,4,6,"ng-container",18),n.YNc(2,R,3,7,"ng-template",null,19,n.W1O),n.qZA()),2&e){const e=n.MAs(3),t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!(null!=t.buttonTextTranslationKey&&t.buttonTextTranslationKey.translateParams))("ngIfElse",e)}}function D(e,t){if(1&e&&(n.YNc(0,P,4,2,"div",16),n.Hsn(1,1)),2&e){const e=n.oxw();n.Q6J("ngIf",e.buttonTextTranslationKey)}}function N(e,t){if(1&e&&(n.ynx(0),n._uU(1),n.ALo(2,"translate"),n.BQk()),2&e){const e=n.oxw(3);n.xp6(1),n.hij(" ",n.lcZ(2,1,e.hoverTextTranslationKey)," ")}}function L(e,t){if(1&e&&(n._uU(0),n.ALo(1,"translate")),2&e){const e=n.oxw(3);n.hij(" ",n.xi3(1,1,e.hoverTextTranslationKey.translationKey,null==e.hoverTextTranslationKey?null:e.hoverTextTranslationKey.translateParams)," ")}}function M(e,t){if(1&e&&(n.TgZ(0,"hoverbox",21),n.YNc(1,N,3,3,"ng-container",18),n.YNc(2,L,2,4,"ng-template",null,19,n.W1O),n.qZA()),2&e){const e=n.MAs(3),t=n.oxw(2);n.Q6J("showAlways",t.isHoverboxVisible),n.xp6(1),n.Q6J("ngIf",!(null!=t.hoverTextTranslationKey&&t.hoverTextTranslationKey.translateParams))("ngIfElse",e)}}function F(e,t){if(1&e&&n.YNc(0,M,4,3,"hoverbox",20),2&e){const e=n.oxw();n.Q6J("ngIf",e.hoverTextTranslationKey)}}const U=["*","*"];let H=(()=>{class e{constructor(){this.iconFillInitial="button-color",this.isButtonDisabled=!1,this.disabledColor="grey-color",this.transparentOnDisabled=!1,this.isHoverboxVisible=!1,this.textColor="default-color",this.appButtonClick=new n.vpe,this.tabindex="",this.size="button--fullwidth",this.type="",this.iconFill="button-color",this.iconName="contact",this.iconSize="small",this.iconUnderlinedColor=null}ngOnChanges(e){e.hasOwnProperty("iconFillClass")&&this.checkIconFillClass(e),e.hasOwnProperty("disabled")&&this.checkDisabledState(e),e.hasOwnProperty("type")&&this.checkType(),e.hasOwnProperty("iconUnderlinedColor")&&this.checkIconUnderlinedColor()}onAppButtonClick(){this.appButtonClick.emit()}checkIconFillClass(e){this.iconFillInitial=e.iconFillClass.currentValue,this.iconFill=e.iconFillClass.currentValue,this.checkIfButtonDisabled()}checkDisabledState(e){this.isButtonDisabled=e.disabled.currentValue,this.checkIfButtonDisabled()}checkType(){this.isStrokedButton=this.type.includes("stroked-button"),this.isRaisedButton=this.type.includes("raised-button"),this.isBasicButton=this.type.includes("basic-button"),this.isBasicIconTextButton=this.type.includes("basic-icon-text-button"),this.buttonType=this.type.indexOf("submit")>-1?"submit":"button"}checkIconUnderlinedColor(){this.underlinedColor=this.iconUnderlinedColor?`app-button__underline--${this.iconUnderlinedColor}`:""}checkIfButtonDisabled(){this.isButtonDisabled?(this.iconFillInitial=this.iconFill,this.iconFill=this.disabledColor):this.iconFill=this.iconFillInitial}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-button"]],inputs:{disabled:"disabled",disabledColor:"disabledColor",transparentOnDisabled:"transparentOnDisabled",buttonTextTranslationKey:"buttonTextTranslationKey",hoverTextTranslationKey:"hoverTextTranslationKey",isHoverboxVisible:"isHoverboxVisible",textColor:"textColor",color:"color",tabindex:"tabindex",size:"size",type:"type",e2e:"e2e",iconFill:"iconFill",iconFillClass:"iconFillClass",iconName:"iconName",iconSize:"iconSize",iconUnderlinedColor:"iconUnderlinedColor"},outputs:{appButtonClick:"appButtonClick"},features:[n.TTD],ngContentSelectors:U,decls:9,vars:5,consts:[["class","app-button__button","appHoverbox","","mat-icon-button","","type","button","blurOnClick","",3,"color","disabled","app-button__transparent--disabled","click",4,"ngIf"],["class","app-button__button app-button__icon-text-button","mat-menu-item","","blurOnClick","",3,"disabled","app-button__transparent--disabled","type","click",4,"ngIf"],["class","app-button__button","appHoverbox","","mat-button","","blurOnClick","",3,"ngClass","color","disabled","tabindex","app-button__transparent--disabled","type","click",4,"ngIf"],["class","app-button__button","mat-raised-button","","blurOnClick","",3,"ngClass","color","disabled","tabindex","app-button__transparent--disabled","type","click",4,"ngIf"],["class","app-button__button","mat-stroked-button","","blurOnClick","",3,"ngClass","color","disabled","tabindex","app-button__transparent--disabled","type","click",4,"ngIf"],["content",""],["hoverTooltip",""],["appHoverbox","","mat-icon-button","","type","button","blurOnClick","",1,"app-button__button",3,"color","disabled","click"],[3,"fill","icon","size","e2e"],[1,"app-button__underline",3,"ngClass"],[4,"ngTemplateOutlet"],["mat-menu-item","","blurOnClick","",1,"app-button__button","app-button__icon-text-button",3,"disabled","type","click"],[1,"app-button__button-icon"],["appHoverbox","","mat-button","","blurOnClick","",1,"app-button__button",3,"ngClass","color","disabled","tabindex","type","click"],["mat-raised-button","","blurOnClick","",1,"app-button__button",3,"ngClass","color","disabled","tabindex","type","click"],["mat-stroked-button","","blurOnClick","",1,"app-button__button",3,"ngClass","color","disabled","tabindex","type","click"],["ellipsisTitle","",4,"ngIf"],["ellipsisTitle",""],[4,"ngIf","ngIfElse"],["useTranslateParams",""],[3,"showAlways",4,"ngIf"],[3,"showAlways"]],template:function(e,t){1&e&&(n.F$t(U),n.YNc(0,g,6,11,"button",0),n.YNc(1,_,6,15,"button",1),n.YNc(2,w,3,13,"button",2),n.YNc(3,k,2,12,"button",3),n.YNc(4,I,2,12,"button",4),n.YNc(5,D,2,1,"ng-template",null,5,n.W1O),n.YNc(7,F,1,1,"ng-template",null,6,n.W1O)),2&e&&(n.Q6J("ngIf",""===t.type),n.xp6(1),n.Q6J("ngIf",t.isBasicIconTextButton),n.xp6(1),n.Q6J("ngIf",t.isBasicButton),n.xp6(1),n.Q6J("ngIf",t.isRaisedButton),n.xp6(1),n.Q6J("ngIf",t.isStrokedButton))},directives:[s.O5,r.lW,o.r,a.v,c.u,s.mk,s.tP,l.OP,u.w,h.B],pipes:[d.X$,p.K],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex}.mat-button[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{min-width:6.4rem}.mat-button[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%]{font-size:1.6rem}.mat-button[disabled].app-button__transparent--disabled[_ngcontent-%COMP%], .mat-raised-button[disabled].app-button__transparent--disabled[_ngcontent-%COMP%], .mat-stroked-button[disabled].app-button__transparent--disabled[_ngcontent-%COMP%]{background-color:transparent!important}.button--fullwidth[_ngcontent-%COMP%]{width:100%}.button--extra-wide[_ngcontent-%COMP%]{padding-left:5.6rem;padding-right:5.6rem}.mat-raised-button[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%]{color:#fff}.mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%], .mat-button[_ngcontent-%COMP%]{background-color:transparent}.buttons-right[_ngcontent-%COMP%], .buttons--inline[_ngcontent-%COMP%]{display:flex}.buttons-right[_ngcontent-%COMP%], .buttons-right[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .buttons--inline[_ngcontent-%COMP%], .buttons--inline[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.buttons--inline[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0 1 50%;margin-right:1rem}.buttons--inline[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.buttons-right[_ngcontent-%COMP%]{justify-content:flex-end}.buttons-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:1rem}.app-button__underline[_ngcontent-%COMP%]{display:block;height:.2rem;margin:0 auto;width:2.4rem}.app-button__underline--1[_ngcontent-%COMP%]{background-color:#9a9a9a}.app-button__underline--2[_ngcontent-%COMP%]{background-color:#f33}.app-button__underline--3[_ngcontent-%COMP%]{background-color:#ffb366}.app-button__underline--4[_ngcontent-%COMP%]{background-color:#ff3}.app-button__underline--5[_ngcontent-%COMP%]{background-color:#d6d65c}.app-button__underline--6[_ngcontent-%COMP%]{background-color:#660}.app-button__underline--7[_ngcontent-%COMP%]{background-color:#adff33}.app-button__underline--8[_ngcontent-%COMP%]{background-color:#4c0}.app-button__underline--9[_ngcontent-%COMP%]{background-color:#0cc}.app-button__underline--10[_ngcontent-%COMP%]{background-color:#9df}.app-button__underline--11[_ngcontent-%COMP%]{background-color:#335cff}.app-button__underline--12[_ngcontent-%COMP%]{background-color:#8533ff}.app-button__underline--13[_ngcontent-%COMP%]{background-color:#e6ccff}.app-button__underline--14[_ngcontent-%COMP%]{background-color:#f0f}.app-button__underline--15[_ngcontent-%COMP%]{background-color:#99004d}.app-button__underline--16[_ngcontent-%COMP%]{background-color:#d98cb3}"]}),e})()},82332:function(e,t,i){"use strict";i.d(t,{Y:function(){return d}});var n=i(37716),s=i(38583),r=i(70346),o=i(29790);function a(e,t){1&e&&n.GkF(0)}function c(e,t){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,a,1,0,"ng-container",3),n.qZA()),2&e){n.oxw();const e=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",e)}}function l(e,t){1&e&&n.GkF(0)}function u(e,t){if(1&e&&(n.TgZ(0,"span",4),n.YNc(1,l,1,0,"ng-container",3),n.qZA()),2&e){const e=n.oxw(),t=n.MAs(4);n.Q6J("matBadge",e.counter),n.xp6(1),n.Q6J("ngTemplateOutlet",t)}}function h(e,t){if(1&e&&(n._uU(0),n.ALo(1,"uppercase"),n.ALo(2,"translate")),2&e){const e=n.oxw();n.hij(" ",n.lcZ(1,1,n.lcZ(2,3,e.tabTitle)),"\n")}}let d=(()=>{class e{constructor(){this.counter=0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-notification-counter"]],inputs:{counter:"counter",tabTitle:"tabTitle"},decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["newMessage",""],["tabTitleTemplate",""],[4,"ngTemplateOutlet"],["matBadgeOverlap","false",3,"matBadge"]],template:function(e,t){if(1&e&&(n.YNc(0,c,2,1,"span",0),n.YNc(1,u,2,2,"ng-template",null,1,n.W1O),n.YNc(3,h,3,5,"ng-template",null,2,n.W1O)),2&e){const e=n.MAs(2);n.Q6J("ngIf",!t.counter)("ngIfElse",e)}},directives:[s.O5,s.tP,r.k],pipes:[s.gd,o.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.mat-badge-small[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{font-size:.9rem}.mat-badge[_ngcontent-%COMP%]{position:relative}.mat-badge-content[_ngcontent-%COMP%]{border:.1rem solid #fff;border-radius:50%;color:#fff;display:inline-block;font-size:1.1rem;font-weight:600;overflow:hidden;pointer-events:none;position:absolute;text-align:center;text-overflow:ellipsis;transform:scale(.6);transition:transform .2s ease-in-out;white-space:nowrap}.mat-badge-content.mat-badge-active[_ngcontent-%COMP%]{transform:none}.mat-badge-small[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{font-size:.9rem;height:1.6rem;line-height:1.6rem;width:1.6rem}.mat-badge-medium[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{height:1.8rem;line-height:1.9rem;width:1.8rem}.mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-1.1rem}.mat-badge-medium.mat-badge-below[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{bottom:-1.1rem}"]}),e})()},208:function(e,t,i){"use strict";i.d(t,{H:function(){return o}});var n=i(37716),s=i(56436),r=i(29790);let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-rectangle-button"]],inputs:{text:"text",icon:"icon"},decls:5,vars:4,consts:[[1,"app-rectangle-button"],["size","medium",1,"app-rectangle-button__app-svg-icon",3,"icon"],[1,"app-rectangle-button__text"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"app-svg-icon",1),n.TgZ(2,"span",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.Q6J("icon",t.icon),n.xp6(2),n.hij(" ",n.lcZ(4,2,t.text)," "))},directives:[s.u],pipes:[r.X$],styles:["[_nghost-%COMP%]{padding:1rem}.app-rectangle-button[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;flex-direction:row;height:5rem;overflow:hidden;padding:1rem;position:relative;width:28rem}.app-rectangle-button__app-svg-icon[_ngcontent-%COMP%]{padding:0 1rem 0 1.8rem}.app-rectangle-button__text[_ngcontent-%COMP%]{width:100%}"]}),e})()},82285:function(e,t,i){"use strict";i.d(t,{R:function(){return r}});var n=i(99385),s=i(37716);let r=(()=>{class e{transform(e){return(0,n.oc)(e.toString())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"decodeSipHeader",type:e,pure:!0}),e})()},18351:function(e,t,i){"use strict";i.d(t,{P:function(){return r}});var n=i(22238),s=i(37716);let r=(()=>{class e{constructor(e,t){this.dialogData=e,this.dialogRef=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(n.WI),s.Y36(n.so))},e.\u0275cmp=s.Xpm({type:e,selectors:[["device-settings-dialog"]],decls:1,vars:2,consts:[[3,"dialogData","dialogRef"]],template:function(e,t){1&e&&s._UZ(0,"device-settings",0),2&e&&s.Q6J("dialogData",t.dialogData)("dialogRef",t.dialogRef)},styles:["[_nghost-%COMP%]{max-height:95vh;max-width:90vw;width:64rem}"]}),e})()},84542:function(e,t,i){"use strict";i.d(t,{f:function(){return ye}});var n=i(3679),s=i(28123),r=i(11740),o=i(46782),a=i(88002),c=i(54395),l=i(79765),u=i(26215),h=i(37716),d=i(8225),p=i(81836),f=i(51233),m=i(25304),g=i(45832),_=i(88640),v=i(25791),b=i(57158),y=i(99445),S=i(83017),C=i(74688),w=i(38583),E=i(22238),T=i(78023),k=i(56436),x=i(98295),A=i(67441),I=i(7539),O=i(55821),R=i(63743),P=i(72458),D=i(54436),N=i(29790);let L=(()=>{class e{transform(e,t){return e.sort((e,i)=>e[t]<i[t]?-1:e[t]===i[t]?0:e[t]>i[t]?1:void 0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=h.Yjl({name:"mediaDevicesListSort",type:e,pure:!0}),e})();var M=i(6508),F=i(5588);const U=["videoPreview"],H=["sampleAudioOutput"],B=["ringtoneAudioOutput"],$=["audioOutputSlider"],j=["ringtoneSlider"];function G(e,t){1&e&&(h.TgZ(0,"div",10),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"device_settings.dialog.header_subtitle")," "))}function V(e,t){1&e&&h.GkF(0)}function q(e,t){1&e&&h.GkF(0)}function Y(e,t){if(1&e&&(h.TgZ(0,"mat-dialog-actions",11),h.YNc(1,q,1,0,"ng-container",7),h.qZA()),2&e){const e=h.oxw(2),t=h.MAs(6);h.ekj("device-settings__dialog-actions",!e.isWelcomeDialog),h.xp6(1),h.Q6J("ngTemplateOutlet",t)}}function Z(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"mat-dialog-actions",11),h.TgZ(1,"app-button",12),h.NdJ("appButtonClick",function(){return h.CHM(e),h.oxw(2).closeDialog()}),h.qZA(),h.qZA()}}function z(e,t){if(1&e&&(h.ynx(0),h.TgZ(1,"span",4),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"mat-dialog-content",5),h.YNc(5,G,3,3,"div",6),h.YNc(6,V,1,0,"ng-container",7),h.qZA(),h.YNc(7,Y,2,3,"mat-dialog-actions",8),h.YNc(8,Z,2,0,"ng-template",null,9,h.W1O),h.BQk()),2&e){const e=h.MAs(9),t=h.oxw(),i=h.MAs(4);h.xp6(2),h.hij(" ",h.lcZ(3,5,"device_settings.title")," "),h.xp6(3),h.Q6J("ngIf",t.isWelcomeDialog),h.xp6(1),h.Q6J("ngTemplateOutlet",i),h.xp6(1),h.Q6J("ngIf",!t.audioErrorMessage)("ngIfElse",e)}}function K(e,t){1&e&&h.GkF(0)}function W(e,t){1&e&&h.GkF(0)}function J(e,t){1&e&&h.GkF(0)}function Q(e,t){if(1&e&&(h.TgZ(0,"div",15),h.YNc(1,J,1,0,"ng-container",7),h.qZA()),2&e){h.oxw(2);const e=h.MAs(6);h.xp6(1),h.Q6J("ngTemplateOutlet",e)}}function X(e,t){if(1&e&&(h.TgZ(0,"div",13),h.YNc(1,K,1,0,"ng-container",7),h.YNc(2,W,1,0,"ng-container",7),h.qZA(),h.YNc(3,Q,2,1,"div",14)),2&e){const e=h.oxw(),t=h.MAs(4);h.xp6(1),h.Q6J("ngTemplateOutlet",t),h.xp6(1),h.Q6J("ngTemplateOutlet",t),h.xp6(1),h.Q6J("ngIf",!e.audioErrorMessage)}}function ee(e,t){if(1&e&&(h.ynx(0),h.TgZ(1,"div",23),h.TgZ(2,"h5",24),h._uU(3),h.ALo(4,"translate"),h.qZA(),h.TgZ(5,"div",25),h._UZ(6,"app-svg-icon",26),h._uU(7),h.ALo(8,"translate"),h.qZA(),h.qZA(),h.BQk()),2&e){const e=h.oxw(3);h.xp6(3),h.hij(" ",h.lcZ(4,2,"device_settings.video_title")," "),h.xp6(4),h.hij(" ",h.lcZ(8,4,e.videoErrorMessage)," ")}}function te(e,t){if(1&e&&(h.TgZ(0,"mat-option",37),h._uU(1),h.qZA()),2&e){const e=t.$implicit;h.Q6J("value",e)("title",e.label),h.xp6(1),h.hij(" ",e.label," ")}}function ie(e,t){1&e&&(h.TgZ(0,"div",25),h._UZ(1,"app-svg-icon",26),h._uU(2),h.ALo(3,"translate"),h.qZA()),2&e&&(h.xp6(2),h.hij(" ",h.lcZ(3,1,"device_settings.error.camera_is_used")," "))}function ne(e,t){if(1&e&&(h.TgZ(0,"div",27),h.TgZ(1,"h5",24),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"mat-form-field",28),h.TgZ(5,"mat-select",29),h.YNc(6,te,2,3,"mat-option",30),h.ALo(7,"mediaDevicesListSort"),h.ALo(8,"async"),h.qZA(),h.qZA(),h.YNc(9,ie,4,3,"div",31),h.qZA(),h.TgZ(10,"div",32),h._UZ(11,"video",33,34),h.TgZ(13,"mat-checkbox",35),h._uU(14),h.ALo(15,"translate"),h.TgZ(16,"hoverbox"),h._uU(17),h.ALo(18,"translate"),h.qZA(),h.qZA(),h.TgZ(19,"mat-checkbox",36),h._uU(20),h.ALo(21,"translate"),h.TgZ(22,"hoverbox"),h._uU(23),h.ALo(24,"translate"),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw(3);h.xp6(2),h.hij(" ",h.lcZ(3,11,"device_settings.video_title")," "),h.xp6(3),h.Q6J("compareWith",e.compareDevices)("title",null==e.deviceSettingsForm.get("videoInputDeviceForm").value?null:e.deviceSettingsForm.get("videoInputDeviceForm").value.label),h.xp6(1),h.Q6J("ngForOf",h.xi3(7,13,h.lcZ(8,16,e.devicesService.videoInputDevices$),"ringeroutput")),h.xp6(3),h.Q6J("ngIf",e.isCameraBlocked),h.xp6(2),h.ekj("device-settings__video-preview-window--mirrored",e.deviceSettingsForm.get("isOwnVideoMirrored").value),h.xp6(3),h.hij(" ",h.lcZ(15,18,"device_settings.mirror_video")," "),h.xp6(3),h.hij(" ",h.lcZ(18,20,"device_settings.tooltips.mirror_video")," "),h.xp6(3),h.hij(" ",h.lcZ(21,22,"device_settings.enable_blurred_background")," "),h.xp6(3),h.hij(" ",h.lcZ(24,24,"device_settings.tooltips.enable_blurred_background")," ")}}function se(e,t){if(1&e&&(h.ynx(0),h.TgZ(1,"div",21),h.YNc(2,ee,9,6,"ng-container",0),h.YNc(3,ne,25,26,"ng-template",null,22,h.W1O),h.qZA(),h.BQk()),2&e){const e=h.MAs(4),t=h.oxw(2);h.xp6(2),h.Q6J("ngIf",t.videoErrorMessage)("ngIfElse",e)}}function re(e,t){if(1&e&&(h.ynx(0),h.TgZ(1,"div",38),h.TgZ(2,"h5",39),h._uU(3),h.ALo(4,"translate"),h.qZA(),h.TgZ(5,"div",25),h._UZ(6,"app-svg-icon",40),h._uU(7),h.ALo(8,"translate"),h.qZA(),h.qZA(),h.BQk()),2&e){const e=h.oxw(2);h.xp6(3),h.hij(" ",h.lcZ(4,2,"device_settings.audio_input_title")," "),h.xp6(4),h.hij(" ",h.lcZ(8,4,e.audioErrorMessage)," ")}}function oe(e,t){if(1&e&&(h.TgZ(0,"mat-option",44),h._uU(1),h.qZA()),2&e){const e=t.$implicit;h.Q6J("value",e)("title",e.label),h.xp6(1),h.hij(" ",e.label," ")}}function ae(e,t){if(1&e&&(h._UZ(0,"span",47),h.ALo(1,"async")),2&e){const e=t.index,i=h.oxw(4);h.ekj("device-settings__volume-meter-dot--active",e<h.lcZ(1,2,i.audioMeterVolume$))}}const ce=function(){return[]};function le(e,t){1&e&&(h.TgZ(0,"div",45),h.YNc(1,ae,2,4,"span",46),h.qZA()),2&e&&(h.xp6(1),h.Q6J("ngForOf",h.DdM(1,ce).constructor(10)))}function ue(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",27),h.TgZ(1,"h5",39),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"mat-form-field",28),h.TgZ(5,"mat-select",41),h.NdJ("selectionChange",function(t){return h.CHM(e),h.oxw(2).onAudioInputSelectChange(t.value)}),h.YNc(6,oe,2,3,"mat-option",42),h.ALo(7,"mediaDevicesListSort"),h.ALo(8,"async"),h.qZA(),h.qZA(),h.qZA(),h.YNc(9,le,2,2,"div",43)}if(2&e){const e=h.oxw(2);h.xp6(2),h.hij(" ",h.lcZ(3,5,"device_settings.audio_input_title")," "),h.xp6(3),h.Q6J("compareWith",e.compareDevices)("title",null==e.storedAudioInputDevice?null:e.storedAudioInputDevice.label),h.xp6(1),h.Q6J("ngForOf",h.xi3(7,7,h.lcZ(8,10,e.devicesService.audioInputDevices$),"audioinput")),h.xp6(3),h.Q6J("ngIf",!e.isGuest)}}function he(e,t){if(1&e&&(h.TgZ(0,"mat-option",73),h._uU(1),h.qZA()),2&e){const e=t.$implicit;h.Q6J("value",e)("title",e.label),h.xp6(1),h.hij(" ",e.label," ")}}function de(e,t){if(1&e&&(h.TgZ(0,"mat-option",37),h._uU(1),h.qZA()),2&e){const e=t.$implicit;h.Q6J("value",e)("title",e.label),h.xp6(1),h.hij(" ",e.label," ")}}function pe(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"mat-form-field",28),h.TgZ(1,"mat-select",74),h.NdJ("selectionChange",function(t){return h.CHM(e),h.oxw(3).onRingtoneSelectChange(t.value)}),h.YNc(2,de,2,3,"mat-option",30),h.ALo(3,"mediaDevicesListSort"),h.ALo(4,"async"),h.qZA(),h.qZA()}if(2&e){const e=h.oxw(3);h.xp6(1),h.Q6J("compareWith",e.compareDevices)("title",null==e.storedRingerMelodyOutputDevice?null:e.storedRingerMelodyOutputDevice.label),h.xp6(1),h.Q6J("ngForOf",h.xi3(3,3,h.lcZ(4,6,e.ringtoneOutputDevicesList$),"ringeroutput"))}}function fe(e,t){if(1&e){const e=h.EpF();h.ynx(0),h.TgZ(1,"div",48),h.TgZ(2,"div",27),h.TgZ(3,"h5",49),h._uU(4),h.ALo(5,"translate"),h.qZA(),h.TgZ(6,"mat-form-field",28),h.TgZ(7,"mat-select",50),h.NdJ("selectionChange",function(t){return h.CHM(e),h.oxw(2).onAudioOutputSelectChange(t.value)}),h.YNc(8,he,2,3,"mat-option",51),h.ALo(9,"mediaDevicesListSort"),h.ALo(10,"async"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(11,"div",52),h.TgZ(12,"div",53),h.TgZ(13,"app-button",54),h.NdJ("appButtonClick",function(){return h.CHM(e),h.oxw(2).toggleSampleAudio()}),h.qZA(),h.TgZ(14,"div",55),h.TgZ(15,"mat-slider",56),h.NdJ("valueChange",function(t){return h.CHM(e),h.oxw(2).audioOutputProgressChanged(t)})("mousedown",function(){h.CHM(e);const t=h.oxw(2);return t.isSampleAudioPlaying?t.toggleSampleAudio():null})("mouseup",function(){return h.CHM(e),h.oxw(2).toggleSampleAudio()}),h.qZA(),h.TgZ(16,"div",57),h.TgZ(17,"span"),h._uU(18),h.ALo(19,"time"),h.ALo(20,"floor"),h.qZA(),h.TgZ(21,"span"),h._uU(22),h.ALo(23,"time"),h.ALo(24,"floor"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(25,"audio",58,59),h.NdJ("loadedmetadata",function(){return h.CHM(e),h.oxw(2).setSampleAudioDuration()})("timeupdate",function(t){return h.CHM(e),h.oxw(2).updateSampleAudioProgress(t)}),h._UZ(27,"source",60),h.qZA(),h.qZA(),h.TgZ(28,"div",61),h.TgZ(29,"hoverbox",62),h._uU(30),h.ALo(31,"translate"),h.qZA(),h._UZ(32,"app-svg-icon",63),h.TgZ(33,"mat-slider",64,65),h.NdJ("valueChange",function(t){return h.CHM(e),h.oxw(2).audioOutputVolumeChanged(t)}),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(35,"div",66),h.TgZ(36,"div",27),h.TgZ(37,"h5",67),h._uU(38),h.ALo(39,"translate"),h.qZA(),h.YNc(40,pe,5,8,"mat-form-field",68),h.ALo(41,"async"),h.qZA(),h.TgZ(42,"div",52),h.TgZ(43,"div",69),h.TgZ(44,"app-button",70),h.NdJ("appButtonClick",function(){return h.CHM(e),h.oxw(2).toggleRingtone()}),h.qZA(),h.TgZ(45,"div",55),h.TgZ(46,"mat-slider",56),h.NdJ("valueChange",function(t){return h.CHM(e),h.oxw(2).ringtoneProgressChanged(t)})("mousedown",function(){h.CHM(e);const t=h.oxw(2);return t.isRingtonePlaying?t.toggleRingtone():null})("mouseup",function(){return h.CHM(e),h.oxw(2).toggleRingtone()}),h.qZA(),h.TgZ(47,"div",57),h.TgZ(48,"span"),h._uU(49),h.ALo(50,"time"),h.ALo(51,"floor"),h.qZA(),h.TgZ(52,"span"),h._uU(53),h.ALo(54,"time"),h.ALo(55,"floor"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(56,"audio",58,71),h.NdJ("loadedmetadata",function(){return h.CHM(e),h.oxw(2).setRingtoneDuration()})("timeupdate",function(t){return h.CHM(e),h.oxw(2).updateRingtoneProgress(t)}),h._UZ(58,"source",60),h.qZA(),h.qZA(),h.TgZ(59,"div",61),h.TgZ(60,"hoverbox",62),h._uU(61),h.ALo(62,"translate"),h.qZA(),h._UZ(63,"app-svg-icon",63),h.TgZ(64,"mat-slider",64,72),h.NdJ("valueChange",function(t){return h.CHM(e),h.oxw(2).ringtoneVolumeChanged(t)}),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.BQk()}if(2&e){const e=h.oxw(2);h.xp6(1),h.ekj("device-settings__no-border",e.isGuest),h.xp6(3),h.hij(" ",h.lcZ(5,28,"device_settings.audio_output_title")," "),h.xp6(3),h.Q6J("compareWith",e.compareDevices)("title",null==e.storedAudioOutputDevice?null:e.storedAudioOutputDevice.label),h.xp6(1),h.Q6J("ngForOf",h.xi3(9,30,h.lcZ(10,33,e.devicesService.audioOutputDevices$),"audiooutput")),h.xp6(5),h.Q6J("iconName",e.isSampleAudioPlaying?"pause":"play"),h.xp6(2),h.Q6J("max",e.sampleAudioDuration)("value",e.sampleAudioProgress),h.xp6(3),h.hij(" ",h.lcZ(19,35,h.lcZ(20,37,e.sampleAudioProgress))," "),h.xp6(4),h.hij(" ",h.lcZ(23,39,h.lcZ(24,41,e.sampleAudioDuration))," "),h.xp6(3),h.Q6J("loop",!0),h.xp6(5),h.hij(" ",h.lcZ(31,43,"device_settings.tooltips.volume_speaker")," "),h.xp6(2),h.Q6J("icon",e.audioOutputVolumeIcon),h.xp6(1),h.Q6J("displayWith",e.formatVolumeSlider),h.xp6(2),h.ekj("device-settings__hidden",e.isGuest),h.xp6(3),h.hij(" ",h.lcZ(39,45,"device_settings.ringtone_title")," "),h.xp6(2),h.Q6J("ngIf",h.lcZ(41,47,e.ringtoneOutputDevicesList$)),h.xp6(4),h.Q6J("iconName",e.isRingtonePlaying?"pause":"play"),h.xp6(2),h.Q6J("max",e.ringtoneDuration)("value",e.ringtoneProgress),h.xp6(3),h.hij(" ",h.lcZ(50,49,h.lcZ(51,51,e.ringtoneProgress))," "),h.xp6(4),h.hij(" ",h.lcZ(54,53,h.lcZ(55,55,e.ringtoneDuration))," "),h.xp6(3),h.Q6J("loop",!0),h.xp6(5),h.hij(" ",h.lcZ(62,57,"device_settings.tooltips.volume_ringtone")," "),h.xp6(2),h.Q6J("icon",e.ringtoneVolumeIcon),h.xp6(1),h.Q6J("displayWith",e.formatVolumeSlider)}}function me(e,t){if(1&e&&(h.TgZ(0,"div",16),h.TgZ(1,"form",17),h.YNc(2,se,5,2,"ng-container",18),h.TgZ(3,"div",19),h.YNc(4,re,9,6,"ng-container",0),h.YNc(5,ue,10,12,"ng-template",null,20,h.W1O),h.qZA(),h.YNc(7,fe,66,59,"ng-container",18),h.qZA(),h.qZA()),2&e){const e=h.MAs(6),t=h.oxw();h.xp6(1),h.Q6J("formGroup",t.deviceSettingsForm),h.xp6(1),h.Q6J("ngIf",t.isVideoEnabled),h.xp6(1),h.ekj("device-settings__audio-input--error",t.audioErrorMessage),h.xp6(1),h.Q6J("ngIf",t.audioErrorMessage)("ngIfElse",e),h.xp6(3),h.Q6J("ngIf",t.hasSpeakerSupport)}}function ge(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"app-button",79),h.NdJ("appButtonClick",function(){return h.CHM(e),h.oxw(2).closeDialog()}),h.qZA()}if(2&e){const e=h.oxw(2);h.Q6J("e2e","device-settings-modal-fragment__"+(e.isWelcomeDialog?"do-it-later":"cancel"))("buttonTextTranslationKey",e.cancelButtonText)}}function _e(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"app-button",80),h.NdJ("appButtonClick",function(){return h.CHM(e),h.oxw(2).saveSettings(!0)}),h.qZA()}if(2&e){const e=h.oxw(2);h.Q6J("disabled",!e.canSaveSettings)("buttonTextTranslationKey",e.saveButtonText)("transparentOnDisabled",!0)("type",e.isWelcomeDialog?"raised-button":"basic-button")}}function ve(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"app-button",81),h.NdJ("appButtonClick",function(){return h.CHM(e),h.oxw(2).saveSettings(!1)}),h.qZA()}if(2&e){const e=h.oxw(2);h.Q6J("disabled",!e.canSaveSettings)}}function be(e,t){if(1&e&&(h.YNc(0,ge,1,2,"app-button",75),h.TgZ(1,"div",76),h.YNc(2,_e,1,4,"app-button",77),h.ALo(3,"async"),h.YNc(4,ve,1,1,"app-button",78),h.qZA()),2&e){const e=h.oxw();h.Q6J("ngIf",e.dialogData),h.xp6(2),h.Q6J("ngIf",h.lcZ(3,3,e.showSaveAndTryOutButton$)),h.xp6(2),h.Q6J("ngIf",e.dialogData&&!e.isWelcomeDialog||!e.dialogData)}}let ye=(()=>{class e{constructor(e,t,i,n,s,r,h,d,p,f,m){this.devicesService=e,this.sipService=t,this.userService=i,this.settingsPreviewService=n,this.snackBarService=s,this.localUserConfigService=r,this.guestService=h,this.logger=d,this.callTrackerService=p,this.headsetCoreService=f,this.featureAccessService=m,this.shouldNotStartRecording={value:!1},this.ngUnsubscribe=new l.xQ,this.ringtoneOutputDevicesListSource=new u.X([]),this.audioErrorMessage=null,this.audioOutputVolumeIcon="volume_low",this.canSaveSettings=!1,this.hasAudioPermission=!1,this.hasSpeakerSupport=!0,this.hasVideoPermission=!1,this.isCameraBlocked=!1,this.isRingtonePlaying=!1,this.isSampleAudioPlaying=!1,this.isWelcomeDialog=!1,this.ringtoneProgress=0,this.ringtoneVolumeIcon="volume_low",this.sampleAudioProgress=0,this.videoErrorMessage=null,this.ringtoneOutputDevicesList$=this.ringtoneOutputDevicesListSource.asObservable(),this.featureAccessService.isVideoAvailable$.pipe((0,o.R)(this.ngUnsubscribe)).subscribe(e=>{this.isVideoEnabled=e}),this.isGuest=this.guestService.isGuest(),this.isGuest||(this.audioMeterVolume$=this.settingsPreviewService.audioMeter$.pipe((0,a.U)(e=>e/10),(0,c.b)(0),(0,o.R)(this.ngUnsubscribe))),this.showSaveAndTryOutButton$=this.callTrackerService.hasActiveOrOnHoldCalls$.pipe((0,a.U)(e=>!e&&!this.isGuest),(0,o.R)(this.ngUnsubscribe))}ngOnDestroy(){this.shouldNotStartRecording.value=!0,this.settingsPreviewService.stopStreams(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){this.guestService.isGuest()&&(this.isVideoEnabled=!0),this.createSettingsForm(),this.videoElement=document.querySelector("#remote-video video"),this.devicesService.audioOutputDevices$.pipe((0,o.R)(this.ngUnsubscribe)).subscribe(e=>{const t=[...e];this.ringtoneOutputDevicesListSource.next(t)}),this.guestService.isGuest()||this.initGuestFunctionality(),this.isWelcomeDialog=this.dialogData&&this.dialogData.isWelcomeDialog,this.saveButtonText=this.isWelcomeDialog?"device_settings.dialog.enable_settings":"device_settings.dialog.save_and_try_out",this.cancelButtonText=this.isWelcomeDialog?"device_settings.dialog.do_later":"device_settings.dialog.cancel"}ngAfterViewInit(){this.guestService.isGuest()&&this.initGuestFunctionality()}compareDevices(e,t){return e&&t?e.deviceId===t.deviceId:e===t}onAudioInputSelectChange(e){this.storedAudioInputDevice=e,this.displayAudioInputPreview()}onAudioOutputSelectChange(e){this.storedAudioOutputDevice=e,this.sampleAudioOutputElement.nativeElement.setSinkId(e.deviceId);const t=this.audioOutputDeviceVolumes.find(t=>t.label===e.label);t?this.audioOutputSliderElement.value=t.value:(this.audioOutputDeviceVolumes.push({label:e.label,value:1}),this.audioOutputSliderElement.value=1),this.sampleAudioOutputElement.nativeElement.volume=this.audioOutputSliderElement.value}onRingtoneSelectChange(e){this.storedRingerMelodyOutputDevice=e,this.ringtoneAudioOutputElement.nativeElement.setSinkId(e.deviceId);const t=this.ringtoneDeviceVolumes.find(t=>t.label===e.label);t?this.ringtoneSliderElement.value=t.value:(this.ringtoneDeviceVolumes.push({label:e.label,value:1}),this.ringtoneSliderElement.value=1),this.ringtoneAudioOutputElement.nativeElement.volume=this.ringtoneSliderElement.value}audioOutputVolumeChanged(e){const t=this.audioOutputDeviceVolumes.find(e=>e.label===this.storedAudioOutputDevice.label);t?t.value=e:this.audioOutputDeviceVolumes.push({label:this.storedAudioOutputDevice.label,value:e}),this.sampleAudioOutputElement.nativeElement.volume=e,this.audioOutputVolumeIcon=0===e?"volume_low":"volume_on"}ringtoneVolumeChanged(e){const t=this.ringtoneDeviceVolumes.find(e=>e.label===this.storedRingerMelodyOutputDevice.label);t?t.value=e:this.ringtoneDeviceVolumes.push({label:this.storedRingerMelodyOutputDevice.label,value:e}),this.ringtoneAudioOutputElement.nativeElement.volume=e,this.ringtoneVolumeIcon=0===e?"volume_low":"volume_on"}audioOutputProgressChanged(e){this.sampleAudioOutputElement.nativeElement.currentTime=e,this.sampleAudioProgress=e}ringtoneProgressChanged(e){this.ringtoneAudioOutputElement.nativeElement.currentTime=e,this.ringtoneProgress=e}updateSampleAudioProgress(e){this.sampleAudioProgress=e.target.currentTime}updateRingtoneProgress(e){this.ringtoneProgress=e.target.currentTime}formatVolumeSlider(e){return 10*e}toggleSampleAudio(){if(this.isRingtonePlaying){const e=this.ringtoneAudioOutputElement.nativeElement;e.pause(),e.currentTime=0,this.ringtoneProgress=0,this.isRingtonePlaying=!1}const e=this.sampleAudioOutputElement.nativeElement;e.ended&&(e.currentTime=0,this.sampleAudioProgress=0),this.isSampleAudioPlaying?(e.pause(),this.isSampleAudioPlaying=!1):(e.play(),this.isSampleAudioPlaying=!0)}toggleRingtone(){if(this.isSampleAudioPlaying){const e=this.sampleAudioOutputElement.nativeElement;e.pause(),e.currentTime=0,this.sampleAudioProgress=0,this.isSampleAudioPlaying=!1}const e=this.ringtoneAudioOutputElement.nativeElement;e.ended&&(e.currentTime=0,this.sampleAudioProgress=0),this.isRingtonePlaying?(e.pause(),this.isRingtonePlaying=!1):(e.play(),this.isRingtonePlaying=!0)}setSampleAudioDuration(){this.sampleAudioDuration=Math.round(this.sampleAudioOutputElement.nativeElement.duration)}setRingtoneDuration(){this.ringtoneDuration=Math.round(this.ringtoneAudioOutputElement.nativeElement.duration)}closeDialog(){this.dialogRef.close()}saveSettings(e){if(!this.canSaveSettings)return;const t=this.deviceSettingsForm.getRawValue();this.localUserConfigService.setDeviceSettings(t),this.devicesService.setActiveCamera(t.videoInputDeviceForm),this.hasSpeakerSupport&&(this.sipService.activeCallsCount||(this.videoElement.srcObject=null),r.W.attachSinkId(this.videoElement,this.storedAudioOutputDevice.deviceId,this.logger)),this.sampleAudioOutputElement&&(this.videoElement.volume=this.sampleAudioOutputElement.nativeElement.volume),this.headsetCoreService.checkHeadsetExistence(this.storedAudioInputDevice,this.storedAudioOutputDevice,this.storedRingerMelodyOutputDevice),this.devicesService.changeAudioInputOutputSource(this.storedAudioInputDevice,this.storedAudioOutputDevice),this.memoriseSelectedMediaDevice(),s.Q.store("audioOutputVolumes-"+this.userStorageId,this.audioOutputDeviceVolumes,!1),s.Q.store("ringtoneVolumes-"+this.userStorageId,this.ringtoneDeviceVolumes,!1),this.devicesService.updateRingBackToneDevice(),this.dialogData&&this.dialogRef.close(),this.snackBarService.openInfo("device_settings.saved"),e&&0===this.sipService.activeCallsCount&&this.callTrackerService.makeCall({name:"Echo Test Service",number:"*85"})}initGuestFunctionality(){this.addSubscriptionsToStack(),this.checkSpeakerSupport(),this.handleDevicePermissions()}checkSpeakerSupport(){navigator.mediaDevices.enumerateDevices().then(e=>{this.hasSpeakerSupport=e.some(e=>"audiooutput"===e.kind)})}handleDevicePermissions(){this.devicesService.checkAudioPermission().then(e=>{e.isSupported?e.hasPermission?(this.hasAudioPermission=!0,this.loadUserData(!0),this.isVideoEnabled&&!this.dialogData.isCameraActivatedOnGuestSetup&&this.settingsPreviewService.checkVideoPermission({value:!0}).then(e=>{e.hasPermission?this.hasVideoPermission=!0:this.videoErrorMessage="device_settings.error.no_camera_permission"})):(this.loadUserData(!1),this.audioErrorMessage="device_settings.error.no_audio_input",this.videoErrorMessage="device_settings.error.no_camera_permission",this.hasSpeakerSupport=!1):(this.loadUserData(!1),this.audioErrorMessage="device_settings.error.no_audio_input",this.videoErrorMessage="device_settings.error.video_not_supported",this.hasSpeakerSupport=!1)})}loadUserData(e){if(this.guestService.isGuest())return this.userStorageId="guest",void this.loadViewContent();this.dialogData&&this.dialogData.userStorageId?(this.userStorageId=this.dialogData.userStorageId,s.Q.store("hasDoneSettingsSetup-"+this.userStorageId,!0,!1),e&&this.devicesService.deviceList$.pipe((0,o.R)(this.ngUnsubscribe)).subscribe(()=>this.loadViewContent())):this.userService.userInfo$.pipe((0,o.R)(this.ngUnsubscribe)).subscribe(t=>{this.userStorageId=t.activePhoneExtension.extensionNumber,s.Q.store("hasDoneSettingsSetup-"+this.userStorageId,!0,!1),e&&this.devicesService.deviceList$.pipe((0,o.R)(this.ngUnsubscribe)).subscribe(()=>this.loadViewContent())})}loadViewContent(){var e,t;if(this.shouldNotStartRecording.value)return;this.loadStoredDevices(),this.hasSpeakerSupport&&this.loadStoredVolumeSettings(),this.isVideoEnabled&&this.hasVideoPermission&&this.updateVideoPreview(),this.displayAudioInputPreview();const i=this.localUserConfigService.getCurrentUserConfig();null===(e=this.deviceSettingsForm.get("isOwnVideoMirrored"))||void 0===e||e.patchValue(i.isOwnVideoMirrored),null===(t=this.deviceSettingsForm.get("isVirtualBackgroundEnabled"))||void 0===t||t.patchValue(i.isVirtualBackgroundEnabled),this.sampleAudioOutputElement&&this.ringtoneAudioOutputElement&&(this.sampleAudioOutputElement.nativeElement.load(),this.sampleAudioOutputElement.nativeElement.setSinkId(this.storedAudioOutputDevice.deviceId),this.storedRingerMelodyOutputDevice||(this.storedRingerMelodyOutputDevice=this.devicesService.loadStoredRingerOutputDevice()),this.ringtoneAudioOutputElement.nativeElement.load(),this.ringtoneAudioOutputElement.nativeElement.setSinkId(this.storedRingerMelodyOutputDevice.deviceId)),this.canSaveSettings=!0}addSubscriptionsToStack(){this.settingsPreviewService.videoPreview$.pipe((0,o.R)(this.ngUnsubscribe)).subscribe(e=>{if(e){this.videoPreviewStream=e,this.videoPreview.nativeElement.srcObject=this.videoPreviewStream;const t=this.videoPreview.nativeElement.play();null!==t&&t.catch(()=>{}),this.isCameraBlocked=!1,this.videoErrorMessage=null}else this.videoPreview&&(this.videoPreview.nativeElement.pause(),this.videoPreview.nativeElement.srcObject=null)})}loadStoredDevices(){this.storedAudioInputDevice=this.devicesService.loadStoredAudioInputDevice(),this.deviceSettingsForm.controls.audioInputDeviceForm.setValue(this.storedAudioInputDevice,{emitModelToViewChange:!0}),this.storedAudioOutputDevice=this.devicesService.loadStoredAudioOutputDevice(),this.deviceSettingsForm.controls.audioOutputDeviceForm.setValue(this.storedAudioOutputDevice,{emitModelToViewChange:!0}),this.storedRingerMelodyOutputDevice=this.devicesService.loadStoredRingerOutputDevice(),this.deviceSettingsForm.controls.melodyOutputDeviceForm.setValue(this.storedRingerMelodyOutputDevice,{emitModelToViewChange:!0}),this.storedVideoInputDevice=this.devicesService.loadStoredVideoInputDevice(),this.updateVideoPreview(()=>{var e,t,i,n;const s=null===(i=null===(t=null===(e=this.videoPreviewStream)||void 0===e?void 0:e.getTracks()[0])||void 0===t?void 0:t.getCapabilities())||void 0===i?void 0:i.deviceId;if(s&&s!==(null===(n=this.storedVideoInputDevice)||void 0===n?void 0:n.deviceId)){const e=this.devicesService.getVideoDeviceByDeviceId(s);e&&(this.storedVideoInputDevice=e)}this.deviceSettingsForm.controls.videoInputDeviceForm.setValue(this.storedVideoInputDevice,{emitModelToViewChange:!0})}),this.hasSpeakerSupport=this.devicesService.hasSpeakers()}loadStoredVolumeSettings(){const e=s.Q.getCached("audioOutputVolumes-"+this.userStorageId,[]),t=s.Q.getCached("ringtoneVolumes-"+this.userStorageId,[]),i=this.storedAudioOutputDevice.label,n=this.storedRingerMelodyOutputDevice.label;if(e){this.audioOutputDeviceVolumes=e;const t=e.find(e=>e.label===i);t?this.audioOutputSliderElement.value=t.value:(this.audioOutputDeviceVolumes.push({label:i,value:1}),this.audioOutputSliderElement.value=1)}else this.audioOutputDeviceVolumes=[],this.audioOutputDeviceVolumes.push({label:i,value:1}),this.audioOutputSliderElement.value=1;if(this.audioOutputSliderElement.disabled=!1,this.sampleAudioOutputElement.nativeElement.volume=this.audioOutputSliderElement.value,this.audioOutputVolumeIcon=0===this.audioOutputSliderElement.value?"volume_low":"volume_on",t){this.ringtoneDeviceVolumes=t;const e=t.find(e=>e.label===n);e?this.ringtoneSliderElement.value=e.value:(this.ringtoneDeviceVolumes.push({label:n,value:1}),this.ringtoneSliderElement.value=1)}else this.ringtoneDeviceVolumes=[],this.ringtoneDeviceVolumes.push({label:n,value:1}),this.ringtoneSliderElement.value=1;this.ringtoneSliderElement.disabled=!1,this.ringtoneAudioOutputElement.nativeElement.volume=this.ringtoneSliderElement.value,this.ringtoneVolumeIcon=0===this.ringtoneSliderElement.value?"volume_low":"volume_on"}updateVideoPreview(e){this.storedVideoInputDevice&&this.settingsPreviewService.updateVideoStream(this.storedVideoInputDevice.deviceId,this.shouldNotStartRecording).then(()=>{e&&e()}).catch(e=>{"NotAllowedError"===e.name?this.videoErrorMessage="device_settings.error.no_camera_permission":"NotReadableError"===e.name?(this.videoErrorMessage=null,this.isCameraBlocked=!0):this.videoErrorMessage="device_settings.error.video_not_supported"})}memoriseSelectedMediaDevice(){this.devicesService.memoriseSelectedMediaDevice({inputDevice:this.isDirtyField("audioInputDeviceForm")?this.storedAudioInputDevice:void 0,outputDevice:this.isDirtyField("audioOutputDeviceForm")?this.storedAudioOutputDevice:void 0,ringerMelodyOutputDevice:this.isDirtyField("melodyOutputDeviceForm")?this.storedRingerMelodyOutputDevice:void 0,videoDevice:this.isDirtyField("videoInputDeviceForm")?this.storedVideoInputDevice:void 0})}isDirtyField(e){return this.deviceSettingsForm.controls[e].dirty}displayAudioInputPreview(){return function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{this.audioErrorMessage=null,yield this.settingsPreviewService.updateAudioInputStream(this.storedAudioInputDevice.deviceId,this.shouldNotStartRecording)}catch(e){this.audioErrorMessage="device_settings.error.no_audio_input"}})}createSettingsForm(){var e;this.deviceSettingsForm=new n.cw({audioInputDeviceForm:new n.NI(this.storedAudioInputDevice),audioOutputDeviceForm:new n.NI(this.storedAudioOutputDevice),melodyOutputDeviceForm:new n.NI(this.storedRingerMelodyOutputDevice),videoInputDeviceForm:new n.NI(this.storedVideoInputDevice),isOwnVideoMirrored:new n.NI({value:!0,disabled:!0}),isVirtualBackgroundEnabled:new n.NI({value:!1,disabled:!0})}),null===(e=this.deviceSettingsForm.get("videoInputDeviceForm"))||void 0===e||e.valueChanges.pipe((0,o.R)(this.ngUnsubscribe)).subscribe(e=>{var t,i;this.storedVideoInputDevice=e,this.updateVideoPreview(),null===(t=this.deviceSettingsForm.get("isOwnVideoMirrored"))||void 0===t||t.enable(),null===(i=this.deviceSettingsForm.get("isVirtualBackgroundEnabled"))||void 0===i||i.enable()})}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(d.I),h.Y36(p.y),h.Y36(f.K),h.Y36(m.Q),h.Y36(g.c),h.Y36(_.i),h.Y36(v.Q),h.Y36(b.Kf),h.Y36(y.k),h.Y36(S.Y),h.Y36(C.q))},e.\u0275cmp=h.Xpm({type:e,selectors:[["device-settings"]],viewQuery:function(e,t){if(1&e&&(h.Gf(U,5),h.Gf(H,5),h.Gf(B,5),h.Gf($,5),h.Gf(j,5)),2&e){let e;h.iGM(e=h.CRH())&&(t.videoPreview=e.first),h.iGM(e=h.CRH())&&(t.sampleAudioOutputElement=e.first),h.iGM(e=h.CRH())&&(t.ringtoneAudioOutputElement=e.first),h.iGM(e=h.CRH())&&(t.audioOutputSliderElement=e.first),h.iGM(e=h.CRH())&&(t.ringtoneSliderElement=e.first)}},inputs:{dialogData:"dialogData",dialogRef:"dialogRef"},decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["pageView",""],["deviceSettingsContent",""],["deviceSettingsActions",""],["mat-dialog-title","","data-e2e","device-settings-modal-fragment__title",1,"device-settings__dialog-title"],[1,"device-settings__dialog-content"],["class","device-settings__welcome-dialog-banner",4,"ngIf"],[4,"ngTemplateOutlet"],["align","end",3,"device-settings__dialog-actions",4,"ngIf","ngIfElse"],["cancelButton",""],[1,"device-settings__welcome-dialog-banner"],["align","end"],["color","primary","buttonTextTranslationKey","device_settings.dialog.cancel","type","basic-button",3,"appButtonClick"],[1,"device-settings__page-view"],["class","device-settings__page-actions",4,"ngIf"],[1,"device-settings__page-actions"],[1,"device-settings__content"],["novalidate","",3,"formGroup"],[4,"ngIf"],[1,"device-settings__audio-input"],["audioSelectionContainer",""],[1,"device-settings__video"],["videoSelectionContainer",""],[1,"device-settings__video-error"],["data-e2e","device-settings-modal-fragment__video-camera-title",1,"device-settings__selection-title"],[1,"device-settings__error-message"],["fill","warn-color","icon","video_off","size","small",1,"device-settings__error-icon"],[1,"device-settings__selection"],[1,"device-settings__selection-dropdown"],["formControlName","videoInputDeviceForm",3,"compareWith","title"],[3,"value","title",4,"ngFor","ngForOf"],["class","device-settings__error-message",4,"ngIf"],[1,"device-settings__video-preview"],["data-e2e","device-settings-modal-fragment__video-preview",1,"device-settings__video-preview-window"],["videoPreview",""],["data-e2e","device-settings-modal-fragment__mirror-me-checkbox","color","primary","formControlName","isOwnVideoMirrored","appHoverbox",""],["data-e2e","device-settings-modal-fragment__virtual-background-checkbox","color","primary","formControlName","isVirtualBackgroundEnabled","appHoverbox",""],[3,"value","title"],[1,"device-settings__audio-error"],["data-e2e","device-settings-modal-fragment__audio-input-title",1,"device-settings__selection-title"],["fill","warn-color","icon","mic_off","size","small",1,"device-settings__error-icon"],["formControlName","audioInputDeviceForm","data-e2e","device-settings-modal-fragment__audio-input",3,"compareWith","title","selectionChange"],["data-e2e","device-settings-modal-fragment__audio-input-option",3,"value","title",4,"ngFor","ngForOf"],["data-e2e","device-settings-modal-fragment__audio-input-preview","class","device-settings__audio-input-preview",4,"ngIf"],["data-e2e","device-settings-modal-fragment__audio-input-option",3,"value","title"],["data-e2e","device-settings-modal-fragment__audio-input-preview",1,"device-settings__audio-input-preview"],["class","device-settings__volume-meter-dot",3,"device-settings__volume-meter-dot--active",4,"ngFor","ngForOf"],[1,"device-settings__volume-meter-dot"],[1,"device-settings__audio-output"],["data-e2e","device-settings-modal-fragment__audio-output-title",1,"device-settings__selection-title"],["formControlName","audioOutputDeviceForm","data-e2e","device-settings-modal-fragment__audio-output",3,"compareWith","title","selectionChange"],["data-e2e","device-settings-modal-fragment__audio-output-option",3,"value","title",4,"ngFor","ngForOf"],[1,"device-settings__audio-controls"],["data-e2e","device-settings-modal-fragment__audio-output-preview",1,"device-settings__audio-output-preview"],["iconSize","medium","hoverTextTranslationKey","device_settings.tooltips.toggle_audio_sample",3,"iconName","appButtonClick"],[1,"device-settings__audio-progress"],["min","0","step","0.1",1,"device-settings__volume-slider",3,"max","value","valueChange","mousedown","mouseup"],[1,"device-settings__sample-audio-info"],["src","assets/audio/Munich.mp3",3,"loop","loadedmetadata","timeupdate"],["sampleAudioOutput",""],["type","audio/wav"],["appHoverbox","",1,"device-settings__volume-control"],[1,"hoverbox"],["size","small",1,"device-settings__volume-icon",3,"icon"],["min","0","max","1","step","0.1","thumbLabel","","disabled","true",1,"device-settings__volume-slider",3,"displayWith","valueChange"],["audioOutputSlider",""],[1,"device-settings__ringtone-melody"],[1,"device-settings__selection-title"],["class","device-settings__selection-dropdown",4,"ngIf"],["data-e2e","device-settings-modal-fragment__ringtone-output-preview",1,"device-settings__audio-output-preview"],["iconSize","medium","hoverTextTranslationKey","device_settings.tooltips.toggle_ringtone_sample",3,"iconName","appButtonClick"],["ringtoneAudioOutput",""],["ringtoneSlider",""],["data-e2e","device-settings-modal-fragment__audio-output-option",3,"value","title"],["formControlName","melodyOutputDeviceForm",3,"compareWith","title","selectionChange"],["color","primary","type","basic-button",3,"e2e","buttonTextTranslationKey","appButtonClick",4,"ngIf"],["data-e2e","device-settings-modal-fragment",1,"device-settings__save-buttons"],["e2e","device-settings-modal-fragment__save-and-try-out","class","device-settings__save-and-try-out-button","color","primary","hoverTextTranslationKey","device_settings.tooltips.save_and_try_out",3,"disabled","buttonTextTranslationKey","transparentOnDisabled","type","appButtonClick",4,"ngIf"],["data-e2e","device-settings-modal-fragment__save-button","buttonTextTranslationKey","device_settings.dialog.save","color","primary","type","raised-button",3,"disabled","appButtonClick",4,"ngIf"],["color","primary","type","basic-button",3,"e2e","buttonTextTranslationKey","appButtonClick"],["e2e","device-settings-modal-fragment__save-and-try-out","color","primary","hoverTextTranslationKey","device_settings.tooltips.save_and_try_out",1,"device-settings__save-and-try-out-button",3,"disabled","buttonTextTranslationKey","transparentOnDisabled","type","appButtonClick"],["data-e2e","device-settings-modal-fragment__save-button","buttonTextTranslationKey","device_settings.dialog.save","color","primary","type","raised-button",3,"disabled","appButtonClick"]],template:function(e,t){if(1&e&&(h.YNc(0,z,10,7,"ng-container",0),h.YNc(1,X,4,3,"ng-template",null,1,h.W1O),h.YNc(3,me,8,7,"ng-template",null,2,h.W1O),h.YNc(5,be,5,5,"ng-template",null,3,h.W1O)),2&e){const e=h.MAs(2);h.Q6J("ngIf",t.dialogData)("ngIfElse",e)}},directives:[w.O5,E.uh,E.xY,w.tP,E.H8,T.V,n._Y,n.JL,n.sg,k.u,x.KE,A.gD,n.JJ,n.u,w.sg,I.oG,O.r,R.B,P.ey,D.pH],pipes:[N.X$,L,w.Ov,M._,F.o],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.device-settings__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1.6rem 2.4rem}.device-settings__dialog-title[_ngcontent-%COMP%]{background-color:#e5e5e5;font-size:2.2rem;font-weight:bold;margin:-2.4rem;padding:1.6rem 2.4rem}.device-settings__welcome-dialog-banner[_ngcontent-%COMP%]{background-color:#ffe44c;padding:1.9rem 2.4rem}.device-settings__dialog-content[_ngcontent-%COMP%]{margin-top:2.4rem;padding:0}.device-settings__content-header[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.device-settings__content-header-title[_ngcontent-%COMP%]{margin:1.5rem 0}.device-settings__video[_ngcontent-%COMP%], .device-settings__audio-input[_ngcontent-%COMP%], .device-settings__audio-output[_ngcontent-%COMP%], .device-settings__ringtone-melody[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between;padding-top:1.2rem}.device-settings__audio-output[_ngcontent-%COMP%], .device-settings__ringtone-melody[_ngcontent-%COMP%]{height:13rem;margin-bottom:0}.device-settings__video[_ngcontent-%COMP%]{padding-bottom:2.4rem;padding-top:0}.device-settings__error-message[_ngcontent-%COMP%]{align-items:center;color:#b30000;display:flex;margin-top:1.6rem}.device-settings__error-icon[_ngcontent-%COMP%]{margin-right:1rem}.device-settings__selection[_ngcontent-%COMP%]{width:60%}.device-settings__selection-dropdown[_ngcontent-%COMP%]{width:80%}.device-settings__selection-title[_ngcontent-%COMP%]{font-size:1.5rem;margin:1rem 0}.device-settings__video-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.device-settings__video-preview-window[_ngcontent-%COMP%]{background:#000;color:#fff;height:14rem;margin-bottom:1rem;width:22.4rem}.device-settings__video-preview-window--mirrored[_ngcontent-%COMP%]{transform:rotateY(180deg)}.device-settings__audio-input-preview[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:40%}.device-settings__volume-meter-dot[_ngcontent-%COMP%]{border-radius:50%;display:inline-block;height:1.8rem;margin-left:.5rem;transition:background-color .2s ease-in-out;width:1.8rem}.device-settings__volume-meter-dot[_ngcontent-%COMP%]:first-child{margin-left:0}.device-settings__audio-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:2rem}.device-settings__audio-output-preview[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;width:22.4rem}.device-settings__sample-audio-info[_ngcontent-%COMP%]{display:flex;font-size:1.3rem;justify-content:space-between;margin-top:-1.3rem;padding:0 .5rem}.device-settings__audio-progress[_ngcontent-%COMP%]{width:100%}.device-settings__audio-length[_ngcontent-%COMP%]{margin-left:.7rem;padding:.5rem}.device-settings__volume-control[_ngcontent-%COMP%]{align-items:center;display:flex}.device-settings__volume-icon[_ngcontent-%COMP%]{padding:1.2rem}.device-settings__volume-slider[_ngcontent-%COMP%]{width:100%}.device-settings__dialog-actions[_ngcontent-%COMP%]{justify-content:space-between}.device-settings__page-view[_ngcontent-%COMP%]{max-width:72rem}.device-settings__page-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;max-width:69rem;padding:0 2.4rem 1.6rem 0}.device-settings__save-and-try-out-button[_ngcontent-%COMP%]{margin:0 .8rem}.device-settings__save-buttons[_ngcontent-%COMP%]{display:flex;justify-self:flex-end}.device-settings__hidden[_ngcontent-%COMP%]{display:none}"]}),e})()},10028:function(e,t,i){"use strict";i.d(t,{I:function(){return o}});var n=i(18351),s=i(37716),r=i(22238);let o=(()=>{class e{constructor(e){this.dialog=e}open(e){return this.dialog.open(n.P,{autoFocus:!1,data:e,panelClass:"device-settings-dialog-container",width:"64rem"})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.uw))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},89889:function(e,t,i){"use strict";i.d(t,{v:function(){return s}});var n=i(37716);let s=(()=>{class e{constructor(e){this.el=e}clickEvent(){this.el.nativeElement.blur()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275dir=n.lG2({type:e,selectors:[["","blurOnClick",""]],hostBindings:function(e,t){1&e&&n.NdJ("click",function(){return t.clickEvent()})}}),e})()},84985:function(e,t,i){"use strict";i.d(t,{l:function(){return r}});var n=i(37716),s=i(7460);let r=(()=>{class e{constructor(e){this.clickToDialService=e,this.isContextMenuDisabled=!1}onContextMenu(e){e.preventDefault(),this.isContextMenuDisabled?this.clickToDialService.callContextMenu({isShown:!1}):(this.setContextMenuParam(),this.clickToDialService.callContextMenu({positionX:e.clientX,positionY:e.clientY,isShown:!0,item:this.selectedObj,callLocation:this.callLocation,isOverlayDisabled:!0}))}setContextMenuParam(){var e,t,i,n;switch(this.contextMenuSection){case"contact":this.callLocation={contacts:!0},this.selectedObj={name:this.selectedItem.displayName||this.selectedItem.remote_display_name||this.selectedItem.name,number:this.selectedItem.displayNumber||this.selectedItem.extensionNumber||this.selectedItem.remote||this.selectedItem.number};break;case"history":this.selectedObj={name:this.selectedItem.remote_display_name,number:this.selectedItem.remote||this.selectedItem.number};break;case"emergency":this.selectedObj={name:this.selectedItem.name,number:this.selectedItem.number},this.callLocation={emergency:!0};break;case"voicemails":this.selectedObj={name:this.selectedItem.caller_id_name,number:this.selectedItem.caller_id_num};break;case"fax":this.selectedObj={name:this.selectedItem.document_name,number:this.selectedItem.recipient_number},this.callLocation={fax:!0};break;case"conference":this.selectedObj=Object.assign(Object.assign({},this.selectedItem),{name:this.selectedItem.displayName,number:this.selectedItem.displayNumber||this.selectedItem.extensionNumber||this.selectedItem.number}),this.callLocation={conference:!0};break;case"crmConnect":this.selectedObj=Object.assign(Object.assign({},this.selectedItem),{name:this.selectedItem.name,number:this.selectedItem.number,crmConnectLink:this.selectedItem.crmConnectLink,crmConnectName:this.selectedItem.crmConnectName}),this.callLocation={crmConnect:!0};break;case"callable-modal":this.selectedObj={name:this.selectedItem.display_name,number:this.selectedItem.extension||this.selectedItem.display_num};break;default:this.selectedObj={name:this.selectedItem.displayName||this.selectedItem.name||this.selectedItem.display_name||(null===(t=null===(e=this.selectedItem)||void 0===e?void 0:e.callItem)||void 0===t?void 0:t.name),number:this.selectedItem.displayNumber||this.selectedItem.extensionNumber||this.selectedItem.extension||this.selectedItem.number||this.selectedItem.recipient_number||(null===(n=null===(i=this.selectedItem)||void 0===i?void 0:i.callItem)||void 0===n?void 0:n.number)}}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.q))},e.\u0275dir=n.lG2({type:e,selectors:[["","context-menu",""]],hostBindings:function(e,t){1&e&&n.NdJ("contextmenu",function(e){return t.onContextMenu(e)})},inputs:{selectedItem:["context-menu","selectedItem"],contextMenuSection:"contextMenuSection",isContextMenuDisabled:"isContextMenuDisabled"}}),e})()},51111:function(e,t,i){"use strict";i.d(t,{O:function(){return r}});var n=i(17490),s=i(37716);let r=(()=>{class e{transform(e){return{[n.v.INTERNAL]:"company",[n.v.PHONEEXTENSION]:"extension",[n.v.CONFERENCESERVICE]:"conference_call_solid",[n.v.TIMECONTROLSERVICE]:"timer",[n.v.QUEUESERVICE]:"queue",[n.v.SKILLSERVICE]:"skill",[n.v.GROUPSERVICE]:"group",[n.v.IVRSERVICE]:"queue",[n.v.VIRTUALFAXEXTENSION]:"fax_solid",[n.v.VOICEMAIL]:"voicemail"}[e]||"contact"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"discriminatorIcon",type:e,pure:!0}),e})()},60424:function(e,t,i){"use strict";i.d(t,{k:function(){return c}});var n=i(46782),s=i(79765),r=i(37716),o=i(7175),a=i(38583);let c=(()=>{class e{constructor(e,t){this.faxService=e,this.datePipe=t,this.ngUnsubscribe=new s.xQ,this.coverSubject="",this.coverBody=""}ngOnInit(){this.faxService.faxSubscription$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(e=>{this.faxSubscriptions=e}),this.faxService.coverData$.pipe((0,n.R)(this.ngUnsubscribe)).subscribe(e=>{e&&(this.coverBody=this.faxService.processInput(e.body,this.sender),this.coverSubject=this.faxService.processInput(e.subject,this.sender))})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.e),r.Y36(a.uU))},e.\u0275cmp=r.Xpm({type:e,selectors:[["fax-cover-sheet"]],inputs:{sender:"sender"},decls:8,vars:2,consts:[[1,"a4"],[1,"a4-wrap"],[1,"a4-bg"],[1,"a4-inner"],["data-e2e","main-settings-fax-page__cover-sheet-preview-subject"],["data-e2e","main-settings-fax-page__cover-sheet-preview-content"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h2",4),r._uU(5),r.qZA(),r.TgZ(6,"p",5),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(5),r.hij(" ",t.coverSubject," "),r.xp6(2),r.hij(" ",t.coverBody," "))},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.a4[_ngcontent-%COMP%]{position:relative}.a4[_ngcontent-%COMP%]   .a4-wrap[_ngcontent-%COMP%]{padding-top:135%}.a4[_ngcontent-%COMP%]   .a4-wrap[_ngcontent-%COMP%]   .a4-bg[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:0}.a4[_ngcontent-%COMP%]   .a4-wrap[_ngcontent-%COMP%]   .a4-inner[_ngcontent-%COMP%]{background-color:#fff;border:.1rem solid #000;bottom:2rem;left:2rem;overflow:scroll;padding:1rem;position:absolute;right:2rem;top:2rem}.a4-wrap[_ngcontent-%COMP%]   .a4-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .a4-wrap[_ngcontent-%COMP%]   .a4-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow-wrap:break-word}.a4-wrap[_ngcontent-%COMP%]   .a4-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:2.5rem}.a4-wrap[_ngcontent-%COMP%]   .a4-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),e})()},5588:function(e,t,i){"use strict";i.d(t,{o:function(){return s}});var n=i(37716);let s=(()=>{class e{transform(e){return isNaN(e)?0:Math.floor(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"floor",type:e,pure:!0}),e})()},83840:function(e,t,i){"use strict";i.d(t,{O:function(){return o}});var n=i(37716),s=i(8307),r=i(35249);let o=(()=>{class e{constructor(e,t){this.router=e,this.adminAuthService=t}canActivate(){return this.canActivateCheck()}canActivateChild(){return this.canActivateCheck()}canActivateCheck(){return!!this.adminAuthService.isAuthenticated()||(this.router.navigate(["/auth/login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.F0),n.LFG(r.Y))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},45240:function(e,t,i){"use strict";i.d(t,{a:function(){return c}});var n=i(37716),s=i(8307),r=i(92937),o=i(8780),a=i(81836);let c=(()=>{class e{constructor(e,t,i,n){this.router=e,this.tokenService=t,this.loginService=i,this.sipService=n}canActivate(e,t){return this.canActivateCheck(t)}canActivateChild(e,t){return this.canActivateCheck(t)}canActivateCheck(e){return!!this.tokenService.isValidToken()||(this.sipService.unregister(),this.loginService.redirectUrl=e.url,this.router.navigate(["/auth/login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(s.F0),n.LFG(r.B),n.LFG(o.r),n.LFG(a.y))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},5027:function(e,t,i){"use strict";i.d(t,{V:function(){return l}});var n=i(88002),s=i(71188),r=i(37716),o=i(43962),a=i(8307),c=i(45832);let l=(()=>{class e{constructor(e,t,i){this.frontendConferenceService=e,this.router=t,this.snackBarService=i}canActivate(){return s.V.hasConferenceAccess?s.V.hasConferenceAccess:this.frontendConferenceService.getHasConferenceAccess().pipe((0,n.U)(e=>(e||(this.snackBarService.openInfo("conference.no_subscribed_conferences"),this.router.navigate(["/main/telephone"])),e)))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.K),r.LFG(a.F0),r.LFG(c.c))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},63265:function(e,t,i){"use strict";i.d(t,{G:function(){return a}});var n=i(88002),s=i(37716),r=i(66698),o=i(8307);let a=(()=>{class e{constructor(e,t){this.crmConnectService=e,this.router=t}canActivate(){return this.crmConnectService.isCrmConnectAvailableDistinct$.pipe((0,n.U)(e=>(e||this.router.navigate(["/main/settings"]),e)))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.a),s.LFG(o.F0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},28714:function(e,t,i){"use strict";i.d(t,{W:function(){return o}});var n=i(28123),s=i(37716),r=i(8307);let o=(()=>{class e{constructor(e){this.router=e}canActivate(){return!!n.Q.getCached("hasActivePhoneExtension",!1)||this.navigate()}navigate(){const e=n.Q.getCached("userinfo",null);return e&&e.modules.length&&e.modules.includes("client")?this.router.navigate(["/main/settings/user"]):this.router.navigate(["/auth/login"]),!1}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.F0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},93855:function(e,t,i){"use strict";i.d(t,{J:function(){return c}});var n=i(88002),s=i(71188),r=i(37716),o=i(8307),a=i(7175);let c=(()=>{class e{constructor(e,t){this.router=e,this.faxService=t}canActivate(){return s.V.hasFaxAccess?s.V.hasFaxAccess:this.faxService.getHasFaxAccess().pipe((0,n.U)(e=>(e||this.router.navigate(["/main/settings/fax"]),e)))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.F0),r.LFG(a.e))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},99316:function(e,t,i){"use strict";i.d(t,{k:function(){return l}});var n=i(45435),s=i(88002),r=i(37716),o=i(51233),a=i(8307),c=i(45832);let l=(()=>{class e{constructor(e,t,i){this.userService=e,this.router=t,this.snackbarService=i}canActivate(){return this.userService.userInfo$.pipe((0,n.h)(e=>!!e),(0,s.U)(e=>{var t;const i=null===(t=null==e?void 0:e.modules)||void 0===t?void 0:t.includes("meeting");return i||(this.snackbarService.openErrorInfo("meetings.no_meetings_module"),this.router.navigate(["/main/telephone"])),i}))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.K),r.LFG(a.F0),r.LFG(c.c))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},27663:function(e,t,i){"use strict";i.d(t,{O:function(){return n},I:function(){return s}});var n=(()=>{return(e=n||(n={})).DELETE="delete",e.DELETE_ALL="deleteall",e.CANCEL="cancel",e.ADD="add",e.CLEAR="clear",e.TOGGLE_EDIT="toggle",e.SCROLL="scroll",e.SEARCHING="searching",e.CLEAR_SEARCH="clearsearch",n;var e})(),s=(()=>{return(e=s||(s={})).VOICEMAIL="voicemail",e.CALLHISTORY="callhistory",e.CONTACT="contact",e.CONFERENCE="conference",e.FAX="fax",e.TELEPHONE="telephone",e.MEETING="meeting",s;var e})()},59588:function(e,t,i){"use strict";i.d(t,{G:function(){return L}});var n=i(37716),s=i(22238),r=i(89973),o=i(42070),a=i(29790);let c=(()=>{class e{constructor(e){this.dialogRef=e}onCancel(){this.dialogRef.close(!1)}onAccept(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.so))},e.\u0275cmp=n.Xpm({type:e,selectors:[["delete-all-modal"]],decls:10,vars:9,consts:[[1,"delete_modal",3,"title"],[1,"delete-all-modal__header"],["btnSaveCaption","delete_all","btnType","basic-button-submit","textColor","button--alert",3,"cancelClick","saveClick"]],template:function(e,t){1&e&&(n.TgZ(0,"modal-container",0),n.ALo(1,"translate"),n.TgZ(2,"div",1),n.TgZ(3,"p"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"p"),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.qZA(),n.TgZ(9,"footer-actions",2),n.NdJ("cancelClick",function(){return t.onCancel()})("saveClick",function(){return t.onAccept()}),n.qZA(),n.qZA()),2&e&&(n.Q6J("title",n.lcZ(1,3,"delete_all_title")),n.xp6(4),n.Oqu(n.lcZ(5,5,"delete_all_questions")),n.xp6(3),n.Oqu(n.lcZ(8,7,"delete_all_info")))},directives:[r.O,o.c],pipes:[a.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{align-items:center;background-color:#0000004d;display:flex;flex:1;flex-direction:column;justify-content:center}.delete-all-modal__header[_ngcontent-%COMP%]{padding:.8rem 2.4rem}"]}),e})();var l=i(27663),u=i(46782),h=i(39761),d=i(71289),p=i(45435),f=i(88002),m=i(68307),g=i(79765),_=i(73432),v=i(37444),b=i(8307),y=i(32722),S=i(76916),C=i(99445),w=i(38583),E=i(33935),T=i(78023);function k(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-button",11),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw(2).toggleForceSearch()}),n.qZA()}}function x(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-button",12),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw(2).toggleForceSearch()}),n.qZA()}}function A(e,t){if(1&e&&n._UZ(0,"app-button",13),2&e){n.oxw();const e=n.MAs(7),t=n.oxw();n.Q6J("hoverTextTranslationKey",t.filterButtonTooltip)("matMenuTriggerFor",e)}}function I(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){const t=n.CHM(e).$implicit,i=n.oxw(2);return null!=t&&t.filterType||(null==t?null:t.filterType)===i.CallHistoryFilterType.ALL?i.filterButtonClick(t.filterType):t.action()}),n._uU(1),n.ALo(2,"translate"),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(2);n.ekj("header-action__menu-item--selected",i.selectedFilterType===(null==e?null:e.filterType)),n.Q6J("disabled",i.selectedFilterType===(null==e?null:e.filterType)),n.uIk("data-e2e",e.e2e?"toolbar-fragment__filter"+e.e2e:null),n.xp6(1),n.hij(" ",n.lcZ(2,5,e.title)," ")}}function O(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-button",15),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw(2).toggleEditMode(!0)}),n.ALo(1,"async"),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("hoverTextTranslationKey",e.editButtonTooltip)("disabled",!n.lcZ(1,2,e.isDataAvailable$)&&(e.isCallHistory||e.isVoicemail))}}function R(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-button",16),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw(2).addNewItem()}),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("hoverTextTranslationKey",e.addButtonTooltip)}}function P(e,t){if(1&e&&(n.TgZ(0,"div",2),n.YNc(1,k,1,0,"app-button",3),n.ALo(2,"async"),n.YNc(3,x,1,0,"app-button",4),n.ALo(4,"async"),n.YNc(5,A,1,2,"app-button",5),n.TgZ(6,"mat-menu",6,7),n.YNc(8,I,3,7,"button",8),n.qZA(),n.YNc(9,O,2,4,"app-button",9),n.YNc(10,R,1,1,"app-button",10),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,7,e.activeCall$)&&!e.isForceSearchShown),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,9,e.activeCall$)&&e.isForceSearchShown&&e.isTelephoneView),n.xp6(2),n.Q6J("ngIf",e.isFilterButtonShown),n.xp6(1),n.Q6J("overlapTrigger",!1),n.xp6(2),n.Q6J("ngForOf",e.filterMenuItems),n.xp6(1),n.Q6J("ngIf",e.isEditButtonShown),n.xp6(1),n.Q6J("ngIf",e.isAddButtonShown)}}const D=function(e){return{disabled:e}};function N(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-button",17),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw().toggleDeleteModal()}),n.ALo(1,"async"),n.qZA(),n.TgZ(2,"span",18),n.ALo(3,"async"),n._uU(4),n.ALo(5,"async"),n.ALo(6,"translate"),n.qZA(),n.TgZ(7,"app-button",19),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw().deleteSelectedItems()}),n.ALo(8,"async"),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("disabled",!n.lcZ(1,7,e.isDataAvailable$)&&(e.isCallHistory||e.isVoicemail))("transparentOnDisabled",!0),n.xp6(2),n.Q6J("ngClass",n.VKq(17,D,!n.lcZ(3,9,e.selectedEditItemsCount$))),n.xp6(2),n.AsE(" ",n.lcZ(5,11,e.selectedEditItemsCount$)," ",n.lcZ(6,13,"selected")," "),n.xp6(3),n.Q6J("disabled",!n.lcZ(8,15,e.selectedEditItemsCount$))("e2e","toolbar-fragment__delete")}}let L=(()=>{class e{constructor(e,t,i,s){this.headerButtonService=e,this.dialog=t,this.callTrackerService=i,this.router=s,this.ngUnsubscribe=new g.xQ,this.isForceSearchShown=!0,this.isForceSearchClicked=new n.vpe,this.isAddButtonShown=!1,this.isFilterButtonShown=!1,this.isEditButtonShown=!1,this.editButtonTooltip="",this.filterButtonTooltip="",this.addButtonTooltip="",this.filters={string:""},this.filterMenuItems=[],this.isCallHistory=!1,this.isVoicemail=!1,this.CallHistoryFilterType=v.J,this.selectedFilterType=v.J.ALL}ngOnInit(){this.setHeaderAction(),this.listenForRouteChanges(),this.activeCall$=this.callTrackerService.activeCall$,this.selectedEditItemsCount$=this.headerButtonService.updateSelectedEditItemsCount$,this.isEditMode$=this.headerButtonService.isEditMode$,this.isDataAvailable$=this.headerButtonService.isDataAvailable$}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}filterButtonClick(e){this.selectedFilterType=e,this.headerButtonService.emitFilterType(e)}toggleDeleteModal(){this.dialog.open(c).afterClosed().pipe((0,u.R)(this.ngUnsubscribe)).subscribe(e=>{e&&this.deleteAll()})}setTooltipTranslations(){var e;switch(null===(e=this.headerAction)||void 0===e?void 0:e.actionComponent){case l.I.VOICEMAIL:this.editButtonTooltip="";break;case l.I.CONTACT:this.filterButtonTooltip=this.getTooltipText("contacts_filter"),this.editButtonTooltip=this.getTooltipText("contacts_edit"),this.addButtonTooltip=this.getTooltipText("contacts_add");break;case l.I.CONFERENCE:this.addButtonTooltip=this.getTooltipText("conference_add")}}deleteAll(){this.headerButtonService.deleteAll()}deleteSelectedItems(){this.headerButtonService.batchDelete()}toggleEditMode(e){this.headerButtonService.toggleEditMode(e)}addNewItem(){this.headerButtonService.addNewItem()}toggleForceSearch(){this.isForceSearchClicked.emit(!this.isForceSearchShown)}setHeaderAction(){this.headerButtonService.headerButtonClicked$.pipe((0,h.O)(void 0),(0,d.g)(0),(0,u.R)(this.ngUnsubscribe)).subscribe(e=>{var t;this.isTelephoneView=(null==e?void 0:e.actionComponent)===l.I.TELEPHONE,this.headerAction=e,this.setButtonVisibility(),(null===(t=this.headerAction)||void 0===t?void 0:t.actionComponent)===l.I.CONTACT&&(this.filterMenuItems=this.getContactFilterMenuItems()),this.setTooltipTranslations()})}getTooltipText(e){return`toolbar.buttons.${e}.tooltip`}setButtonVisibility(){var e,t,i,n;const s=(null===(e=this.headerAction)||void 0===e?void 0:e.actionComponent)===l.I.CONTACT,r=(null===(t=this.headerAction)||void 0===t?void 0:t.actionComponent)===l.I.MEETING;this.isVoicemail=(null===(i=this.headerAction)||void 0===i?void 0:i.actionComponent)===l.I.VOICEMAIL,this.isAddButtonShown=!!this.headerAction&&(s||(null===(n=this.headerAction)||void 0===n?void 0:n.actionComponent)===l.I.CONFERENCE),this.isCallHistory?(this.isFilterButtonShown=!0,this.isEditButtonShown=!0):this.headerAction?(this.isFilterButtonShown=s,this.isEditButtonShown=s||this.isVoicemail||r):(this.isFilterButtonShown=!1,this.isEditButtonShown=!1)}getContactFilterMenuItems(){return this.headerAction.actionComponent=l.I.CONTACT,[{title:"contacts.global",e2e:"-global--button",action:()=>{this.headerAction.actionFilterType=_.n.GLOBAL,this.setActionFilter()}},{title:"contacts.private",e2e:"-private--button",action:()=>{this.headerAction.actionFilterType=_.n.PRIVATE,this.setActionFilter()}}]}setActionFilter(){this.headerAction&&(this.headerAction.actionName=l.O.SEARCHING,this.headerButtonService.setFilterActionComponent(this.headerAction))}listenForRouteChanges(){this.router.events.pipe((0,p.h)(e=>e instanceof b.m2),(0,f.U)(()=>this.router.url),(0,m.b)(e=>{this.headerButtonService.clearFilterType(),this.headerButtonService.deactivateEditMode(),e.includes(y.h.CallHistory)&&(this.selectedFilterType=v.J.ALL)}),(0,h.O)(this.router.url),(0,u.R)(this.ngUnsubscribe)).subscribe(e=>{e.includes(y.h.CallHistory)?(this.isCallHistory=!0,this.filterButtonTooltip=this.getTooltipText("history_filter"),this.editButtonTooltip=this.getTooltipText("history_edit"),this.filterMenuItems=this.getCallHistoryFilterMenuItems()):this.isCallHistory=!1})}getCallHistoryFilterMenuItems(){return[{title:"history.all",filterType:v.J.ALL},{title:"history.missed",filterType:v.J.MISSED},{title:"history.accepted",filterType:v.J.ANSWERED},{title:"history.outgoing",filterType:v.J.OUTGOING}]}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(S.d),n.Y36(s.uw),n.Y36(C.k),n.Y36(b.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["header-action"]],inputs:{isForceSearchShown:"isForceSearchShown"},outputs:{isForceSearchClicked:"isForceSearchClicked"},decls:4,vars:4,consts:[["class","header-action__items",4,"ngIf","ngIfElse"],["isEditMode",""],[1,"header-action__items"],["iconFillClass","header-button","iconName","search","e2e","toolbar-fragment__search",3,"appButtonClick",4,"ngIf"],["iconFillClass","header-button","iconName","dialpad",3,"appButtonClick",4,"ngIf"],["e2e","toolbar-fragment__filter","iconFillClass","header-button","iconName","filter",3,"hoverTextTranslationKey","matMenuTriggerFor",4,"ngIf"],[3,"overlapTrigger"],["filterMenu","matMenu"],["mat-menu-item","",3,"disabled","header-action__menu-item--selected","click",4,"ngFor","ngForOf"],["e2e","toolbar-fragment__edit","iconFillClass","header-button","iconName","edit",3,"hoverTextTranslationKey","disabled","appButtonClick",4,"ngIf"],["e2e","toolbar-fragment__add","iconFillClass","header-button","iconName","add",3,"hoverTextTranslationKey","appButtonClick",4,"ngIf"],["iconFillClass","header-button","iconName","search","e2e","toolbar-fragment__search",3,"appButtonClick"],["iconFillClass","header-button","iconName","dialpad",3,"appButtonClick"],["e2e","toolbar-fragment__filter","iconFillClass","header-button","iconName","filter",3,"hoverTextTranslationKey","matMenuTriggerFor"],["mat-menu-item","",3,"disabled","click"],["e2e","toolbar-fragment__edit","iconFillClass","header-button","iconName","edit",3,"hoverTextTranslationKey","disabled","appButtonClick"],["e2e","toolbar-fragment__add","iconFillClass","header-button","iconName","add",3,"hoverTextTranslationKey","appButtonClick"],["data-e2e","toolbar-fragment__delete-all--button","buttonTextTranslationKey","delete_all","type","basic-button",1,"header-action__delete-button","exclude-app-button-style",3,"disabled","transparentOnDisabled","appButtonClick"],["data-e2e","toolbar-fragment__selected-count--span",1,"header-action__selected-items-amount--edit-mode","header-action__text",3,"ngClass"],["iconFill","header-button","iconName","delete",3,"disabled","e2e","appButtonClick"]],template:function(e,t){if(1&e&&(n.YNc(0,P,11,11,"div",0),n.ALo(1,"async"),n.YNc(2,N,9,19,"ng-template",null,1,n.W1O)),2&e){const e=n.MAs(3);n.Q6J("ngIf",!n.lcZ(1,2,t.isEditMode$))("ngIfElse",e)}},directives:[w.O5,E.VK,w.sg,T.V,E.p6,E.OP,w.mk],pipes:[w.Ov,a.X$],styles:["[_nghost-%COMP%]{display:flex;justify-content:flex-end}.header-action__items[_ngcontent-%COMP%]{display:flex}.header-action__text[_ngcontent-%COMP%]{font-size:1.8rem;line-height:2.4rem;padding:1rem;position:relative;top:.2rem}.header-action__menu-item--selected[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}"]}),e})()},76916:function(e,t,i){"use strict";i.d(t,{d:function(){return v}});var n=i(79765),s=i(26215),r=i(27663),o=i(89339),a=i(46782),c=i(45435),l=i(8307),u=i(71188),h=i(37444),d=i(37716),p=i(99445),f=i(81836),m=i(45832),g=i(51233),_=i(10028);let v=(()=>{class e{constructor(e,t,i,o,c,h){this.router=e,this.callTrackerService=t,this.sipService=i,this.snackBarService=o,this.userService=c,this.openDeviceSettingsService=h,this.onDndStatusChangeSource=new n.xQ,this.onRingerStatusChangeSource=new n.xQ,this.actionNameSource=new s.X(void 0),this.selectedItemCount=0,this.pageIsExcluded=!1,this.isEditedSource=new s.X(!1),this.updateSelectedEditItemsCountSource=new s.X(0),this.isDataAvailableSource=new s.X(!0),this.isSearchShownSource=new s.X(!0),this.ngUnsubscribe=new n.xQ,this.doNotDisturb=u.V.doNotDisturb,this.ringerActive=u.V.ringerActive,this.isAudioSettingsDialogOpen=!1,this.filterTypeSource=new n.xQ,this.deleteButtonClickedSource=new n.xQ,this.deleteAllButtonClickedSource=new n.xQ,this.filterType$=this.filterTypeSource.asObservable(),this.deleteButtonClicked$=this.deleteButtonClickedSource.asObservable(),this.deleteAllButtonClicked$=this.deleteAllButtonClickedSource.asObservable(),this.onDndStatusChange$=this.onDndStatusChangeSource.asObservable(),this.onRingerStatusChange$=this.onRingerStatusChangeSource.asObservable(),this.headerButtonClicked$=this.actionNameSource.asObservable(),this.isEditMode$=this.isEditedSource.asObservable(),this.updateSelectedEditItemsCount$=this.updateSelectedEditItemsCountSource.asObservable(),this.isDataAvailable$=this.isDataAvailableSource.asObservable(),this.isSearchShown$=this.isSearchShownSource.asObservable(),this.headerAction={actionName:r.O.CLEAR,actionComponent:r.I.CALLHISTORY},this.router.events.pipe((0,a.R)(this.ngUnsubscribe)).subscribe(e=>{e instanceof l.m2&&(this.setHeaderButtonComponent(e.url),this.checkPageSearchShowing(e.url))}),this.getUser()}isDndActive(){return this.doNotDisturb}isRingerActive(){return this.ringerActive}handover(){this.callTrackerService.makeCall("*8")}toggleDnd(){this.doNotDisturb=!this.doNotDisturb,this.sipService.toggleDoNotDisturbMode(this.doNotDisturb),u.V.doNotDisturb=this.doNotDisturb,this.onDndStatusChangeSource.next(this.doNotDisturb),this.snackBarService.openInfo(this.doNotDisturb?"do_not_disturb.on_label":"do_not_disturb.off_label")}toggleRinger(){this.ringerActive=!this.ringerActive,u.V.ringerActive=this.ringerActive,this.onRingerStatusChangeSource.next(this.ringerActive),this.snackBarService.openInfo(this.ringerActive?"ringer_on":"ringer_off")}openDeviceSettingsDialog(e){this.isAudioSettingsDialogOpen||(this.isAudioSettingsDialogOpen=!0,this.openDeviceSettingsService.open({isWelcomeDialog:e,userExtension:this.userInfo.activePhoneExtension.extensionNumber}).afterClosed().subscribe(()=>{this.isAudioSettingsDialogOpen=!1}))}emitFilterType(e){this.filterTypeSource.next(e)}clearFilterType(){this.filterTypeSource.next(h.J.ALL)}toggleEditMode(e){this.selectedItemCount=0,this.updateSelectedEditItemsCountSource.next(this.selectedItemCount),this.isEditedSource.next(e),this.setSearchShow(!e),e?this.headerAction.actionName=r.O.TOGGLE_EDIT:this.headerAction.actionName===r.O.DELETE_ALL&&(this.headerAction.actionName=r.O.SEARCHING),this.actionNameSource.next(this.headerAction)}deactivateEditMode(){this.toggleEditMode(!1)}setSearchShow(e){this.pageIsExcluded&&(e=!1),this.isSearchShownSource.next(e)}checkPageSearchShowing(e){this.pageIsExcluded=o.E.some(t=>e.includes(t)),this.setSearchShow(!this.pageIsExcluded)}setSelectedEditItemsCount(e){this.selectedItemCount=e?this.selectedItemCount+1:this.selectedItemCount-1,this.updateSelectedEditItemsCountSource.next(this.selectedItemCount)}setActionComponentType(e,t=r.O.CLEAR){this.headerAction.actionComponent=e,this.headerAction.actionName=t,this.actionNameSource.next(this.headerAction)}setFilterActionComponent(e){this.headerAction=e,this.actionNameSource.next(this.headerAction)}cancel(){this.headerAction.actionName=r.O.CANCEL,this.actionNameSource.next(this.headerAction)}clearSearch(){this.headerAction.actionName=r.O.CLEAR_SEARCH,this.actionNameSource.next(this.headerAction)}batchDelete(){this.deleteButtonClickedSource.next(),this.headerAction.actionName=r.O.DELETE,this.actionNameSource.next(this.headerAction)}addNewItem(){this.headerAction.actionFilterType=void 0,this.headerAction.actionName=r.O.ADD,this.actionNameSource.next(this.headerAction)}deleteAll(){this.deleteAllButtonClickedSource.next(),this.headerAction.actionName=r.O.DELETE_ALL,this.actionNameSource.next(this.headerAction)}resetActionToInitialState(){this.headerAction={actionName:r.O.CLEAR,actionComponent:r.I.CALLHISTORY},this.actionNameSource.next(void 0)}setIsDataAvailableState(e){this.isDataAvailableSource.next(e)}setHeaderButtonComponent(t){const i=e.getComponentType(t);this.setFilterActionComponent({actionFilterType:void 0,actionName:r.O.SEARCHING,actionComponent:i})}getUser(){this.userService.userInfo$.pipe((0,c.h)(e=>!!e)).subscribe(e=>{this.userInfo=e})}static getComponentType(e){switch(e){case"/main/conference":return r.I.CONFERENCE;case"/main/history/voicemail":return r.I.VOICEMAIL;case"/main/telephone":case"/main":case"/":return r.I.TELEPHONE;case"/main/fax":case"/main/fax/history":return r.I.FAX;case"/main/contacts":return r.I.CONTACT;case"/main/meetings":return r.I.MEETING;default:return}}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(l.F0),d.LFG(p.k),d.LFG(f.y),d.LFG(m.c),d.LFG(g.K),d.LFG(_.I))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},34899:function(e,t,i){"use strict";i.d(t,{a:function(){return l}});var n=i(37716),s=i(38583),r=i(29790);function o(e,t){if(1&e&&(n.ynx(0),n._uU(1),n.ALo(2,"translate"),n.BQk()),2&e){const e=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,e.translationKey,e.productCodeTranslationKeyParams)," ")}}function a(e,t){if(1&e&&n._uU(0),2&e){const e=n.oxw();n.hij(" ",e.untranslatedTitle," ")}}const c=["*"];let l=(()=>{class e{constructor(){this.sticky=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["headline"]],inputs:{translationKey:"translationKey",productCodeTranslationKeyParams:"productCodeTranslationKeyParams",untranslatedTitle:"untranslatedTitle",sticky:"sticky"},ngContentSelectors:c,decls:6,vars:4,consts:[[1,"headline"],[1,"headline__title"],[4,"ngIf","ngIfElse"],["untranslated",""]],template:function(e,t){if(1&e&&(n.F$t(),n.TgZ(0,"div",0),n.TgZ(1,"span",1),n.YNc(2,o,3,4,"ng-container",2),n.YNc(3,a,1,1,"ng-template",null,3,n.W1O),n.qZA(),n.Hsn(5),n.qZA()),2&e){const e=n.MAs(4);n.ekj("headline--sticky",t.sticky),n.xp6(2),n.Q6J("ngIf",t.translationKey)("ngIfElse",e)}},directives:[s.O5],pipes:[r.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.headline[_ngcontent-%COMP%]{align-items:center;display:flex;height:6.4rem;margin:0}.headline.headline--sticky[_ngcontent-%COMP%]{background-color:#fff;justify-content:space-between;margin-right:.5rem;position:-webkit-sticky;position:sticky;top:0;z-index:1}.headline__title[_ngcontent-%COMP%]{font-size:2.6rem;padding:.5rem 2rem}"]}),e})()},63743:function(e,t,i){"use strict";i.d(t,{B:function(){return p}});var n=i(79765),s=i(46782),r=i(37716),o=i(19388),a=i(92937),c=i(80173),l=i(38583);const u=["hoverboxEl"];function h(e,t){if(1&e&&(r.TgZ(0,"div",1,2),r.TgZ(2,"p",3),r.Hsn(3),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.Udp("left",e.positionCoords.x,"px")("top",e.positionCoords.y,"px")}}const d=["*"];let p=(()=>{class e{constructor(e,t,i){this.hoverboxService=e,this.tokenService=t,this.userHelpModesService=i,this.ngUnsubscribe=new n.xQ,this.showAlways=!1,this.hoverBoxEnabled=!0,this.xCorrectionAmount=10,this.yCorrectionAmount=10,this.positionCoords={x:0,y:0}}onResize(e){this.windowHeight=e.target.innerHeight}ngOnInit(){this.windowHeight=window.innerHeight,this.tokenService.isValidToken()&&this.userHelpModesService.isHelpModeActive$.pipe((0,s.R)(this.ngUnsubscribe)).subscribe(e=>this.hoverBoxEnabled=e),this.hoverboxService.cursorPos$.pipe((0,s.R)(this.ngUnsubscribe)).subscribe(e=>{void 0===this.elementView&&(this.positionCoords={x:-9999,y:-9999},setTimeout(()=>{this.reposition(e)})),this.reposition(e)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}positionXCorrelation(e,t){return t?e-this.elementView.nativeElement.offsetWidth-this.xCorrectionAmount:e+this.xCorrectionAmount}calculateYPosition(e){const t=this.elementView.nativeElement.offsetHeight;return e+t+this.yCorrectionAmount>=this.windowHeight-20?e-t-this.yCorrectionAmount:e+this.yCorrectionAmount}reposition(e){this.elementView&&this.elementView.nativeElement.offsetWidth&&(this.positionCoords={x:this.positionXCorrelation(e.x,e.x-this.elementView.nativeElement.offsetWidth>0),y:this.calculateYPosition(e.y)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.q),r.Y36(a.B),r.Y36(c.B))},e.\u0275cmp=r.Xpm({type:e,selectors:[["hoverbox"]],viewQuery:function(e,t){if(1&e&&r.Gf(u,5),2&e){let e;r.iGM(e=r.CRH())&&(t.elementView=e.first)}},hostBindings:function(e,t){1&e&&r.NdJ("resize",function(e){return t.onResize(e)},!1,r.Jf7)},inputs:{showAlways:"showAlways"},ngContentSelectors:d,decls:1,vars:1,consts:[["class","hoverbox","data-e2e","tooltip-fragment",3,"left","top",4,"ngIf"],["data-e2e","tooltip-fragment",1,"hoverbox"],["hoverboxEl",""],["data-e2e","tooltip-fragment__tooltip-text",1,"hoverbox-text"]],template:function(e,t){1&e&&(r.F$t(),r.YNc(0,h,4,4,"div",0)),2&e&&r.Q6J("ngIf",t.hoverBoxEnabled||t.showAlways)},directives:[l.O5],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.hoverbox[_ngcontent-%COMP%]{background-color:#fff;border-radius:.3rem;box-shadow:0 .3rem .9rem #00000080;box-sizing:border-box;color:#000;display:none;left:-13.7rem;max-width:32rem;padding:1rem;position:fixed;top:3.5rem;z-index:300}.hoverbox[_ngcontent-%COMP%]   .hoverbox-text[_ngcontent-%COMP%]{color:#000;font-size:1.4rem;line-height:1.6rem;margin:0;text-align:left;white-space:normal}.hovered[_nghost-%COMP%]   .hoverbox[_ngcontent-%COMP%], .hovered   [_nghost-%COMP%]   .hoverbox[_ngcontent-%COMP%]{display:block}"]}),e})()},19388:function(e,t,i){"use strict";i.d(t,{q:function(){return r}});var n=i(26215),s=i(37716);let r=(()=>{class e{constructor(){this.cursorPos={x:0,y:0},this.cursorPos$=new n.X(this.cursorPos)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},76318:function(e,t,i){"use strict";i.d(t,{S:function(){return m}});var n=i(37716),s=i(64300),r=i(97574),o=i(90971),a=i(33935),c=i(38583),l=i(78023),u=i(56436),h=i(61627);function d(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",6),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw().updateLanguage(t)}),n._uU(1),n.ALo(2,"uppercase"),n.ALo(3,"czechTranslation"),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(1),n.hij(" ",n.lcZ(2,1,n.lcZ(3,3,e))," ")}}function p(e,t){1&e&&n._UZ(0,"app-svg-icon",7)}const f=function(e){return{"dev-tool":e}};let m=(()=>{class e{constructor(e,t,i){this.languageService=e,this.helperService=t,this.whiteLabelService=i,this.devToolAvailable=!1,this.currentLanguage=this.languageService.getCurrentLanguage(),this.languages=this.languageService.getAvailableLanguageValues(),this.isHiddenLanguageIcon=!!this.helperService.getDeepProperty(this.whiteLabelService.data,"login.isHiddenLanguageIcon")}updateLanguage(e){this.currentLanguage=e,this.languageService.updateLanguage(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.T),n.Y36(r.$),n.Y36(o.D))},e.\u0275cmp=n.Xpm({type:e,selectors:[["language-selector"]],inputs:{devToolAvailable:"devToolAvailable",e2e:"e2e"},decls:9,vars:12,consts:[[1,"user-settings__selection-menu",3,"overlapTrigger"],["languageMenu","matMenu"],["mat-menu-item","","data-e2e","auth-header-fragment__language-selector-element",3,"click",4,"ngFor","ngForOf"],["type","basic-button","data-e2e","auth-header-fragment__language-selector--button",1,"language-selector__button","exclude-app-button-style",3,"matMenuTriggerFor"],["fill","color-language","icon","world","size","small",4,"ngIf"],[1,"language-selector__text",3,"ngClass"],["mat-menu-item","","data-e2e","auth-header-fragment__language-selector-element",3,"click"],["fill","color-language","icon","world","size","small"]],template:function(e,t){if(1&e&&(n.TgZ(0,"mat-menu",0,1),n.YNc(2,d,4,5,"button",2),n.qZA(),n.TgZ(3,"app-button",3),n.YNc(4,p,1,0,"app-svg-icon",4),n.TgZ(5,"span",5),n._uU(6),n.ALo(7,"uppercase"),n.ALo(8,"czechTranslation"),n.qZA(),n.qZA()),2&e){const e=n.MAs(1);n.Q6J("overlapTrigger",!1),n.xp6(2),n.Q6J("ngForOf",t.languages),n.xp6(1),n.Q6J("matMenuTriggerFor",e),n.xp6(1),n.Q6J("ngIf",!(t.isHiddenLanguageIcon||t.devToolAvailable)),n.xp6(1),n.Q6J("ngClass",n.VKq(10,f,t.devToolAvailable)),n.xp6(1),n.hij(" ",n.lcZ(7,6,n.lcZ(8,8,t.currentLanguage))," ")}},directives:[a.VK,c.sg,l.V,a.p6,c.O5,c.mk,a.OP,u.u],pipes:[c.gd,h.o],styles:[".language-selector__text[_ngcontent-%COMP%]{line-height:normal;margin-left:.3rem}.language-selector__text.dev-tool[_ngcontent-%COMP%]{color:#000;font-size:2.2rem;padding:.8rem}.language-selector__button[_ngcontent-%COMP%]{min-width:2rem}.language-selector__button[_ngcontent-%COMP%]     .mat-button{min-width:0;min-width:initial;padding:0}.language-selector__button[_ngcontent-%COMP%]     .mat-button-wrapper{align-items:center;display:flex;justify-content:flex-end}"]}),e})()},41023:function(e,t,i){"use strict";i.d(t,{V:function(){return n}});var n=(()=>{return(e=n||(n={})).Capitalize="CAPITALIZE",e.Uppercase="UPPERCASE",e.Lowercase="LOWERCASE",n;var e})()},11845:function(e,t,i){"use strict";i.d(t,{K:function(){return a}});var n=i(41023),s=i(37716),r=i(90971),o=i(97574);let a=(()=>{class e{constructor(e,t){this.whiteLabelService=e,this.helperService=t}transform(e,t=""){const i=this.helperService.getDeepProperty(this.whiteLabelService.data,"letterCaseSettings.ignoreKeyList");if(i&&i.find(e=>e===t))return e;switch(this.helperService.getDeepProperty(this.whiteLabelService.data,"letterCaseSettings.letterCase")){case n.V.Capitalize:return(null==e?void 0:e.charAt(0).toUpperCase())+(null==e?void 0:e.substring(1).toLowerCase());case n.V.Uppercase:return null==e?void 0:e.toUpperCase();case n.V.Lowercase:return null==e?void 0:e.toLowerCase();default:return e}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.D,16),s.Y36(o.$,16))},e.\u0275pipe=s.Yjl({name:"letterCase",type:e,pure:!0}),e})()},18882:function(e,t,i){"use strict";i.d(t,{X:function(){return m}});var n=i(37716),s=i(79765),r=i(22759),o=i(20945),a=i(71289),c=i(45435),l=i(43190),u=i(88002),h=i(48386),d=i(46782),p=i(21554),f=i(67441);let m=(()=>{class e{constructor(e,t){this.matAutocomplete=e,this.matSelect=t,this.ngUnsubscribe=new s.xQ,this.listboxScrolled=new n.vpe}ngOnInit(){const e=this.matAutocomplete||this.matSelect;(this.matAutocomplete?this.matAutocomplete.opened.pipe((0,a.g)(0)):this.matSelect.openedChange.pipe((0,c.h)(e=>e))).pipe((0,l.w)(()=>(0,r.R)(e.panel.nativeElement,"scroll")),(0,u.U)(()=>e.panel.nativeElement),(0,c.h)(e=>e.scrollTop+e.clientHeight>e.scrollHeight-1),(0,h.P)(()=>(0,o.F)(100)),(0,d.R)(this.ngUnsubscribe)).subscribe(()=>{this.listboxScrolled.emit()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.XC,8),n.Y36(f.gD,8))},e.\u0275dir=n.lG2({type:e,selectors:[["mat-autocomplete","listboxScrolled",""],["mat-select","listboxScrolled",""]],outputs:{listboxScrolled:"listboxScrolled"}}),e})()},52592:function(e,t,i){"use strict";i.d(t,{O:function(){return l}});var n=i(37716),s=i(38583),r=i(44163);const o=["loading-area-indicator",""];function a(e,t){1&e&&n._UZ(0,"app-spinner")}const c=["*"];let l=(()=>{class e{constructor(){this.loadingAreaIndicatorActive=!1}get loadingAreaActiveClass(){return this.loadingAreaIndicatorActive}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["","loading-area-indicator",""]],hostVars:2,hostBindings:function(e,t){2&e&&n.ekj("loading-area-active",t.loadingAreaActiveClass)},inputs:{loadingAreaIndicatorActive:"loadingAreaIndicatorActive"},attrs:o,ngContentSelectors:c,decls:2,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(n.F$t(),n.Hsn(0),n.YNc(1,a,1,0,"app-spinner",0)),2&e&&(n.xp6(1),n.Q6J("ngIf",t.loadingAreaIndicatorActive))},directives:[s.O5,r.S],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.loading-area-active[_nghost-%COMP%]{min-height:6rem;min-width:6rem;position:relative}.loading-area-active[_nghost-%COMP%]   app-spinner[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}"]}),e})()},56869:function(e,t,i){"use strict";i.d(t,{R:function(){return f}});var n=i(37716),s=i(97574),r=i(39249),o=i(90971),a=i(38583),c=i(8307);function l(e,t){}function u(e,t){1&e&&n.YNc(0,l,0,0,"ng-template")}function h(e,t){if(1&e&&(n.TgZ(0,"a",3),n.YNc(1,u,1,0,void 0,4),n.qZA()),2&e){n.oxw(2);const e=n.MAs(2);n.xp6(1),n.Q6J("ngTemplateOutlet",e)}}function d(e,t){if(1&e&&(n.ynx(0),n.YNc(1,h,2,1,"a",2),n.BQk()),2&e){const e=n.oxw(),t=n.MAs(2);n.xp6(1),n.Q6J("ngIf",e.hasLink)("ngIfElse",t)}}function p(e,t){if(1&e&&n._UZ(0,"img",5),2&e){const e=n.oxw();n.Q6J("src",e.logoSrc,n.LSH),n.uIk("data-e2e",e.e2e+"__logo--img")}}let f=(()=>{class e{constructor(e,t,i){this.helpersService=e,this.themeService=t,this.whiteLabelService=i,this.hasLink=!0,this.logoSrc="",this.showLogo=!0}ngOnInit(){const e=this.whiteLabelService.getCustomLogo(this.location);if(this.helpersService.getDeepProperty(e,"hide"))this.showLogo=!1;else{const t=e?e.name:"logo",i=this.helpersService.getDeepProperty(e,"fileType")?e.fileType:"svg";this.logoSrc=`${this.themeService.assetPath}/logo/${t}.${i}`}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.$),n.Y36(r.f),n.Y36(o.D))},e.\u0275cmp=n.Xpm({type:e,selectors:[["logo"]],inputs:{location:"location",hasLink:"hasLink",e2e:"e2e"},decls:3,vars:1,consts:[[4,"ngIf"],["logo",""],["class","logo__link","routerLink","/auth/login",4,"ngIf","ngIfElse"],["routerLink","/auth/login",1,"logo__link"],[4,"ngTemplateOutlet"],["alt","Logo",1,"logo__image",3,"src"]],template:function(e,t){1&e&&(n.YNc(0,d,2,2,"ng-container",0),n.YNc(1,p,1,2,"ng-template",null,1,n.W1O)),2&e&&n.Q6J("ngIf",t.showLogo)},directives:[a.O5,c.yS,a.tP],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.sidenav__footer[_nghost-%COMP%]   .logo__image[_ngcontent-%COMP%]{height:inherit;min-width:12rem}[_nghost-%COMP%], .logo__link[_ngcontent-%COMP%]{display:flex;justify-content:center}.logo__link[_ngcontent-%COMP%], .logo__image[_ngcontent-%COMP%]{height:100%;max-width:100%}"]}),e})()},20626:function(e,t,i){"use strict";i.d(t,{t:function(){return r}});var n=i(37716);const s=["*"];let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["main-container"]],ngContentSelectors:s,decls:1,vars:0,template:function(e,t){1&e&&(n.F$t(),n.Hsn(0))},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{align-items:center;bottom:0;display:flex;flex-direction:column;position:absolute;top:0;transition:top .3s ease-in-out,height .3s ease-in-out;width:100%}@media screen and (max-width: 767px){[_nghost-%COMP%]{width:76.8rem}}.main-container--has-status[_nghost-%COMP%], .main-container--has-status   [_nghost-%COMP%], .main-container--has-crm-status[_nghost-%COMP%], .main-container--has-crm-status   [_nghost-%COMP%]{top:2.4rem}"]}),e})()},42070:function(e,t,i){"use strict";i.d(t,{c:function(){return c}});var n=i(37716),s=i(38583),r=i(78023);function o(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-button",2),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw().onCancelClick()}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("buttonTextTranslationKey",e.btnCancelCaption)("e2e",e.e2e?e.e2e+"__cancel":null)}}function a(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-button",3),n.NdJ("appButtonClick",function(){return n.CHM(e),n.oxw().onSaveClick()}),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("disabled",e.saveDisabled)("textColor",e.textColor)("buttonTextTranslationKey",e.btnSaveCaption)("type",e.btnType)("e2e",e.e2e?e.e2e+"__confirm":null)}}let c=(()=>{class e{constructor(){this.cancelClick=new n.vpe,this.saveClick=new n.vpe,this.cancelButtonIsHidden=!1,this.saveDisabled=!1,this.isBtnSaveHidden=!1,this.btnType="raised-button-submit",this.textColor="default-color",this.btnSaveCaption="save",this.btnCancelCaption="cancel",this.isCancelButtonVisible=!1,this.isSaveButtonVisible=!1}ngOnChanges(e){this.isCancelButtonVisible=!this.cancelButtonIsHidden&&""!==this.btnCancelCaption,this.isSaveButtonVisible=!this.isBtnSaveHidden&&""!==this.btnSaveCaption}onSaveClick(){this.saveClick.emit()}onCancelClick(){this.dialogRef?this.dialogRef.close():this.cancelClick.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["footer-actions"]],inputs:{dialogRef:"dialogRef",cancelButtonIsHidden:"cancelButtonIsHidden",saveDisabled:"saveDisabled",isBtnSaveHidden:"isBtnSaveHidden",btnType:"btnType",textColor:"textColor",btnSaveCaption:"btnSaveCaption",btnCancelCaption:"btnCancelCaption",e2e:"e2e"},outputs:{cancelClick:"cancelClick",saveClick:"saveClick"},features:[n.TTD],decls:2,vars:2,consts:[["class","footer-actions__cancel-button","color","primary","type","basic-button",3,"buttonTextTranslationKey","e2e","appButtonClick",4,"ngIf"],["class","footer-actions__save-button","color","primary",3,"disabled","textColor","buttonTextTranslationKey","type","e2e","appButtonClick",4,"ngIf"],["color","primary","type","basic-button",1,"footer-actions__cancel-button",3,"buttonTextTranslationKey","e2e","appButtonClick"],["color","primary",1,"footer-actions__save-button",3,"disabled","textColor","buttonTextTranslationKey","type","e2e","appButtonClick"]],template:function(e,t){1&e&&(n.YNc(0,o,1,2,"app-button",0),n.YNc(1,a,1,5,"app-button",1)),2&e&&(n.Q6J("ngIf",t.isCancelButtonVisible),n.xp6(1),n.Q6J("ngIf",t.isSaveButtonVisible))},directives:[s.O5,r.V],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;justify-content:flex-end;padding:.8rem}button[_ngcontent-%COMP%]{text-transform:uppercase;width:12rem}.footer-actions__save-button[_ngcontent-%COMP%]{margin-left:.8rem}"]}),e})()},89973:function(e,t,i){"use strict";i.d(t,{O:function(){return a}});var n=i(37716),s=i(38583);function r(e,t){if(1&e&&(n.TgZ(0,"header"),n.TgZ(1,"span",1),n._uU(2),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.uIk("data-e2e",e.e2e?e.e2e+"__header":null),n.xp6(1),n.uIk("data-e2e",e.e2e?e.e2e+"__title":null),n.xp6(1),n.hij(" ",e.title," ")}}const o=["*"];let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["modal-container"]],inputs:{title:"title",e2e:"e2e"},ngContentSelectors:o,decls:2,vars:1,consts:[[4,"ngIf"],[1,"modal-container__title","ellipsis"]],template:function(e,t){1&e&&(n.F$t(),n.YNc(0,r,3,3,"header",0),n.Hsn(1)),2&e&&n.Q6J("ngIf",t.title)},directives:[s.O5],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{background-color:#fff;display:block;min-width:30rem}.pickup-call-info__header[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:none}.pickup-call-info__header[_nghost-%COMP%]   .modal-container__title[_ngcontent-%COMP%]{font-size:1.8rem}header[_ngcontent-%COMP%]{align-items:center;background-color:#e5e5e5;display:flex;flex-direction:row;height:5.6rem;padding:0 2.4rem}.modal-container__title[_ngcontent-%COMP%]{font-size:2.1rem}"]}),e})()},20746:function(e,t,i){"use strict";i.d(t,{_:function(){return _}});var n=i(37716),s=i(29790),r=i(83112),o=i(526),a=i(66853),c=i(89937),l=i(38583),u=i(51095),h=i(55821),d=i(56436),p=i(63743),f=i(8307);const m=function(e){return[e]};function g(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){return n.CHM(e),n.oxw().close()}),n._UZ(1,"app-svg-icon",12),n.TgZ(2,"hoverbox"),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("routerLink",n.VKq(5,m,"/main/conference/details/"+e.serviceNumber)),n.uIk("data-e2e",e.e2e?e.e2e+"__members--button":null),n.xp6(3),n.hij(" ",n.lcZ(4,3,"conference.open_conference")," ")}}let _=(()=>{class e{constructor(e){this.translateService=e,this.presenceState="presence-state.not_available",this.clipboardTooltipText="copy_conference_info.tooltip",this.clipboardText="",this.onDeleteClick=new n.vpe,this.closeModalClick=new n.vpe}ngOnInit(){this.memberCount&&(this.presenceState="presence-state.idle"),this.prepareClipBoardText()}delete(){this.onDeleteClick.emit()}close(){this.closeModalClick.emit()}prepareClipBoardText(){const e=this.getConferenceInvitationText();this.setClipboardText(e)}getExternalNumbersList(){let e="";for(const t of this.conferenceServiceData.externalPhoneNumbers)e+="\n"+t;return e}getConferenceInvitationText(){return{invitationText:this.translateService.instant("copy_conference_info.invitation",{displayName:this.conferenceServiceData.displayName}),extensionNumber:this.conferenceServiceData.extensionNumber,internalOnly:this.translateService.instant("copy_conference_info.extension_number_internal"),userPinText:this.translateService.instant("copy_conference_info.user_pin",{userPIN:this.conferenceServiceData.userPIN})}}setClipboardText(e){this.clipboardText=e.invitationText+"\n"+e.extensionNumber+e.internalOnly+this.getExternalNumbersList()+"\n"+e.userPinText}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.sK))},e.\u0275cmp=n.Xpm({type:e,selectors:[["conference-modal-header"]],inputs:{conferenceServiceData:"conferenceServiceData",memberCount:"memberCount",e2e:"e2e",serviceNumber:"serviceNumber"},outputs:{onDeleteClick:"onDeleteClick",closeModalClick:"closeModalClick"},decls:18,vars:15,consts:[[1,"modal-header-container"],["wrapperSize","x-large"],[1,"title"],[1,"conference-modal__conference-state-container"],["entityPresenceStateType","conference",1,"conference-modal__presence-state",3,"showTextForConference","isConferenceActive"],[1,"conference-modal__conference-state-divider"],["hideIf","",1,"members"],["isStrokedButton","true",3,"tooltipText","textToCopy"],["class","add-to-group","appHoverbox","","mat-icon-button","","type","button",3,"routerLink","click",4,"ngIf"],["mat-icon-button","","appHoverbox","","type","button",3,"click"],["fill","button-color","icon","delete","size","small"],["appHoverbox","","mat-icon-button","","type","button",1,"add-to-group",3,"routerLink","click"],["fill","button-color","icon","group","size","small"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"svg-avatar",1),n.TgZ(2,"div",2),n._uU(3),n.TgZ(4,"div",3),n._UZ(5,"busy-lamp-field",4),n.TgZ(6,"span",5),n._uU(7,"\xb7"),n.qZA(),n.TgZ(8,"span",6),n._uU(9),n.ALo(10,"translate"),n.qZA(),n.qZA(),n._UZ(11,"copy-to-clipboard-button",7),n.qZA(),n.YNc(12,g,5,7,"button",8),n.TgZ(13,"button",9),n.NdJ("click",function(){return t.delete()}),n._UZ(14,"app-svg-icon",10),n.TgZ(15,"hoverbox"),n._uU(16),n.ALo(17,"translate"),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(3),n.hij(" ",null==t.conferenceServiceData?null:t.conferenceServiceData.displayName," "),n.xp6(2),n.Q6J("showTextForConference",!0)("isConferenceActive",!t.conferenceServiceData.isEmptyPin&&t.memberCount>0),n.xp6(3),n.uIk("data-e2e",t.e2e?t.e2e+"__members-count":null),n.xp6(1),n.AsE(" ",n.lcZ(10,11,"conference.conference_participants_count_label"),": ",t.conferenceServiceData.isEmptyPin?0:t.memberCount||0," "),n.xp6(2),n.Q6J("tooltipText","conference.copy_to_clip-board_invitation")("textToCopy",t.clipboardText),n.xp6(1),n.Q6J("ngIf",(null==t.conferenceServiceData?null:t.conferenceServiceData.adminPIN)||t.memberCount),n.xp6(1),n.uIk("data-e2e",t.e2e?t.e2e+"__delete--button":null),n.xp6(3),n.hij(" ",n.lcZ(17,13,"conference.unsubscribe")," "))},directives:[r.T,o.K,a.B,c.v,l.O5,u.lW,h.r,d.u,p.B,f.rH],pipes:[s.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{flex-grow:1}.modal-header-container[_ngcontent-%COMP%]{align-items:center;background-color:#e5e5e5;display:flex;flex-direction:row;height:12.4rem;justify-content:center}.title[_ngcontent-%COMP%]{flex-grow:10}.modal-header-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:1.9rem}.conference-modal__conference-state-container[_ngcontent-%COMP%]{display:flex}.conference-modal__conference-state-divider[_ngcontent-%COMP%]{color:#666;padding:0 .4rem}.members[_ngcontent-%COMP%]{color:#666;float:left}.item__status[_ngcontent-%COMP%]{background:#b5b5b5;border-radius:50%;display:inline-block;height:.8rem;margin-right:1rem;position:relative;top:-.2rem;width:.8rem}.item__status.active[_ngcontent-%COMP%]{background:#00b300}"]}),e})()},83205:function(e,t,i){"use strict";i.d(t,{j:function(){return m}});var n=i(37716),s=i(38583),r=i(83112),o=i(526),a=i(51095),c=i(56436),l=i(29790);function u(e,t){if(1&e&&(n.TgZ(0,"div",3),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.hij(" ",n.lcZ(2,1,e.modalTitle)," ")}}function h(e,t){if(1&e&&n._UZ(0,"svg-avatar",6),2&e){const e=n.oxw();n.Q6J("displayName",null==e.item?null:e.item.display_name)}}function d(e,t){if(1&e&&n._UZ(0,"busy-lamp-field",7),2&e){const e=n.oxw();n.Q6J("entityPresenceStateType","icon")("extension",e.item.extension||e.item.display_num)("showTextAndIcon",!0)}}function p(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){return n.CHM(e),n.oxw().edit()}),n._UZ(1,"app-svg-icon",9),n.qZA()}if(2&e){const e=n.oxw();n.uIk("data-e2e",e.e2e?e.e2e+"__edit--button":null),n.xp6(1),n.Q6J("icon",e.editIconName)}}function f(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){return n.CHM(e),n.oxw().delete()}),n._UZ(1,"app-svg-icon",10),n.qZA()}if(2&e){const e=n.oxw();n.uIk("data-e2e",e.e2e?e.e2e+"__delete--button":null)}}let m=(()=>{class e{constructor(){this.onDeleteClick=new n.vpe,this.onEditClick=new n.vpe,this.isHiddenBtnDelete=!0,this.isHiddenBtnEdit=!0,this.isBusyLampFieldHidden=!1,this.modalTitle="",this.editIconName="edit",this.isPresenceStateVisible=!1}delete(){this.onDeleteClick.emit()}edit(){this.onEditClick.emit()}ngOnChanges(e){e.hasOwnProperty("item")&&this.checkPresenceStateVisibility()}checkPresenceStateVisibility(){var e,t;this.isPresenceStateVisible=!(!(null===(e=this.item)||void 0===e?void 0:e.extension)&&!(null===(t=this.item)||void 0===t?void 0:t.display_num)||this.isBusyLampFieldHidden)}get isModalTitleExist(){return!!this.modalTitle&&""!==this.modalTitle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["user-modal-header"]],inputs:{item:"item",isHiddenBtnDelete:"isHiddenBtnDelete",isHiddenBtnEdit:"isHiddenBtnEdit",isBusyLampFieldHidden:"isBusyLampFieldHidden",modalTitle:"modalTitle",editIconName:"editIconName",e2e:"e2e"},outputs:{onDeleteClick:"onDeleteClick",onEditClick:"onEditClick"},features:[n.TTD],decls:8,vars:8,consts:[[1,"user-modal-header__container",3,"ngClass"],["class","user-modal-header__title",4,"ngIf"],["bgColor","user-modal-header__avatar","iconColor","user-modal-header__avatar","wrapperSize","x-large",3,"displayName",4,"ngIf"],[1,"user-modal-header__title"],["class","user-modal-header__presence",3,"entityPresenceStateType","extension","showTextAndIcon",4,"ngIf"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["bgColor","user-modal-header__avatar","iconColor","user-modal-header__avatar","wrapperSize","x-large",3,"displayName"],[1,"user-modal-header__presence",3,"entityPresenceStateType","extension","showTextAndIcon"],["mat-icon-button","","type","button",3,"click"],["fill","button-color","size","small",3,"icon"],["fill","button-color","icon","delete","size","small"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.YNc(1,u,3,3,"div",1),n.YNc(2,h,1,1,"svg-avatar",2),n.TgZ(3,"div",3),n._uU(4),n.YNc(5,d,1,3,"busy-lamp-field",4),n.qZA(),n.YNc(6,p,2,2,"button",5),n.YNc(7,f,2,1,"button",5),n.qZA()),2&e&&(n.Q6J("ngClass",t.isModalTitleExist?"small-mode":"large-mode"),n.xp6(1),n.Q6J("ngIf",t.isModalTitleExist),n.xp6(1),n.Q6J("ngIf",!t.modalTitle),n.xp6(1),n.uIk("data-e2e",t.e2e?t.e2e+"__title":null),n.xp6(1),n.hij(" ",(null==t.item?null:t.item.display_name)||(null==t.item?null:t.item.display_num)||(null==t.item?null:t.item.extension)," "),n.xp6(1),n.Q6J("ngIf",t.isPresenceStateVisible),n.xp6(1),n.Q6J("ngIf",!t.isHiddenBtnEdit),n.xp6(1),n.Q6J("ngIf",!t.isHiddenBtnDelete))},directives:[s.mk,s.O5,r.T,o.K,a.lW,c.u],pipes:[l.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{flex-grow:1}.user-modal-header__container[_ngcontent-%COMP%]{align-items:center;background-color:#e5e5e5;display:flex;flex-direction:row;justify-content:center}.user-modal-header__title[_ngcontent-%COMP%]{flex-grow:10;font-size:1.9rem;margin-left:1.4rem}.small-mode[_ngcontent-%COMP%]{height:5.6rem;padding:0 1.6rem}.large-mode[_ngcontent-%COMP%]{height:12.4rem}"]}),e})()},68260:function(e,t,i){"use strict";i.d(t,{i:function(){return n}});var n=(()=>{return(e=n||(n={}))[e.TRYING=100]="TRYING",e[e.RINGING=180]="RINGING",e[e.CALL_IS_BEING_FORWARDED=181]="CALL_IS_BEING_FORWARDED",e[e.QUEUED=182]="QUEUED",e[e.SESSION_PROGRESS=183]="SESSION_PROGRESS",e[e.EARLY_DIALOG_TERMINATED=199]="EARLY_DIALOG_TERMINATED",e[e.OK=200]="OK",e[e.ACCEPTED=202]="ACCEPTED",e[e.NO_NOTIFICATION=204]="NO_NOTIFICATION",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.MOVED_TEMPORARILY=302]="MOVED_TEMPORARILY",e[e.USE_PROXY=305]="USE_PROXY",e[e.ALTERNATIVE_SERVICE=380]="ALTERNATIVE_SERVICE",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.GONE=410]="GONE",e[e.CONDITIONAL_REQUEST_FAILED=412]="CONDITIONAL_REQUEST_FAILED",e[e.REQUEST_ENTITY_TOO_LARGE=413]="REQUEST_ENTITY_TOO_LARGE",e[e.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.UNSUPPORTED_URI_SCHEME=416]="UNSUPPORTED_URI_SCHEME",e[e.UNKNOWN_RESOURCE=417]="UNKNOWN_RESOURCE",e[e.BAD_EXTENSION=420]="BAD_EXTENSION",e[e.EXTENSION_REQUIRED=421]="EXTENSION_REQUIRED",e[e.SESSION_INTERVAL_TOO_SMALL=422]="SESSION_INTERVAL_TOO_SMALL",e[e.INTERVAL_TOO_BRIEF=423]="INTERVAL_TOO_BRIEF",e[e.BAD_LOCATION_INFORMATION=424]="BAD_LOCATION_INFORMATION",e[e.BAD_ALERT_MESSAGE=425]="BAD_ALERT_MESSAGE",e[e.USE_IDENTITY_HEADER=428]="USE_IDENTITY_HEADER",e[e.PROVIDE_REFERRER_IDENTITY=429]="PROVIDE_REFERRER_IDENTITY",e[e.FLOW_FAILED=430]="FLOW_FAILED",e[e.ANONYMITY_DISALLOWED=433]="ANONYMITY_DISALLOWED",e[e.BAD_IDENTITY_INFO=436]="BAD_IDENTITY_INFO",e[e.UNSUPPORTED_CREDENTIAL=437]="UNSUPPORTED_CREDENTIAL",e[e.INVALID_IDENTITY_HEADER=438]="INVALID_IDENTITY_HEADER",e[e.FIRST_HOP_LACKS_OUTBOUND_SUPPORT=439]="FIRST_HOP_LACKS_OUTBOUND_SUPPORT",e[e.MAX_BREADTH_EXCEEDED=440]="MAX_BREADTH_EXCEEDED",e[e.BAD_INFO_PACKAGE=469]="BAD_INFO_PACKAGE",e[e.CONSENT_NEEDED=470]="CONSENT_NEEDED",e[e.TEMPORARILY_UNAVAILABLE=480]="TEMPORARILY_UNAVAILABLE",e[e.CALL_TRANSACTION_DOES_NOT_EXIST=481]="CALL_TRANSACTION_DOES_NOT_EXIST",e[e.LOOP_DETECTED=482]="LOOP_DETECTED",e[e.TOO_MANY_HOPS=483]="TOO_MANY_HOPS",e[e.ADDRESS_INCOMPLETE=484]="ADDRESS_INCOMPLETE",e[e.AMBIGUOUS=485]="AMBIGUOUS",e[e.BUSY_HERE=486]="BUSY_HERE",e[e.REQUEST_TERMINATED=487]="REQUEST_TERMINATED",e[e.NOT_ACCEPTABLE_HERE=488]="NOT_ACCEPTABLE_HERE",e[e.BAD_EVENT=489]="BAD_EVENT",e[e.REQUEST_PENDING=491]="REQUEST_PENDING",e[e.UNDECIPHERABLE=493]="UNDECIPHERABLE",e[e.SECURITY_AGREEMENT_REQUIRED=494]="SECURITY_AGREEMENT_REQUIRED",e[e.SERVER_INTERNAL_ERROR=500]="SERVER_INTERNAL_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.SERVER_TIME_OUT=504]="SERVER_TIME_OUT",e[e.VERSION_NOT_SUPPORTED=505]="VERSION_NOT_SUPPORTED",e[e.MESSAGE_TOO_LARGE=513]="MESSAGE_TOO_LARGE",e[e.PUSH_NOTIFICATION_SERVICE_NOT_SUPPORTED=555]="PUSH_NOTIFICATION_SERVICE_NOT_SUPPORTED",e[e.PRECONDITION_FAILURE=580]="PRECONDITION_FAILURE",e[e.BUSY_EVERYWHERE=600]="BUSY_EVERYWHERE",e[e.DECLINE=603]="DECLINE",e[e.DOES_NOT_EXIST_ANYWHERE=604]="DOES_NOT_EXIST_ANYWHERE",e[e.NOT_ACCEPTABLE_2=606]="NOT_ACCEPTABLE_2",e[e.UNWANTED=607]="UNWANTED",e[e.REJECTED=608]="REJECTED",n;var e})()},37692:function(e,t,i){"use strict";i.d(t,{H:function(){return n}});class n{constructor(e=null){this.init(),null!==e?this.setAttributes(e):this.initEmpty()}setAttributes(e){}initEmpty(){}equals(e){return this===e}json(){return Object.assign({},this)}init(){}}},48431:function(e,t,i){"use strict";i.d(t,{K:function(){return r}});var n=i(41439),s=i(68939);const r=e=>t=>(0,n.P)(()=>(e(!0),t.pipe((0,s.x)(()=>e(!1)))))},32502:function(e,t,i){"use strict";i.d(t,{d:function(){return r}});var n=i(43190),s=i(88002);const r=e=>t=>t.pipe((0,n.w)(t=>e.pipe((0,s.U)(()=>t))))},92543:function(e,t,i){"use strict";i.d(t,{l:function(){return h}});var n=i(79765),s=i(46782),r=i(37716),o=i(59594),a=i(38583),c=i(87636);function l(e,t){}function u(e,t){1&e&&r.YNc(0,l,0,0,"ng-template",1),2&e&&r.Q6J("cdkPortalOutlet",t.$implicit)}let h=(()=>{class e{constructor(e){this.ngUnsubscribe=new n.xQ,this.templatePortals=[],e.onPush$.pipe((0,s.R)(this.ngUnsubscribe)).subscribe(e=>{this.templatePortals.push(e)}),e.onPop$.pipe((0,s.R)(this.ngUnsubscribe)).subscribe(()=>{this.templatePortals.pop()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.c))},e.\u0275cmp=r.Xpm({type:e,selectors:[["overlay-container"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"cdkPortalOutlet"]],template:function(e,t){1&e&&r.YNc(0,u,1,1,void 0,0),2&e&&r.Q6J("ngForOf",t.templatePortals)},directives:[a.sg,c.Pl],encapsulation:2}),e})()},61627:function(e,t,i){"use strict";i.d(t,{o:function(){return s}});var n=i(37716);let s=(()=>{class e{transform(e){return"cs"===e?"cz":e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"czechTranslation",type:e,pure:!0}),e})()},27077:function(e,t,i){"use strict";i.d(t,{i:function(){return c}});var n=i(37716),s=i(90971),r=i(97574),o=i(38583);function a(e,t){if(1&e&&(n.ynx(0),n._uU(1),n.BQk()),2&e){const e=n.oxw();n.xp6(1),n.hij(" ",e.productLogoName,"\n")}}let c=(()=>{class e{constructor(e,t){this.whiteLabelService=e,this.helperService=t,this.productLogoName=this.helperService.getDeepProperty(this.whiteLabelService.data,"login.productName")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(s.D),n.Y36(r.$))},e.\u0275cmp=n.Xpm({type:e,selectors:[["product-logo"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&n.YNc(0,a,2,1,"ng-container",0),2&e&&n.Q6J("ngIf",!!t.productLogoName)},directives:[o.O5],encapsulation:2}),e})()},58667:function(e,t,i){"use strict";i.d(t,{H:function(){return s}});var n=i(37716);let s=(()=>{class e{transform(e){let t=0;for(let i=0;i<=e.length;i++)if("("===e[i]&&":"===e[i+5]&&")"===e[i+10]){t=i;break}return t?e.substr(0,t):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"removeDeviceId",type:e,pure:!0}),e})()},96902:function(e,t,i){"use strict";i.d(t,{r:function(){return o}});var n=i(26215),s=i(37716),r=i(45832);let o=(()=>{class e{constructor(e){this.snackBarService=e,this.errorMessageSource=new n.X(void 0),this.errorMessage$=this.errorMessageSource.asObservable()}getError(e){e.status<400||this.errorMessageSource.next(401===e.status?"login.failed":"requestError")}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.c))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},97574:function(e,t,i){"use strict";i.d(t,{$:function(){return s}});var n=i(37716);let s=(()=>{class e{getDeepProperty(e,t){const i=t.split(/\.|\[/);return i.map(e=>e.indexOf("]")>-1?parseInt(e.replace("]",""),10):e),i.reduce((e,t)=>e&&"undefined"!==e[t]?e[t]:void 0,e)}static enumToArray(e){return Object.keys(e).filter(e=>isNaN(Number(e))).map(t=>e[t]).filter(e=>"number"==typeof e||"string"==typeof e)}static getArrayWithUniqueValues(e){return[...new Set(e)]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},25828:function(e,t,i){"use strict";i.d(t,{C:function(){return c}});var n=i(17564);const s={add:"icon_add_solid_black",address_book:"icon_address_book_outline_black",apps:"icon_apps_solid_black",arrow_down:"icon_arrow_down_solid_black",arrow_down_long:"icon_arrow_down_long_solid_black",arrow_dropdown:"icon_arrow_dropdown_solid_black",arrow_left:"icon_arrow_left_solid_black",arrow_right:"icon_arrow_right_solid_black",arrow_right_long:"icon_arrow_right_long_solid_black",arrow_up:"icon_arrow_up_solid_black",arrow_up_long:"icon_arrow_up_long_solid_black",attention:"icon_attention_outline_black",backspace:"icon_backspace_solid_black",backup_number:"icon_ndaks_solid_black",banned:"icon_banned_solid_black",bfl_view:"icon_bfl_outline_black",calendar_outline:"icon_calendar_outline_black",calendar_solid:"icon_calendar_solid_black",call:"icon_call_solid",call_end:"icon_call_end_solid_black",call_forwarding:"icon_call_forwarding_solid_black",call_forwarding_busy:"icon_call_forwarding_busy_solid_black",call_forwarding_no_answer:"icon_call_forwarding_no_answer_solid_black",call_forwarding_unconditional:"icon_call_forwarding_unconditional_solid_black",call_hold:"icon_call_hold_solid_black",call_incoming:"icon_call_incoming_solid_black",call_missed:"icon_call_missed_solid_black",call_modal:"icon_add_solid_black",call_outgoing:"icon_call_outgoing_solid_black",call_pull_desktop:"icon_call_pull_desktop_solid_black",call_round:"icon_call_outline_black",cdr:"icon_cdr_solid_black",checkbox_checked:"icon_checkbox_checked_solid_black",checkbox_unchecked:"icon_checkbox_unchecked_solid_black",cinema_mode_off:"icon_cinema_mode_off_solid_black",cinema_mode_on:"icon_cinema_mode_on_solid_black",clipboard:"icon_clipboard_solid_black",close:"icon_close_solid",close_round:"icon_close_round_solid_black",cloudya:"icon_cloudya_solid_black",company:"icon_company_solid_black",conference_call_outline:"icon_confernce_call_outline_black",conference_call_solid:"icon_conference_call_solid_black",conference_phone_outline:"icon_conference_phone_outline_black",conference_phone_solid:"icon_conference_phone_solid_black",contact:"icon_contact_solid_black",contact_add:"icon_contact_add_solid_black",contact_call:"icon_contact_call",crop_video_solid:"icon_crop_video_solid_black",crown:"icon_crown_solid_black",delete:"icon_delete_solid_black",dialpad:"icon_dialpad_solid",disabled:"icon_disabled_solid_black",document:"icon_document_solid_black",done:"icon_done_solid_black",download:"icon_download_solid",duplicate:"icon_duplicate_solid_black",easy_handling:"icon_easy_handling_solid_black",edit:"icon_edit_solid_black",email:"icon_email_solid_black",emergency_cross:"icon_emergency_cross_solid_white",extension:"icon_extension_solid_black",face_to_face:"icon_face_to_face_solid_black",favorite:"icon_favorite_solid_black",fax_in:"icon_fax_in_solid_black",fax_out:"icon_fax_out_solid_black",fax_outline:"icon_fax_outline_black",fax_solid:"icon_fax_solid",filter:"icon_filter_solid",fit_video_solid:"icon_fit_video_solid_black",fullscreen_off:"icon_fullscreen_off_solid_black",fullscreen_on:"icon_fullscreen_on_solid_black",function_code:"icon_function_code_solid_black",gallery:"icon_gallery_view_solid_black",group:"icon_group_solid_black",headset:"icon_headset-solid-black",inactive:"icon_inactive",info:"icon_information_outline_black",ivr:"icon_ivr_solid_black",keyboard:"icon_keyboard_solid_black",list:"icon_list_view_solid_black",lock_closed:"icon_lock_solid_black",lock_open:"icon_unlock_solid_black",logout:"icon_logout_solid_black",lower_all_hands:"icon_lower_all_hands_solid_black",lower_hand:"icon_lower_hand_solid_black",menu_horizontal:"icon_menu_horizontal_solid_black",menu_vertical:"icon_menu_vertical_solid_black",mic_all_off:"icon_mic_all_off_solid_black",mic_all_on:"icon_mic_all_on_solid_black",mic_off:"icon_mic_off_solid_black",mic_on:"icon_mic_on_solid_black",moderator:"icon_moderator_solid_black",nav:"icon_nav_solid_black",order_solid:"icon_order_solid",pause:"icon_pause_solid",pin:"icon_pin_solid_black",play:"icon_play_solid_black",queue:"icon_queues_solid_black",raise_hand:"icon_raise_hand_active_solid_black",ringing_off:"icon_ringing_off_solid_black",ringing_on:"icon_ringing_on_solid_black",screen_sharing:"icon_screen_sharing_on_solid_black",search:"icon_search_solid_black",service:"icon_service_solid_black",settings_outline:"icon_settings_outline_black",settings_solid:"icon_settings_solid",skill:"icon_skill_solid_black",speed_dial:"icon_speed_dial_solid_black",time:"icon_time_outline_black",time_solid:"icon_time_solid_black",timer:"icon_timer_solid_black",transfer:"icon_transfer_solid_black",tune:"icon_tune_solid_black",unpin:"icon_unpin_solid_black",upload_file:"icon_upload_solid_black",video_off:"icon_video_off_solid_black",video_on:"icon_video_on_solid_black",voicemail:"icon_voicemail_solid",voicemail_forward:"icon_voicemail_solid_black",voicemail_forward_solid:"icon_voicemail_forward_solid_black",volume_low:"icon_volume_low_solid_black",volume_on:"icon_volume_on_solid_black",world:"icon_world_solid_black",pickup:"icon_pickup_call_solid_black"},r={[n.B.O2Theme]:{add:"icon_add_solid_black",address_book:"icon_address_book_solid_black",call:"icon_call_solid",call_modal:"icon_call_modal_solid",contact_call:"icon_contact_call",calendar_outline:"icon_calendar_outline_black",call_forwarding:"icon_call_forwarding_solid_black",call_outgoing:"icon_call_outgoing_solid_black",call_incoming:"icon_call_incoming_solid_black",call_missed:"icon_call_missed_solid_black",call_round:"icon_call_solid",cdr:"icon_cdr_solid",close:"icon_close_solid_black",conference_call_outline:"icon_conference_call_solid",conference_call_solid:"icon_conference_call_solid_black",contact:"icon_contact_solid_black",delete:"icon_delete_solid_black",dialpad:"icon_dialpad_solid_black",download:"icon_download_solid_black",duplicate:"icon_duplicate_solid_black",edit:"icon_edit_solid_black",extension:"icon_extension_solid_black",fax_outline:"icon_fax_solid",fax_solid:"icon_fax_solid_black",filter:"icon_filter_solid",lock_closed:"icon_lock_closed_solid_black",lock_open:"icon_lock_open_solid_black",logout:"icon_logout_solid_black",mic_off:"icon_mic_off_solid_black",mic_on:"icon_mic_on_solid_black",pause:"icon_pause_solid_black",queue:"icon_queues_solid_black",settings_outline:"icon_settings_solid_black",settings_solid:"icon_settings_solid_black",time:"icon_time_solid_black",transfer:"icon_transfer_solid_black"},[n.B.TelekomTheme]:{add:"icon_add_solid_black",address_book:"icon_address_book_outline_black",arrow_right_long:"icon_arrow_right_long_solid_black",arrow_up_long:"icon_arrow_up_long_solid_black",call:"icon_call_solid",call_end:"icon_call_end_solid_black",call_forwarding:"icon_call_forwarding_solid_black",call_hold:"icon_call_hold_solid_black",call_incoming:"icon_call_incoming_solid_black",call_missed:"icon_call_missed_solid_black",call_outgoing:"icon_call_outgoing_solid_black",call_round:"icon_call_outline_black",close_round:"icon_close_round_solid_black",conference_call_outline:"icon_confernce_call_outline_black",contact:"icon_contact_solid_black",delete:"icon_delete_solid_black",disabled:"icon_disabled_solid_black",duplicate:"icon_duplicate_solid_black",edit:"icon_edit_solid_black",extension:"icon_extension_solid_black",favorite:"icon_favorite_solid_black",fax_in:"icon_fax_in_solid_black",fax_out:"icon_fax_out_solid_black",fax_outline:"icon_fax_outline_black",filter:"icon_filter_solid",group:"icon_group_solid_black",info:"icon_information_outline_black",lock_closed:"icon_lock_solid_black",lock_open:"icon_unlock_solid_black",logout:"icon_logout_solid_black",mic_off:"icon_mic_off_solid_black",mic_on:"icon_mic_on_solid_black",moderator:"icon_moderator_solid_black",nav:"icon_nav_solid_black",ringing_off:"icon_ringing_off_solid_black",ringing_on:"icon_ringing_on_solid_black",search:"icon_search_solid_black",settings_outline:"icon_settings_outline_black",time:"icon_time_outline_black",timer:"icon_timer_solid_black",tune:"icon_tune_solid_black",voicemail:"icon_voicemail_forward_solid_black",voicemail_forward_solid:"icon_voicemail_forward_solid_black",world:"icon_world_solid_black"}};var o=i(37716),a=i(39249);let c=(()=>{class e{constructor(e){this.themeService=e,this.iconList=Object.assign({},s),this.initIconList()}getThemeIcon(e){return this.iconList[e]}initIconList(){const e=this.themeService.getTheme(),t=r[e];if(t){const e=this.themeService.getThemeLabel().toLowerCase();for(const i in t)t.hasOwnProperty(i)&&(t[i]=-1===t[i].indexOf(e)?`${e}/${t[i]}`:t[i]);this.iconList=Object.assign(Object.assign({},s),t)}}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.f))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},12126:function(e,t,i){"use strict";i.d(t,{g:function(){return r}});var n=i(37716),s=i(83112);let r=(()=>{class e{constructor(){this.displayName="",this.iconName="contact",this.isInitialsHidden=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["svg-avatar-drag-target"]],inputs:{displayName:"displayName",iconName:"iconName",isInitialsHidden:"isInitialsHidden"},decls:1,vars:3,consts:[["bgColor","highlight-color","iconColor","fill-contrast",1,"call-drag-icon",3,"displayName","iconName","isInitialsHidden"]],template:function(e,t){1&e&&n._UZ(0,"svg-avatar",0),2&e&&n.Q6J("displayName",t.displayName)("iconName",t.iconName)("isInitialsHidden",t.isInitialsHidden)},directives:[s.T],styles:["[_nghost-%COMP%]{display:block;left:-10rem;position:fixed}[_nghost-%COMP%]     .svg-wrapper{margin:0}"]}),e})()},83112:function(e,t,i){"use strict";i.d(t,{T:function(){return u}});var n=i(99385),s=i(37716),r=i(38583),o=i(21289);function a(e,t){if(1&e&&s._UZ(0,"svg-wrapper",3),2&e){const e=s.oxw();s.Q6J("bgColor",e.bgColor)("buttonBorder",e.buttonBorder)("iconColor",e.iconColor)("initials",e.initials)("size",e.wrapperSize)}}function c(e,t){if(1&e&&s._UZ(0,"svg-wrapper",4),2&e){const e=s.oxw();s.Q6J("bgColor",e.bgColor)("buttonBorder",e.buttonBorder)("iconColor",e.iconColor)("iconName",e.iconName)("size",e.wrapperSize)("e2e",e.e2e+"__avatar")}}function l(e,t){if(1&e&&s._UZ(0,"svg-wrapper",5),2&e){const e=s.oxw();s.Q6J("buttonBorder",e.buttonBorder)}}let u=(()=>{class e{constructor(){this.iconColor="icon-color",this.bgColor="svg-wrapper--bg",this.iconName="contact",this.isAdmin=!1,this.wrapperSize="medium",this.buttonBorder="",this.forceShowIcon=!1,this.isInitialsHidden=!1,this.initials="",this.isIconShown=!0}ngOnChanges(){this.loadIconView()}loadIconView(){var e;this.displayName=null===(e=this.displayName)||void 0===e?void 0:e.trim(),this.initials=(0,n.Cx)(this.displayName)||"",this.isIconShown=!this.initials||""===this.initials.trim()||this.forceShowIcon||this.isInitialsHidden}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["svg-avatar"]],inputs:{displayName:"displayName",iconColor:"iconColor",bgColor:"bgColor",iconName:"iconName",isAdmin:"isAdmin",wrapperSize:"wrapperSize",buttonBorder:"buttonBorder",forceShowIcon:"forceShowIcon",isInitialsHidden:"isInitialsHidden",e2e:"e2e"},features:[s.TTD],decls:4,vars:3,consts:[["class","user-icon wrapper",3,"bgColor","buttonBorder","iconColor","initials","size",4,"ngIf","ngIfElse"],["iconShown",""],["class","admin-icon","bgColor","admin-icon--bg","iconColor","admin-icon--color","iconName","crown","size","small",3,"buttonBorder",4,"ngIf"],[1,"user-icon","wrapper",3,"bgColor","buttonBorder","iconColor","initials","size"],[1,"user-icon",3,"bgColor","buttonBorder","iconColor","iconName","size","e2e"],["bgColor","admin-icon--bg","iconColor","admin-icon--color","iconName","crown","size","small",1,"admin-icon",3,"buttonBorder"]],template:function(e,t){if(1&e&&(s.YNc(0,a,1,5,"svg-wrapper",0),s.YNc(1,c,1,6,"ng-template",null,1,s.W1O),s.YNc(3,l,1,1,"svg-wrapper",2)),2&e){const e=s.MAs(2);s.Q6J("ngIf",!t.isIconShown)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",t.isAdmin)}},directives:[r.O5,o.R],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.admin-icon[_ngcontent-%COMP%]{border-radius:50%;left:2.8rem;position:absolute;text-align:center;top:3.8rem;vertical-align:middle}"]}),e})()},56436:function(e,t,i){"use strict";i.d(t,{u:function(){return c}});var n=i(37716),s=i(25828),r=i(70850),o=i(38583);const a=function(e,t){return[e,t]};let c=(()=>{class e{constructor(e,t){this.element=e,this.iconsService=t,this.size="",this.fill="button-color"}get iconPath(){return`assets/icons/${this.iconsService.getThemeIcon(this.icon)}.svg`}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(s.C))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-svg-icon"]],inputs:{icon:"icon",size:"size",fill:"fill",e2e:"e2e"},decls:1,vars:7,consts:[[3,"ngClass","src"]],template:function(e,t){1&e&&n._UZ(0,"svg-icon",0),2&e&&(n.Q6J("ngClass",n.WLB(4,a,t.size,t.fill))("src",t.iconPath),n.uIk("data-e2e",t.e2e?t.e2e+"--svg-icon":null)("data-e2e-id",t.e2e?t.icon:null))},directives:[r.bk,o.mk],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;justify-content:center}svg-icon[_ngcontent-%COMP%]{display:inline-flex}svg-icon[_ngcontent-%COMP%]     svg{height:auto;width:100%}.white[_ngcontent-%COMP%]{fill:#fff}.green-button[_ngcontent-%COMP%]{fill:#00b300}.main-bg-color[_ngcontent-%COMP%]{fill:#999}.grey-dark-color[_ngcontent-%COMP%]{fill:#333}.grey-color[_ngcontent-%COMP%]{fill:#b5b5b5}.warn-color[_ngcontent-%COMP%]{fill:#b30000}.dark-grey-color[_ngcontent-%COMP%]{fill:#333}.mute-color[_ngcontent-%COMP%]{fill:#e6003c}.attention-color[_ngcontent-%COMP%]{fill:red}.video-off-color[_ngcontent-%COMP%]{fill:#ffffff1a}.black[_ngcontent-%COMP%]{fill:#000}.xs[_ngcontent-%COMP%]{height:1.6rem;width:1.6rem}.small[_ngcontent-%COMP%]{height:2.4rem;width:2.4rem}.medium[_ngcontent-%COMP%]{height:3.4rem;width:3.4rem}.button-size[_ngcontent-%COMP%]{height:3.4rem;margin-top:.8rem;width:3.4rem}.large[_ngcontent-%COMP%]{height:5.6rem;width:5.6rem}.x-large[_ngcontent-%COMP%]{height:9rem;width:9rem}.xx-large[_ngcontent-%COMP%]{height:7.2rem;width:7.2rem}.xxx-large[_ngcontent-%COMP%]{height:10rem;width:10rem}"]}),e})()},21289:function(e,t,i){"use strict";i.d(t,{R:function(){return u}});var n=i(37716),s=i(38583),r=i(56436);const o=function(e){return[e]};function a(e,t){if(1&e&&(n.TgZ(0,"div",3),n._uU(1),n.qZA()),2&e){const e=n.oxw();n.Q6J("ngClass",n.VKq(2,o,e.iconColor)),n.xp6(1),n.hij(" ",e.initials," ")}}function c(e,t){if(1&e&&n._UZ(0,"app-svg-icon",4),2&e){const e=n.oxw();n.Q6J("fill",e.iconColor)("icon",e.iconName)("size",e.iconSize)("e2e",e.e2e)}}const l=function(e,t,i){return[e,t,i]};let u=(()=>{class e{constructor(){this.bgColor="svg-wrapper--bg",this.buttonBorder="",this.iconColor="",this.iconSize=""}calculateClasses(){switch(this.size){case"button-size":this.iconSize=this.size;break;case"medium":this.iconSize="small";break;case"large":this.iconSize="medium";break;case"x-large":this.iconSize="large";break;case"xx-large":this.iconSize="x-large";break;case"small":this.iconSize="xs";break;default:this.size=""}return this.size}ngOnInit(){this.calculateClasses()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["svg-wrapper"]],inputs:{bgColor:"bgColor",buttonBorder:"buttonBorder",iconColor:"iconColor",iconName:"iconName",initials:"initials",size:"size",e2e:"e2e"},decls:4,vars:7,consts:[[1,"svg-wrapper",3,"ngClass"],["class","svg-wrapper__initials",3,"ngClass",4,"ngIf","ngIfElse"],["svgIcon",""],[1,"svg-wrapper__initials",3,"ngClass"],[3,"fill","icon","size","e2e"]],template:function(e,t){if(1&e&&(n.TgZ(0,"div",0),n.YNc(1,a,2,4,"div",1),n.YNc(2,c,1,4,"ng-template",null,2,n.W1O),n.qZA()),2&e){const e=n.MAs(3);n.Q6J("ngClass",n.kEZ(3,l,t.size,t.bgColor,t.buttonBorder)),n.xp6(1),n.Q6J("ngIf",t.initials)("ngIfElse",e)}},directives:[s.mk,s.O5,r.u],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.svg-wrapper[_ngcontent-%COMP%]{align-items:center;border-radius:50%;display:flex;justify-content:center;margin-left:1rem;margin-right:1rem;position:relative;z-index:0}.user-modal-header__avatar[_ngcontent-%COMP%]{font-size:3.2rem}.button-border[_ngcontent-%COMP%]{border:.1rem solid #fff}.button-size[_ngcontent-%COMP%]{height:4.8rem;margin-left:3rem;margin-right:3rem;width:4.8rem}.medium[_ngcontent-%COMP%]{height:4rem;width:4rem}.small[_ngcontent-%COMP%]{height:2.4rem;width:2.4rem}.large[_ngcontent-%COMP%]{height:5rem;width:5rem}.x-large[_ngcontent-%COMP%]{height:7.2rem;width:7.2rem}.xx-large[_ngcontent-%COMP%]{height:15rem;width:15rem}"]}),e})()},6508:function(e,t,i){"use strict";i.d(t,{_:function(){return s}});var n=i(37716);let s=(()=>{class e{transform(e){const t=0|Math.floor(e/3600);return`${t>0?this.zerofy(t)+":":""}${this.zerofy(e/60%60|0)}:${this.zerofy(e%60)}`}zerofy(e){return(e<10?"0":"")+e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"time",type:e,pure:!1}),e})()},66356:function(e,t,i){"use strict";i.d(t,{M:function(){return S}});var n=i(37716),s=i(45435),r=i(88002),o=i(46782),a=i(79765),c=i(95786),l=i(51233),u=i(98910),h=i(83112),d=i(38583),p=i(55821),f=i(21289),m=i(63743),g=i(29790);let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["coachee-info-icon"]],decls:5,vars:4,consts:[["appHoverbox",""],["bgColor","coachee-icon--bg","iconColor","coachee-icon--color","iconName","headset","size","small",1,"coachee-info-icon__wrapper"],[3,"showAlways"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"svg-wrapper",1),n.TgZ(2,"hoverbox",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.qZA()),2&e&&(n.xp6(2),n.Q6J("showAlways",!0),n.xp6(1),n.hij(" ",n.lcZ(4,2,"coachee.tooltip")," "))},directives:[p.r,f.R,m.B],pipes:[g.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.coachee-info-icon__wrapper[_ngcontent-%COMP%]{border-radius:50%;left:3.1rem;position:absolute;text-align:center;top:3.2rem;vertical-align:middle}"]}),e})();function v(e,t){1&e&&n._UZ(0,"coachee-info-icon")}function b(e,t){if(1&e&&(n.TgZ(0,"div",7),n.TgZ(1,"span",8),n._uU(2),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(e.userName)}}function y(e,t){if(1&e&&(n.TgZ(0,"div",9),n.TgZ(1,"span",10),n._uU(2),n.ALo(3,"async"),n.ALo(4,"translate"),n.ALo(5,"async"),n.qZA(),n.qZA()),2&e){const e=n.oxw();let t;n.xp6(2),n.AsE(" ",null==(t=n.lcZ(3,2,e.userInfo$))?null:t.activePhoneExtension.extensionNumber," - ",n.lcZ(4,4,n.lcZ(5,6,e.preferredDevice$))," ")}}let S=(()=>{class e{constructor(e,t){this.userService=e,this.preferredDeviceService=t,this.ngUnsubscribe=new a.xQ,this.isAdmin=!1,this.isUserSettingsShown=new n.vpe(!0),this.userName="",this.userInfo$=this.userService.userInfo$}ngOnInit(){this.initUser()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}getPreferredDevice(){this.preferredDevice$=this.preferredDeviceService.preferredDevice$.pipe((0,s.h)(e=>!!e),(0,r.U)(e=>c._.getPreferredDeviceType(e)))}initUser(){this.userService.userInfo$.pipe((0,s.h)(e=>!!e),(0,o.R)(this.ngUnsubscribe)).subscribe(e=>{this.userName=(null==e?void 0:e.user)?`${e.user.firstname} ${e.user.lastname}`:"",this.getPreferredDevice()})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.K),n.Y36(c._))},e.\u0275cmp=n.Xpm({type:e,selectors:[["user-info"]],inputs:{isAdmin:"isAdmin"},outputs:{isUserSettingsShown:"isUserSettingsShown"},decls:10,vars:10,consts:[[1,"divider--left"],["bgColor","user-info__avatar--bg-color","e2e","user-info-fragment","iconColor","user-info__avatar--color",3,"displayName"],[4,"ngIf"],[1,"user-info__container"],["class","user-info__name",4,"ngIf"],["class","user-info__device",4,"ngIf"],[1,"divider--right"],[1,"user-info__name"],["data-e2e","user-info-fragment__name"],[1,"user-info__device"],["data-e2e","user-info-fragment__device"]],template:function(e,t){if(1&e&&(n._UZ(0,"vertical-divider",0),n._UZ(1,"svg-avatar",1),n.YNc(2,v,1,0,"coachee-info-icon",2),n.ALo(3,"async"),n.TgZ(4,"div",3),n.YNc(5,b,3,1,"div",4),n.ALo(6,"async"),n.YNc(7,y,6,8,"div",5),n.ALo(8,"async"),n.qZA(),n._UZ(9,"vertical-divider",6)),2&e){let e,i,s;n.xp6(1),n.Q6J("displayName",t.userName),n.xp6(1),n.Q6J("ngIf",null==(e=n.lcZ(3,4,t.userInfo$))||null==e.activePhoneExtension?null:e.activePhoneExtension.isCoachee),n.xp6(3),n.Q6J("ngIf",null==(i=n.lcZ(6,6,t.userInfo$))?null:i.user),n.xp6(2),n.Q6J("ngIf",!t.isAdmin&&(null==(s=n.lcZ(8,8,t.userInfo$))?null:s.activePhoneExtension))}},directives:[u.y,h.T,d.O5,_],pipes:[d.Ov,g.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{align-items:center;background:transparent;cursor:pointer;display:flex;flex-wrap:nowrap;height:6.4rem;width:100%}.user-info__container[_ngcontent-%COMP%], .user-info__device[_ngcontent-%COMP%], .user-info__name[_ngcontent-%COMP%]{flex:1}.user-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;overflow-x:hidden}.user-info__name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:1.7rem}.user-info__device[_ngcontent-%COMP%]{font-size:1.4rem}"]}),e})()},1046:function(e,t,i){"use strict";i.d(t,{C:function(){return n}});class n{static autocompleteIsItemSelected(){return function(e){return e.value&&"string"==typeof e.value?{itemNotSelected:!0}:null}}}},90980:function(e,t,i){"use strict";i.d(t,{b:function(){return n}});class n{static international_e123(){return function(e){return e.value&&!e.value.match(/^\+[1-9][0-9]{1,24}$/)?{invalidPhoneNumber:!0}:null}}static isInternationalPrefix(){return function(e){var t;return(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.toString().match(/^\+[1-9][0-9]{0,24}$/))?null:{isInvalidPrefix:!0}}}static international(){return function(e){return e.value&&!n.isInternational(e.value)?{invalidPhoneNumber:!0}:null}}static isItemSelected(){return function(e){return e.value&&!e.value.hasOwnProperty("discriminator")?{invalidPhoneNumber:!0}:null}}static maxPhoneNumberLength(e){return function(t){return t.value&&t.value.toString().length>e?{phoneNumberTooLong:!0}:null}}static isInternational(e){return!(!e.match||!e.match(/^((\+|00)[123456789]{1}[0-9]+)$/))}}},39485:function(e,t,i){"use strict";i.d(t,{N:function(){return r}});var n=i(57158);const s=window.location.host,r={production:!0,SITEKEY:"FCMJ11MLOVGP9I76",minuteIntervalForUpdateCheck:180,DOMAIN:s,API_URL:`https://${s}/api`,VOICE_CONTROL_URL:`https://${s}/voice-control-api`,guestUcReg:"ucreg.cloud-cfg.com",guestUcRegPort:8080,logger:{level:n._z.OFF}}},5767:function(e,t,i){"use strict";var n=i(39075),s=i(37716),r=i(38583),o=i(46237),a=i(29790),c=i(3679),l=i(91841),u=i(8307),h=i(10857),d=i(90625),p=i(22238),f=(i(72878),i(79765)),m=i(46782),g=i(39485),_=i(17564),v=i(90971),b=i(64300),y=i(78023),S=i(53149);function C(e,t){if(1&e&&s._UZ(0,"app-link",5),2&e){const e=s.oxw();s.Q6J("link",e.privacyLink)}}let w=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.whiteLabelService=t,this.languageService=i}ngOnInit(){this.language=this.languageService.getCurrentLanguage(),this.legalLinks=this.whiteLabelService.data.legalLinks;const e=this.legalLinks.find(e=>"data_protection"===e.name);e&&(this.privacyLink=Object.assign({},e),this.privacyLink.name="Datenschutzhinweisen")}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(p.so),s.Y36(v.D),s.Y36(b.T))},e.\u0275cmp=s.Xpm({type:e,selectors:[["cookie-banner-cloudya"]],decls:8,vars:1,consts:[["mat-dialog-title","","data-e2e","cookie-banner-fragment"],["data-e2e","cookie-banner-fragment__text"],["customClass","cookie-banner__link",3,"link",4,"ngIf"],[1,"cookie-banner__actions"],["color","primary","size","button--extra-wide","buttonTextTranslationKey","Done","type","raised-button","e2e","cookie-banner-fragment__acknowledged",3,"appButtonClick"],["customClass","cookie-banner__link",3,"link"]],template:function(e,t){1&e&&(s.TgZ(0,"h2",0),s._uU(1,"Cookie Hinweis"),s.qZA(),s.TgZ(2,"mat-dialog-content",1),s._uU(3," Diese Website verwendet ausschlie\xdflich nur die technisch erforderlichen Cookies, um Ihnen den bestm\xf6glichen Service zu gew\xe4hrleisten. Weitere Informationen finden Sie in den "),s.YNc(4,C,1,1,"app-link",2),s._uU(5,".\n"),s.qZA(),s.TgZ(6,"mat-dialog-actions",3),s.TgZ(7,"app-button",4),s.NdJ("appButtonClick",function(){return t.close()}),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Q6J("ngIf",t.privacyLink))},directives:[p.uh,p.xY,r.O5,p.H8,y.V,S.J],styles:[".cookie-banner__actions[_ngcontent-%COMP%]{justify-content:flex-end}.cookie-banner__link[_ngcontent-%COMP%]{outline:none}[_nghost-%COMP%]{border-radius:0;display:block;padding:2.4rem!important}"]}),e})();var E=i(39583),T=i(92937),k=i(39249),x=i(28123),A=i(20945),I=i(81836),O=i(57158);let R=(()=>{class e{constructor(e,t){this.sipService=e,this.logger=t,this.wakeUpSubject=new f.xQ,this.wakeUp$=this.wakeUpSubject.asObservable(),this.wakeUp$.subscribe(()=>{this.reloadPage()})}initializeWakeUpDetection(){let e,t,i;this.logger.debug("Initializing machine wake-up detection."),(0,A.F)(5e3).subscribe(()=>{if(this.sipService.onGoingCall)return;const n=(new Date).getTime();n>i+1e4&&(this.logger.debug("Interval tolerance exceeded. Checking for machine wake-up."),e=new Date,this.checkForWakeUp(e,t)),i=n}),window.addEventListener("online",()=>{this.logger.debug("'online' event received. Checking for machine wake-up."),t=new Date,this.checkForWakeUp(e,t)})}checkForWakeUp(e,t){this.logger.debug("Checking for machine wake-up.",{latestIntervalToleranceExceeded:e,latestOnlineEvent:t}),this.isConsideredWakeUp(e,t)&&this.wakeUpSubject.next()}isConsideredWakeUp(e,t){return this.latestIntervalToleranceExceeded=e,this.latestOnlineEvent=t,!(!e||!t||this.sipService.onGoingCall)&&Math.abs(e.getTime()-t.getTime())<=2e4}reloadPage(){x.Q.store("latestReloadOnWakeUpInfo",{reloadAt:(new Date).toLocaleString(),IntervalToleranceExceededAt:this.latestIntervalToleranceExceeded.toLocaleString(),onlineEventAt:this.latestOnlineEvent.toLocaleString()},!1),location.reload(!0)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(I.y),s.LFG(O.Kf))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();var P=i(91856);function D(e,t){1&e&&s._UZ(0,"router-outlet",2)}function N(e,t){1&e&&s._UZ(0,"router-outlet")}let L=(()=>{class e{constructor(e,t,i,n,s,r,o,a,c,l,u){this.tokenService=e,this.dialog=t,this.languageService=i,this.router=n,this.themeService=s,this.translateService=r,this.titleService=o,this.cookieService=a,this.machineWakeUpService=c,this.routerEventService=l,this.loggerConfigService=u,this.ngUnsubscribe=new f.xQ,this.devToolAvailable=!g.N.production,this.loggerConfigService.applyLocalStorageLogLevel(),this.languageService.languageChange$.pipe((0,m.R)(this.ngUnsubscribe)).subscribe(()=>{this.setTabTitle()}),this.routerEventService.listenForRouteChanges().pipe((0,m.R)(this.ngUnsubscribe)).subscribe(e=>{this.setTabTitle(),this.routerEventService.updateRouteChangedSource(e.url)}),this.router.errorHandler=e=>{this.loggerConfigService.logMessage(E.h.ERROR,"Router error occurred:",e),this.router.navigate(["/auth"])},this.translateService.use(this.languageService.getCurrentLanguage()),this.loggerConfigService.logMessage(E.h.INFO,"Using English as fallback language."),this.translateService.setDefaultLang("en"),this.languageService.setHtmlLang()}ngOnInit(){this.tokenService.initCachedToken(),this.machineWakeUpService.initializeWakeUpDetection(),this.displayCookieBanner()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setTabTitle(){const e=this.getTitle(this.router.routerState,this.router.routerState.root).join("-");e&&""!==e.trim()&&this.translateService.get(e).pipe((0,m.R)(this.ngUnsubscribe)).subscribe(e=>{const t=this.themeService.getThemeLabel()===_.B.TelekomTheme;this.titleService.setTitle(t?e:`${this.themeService.getThemeLabel()}: ${e}`)})}displayCookieBanner(){if(this.themeService.getTheme()!==_.B.TelekomTheme||this.cookieService.get(e.cookiesAcknowledgedCookieName))return;const t=new p.vA;t.disableClose=!0,t.closeOnNavigation=!1,t.maxWidth="64rem",this.dialog.open(w,t).afterClosed().pipe((0,m.R)(this.ngUnsubscribe)).subscribe(()=>this.acknowledgeCookieBanner())}acknowledgeCookieBanner(){this.cookieService.set(e.cookiesAcknowledgedCookieName,"true",e.cookiesAcknowledgedCookieDurationInDays)}getTitle(e,t){const i=[];return t&&t.snapshot.data&&t.snapshot.data.title&&i.push(t.snapshot.data.title),e&&t&&i.push(...this.getTitle(e,e.firstChild(t))),i}}return e.cookiesAcknowledgedCookieName="cookiesAcknowledged",e.cookiesAcknowledgedCookieDurationInDays=30,e.\u0275fac=function(t){return new(t||e)(s.Y36(T.B),s.Y36(p.uw),s.Y36(b.T),s.Y36(u.F0),s.Y36(k.f),s.Y36(a.sK),s.Y36(n.Dx),s.Y36(h.CookieService),s.Y36(R),s.Y36(P.r),s.Y36(E.d))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ncontrol-app"]],decls:3,vars:2,consts:[["devToolToggle","",4,"ngIf","ngIfElse"],["noDevToolAvailable",""],["devToolToggle",""]],template:function(e,t){if(1&e&&(s.YNc(0,D,1,0,"router-outlet",0),s.YNc(1,N,1,0,"ng-template",null,1,s.W1O)),2&e){const e=s.MAs(2);s.Q6J("ngIf",t.devToolAvailable)("ngIfElse",e)}},directives:[r.O5,u.lC],encapsulation:2}),e})();var M=i(25167);let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[M.m]]}),e})();var U=i(53010),H=i(77402);function B(){const e=localStorage.getItem("CURRENT_THEME"),t=window.location.host.match(/localhost|start-test/i),i=U.y;return new Promise(n=>{const s=document.createElement("link");function r(e){s.href=`${e}.${H.V}.css`,document.body.className=e}s.rel="stylesheet",s.id="theme-stylesheet",s.type="text/css",document.head.appendChild(s),s.addEventListener("load",()=>{n()}),i.forEach(e=>{window.location.host.match(e.host)&&r(e.value)}),(t||window.e2e)&&e&&r(e.trim().replace(/"/g,"")),s.href||r("cloudya-theme")})}let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[k.f,{provide:s.ip1,useFactory:()=>B,multi:!0}],imports:[[]]}),e})(),j=(()=>{class e extends a.FX{getValue(e,t){const i=super.getValue(e,t);return""===i?void 0:i}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(e)))(i||e)}}(),e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();var G=i(35249),V=i(47203),q=i(8259),Y=i(45146),Z=i(7460),z=i(66632),K=i(85260),W=i(5882),J=i(95498),Q=i(86049);let X=(()=>{class e{constructor(e){this.crmConnectApiService=e}intercept(t,i){const n={"Content-type":"application/x-www-form-urlencoded"};return e.isRequestWithToken(t.url)&&(this.crmConnectApiService.integratorJwtToken&&(n.Token=this.crmConnectApiService.integratorJwtToken.Token),t=t.clone({setHeaders:n})),i.handle(t)}static isRequestWithToken(e){return e.includes(J.Y.apiBaseUrl)&&!e.includes(Q.h.Login)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(J.Y))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();var ee=i(66698),te=i(8225),ie=i(658),ne=i(49183),se=i(96902),re=i(27355),oe=i(7175),ae=i(75282),ce=i(43962),le=i(86752),ue=i(83017),he=i(97574),de=i(19388),pe=i(25828),fe=i(13427),me=i(91557),ge=i(28704);let _e=(()=>{class e{constructor(e){this.logger=e}handle(e){return this.logger.error("Translation missing or multiple translations provided for one key. Key:",e.key),e.key.split(".").pop()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(O.Kf))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ve=i(69317),be=i(59594),ye=i(93949),Se=i(90780),Ce=i(95786);class we{constructor(e){this.http=e}getExtensions(){return this.http.get(`${g.N.VOICE_CONTROL_URL}/extensions/`)}getExtension(e){return this.http.get(`${g.N.VOICE_CONTROL_URL}/extension/${e}`)}}var Ee=i(82676),Te=i(58667),ke=i(2562),xe=i(18185),Ae=i(14074),Ie=i(45832),Oe=i(94402);let Re=(()=>{class e{getTranslation(e){return(0,Oe.D)(i(48084)(`./${e}.json`))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Pe=i(51233),De=i(96987),Ne=i(83840),Le=i(45240),Me=i(5027),Fe=i(63265),Ue=i(28714),He=i(93855),Be=i(99316),$e=i(5304),je=i(40205),Ge=i(12286);let Ve=(()=>{class e{constructor(e,t,i){this.adminAuthService=e,this.tokenService=t,this.errorHandlingService=i,this.endpointsWithoutXNfonVersionHeader=["/meeting","conference/v2","api/callrecords/"],this.multipartFormDataEndpoints=[`${g.N.API_URL}/faxes/uploadandsend`],this.voiceMailMessagesUrl=/voicemail\/.*\/messages/,this.multipartFormDataEndpoints=[`${g.N.API_URL}/faxes/uploadandsend`]}intercept(t,i){return this.customRequest=t.clone(),this.attachContentTypeHeader(),this.attachAcceptHeader(),t.url.includes(g.N.VOICE_CONTROL_URL)||this.attachTokenHeader(),this.attachNfonHeadersToRequest(),i.handle(this.customRequest).pipe((0,$e.K)(t=>(e.invalidateExceptions.every(e=>-1===t.url.indexOf(e))&&(401===t.status&&!t.url.includes(g.N.VOICE_CONTROL_URL)&&!t.url.includes(J.Y.apiBaseUrl)&&this.tokenService.invalidateToken(),this.errorHandlingService.getError(t)),(0,je._)(t))))}attachContentTypeHeader(){var e;(null===(e=this.customRequest)||void 0===e?void 0:e.body)&&-1===this.multipartFormDataEndpoints.indexOf(this.customRequest.url)&&this.setRequestHeader("Content-Type","application/json")}attachAcceptHeader(){var e;!(null===(e=this.customRequest)||void 0===e?void 0:e.headers.has("Accept"))&&-1===this.multipartFormDataEndpoints.indexOf(this.customRequest.url)&&this.setRequestHeader("Accept","application/json")}attachTokenHeader(){var e;const t=this.tokenService.getToken()||this.adminAuthService.getToken();t&&!(null===(e=this.customRequest)||void 0===e?void 0:e.headers.has("Authorization"))&&this.setRequestHeader("Authorization",`Bearer ${t}`)}attachNfonHeadersToRequest(){var e;(null===(e=this.customRequest)||void 0===e?void 0:e.url.match(this.voiceMailMessagesUrl))||(this.setRequestHeader("X-NFON-TYPE","webapp"),this.isAllowedToSetXNfonVersionHeader(this.customRequest)&&this.setRequestHeader("X-NFON-VERSION",Ge.k.VERSION))}isAllowedToSetXNfonVersionHeader(e){return!this.endpointsWithoutXNfonVersionHeader.find(t=>e.url.includes(t))}setRequestHeader(e,t){this.customRequest&&(this.customRequest=this.customRequest.clone({headers:this.customRequest.headers.set(e,t)}))}}return e.invalidateExceptions=["/admin/switch","/user/password-reset","/settings/app","/voice-control-api/extensions","/callforwards/profiles"],e})(),qe=(()=>{class e{constructor(e,t,i){this.languageService=e,this.route=t,this.router=i}ngOnInit(){const e=this.route.snapshot.paramMap.get("language");e&&this.languageService.getAvailableLanguageValues().includes(e)&&this.languageService.updateLanguage(e),this.router.navigate(["/main"])}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(b.T),s.Y36(u.gz),s.Y36(u.F0))},e.\u0275cmp=s.Xpm({type:e,selectors:[["language-setter"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var Ye=i(32722);const Ze=u.Bz.forRoot([{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",canActivate:[Le.a],loadChildren:()=>Promise.all([i.e(82756),i.e(18041),i.e(68592),i.e(60827)]).then(i.bind(i,60827)).then(e=>e.MainModule)},{path:"admin",canActivate:[Ne.O],loadChildren:()=>Promise.all([i.e(18041),i.e(68592),i.e(3160)]).then(i.bind(i,3160)).then(e=>e.AdminModule)},{path:"auth",loadChildren:()=>Promise.all([i.e(68592),i.e(15503)]).then(i.bind(i,15503)).then(e=>e.AuthModule)},{path:":language",component:qe,pathMatch:"full"},{path:Ye.h.Guest,loadChildren:()=>Promise.all([i.e(82756),i.e(21795)]).then(i.bind(i,21795)).then(e=>e.GuestModule)},{path:"**",redirectTo:"main",pathMatch:"full"}],{relativeLinkResolution:"legacy"});var ze=i(11935),Ke=i(99445),We=i(65547),Je=i(34006),Qe=i(28859),Xe=i(87147),et=i(77001);let tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[We.i,Ke.k,Je.F,ze.F,be.c,Ie.c,Qe.l,Xe.M],imports:[[et.ZX]]}),e})();var it=i(25304),nt=i(41439),st=i(22759),rt=i(25917),ot=i(58071),at=i(18891),ct=i(98640);const lt=new at.y(ct.Z);var ut=i(66682),ht=i(88002),dt=i(45435),pt=i(43190),ft=i(94458),mt=i(15257),gt=i(68307),_t=i(71289);const vt="Service workers are disabled or not supported by this browser";class bt{constructor(e){if(this.serviceWorker=e,e){const t=(0,st.R)(e,"controllerchange").pipe((0,ht.U)(()=>e.controller)),i=(0,nt.P)(()=>(0,rt.of)(e.controller)),n=(0,ot.z)(i,t);this.worker=n.pipe((0,dt.h)(e=>!!e)),this.registration=this.worker.pipe((0,pt.w)(()=>e.getRegistration()));const s=(0,st.R)(e,"message").pipe((0,ht.U)(e=>e.data)).pipe((0,dt.h)(e=>e&&e.type)).pipe((0,ft.O)(new f.xQ));s.connect(),this.events=s}else this.worker=this.events=this.registration=(vt,(0,nt.P)(()=>(0,je._)(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(e,t){return this.worker.pipe((0,mt.q)(1),(0,gt.b)(i=>{i.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithStatus(e,t,i){const n=this.waitForStatus(i),s=this.postMessage(e,t);return Promise.all([n,s]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){return this.events.pipe((0,dt.h)(t=>t.type===e))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,mt.q)(1))}waitForStatus(e){return this.eventsOfType("STATUS").pipe((0,dt.h)(t=>t.nonce===e),(0,mt.q)(1),(0,ht.U)(e=>{if(!e.status)throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let yt=(()=>{class e{constructor(e){if(this.sw=e,this.subscriptionChanges=new f.xQ,!e.isEnabled)return this.messages=lt,this.notificationClicks=lt,void(this.subscription=lt);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ht.U)(e=>e.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ht.U)(e=>e.data)),this.pushManager=this.sw.registration.pipe((0,ht.U)(e=>e.pushManager));const t=this.pushManager.pipe((0,pt.w)(e=>e.getSubscription()));this.subscription=(0,ut.T)(t,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(vt));const t={userVisibleOnly:!0};let i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),n=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return t.applicationServerKey=n,this.pushManager.pipe((0,pt.w)(e=>e.subscribe(t)),(0,mt.q)(1)).toPromise().then(e=>(this.subscriptionChanges.next(e),e))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,mt.q)(1),(0,pt.w)(e=>{if(null===e)throw new Error("Not subscribed to push notifications.");return e.unsubscribe().then(e=>{if(!e)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(vt))}decodeBase64(e){return atob(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(bt))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),St=(()=>{class e{constructor(e){if(this.sw=e,!e.isEnabled)return this.available=lt,this.activated=lt,void(this.unrecoverable=lt);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(vt));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(vt));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(bt))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class Ct{}const wt=new s.OlP("NGSW_REGISTER_SCRIPT");function Et(e,t,i,n){return()=>{if(!(0,r.NF)(n)||!("serviceWorker"in navigator)||!1===i.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof i.registrationStrategy)o=i.registrationStrategy();else{const[t,...n]=(i.registrationStrategy||"registerWhenStable:30000").split(":");switch(t){case"registerImmediately":o=(0,rt.of)(null);break;case"registerWithDelay":o=Tt(+n[0]||0);break;case"registerWhenStable":o=n[0]?(0,ut.T)(kt(e),Tt(+n[0])):kt(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${i.registrationStrategy}`)}}e.get(s.R0b).runOutsideAngular(()=>o.pipe((0,mt.q)(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:i.scope}).catch(e=>console.error("Service worker registration failed with:",e))))}}function Tt(e){return(0,rt.of)(null).pipe((0,_t.g)(e))}function kt(e){return e.get(s.z2F).isStable.pipe((0,dt.h)(e=>e))}function xt(e,t){return new bt((0,r.NF)(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}let At=(()=>{class e{static register(t,i={}){return{ngModule:e,providers:[{provide:wt,useValue:t},{provide:Ct,useValue:i},{provide:bt,useFactory:xt,deps:[Ct,s.Lbi]},{provide:s.ip1,useFactory:Et,deps:[s.zs3,wt,Ct,s.Lbi],multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[yt,St]}),e})();const It=!g.N.production;let Ot=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e,bootstrap:[L]}),e.\u0275inj=s.cJS({providers:[Ne.O,G.Y,V.l,Y.s,Le.a,x.Q,Me.V,K.i,W.U,h.CookieService,J.Y,Fe.G,ee.a,te.I,ne.b,Ue.W,re.b,He.J,oe.e,ae.c,ce.K,le.f,ue.Y,he.$,de.q,pe.C,b.T,fe.v,R,me.J,Be.k,ge.p,ve.g,be.c,Se.z,Ce._,Te.H,ke.Y,xe.F,Ae.q,it.Q,Ie.c,a.sK,Pe.K,{provide:ie.L,useClass:ie.L,deps:[l.eN,Pe.K]},{provide:Z.q,useClass:Z.q,deps:[l.eN]},{provide:z.Z,useClass:z.Z,deps:[Y.s,q.j,Pe.K,I.y]},{provide:ye.$,useClass:ye.$,deps:[l.eN]},{provide:we,useClass:we,deps:[l.eN]},{provide:De.s,useClass:De.s,deps:[l.eN]},{provide:r.mr,useValue:"/"},{provide:r.S$,useClass:r.b0},{provide:Ee.H,useClass:Ee.H,deps:[l.eN]},{provide:p.WI,useValue:{}},{provide:l.TP,useClass:Ve,deps:[G.Y,T.B,se.r],multi:!0},{provide:l.TP,useExisting:ie.L,multi:!0},{provide:d.Xj,useClass:d.YJ},I.y,{provide:l.TP,useClass:X,multi:!0}],imports:[[Ze,o.PW,n.b2,c.u5,l.JF,It?F:[],O.f9.forRoot(g.N.logger),u.Bz,tt,M.m,$,a.aw.forRoot({parser:{provide:a.qi,useClass:j},loader:{provide:a.Zw,useClass:Re},missingTranslationHandler:{provide:a.gC,useClass:_e},useDefaultLang:!0}),At.register("ngsw-worker.js",{enabled:!0})],u.Bz,M.m,a.aw]}),e})();function Rt(){n.q6().bootstrapModule(Ot).then(()=>{!window.hasOwnProperty("development")&&navigator})}g.N.production&&(0,s.G48)(),/Edge/.test(navigator.userAgent)?function(){const e=document.createElement("script");e.type="text/javascript",e.src="https://webrtc.github.io/adapter/adapter-7.2.3.js",e.onload=()=>{Rt()},e.onerror=e=>{Rt()},document.getElementsByTagName("head")[0].appendChild(e)}():Rt()},62039:function(e,t,i){"use strict";i.r(t),i.d(t,{__extends:function(){return s},__assign:function(){return r},__rest:function(){return o},__decorate:function(){return a},__param:function(){return c},__metadata:function(){return l},__awaiter:function(){return u},__generator:function(){return h},__createBinding:function(){return d},__exportStar:function(){return p},__values:function(){return f},__read:function(){return m},__spread:function(){return g},__spreadArrays:function(){return _},__await:function(){return v},__asyncGenerator:function(){return b},__asyncDelegator:function(){return y},__asyncValues:function(){return S},__makeTemplateObject:function(){return C},__importStar:function(){return w},__importDefault:function(){return E},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return k}});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function s(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function o(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}function a(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}function c(e,t){return function(i,n){t(i,n,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())})}function h(e,t){var i,n,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(6===r[0]&&o.label<s[1]){o.label=s[1],s=r;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(r);break}s[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(a){r=[6,a],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function d(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}function p(e,t){for(var i in e)"default"!==i&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,s,r=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function _(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<i;t++)for(var r=arguments[t],o=0,a=r.length;o<a;o++,s++)n[s]=r[o];return n}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function b(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=i.apply(e,t||[]),r=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){s[e]&&(n[e]=function(t){return new Promise(function(i,n){r.push([e,t,i,n])>1||a(e,t)})})}function a(e,t){try{!function(e){e.value instanceof v?Promise.resolve(e.value.v).then(c,l):u(r[0][2],e)}(s[e](t))}catch(i){u(r[0][3],i)}}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function y(e){var t,i;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,s){t[n]=e[n]?function(t){return(i=!i)?{value:v(e[n](t)),done:"return"===n}:s?s(t):t}:s}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=f(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,s){!function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)}(n,s,(t=e[i](t)).done,t.value)})}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i}},48084:function(e,t,i){var n={"./cs.json":[58515,58515],"./de.json":[2938,2938],"./en.json":[30353,30353],"./es.json":[81015,81015],"./fr.json":[61899,61899],"./hr.json":[54887,54887],"./it.json":[90622,90622],"./nl.json":[7942,7942],"./pl.json":[82194,82194],"./ro.json":[68837,68837],"./sk.json":[45339,45339],"./sl.json":[20342,20342]};function s(e){if(!i.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],s=t[0];return i.e(t[1]).then(function(){return i.t(s,19)})}s.keys=function(){return Object.keys(n)},s.id=48084,e.exports=s},30281:function(e,t,i){"use strict";function n(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})}function s(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}function r(e,t,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i}i.d(t,{C:function(){return en},E:function(){return De},I:function(){return vi},J:function(){return at},L:function(){return Re},O:function(){return L},S:function(){return F},T:function(){return Le},W:function(){return wi},_:function(){return n},a:function(){return Ee},b:function(){return Ie},c:function(){return xe},d:function(){return V},e:function(){return Ei},f:function(){return Li},g:function(){return Oe},h:function(){return Pe},i:function(){return P},j:function(){return Ti},k:function(){return ki},l:function(){return ct},m:function(){return we},n:function(){return w},o:function(){return N},s:function(){return si},t:function(){return Ke},u:function(){return Ft},v:function(){return Ci}});var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function c(e,t){var i,n,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(6===r[0]&&o.label<s[1]){o.label=s[1],s=r;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(r);break}s[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(a){r=[6,a],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,s,r=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}return o}function h(e,t){for(var i=0,n=t.length,s=e.length;i<n;i++,s++)e[s]=t[i];return e}function d(e){return this instanceof d?(this.v=e,this):new d(e)}function p(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=i.apply(e,t||[]),r=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){s[e]&&(n[e]=function(t){return new Promise(function(i,n){r.push([e,t,i,n])>1||a(e,t)})})}function a(e,t){try{(i=s[e](t)).value instanceof d?Promise.resolve(i.value.v).then(c,l):u(r[0][2],i)}catch(n){u(r[0][3],n)}var i}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function f(e){return"function"==typeof e}function m(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var g=m(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function _(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var v=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,i,n,s;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r))try{for(var o=l(r),a=o.next();!a.done;a=o.next())a.value.remove(this)}catch(v){e={error:v}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else r.remove(this);var c=this.initialTeardown;if(f(c))try{c()}catch(v){s=v instanceof g?v.errors:[v]}var d=this._teardowns;if(d){this._teardowns=null;try{for(var p=l(d),m=p.next();!m.done;m=p.next()){var _=m.value;try{S(_)}catch(v){s=null!=s?s:[],v instanceof g?s=h(h([],u(s)),u(v.errors)):s.push(v)}}}catch(v){i={error:v}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(i)throw i.error}}}if(s)throw new g(s)}},e.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)S(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(i=this._teardowns)&&void 0!==i?i:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&_(t,e)},e.prototype.remove=function(t){var i=this._teardowns;i&&_(i,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),b=v.EMPTY;function y(e){return e instanceof v||e&&"closed"in e&&f(e.remove)&&f(e.add)&&f(e.unsubscribe)}function S(e){f(e)?e():e.unsubscribe()}function C(e){!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];setTimeout.apply(void 0,h([],u(e)))}(function(){throw e})}function w(){}var E=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,y(t)&&t.add(i)):i.destination=A,i}return a(t,e),t.create=function(e,t,i){return new T(e,t,i)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(v),T=function(e){function t(t,i,n){var s,r=e.call(this)||this;if(f(t))s=t;else if(t){var o;i=t.error,n=t.complete,o=t,s=null==(s=t.next)?void 0:s.bind(o),i=null==i?void 0:i.bind(o),n=null==n?void 0:n.bind(o)}return r.destination={next:s?k(s):w,error:k(null!=i?i:x),complete:n?k(n):w},r}return a(t,e),t}(E);function k(e,t){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{e.apply(void 0,h([],u(t)))}catch(n){C(n)}}}function x(e){throw e}var A={closed:!0,next:w,error:x,complete:w},I="function"==typeof Symbol&&Symbol.observable||"@@observable";function O(e){return e}function R(e){return 0===e.length?O:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var P=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var n,s,r=(n=e)&&n instanceof E||(s=n)&&f(s.next)&&f(s.error)&&f(s.complete)&&y(n)?e:new T(e,t,i),o=this.operator,a=this.source;return r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r)),r},e.prototype._deprecatedSyncErrorSubscribe=function(e){var t=e;t._syncErrorHack_isSubscribing=!0;var i=this.operator;if(i)e.add(i.call(e,this.source));else try{e.add(this._subscribe(e))}catch(s){t.__syncError=s}for(var n=t;n;){if("__syncError"in n)try{throw n.__syncError}finally{e.unsubscribe()}n=n.destination}t._syncErrorHack_isSubscribing=!1},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var i=this;return new(t=D(t))(function(t,n){var s;s=i.subscribe(function(t){try{e(t)}catch(i){n(i),null==s||s.unsubscribe()}},n,t)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[I]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?R(e)(this):this},e.prototype.toPromise=function(e){var t=this;return new(e=D(e))(function(e,i){var n;t.subscribe(function(e){return n=e},function(e){return i(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function D(e){var t;return null!==(t=null!=e?e:undefined)&&void 0!==t?t:Promise}function N(e){return function(t){if(f(null==(i=t)?void 0:i.lift))return t.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});var i;throw new TypeError("Unable to lift unknown Observable type")}}var L=function(e){function t(t,i,n,s,r){var o=e.call(this,t)||this;return o.onFinalize=r,o._next=i?function(e){try{i(e)}catch(n){t.error(n)}}:e.prototype._next,o._error=s?function(e){try{s(e)}catch(i){t.error(i)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return a(t,e),t.prototype.unsubscribe=function(){var t,i=this.closed;e.prototype.unsubscribe.call(this),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(E),M=m(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),F=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return a(t,e),t.prototype.lift=function(e){var t=new U(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new M},t.prototype.next=function(e){var t,i;if(this._throwIfClosed(),!this.isStopped){var n=this.observers.slice();try{for(var s=l(n),r=s.next();!r.done;r=s.next())r.value.next(e)}catch(o){t={error:o}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}}},t.prototype.error=function(e){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;for(var t=this.observers;t.length;)t.shift().error(e)}},t.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var e=this.observers;e.length;)e.shift().complete()}},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this.observers;return this.hasError||this.isStopped?b:(t.push(e),new v(function(){return _(t,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.isStopped;this.hasError?e.error(this.thrownError):t&&e.complete()},t.prototype.asObservable=function(){var e=new P;return e.source=this,e},t.create=function(e,t){return new U(e,t)},t}(P),U=function(e){function t(t,i){var n=e.call(this)||this;return n.destination=t,n.source=i,n}return a(t,e),t.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},t.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:b},t}(F),H=function(e){function t(t){var i=e.call(this)||this;return i._value=t,i}return a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var i=e.prototype._subscribe.call(this,t);return!i.closed&&t.next(this._value),i},t.prototype.getValue=function(){var e=this,t=e._value;if(e.hasError)throw e.thrownError;return this._throwIfClosed(),t},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(F),B={now:function(){return(B.delegate||Date).now()},delegate:void 0},$=function(e){function t(t,i,n){void 0===t&&(t=1/0),void 0===i&&(i=1/0),void 0===n&&(n=B);var s=e.call(this)||this;return s._bufferSize=t,s._windowTime=i,s._timestampProvider=n,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=i===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,i),s}return a(t,e),t.prototype.next=function(t){var i=this,n=i._buffer,s=i._infiniteTimeWindow,r=i._timestampProvider,o=i._windowTime;i.isStopped||(n.push(t),!s&&n.push(r.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),i=this._infiniteTimeWindow,n=this._buffer.slice(),s=0;s<n.length&&!e.closed;s+=i?1:2)e.next(n[s]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,i=e._timestampProvider,n=e._buffer,s=e._infiniteTimeWindow,r=(s?1:2)*t;if(t<1/0&&r<n.length&&n.splice(0,n.length-r),!s){for(var o=i.now(),a=0,c=1;c<n.length&&n[c]<=o;c+=2)a=c;a&&n.splice(0,a+1)}},t}(F),j=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.scheduler=t,n.work=i,n.pending=!1,n}return a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return setInterval.apply(void 0,h([],u(e)))}(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;!function(e){clearInterval(e)}(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var i,n=!1;try{this.work(e)}catch(s){n=!0,i=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,n=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,_(n,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(function(e){function t(t,i){return e.call(this)||this}return a(t,e),t.prototype.schedule=function(e,t){return this},t}(v)),G=function(){function e(t,i){void 0===i&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},e.now=B.now,e}(),V=new(function(e){function t(t,i){void 0===i&&(i=G.now);var n=e.call(this,t,i)||this;return n.actions=[],n._active=!1,n._scheduled=void 0,n}return a(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}},t}(G))(j),q=V,Y=new P(function(e){return e.complete()});function Z(e,t){return new P(function(i){var n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})})}var z=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function K(e){return f(null==e?void 0:e.then)}var W="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function J(e,t,i,n){void 0===n&&(n=0);var s=t.schedule(function(){try{i.call(this)}catch(t){e.error(t)}},n);return e.add(s),s}function Q(e,t){if(!e)throw new Error("Iterable cannot be null");return new P(function(i){var n=new v;return n.add(t.schedule(function(){var s=e[Symbol.asyncIterator]();n.add(t.schedule(function(){var e=this;s.next().then(function(t){t.done?i.complete():(i.next(t.value),e.schedule())})}))})),n})}function X(e){return f(e[I])}function ee(e){return f(null==e?void 0:e[W])}function te(e){return Symbol.asyncIterator&&f(null==e?void 0:e[Symbol.asyncIterator])}function ie(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ne(e){return p(this,arguments,function(){var t,i,n;return c(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,d(t.read())];case 3:return i=s.sent(),n=i.value,i.done?[4,d(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,d(n)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function se(e){return f(null==e?void 0:e.getReader)}function re(e,t){return t?function(e,t){if(null!=e){if(X(e))return i=e,n=t,new P(function(e){var t=new v;return t.add(n.schedule(function(){var s=i[I]();t.add(s.subscribe({next:function(i){t.add(n.schedule(function(){return e.next(i)}))},error:function(i){t.add(n.schedule(function(){return e.error(i)}))},complete:function(){t.add(n.schedule(function(){return e.complete()}))}}))})),t});if(z(e))return Z(e,t);if(K(e))return function(e,t){return new P(function(i){return t.schedule(function(){return e.then(function(e){i.add(t.schedule(function(){i.next(e),i.add(t.schedule(function(){return i.complete()}))}))},function(e){i.add(t.schedule(function(){return i.error(e)}))})})})}(e,t);if(te(e))return Q(e,t);if(ee(e))return function(e,t){return new P(function(i){var n;return i.add(t.schedule(function(){n=e[W](),J(i,t,function(){var e=n.next(),t=e.value;e.done?i.complete():(i.next(t),this.schedule())})})),function(){return f(null==n?void 0:n.return)&&n.return()}})}(e,t);if(se(e))return function(e,t){return Q(ne(e),t)}(e,t)}var i,n;throw ie(e)}(e,t):oe(e)}function oe(e){if(e instanceof P)return e;if(null!=e){if(X(e))return n=e,new P(function(e){var t=n[I]();if(f(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(z(e))return ae(e);if(K(e))return i=e,new P(function(e){i.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,C)});if(te(e))return ce(e);if(ee(e))return t=e,new P(function(e){var i,n;try{for(var s=l(t),r=s.next();!r.done;r=s.next())if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}e.complete()});if(se(e))return ce(ne(e))}var t,i,n;throw ie(e)}function ae(e){return new P(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}function ce(e){return new P(function(t){(function(e,t){var i,n,s,r;return function(e,t,i,n){return new(i||(i=Promise))(function(t,s){function r(e){try{a(n.next(e))}catch(t){s(t)}}function o(e){try{a(n.throw(e))}catch(t){s(t)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i(function(e){e(n)})).then(r,o)}a((n=n.apply(e,[])).next())})}(this,0,void 0,function(){var o;return c(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),i=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=l(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,s){var r,o,a;r=n,o=s,a=(t=e[i](t)).done,Promise.resolve(t.value).then(function(e){r({value:e,done:a})},o)})}}}(e),a.label=1;case 1:return[4,i.next()];case 2:if((n=a.sent()).done)return[3,4];if(t.next(n.value),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=a.sent(),s={error:o},[3,11];case 6:return a.trys.push([6,,9,10]),n&&!n.done&&(r=i.return)?[4,r.call(i)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function le(e,t){return t?Z(e,t):ae(e)}function ue(e){return e&&f(e.schedule)}function he(e){return e[e.length-1]}function de(e){return f(he(e))?e.pop():void 0}function pe(e){return ue(he(e))?e.pop():void 0}function fe(e,t){return"number"==typeof he(e)?e.pop():t}function me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=pe(e);return i?Z(e,i):le(e)}function ge(e,t){var i=f(e)?e:function(){return e},n=function(e){return e.error(i())};return new P(t?function(e){return t.schedule(n,0,e)}:n)}var _e=m(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function ve(e,t){var i="object"==typeof t;return new Promise(function(n,s){var r=new T({next:function(e){n(e),r.unsubscribe()},error:s,complete:function(){i?n(t.defaultValue):s(new _e)}});e.subscribe(r)})}function be(e){return e instanceof Date&&!isNaN(e)}var ye=m(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function Se(e,t){var i=be(e)?{first:e}:"number"==typeof e?{each:e}:e,n=i.first,s=i.each,r=i.with,o=void 0===r?Ce:r,a=i.scheduler,c=void 0===a?null!=t?t:V:a,l=i.meta,u=void 0===l?null:l;if(null==n&&null==s)throw new TypeError("No timeout provided.");return N(function(e,t){var i,r,a=null,l=0,h=function(e){r=J(t,c,function(){i.unsubscribe(),oe(o({meta:u,lastValue:a,seen:l})).subscribe(t)},e)};i=e.subscribe(new L(t,function(e){null==r||r.unsubscribe(),l++,t.next(a=e),s>0&&h(s)},void 0,void 0,function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),a=null})),h(null!=n?"number"==typeof n?n:+n-c.now():s)})}function Ce(e){throw new ye(e)}function we(e,t){return N(function(i,n){var s=0;i.subscribe(new L(n,function(i){n.next(e.call(t,i,s++))}))})}function Ee(e,t,i){return void 0===i&&(i=1/0),f(t)?Ee(function(i,n){return we(function(e,s){return t(i,e,n,s)})(oe(e(i,n)))},i):("number"==typeof t&&(i=t),N(function(t,n){return r=e,o=i,a=[],c=0,l=0,u=!1,h=function(){!u||a.length||c||s.complete()},d=function(e){return c<o?p(e):a.push(e)},p=function(e){c++;var t=!1;oe(r(e,l++)).subscribe(new L(s,function(e){s.next(e)},function(){t=!0},void 0,function(){if(t)try{for(c--;a.length&&c<o;)void 0,e=a.shift(),p(e);h()}catch(e){s.error(e)}var e}))},t.subscribe(new L(s=n,d,function(){u=!0,h()})),function(){};var s,r,o,a,c,l,u,h,d,p}))}function Te(e){return void 0===e&&(e=1/0),Ee(O,e)}function ke(){return Te(1)}function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ke()(le(e,pe(e)))}function Ae(e){return new P(function(t){oe(e()).subscribe(t)})}function Ie(e,t,i){void 0===e&&(e=0),void 0===i&&(i=q);var n=-1;return null!=t&&(ue(t)?i=t:n=t),new P(function(t){var s=be(e)?+e-i.now():e;s<0&&(s=0);var r=0;return i.schedule(function(){t.closed||(t.next(r++),0<=n?this.schedule(void 0,n):t.complete())},s)})}function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=pe(e),n=fe(e,1/0),s=e;return s.length?1===s.length?oe(s[0]):Te(n)(le(s,i)):Y}var Re,Pe,De,Ne,Le,Me,Fe,Ue=new P(w),He=Array.isArray;function Be(e){return 1===e.length&&He(e[0])?e[0]:e}function $e(e,t){return function(i,n){return!e.call(t,i,n)}}function je(e,t){return N(function(i,n){var s=0;i.subscribe(new L(n,function(i){return e.call(t,i,s++)&&n.next(i)}))})}function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=Be(e)).length?oe(e[0]):new P(Ve(e))}function Ve(e){return function(t){for(var i=[],n=function(n){i.push(oe(e[n]).subscribe(new L(t,function(e){if(i){for(var s=0;s<i.length;s++)s!==n&&i[s].unsubscribe();i=null}t.next(e)})))},s=0;i&&!t.closed&&s<e.length;s++)n(s)}}function qe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=de(e),n=Be(e);return n.length?new P(function(e){var t=n.map(function(){return[]}),s=n.map(function(){return!1});e.add(function(){t=s=null});for(var r=function(r){oe(n[r]).subscribe(new L(e,function(n){if(t[r].push(n),t.every(function(e){return e.length})){var o=t.map(function(e){return e.shift()});e.next(i?i.apply(void 0,h([],u(o))):o),t.some(function(e,t){return!e.length&&s[t]})&&e.complete()}},function(){s[r]=!0,!t[r].length&&e.complete()}))},o=0;!e.closed&&o<n.length;o++)r(o);return function(){t=s=null}}):Y}function Ye(e){return N(function(t,i){var n,s=null,r=!1;s=t.subscribe(new L(i,void 0,void 0,function(o){n=oe(e(o,Ye(e)(t))),s?(s.unsubscribe(),s=null,n.subscribe(i)):r=!0})),r&&(s.unsubscribe(),s=null,n.subscribe(i))})}function Ze(e,t){return f(t)?Ee(e,t,1):Ee(e,1)}function ze(e){return N(function(t,i){var n=!1;t.subscribe(new L(i,function(e){n=!0,i.next(e)},function(){n||i.next(e),i.complete()}))})}function Ke(e){return e<=0?function(){return Y}:N(function(t,i){var n=0;t.subscribe(new L(i,function(t){++n<=e&&(i.next(t),e<=n&&i.complete())}))})}function We(e){return void 0===e&&(e=Je),N(function(t,i){var n=!1;t.subscribe(new L(i,function(e){n=!0,i.next(e)},function(){return n?i.complete():i.error(e())}))})}function Je(){return new _e}function Qe(e,t){var i=arguments.length>=2;return function(n){return n.pipe(e?je(function(t,i){return e(t,i,n)}):O,Ke(1),i?ze(t):We(function(){return new _e}))}}function Xe(e){return e<=0?function(){return Y}:N(function(t,i){var n=[];t.subscribe(new L(i,function(t){n.push(t),e<n.length&&n.shift()},function(){var e,t;try{for(var s=l(n),r=s.next();!r.done;r=s.next())i.next(r.value)}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}i.complete()},void 0,function(){n=null}))})}function et(e){return N(function(t,i){var n,s,r=!1,o=function(){n=t.subscribe(new L(i,void 0,void 0,function(t){s||(s=new F,e(s).subscribe(new L(i,function(){return n?o():r=!0}))),s&&s.next(t)})),r&&(n.unsubscribe(),n=null,r=!1,o())};o()})}function tt(e){void 0===e&&(e={});var t=e.connector,i=void 0===t?function(){return new F}:t,n=e.resetOnError,s=void 0===n||n,r=e.resetOnComplete,o=void 0===r||r,a=e.resetOnRefCountZero,c=void 0===a||a;return function(e){var t=null,n=null,r=null,a=0,l=!1,u=!1,h=function(){null==n||n.unsubscribe(),n=null},d=function(){h(),t=r=null,l=u=!1},p=function(){var e=t;d(),null==e||e.unsubscribe()};return N(function(e,f){a++,u||l||h();var m=r=null!=r?r:i();f.add(function(){0!=--a||u||l||(n=it(p,c))}),m.subscribe(f),t||(t=new T({next:function(e){return m.next(e)},error:function(e){u=!0,h(),n=it(d,s,e),m.error(e)},complete:function(){l=!0,h(),n=it(d,o),m.complete()}}),re(e).subscribe(t))})(e)}}function it(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return!0===t?(e(),null):!1===t?null:t.apply(void 0,h([],u(i))).pipe(Ke(1)).subscribe(function(){return e()})}function nt(e,t,i){var n,s,r,o=!1;return e&&"object"==typeof e?(r=null!==(n=e.bufferSize)&&void 0!==n?n:1/0,t=null!==(s=e.windowTime)&&void 0!==s?s:1/0,o=!!e.refCount,i=e.scheduler):r=null!=e?e:1/0,tt({connector:function(){return new $(r,t,i)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function st(){return e=O,N(function(t,i){var n=null,s=0,r=!1,o=function(){return r&&!n&&i.complete()};t.subscribe(new L(i,function(t){null==n||n.unsubscribe();var r=s++;oe(e(t,r)).subscribe(n=new L(i,function(e){return i.next(e)},function(){n=null,o()}))},function(){r=!0,o()}))});var e}function rt(e){return N(function(t,i){oe(e).subscribe(new L(i,function(){return i.complete()},w)),!i.closed&&t.subscribe(i)})}function ot(e,t,i){var n=f(e)||t||i?{next:e,error:t,complete:i}:e;return n?N(function(e,t){e.subscribe(new L(t,function(e){var i;null===(i=n.next)||void 0===i||i.call(n,e),t.next(e)},function(){var e;null===(e=n.complete)||void 0===e||e.call(n),t.complete()},function(e){var i;null===(i=n.error)||void 0===i||i.call(n,e),t.error(e)}))}):O}class at extends Error{constructor(e,t){super(e),this.type=t,this.type=t,Object.setPrototypeOf(this,new.target.prototype)}}function ct(e,t,i=Re.ERROR,n=Pe.JS_LIB){t?null==t||t.write({level:i,layer:n,message:e}):t||i!==Re.ERROR||console.error(e)}function lt(e){return void 0!==e}(Fe=Re||(Re={})).ERROR="error",Fe.WARNING="warning",Fe.INFO="info",function(e){e.CHROME_EXTENSION="chrome-extension",e.NATIVE_CONSOLE="native-console",e.JS_LIB="js-lib"}(Pe||(Pe={})),function(e){e.SDK_USAGE_ERROR="sdk-usage-error",e.FEATURE_NOT_SUPPORTED="feature-not-supported",e.DEVICE_ERROR="device-error",e.UNEXPECTED_ERROR="unexpected-error",e.INIT_ERROR="init-error"}(De||(De={}));class ut{constructor(e,t){this.compare=t,this.remove=new F,this.itemRemoved=this.remove,this.items=new H([]),this.itemList=this.items,this.itemAdded=e.pipe(we(e=>(this.addItem(e),e)),tt()),this.itemAdded.subscribe({next:e=>{e.onDisconnect.pipe(Qe(),we(()=>this.removeItem(e.id)),je(lt)).subscribe(e=>this.remove.next(e))},error:w}),this.itemRemoved.subscribe({error:w})}getValue(){return[...this.items.getValue()]}addItem(e){if(this.items.getValue().filter(t=>t.id.equals(e.id)).length>0)throw new at("This item has already been added.",De.UNEXPECTED_ERROR);const t=this.items.getValue().concat([e]);t.sort(this.compare),this.items.next(t)}removeItem(e){const t=this.getValue(),i=t.findIndex(t=>t.id.equals(e));if(-1===i)throw new at("Item not found and therefore cannot be removed.",De.UNEXPECTED_ERROR);const n=t.splice(i,1)[0];return this.items.next(t),n}}class ht{constructor(e,t){this.sdkVersion="4.1.0",this.consoleAppVersion=e.pipe(Qe(e=>"ready"===e.event),we(e=>e.version),Se(1e3),nt(1),Ye(()=>me(null))),this.chromeExtensionVersion=e.pipe(Qe(e=>"chrome-extension-ready"===e.event),we(e=>e.version),Se(1e3),nt(1),Ye(()=>me(null))),qe(this.consoleAppVersion,this.chromeExtensionVersion).subscribe(e=>{const i=`sdkVersion: ${this.sdkVersion} | chromeHostVersion: ${e[0]}`;let n;n="undefined"!=typeof process?`${i} | nodeVersion: ${process.version} | platform: ${process.platform}`:`${i} | chromeExtensionVersion: ${e[1]} | browserUserAgent: ${window.navigator.userAgent}`,ct(n,t,Re.INFO)})}}class dt{constructor(e,t,i){this.deviceDetector=e,this.deviceAdded=this.deviceDetector.deviceObservables.itemAdded,this.deviceRemoved=this.deviceDetector.deviceObservables.itemRemoved,this.deviceList=this.deviceDetector.deviceObservables.itemList,Ne.set(this,void 0),this._transport=t,this._readyEvents=t.consoleAppEvent.pipe(je(e=>"ready"===e.event||"chrome-extension-ready"===e.event),nt(2)),this._readyEvents.subscribe(),this._config=i,this.transportContext=t.context,r(this,Ne,new ht(this._readyEvents,null==i?void 0:i.logger),"f")}getVersion(){return s(this,Ne,"f").sdkVersion}getChromehostVersion(){return ve(s(this,Ne,"f").consoleAppVersion)}getChromeExtensionVersion(){return ve(s(this,Ne,"f").chromeExtensionVersion)}}Ne=new WeakMap,function(e){e.NODE="node",e.CHROME_EXTENSION="chrome-extension",e.WEB_HID="web-hid"}(Le||(Le={})),function(e){e.CHROME_EXTENSION="chrome-extension",e.WEB_HID="web-hid",e.CHROME_EXTENSION_WITH_WEB_HID_FALLBACK="chrome-extension-with-web-hid-fallback"}(Me||(Me={}));const pt="Failed to dynamically import file. Please contact a Jabra representative as we would love to learn about scenarios where this could happen!";class ft{constructor(e,t){this.log=e.consoleAppEvent.pipe(je(e=>"log"===e.event),we(e=>({message:e.message,level:e.level,layer:e.layer}))),this.log.subscribe(e=>ct(e.message,t,e.level,e.layer))}}const mt=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];class gt{constructor(e){this.config=e,this.messageShown=!1}validateOrganizationKey(){var e;(null===(e=this.config)||void 0===e?void 0:e.partnerKey)?this.validateCrc(this.config.partnerKey)||this.logWarning("Invalid partner key."):this.logWarning("No partner key provided.")}validateAppId(){var e;(null===(e=this.config)||void 0===e?void 0:e.appId)?this.config.appId.length<3?this.logWarning("The appId should be minimum 3 characters.",!1):this.config.appId.length>100?this.logWarning("The appId should be less than 100 characters.",!1):/^[A-Za-z0-9\-_]+$/.test(this.config.appId)||this.logWarning("The appId is invalid. Should consist of letters, numbers, underscores or dashes",!1):this.logWarning("No app identifier provided.")}validateAppName(){var e;(null===(e=this.config)||void 0===e?void 0:e.appName)?/^[\x20-\x7F]*$/.test(this.config.appName)?this.config.appName.length>100?this.logWarning("The app name should be less than 100 characters.",!1):/^[\p{L}\p{N}]+[\p{L}\p{N}\u0020&-]*$/gu.test(this.config.appName)||this.logWarning("The appName is invalid. Name should consist of numbers, spaces, ampersands and dashes. Name should not begin with spaces, ampersands or dashes.",!1):this.logWarning("The app name can only contain ASCII characters",!1):this.logWarning("No app name provided. Will fallback to use appId as name.",!1)}logWarning(e,t=!0){this.messageShown||(this.messageShown=!0,console.warn(t?`\n        ${e}\n        \n        Add keys to the config object on initialization.\n        E.g. await init({\n          partnerKey: 'my-partner-key-from-developer-zone',\n          appId: 'my-self-chosen-app-id',\n          appName: 'My App Name'\n        });\n\n        Please obtain a valid partner key from https://developer.jabra.com.\n        The key will ensure interoperability with other Jabra apps and services, and mitigate\n        some co-existence issues with other softphone applications.\n\n        The package will continue to work without the keys, but we do not recommend production release\n        without it. Read more on the Developer Zone.\n      \n      `:e))}validateCrc(e){const[t,...i]=e.split("-");return t===function(e){let t,i,n=65535;for(i=0;i<e.length;i+=1){const s=e.charCodeAt(i);if(s>255)throw new RangeError;t=255&(s^n>>8),n=mt[t]^n<<8}return 65535&(0^n)}(i.join("-")).toString(16).padStart(4,"0")}}var _t,vt,bt,yt,St,Ct,wt;!function(e){e[e.MS_OC=0]="MS_OC",e[e.CISCO=1]="CISCO",e[e.AVAYA=2]="AVAYA",e[e.SIEMENS=3]="SIEMENS",e[e.ALCATEL=4]="ALCATEL",e[e.IBM=5]="IBM",e[e.AASTRA=6]="AASTRA",e[e.SKYPE=7]="SKYPE",e[e.GENERIC=8]="GENERIC",e[e.NORTEL=9]="NORTEL",e[e.JABRA=10]="JABRA",e[e.NEC=11]="NEC",e[e.SHORETEL=12]="SHORETEL",e[e.OTHER=255]="OTHER"}(_t||(_t={}));class Et{constructor(e,t){this.gnpReadCommand=e,this.serialize=t,this.command=e.command,this.subCommand=e.subCommand}deserialize(e){return this.gnpReadCommand.deserialize(e)}}(function(e){e[e.GN_PROTOCOL=65280]="GN_PROTOCOL"})(vt||(vt={})),function(e){e[e.DATA=1]="DATA"}(bt||(bt={}));class Tt{constructor(e,t,i,n,s,r=new Uint8Array,o=0){this.destination=e,this.source=t,this.type=i,this.command=n,this.subCommand=s,this.payload=r,this.sequenceNumber=o}}(function(e){e[e.PC_ADDR=0]="PC_ADDR",e[e.BASE_ADDR=1]="BASE_ADDR",e[e.HS1_ADDR=4]="HS1_ADDR",e[e.HS_BT_USB_ADDR=8]="HS_BT_USB_ADDR",e[e.HS_CRADLE_ADDR=10]="HS_CRADLE_ADDR",e[e.CRADLE_ADDR=21]="CRADLE_ADDR"})(yt||(yt={})),function(e){e[e.EVENT=0]="EVENT",e[e.READ=1]="READ",e[e.WRITE=2]="WRITE",e[e.REPLY=3]="REPLY"}(St||(St={})),function(e){e[e.IDENT=2]="IDENT",e[e.DFU=7]="DFU",e[e.DEVICE=13]="DEVICE",e[e.FWU=15]="FWU",e[e.STATUS=18]="STATUS",e[e.CONFIG=19]="CONFIG",e[e.NACK=254]="NACK",e[e.ACK=255]="ACK"}(Ct||(Ct={})),function(e){e[e.CONFIG_PREFERRED_SOFTPHONE=34]="CONFIG_PREFERRED_SOFTPHONE",e[e.ID=1]="ID",e[e.IDENT_GET_AVAILABLE_SOFTPHONES=16]="IDENT_GET_AVAILABLE_SOFTPHONES",e[e.TYPE=2]="TYPE",e[e.NAME=0]="NAME",e[e.PID=17]="PID",e[e.ATTACH_EVENT=1]="ATTACH_EVENT",e[e.DETACH_EVENT=2]="DETACH_EVENT"}(wt||(wt={}));const kt={command:Ct.DEVICE,subCommand:wt.ATTACH_EVENT,serialize:e=>Uint8Array.from([5,0])};function xt(e){const t=e.payload,i=t[0],n=t.length-1;if(n!==i)throw new at(`Invalid response. Expected length: ${i}, actual: ${n}`,De.DEVICE_ERROR);const s=t.slice(1);return String.fromCharCode(...Array.from(s))}class At{constructor(){this.command=Ct.IDENT,this.subCommand=wt.IDENT_GET_AVAILABLE_SOFTPHONES,this.deserialize=e=>{const t=e.payload,i=t[0],n=t.length-1;if(n!==i)throw new at(`Invalid response. Expected length: ${i}, actual: ${n}`,De.DEVICE_ERROR);const s=[];return t.slice(1).forEach(e=>{s.push(e)}),s}}}const It={command:Ct.IDENT,subCommand:wt.NAME,deserialize:xt},Ot={command:Ct.IDENT,subCommand:wt.PID,deserialize:function(e){return new DataView((e instanceof Tt?e.payload:e).buffer).getUint16(0,!0)}};class Rt{constructor(){this.command=Ct.CONFIG,this.subCommand=wt.CONFIG_PREFERRED_SOFTPHONE,this.deserialize=e=>e.payload[0],this.serialize=e=>Uint8Array.of(e)}}class Pt{constructor(){this.command=Ct.IDENT,this.subCommand=wt.TYPE,this.deserialize=e=>e.source}}const Dt={command:Ct.IDENT,subCommand:wt.ID,deserialize:xt};function Nt(e,t,i){return e(i={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},i.exports),i.exports}"undefined"!=typeof globalThis||"undefined"!=typeof window||"undefined"!=typeof global&&global;var Lt,Mt,Ft=Nt(function(e){e.exports=function(){var e=function(e,t,i,n,s,r){for(var o=t;o<=i;o++)s[r++]=(a=n,c=void 0,(c=e[o].toString(16)).length<2&&(c="0"+c),a&&(c=c.toUpperCase()),c);var a,c;return s},t=function(e,t,i,n,s){for(var r=t;r<=i;r+=2)n[s++]=parseInt(e.substr(r,2),16)},i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.-:+=^!/*?&<>()[]{}@%$#".split(""),n=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0],s=function(e,t){var i={ibits:8,obits:8,obigendian:!0};for(var n in t)void 0!==i[n]&&(i[n]=t[n]);for(var s,r,o,a=[],c=0,l=0,u=0,h=e.length;0===l&&(r=e.charCodeAt(c++)),s=r>>i.ibits-(l+8)&255,l=(l+8)%i.ibits,i.obigendian?0===u?o=s<<i.obits-8:o|=s<<i.obits-8-u:0===u?o=s:o|=s<<u,!(0==(u=(u+8)%i.obits)&&(a.push(o),c>=h)););return a},r=function(e,t){var i={ibits:32,ibigendian:!0};for(var n in t)void 0!==i[n]&&(i[n]=t[n]);var s="",r=4294967295;i.ibits<32&&(r=(1<<i.ibits)-1);for(var o=e.length,a=0;a<o;a++)for(var c=e[a]&r,l=0;l<i.ibits;l+=8)s+=String.fromCharCode(i.ibigendian?c>>i.ibits-8-l&255:c>>l&255);return s},o=256,a=function(e,t,i,n,s,r,o,a){return[a,o,r,s,n,i,t,e]},c=function(){return a(0,0,0,0,0,0,0,0)},l=function(e){return e.slice(0)},u=function(e){for(var t=c(),i=0;i<8;i++)t[i]=Math.floor(e%o),e/=o;return t},h=function(e){for(var t=0,i=7;i>=0;i--)t*=o,t+=e[i];return Math.floor(t)},d=function(e,t){for(var i=0,n=0;n<8;n++)i+=e[n]+t[n],e[n]=Math.floor(i%o),i=Math.floor(i/o);return i},p=function(e,t){for(var i=0,n=0;n<8;n++)i+=e[n]*t,e[n]=Math.floor(i%o),i=Math.floor(i/o);return i},f=function(e,t){for(var i=0;i<8;i++)e[i]&=t[i];return e},m=function(e,t){var i=c();if(t%8!=0)throw new Error("ui64_rorn: only bit rotations supported with a multiple of digit bits");for(var n=Math.floor(t/8),s=0;s<n;s++){for(var r=6;r>=0;r--)i[r+1]=i[r];for(i[0]=e[0],r=0;r<7;r++)e[r]=e[r+1];e[r]=0}return h(i)},g=function(e,t){if(t>64)throw new Error("ui64_ror: invalid number of bits to shift");var i,n=new Array(16);for(i=0;i<8;i++)n[i+8]=e[i],n[i]=0;var s=Math.floor(t/8),r=t%8;for(i=s;i<15;i++)n[i-s]=255&(n[i]>>>r|n[i+1]<<8-r);for(n[15-s]=n[15]>>>r&255,i=15-s+1;i<16;i++)n[i]=0;for(i=0;i<8;i++)e[i]=n[i+8];return n.slice(0,8)},_=function(e,t){for(var i=0;i<8;i++)e[i]^=t[i]},v=function(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i},b=function(e,t){return e<<t&4294967295|e>>>32-t&4294967295},y=function(e){return r(function(e,t){function i(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),s=1732584193,r=-271733879,o=-1732584194,a=271733878,c=-1009589776,l=0;l<e.length;l+=16){for(var u=s,h=r,d=o,p=a,f=c,m=0;m<80;m++){n[m]=m<16?e[l+m]:b(n[m-3]^n[m-8]^n[m-14]^n[m-16],1);var g=v(v(b(s,5),(y=r,S=o,C=a,(_=m)<20?y&S|~y&C:_<40?y^S^C:_<60?y&S|y&C|S&C:y^S^C)),v(v(c,n[m]),i(m)));c=a,a=o,o=b(r,30),r=s,s=g}s=v(s,u),r=v(r,h),o=v(o,d),a=v(a,p),c=v(c,f)}var _,y,S,C;return[s,r,o,a,c]}(s(e,{ibits:8,obits:32,obigendian:!0}),8*e.length),{ibits:32,ibigendian:!0})},S=function(e){return r(function(e,t){function i(e,t,i,n,s,r){return v(b(v(v(t,e),v(n,r)),s),i)}function n(e,t,n,s,r,o,a){return i(t&n|~t&s,e,t,r,o,a)}function s(e,t,n,s,r,o,a){return i(t&s|n&~s,e,t,r,o,a)}function r(e,t,n,s,r,o,a){return i(t^n^s,e,t,r,o,a)}function o(e,t,n,s,r,o,a){return i(n^(t|~s),e,t,r,o,a)}e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var a=1732584193,c=-271733879,l=-1732584194,u=271733878,h=0;h<e.length;h+=16){var d=a,p=c,f=l,m=u;a=n(a,c,l,u,e[h+0],7,-680876936),u=n(u,a,c,l,e[h+1],12,-389564586),l=n(l,u,a,c,e[h+2],17,606105819),c=n(c,l,u,a,e[h+3],22,-1044525330),a=n(a,c,l,u,e[h+4],7,-176418897),u=n(u,a,c,l,e[h+5],12,1200080426),l=n(l,u,a,c,e[h+6],17,-1473231341),c=n(c,l,u,a,e[h+7],22,-45705983),a=n(a,c,l,u,e[h+8],7,1770035416),u=n(u,a,c,l,e[h+9],12,-1958414417),l=n(l,u,a,c,e[h+10],17,-42063),c=n(c,l,u,a,e[h+11],22,-1990404162),a=n(a,c,l,u,e[h+12],7,1804603682),u=n(u,a,c,l,e[h+13],12,-40341101),l=n(l,u,a,c,e[h+14],17,-1502002290),a=s(a,c=n(c,l,u,a,e[h+15],22,1236535329),l,u,e[h+1],5,-165796510),u=s(u,a,c,l,e[h+6],9,-1069501632),l=s(l,u,a,c,e[h+11],14,643717713),c=s(c,l,u,a,e[h+0],20,-373897302),a=s(a,c,l,u,e[h+5],5,-701558691),u=s(u,a,c,l,e[h+10],9,38016083),l=s(l,u,a,c,e[h+15],14,-660478335),c=s(c,l,u,a,e[h+4],20,-405537848),a=s(a,c,l,u,e[h+9],5,568446438),u=s(u,a,c,l,e[h+14],9,-1019803690),l=s(l,u,a,c,e[h+3],14,-187363961),c=s(c,l,u,a,e[h+8],20,1163531501),a=s(a,c,l,u,e[h+13],5,-1444681467),u=s(u,a,c,l,e[h+2],9,-51403784),l=s(l,u,a,c,e[h+7],14,1735328473),a=r(a,c=s(c,l,u,a,e[h+12],20,-1926607734),l,u,e[h+5],4,-378558),u=r(u,a,c,l,e[h+8],11,-2022574463),l=r(l,u,a,c,e[h+11],16,1839030562),c=r(c,l,u,a,e[h+14],23,-35309556),a=r(a,c,l,u,e[h+1],4,-1530992060),u=r(u,a,c,l,e[h+4],11,1272893353),l=r(l,u,a,c,e[h+7],16,-155497632),c=r(c,l,u,a,e[h+10],23,-1094730640),a=r(a,c,l,u,e[h+13],4,681279174),u=r(u,a,c,l,e[h+0],11,-358537222),l=r(l,u,a,c,e[h+3],16,-722521979),c=r(c,l,u,a,e[h+6],23,76029189),a=r(a,c,l,u,e[h+9],4,-640364487),u=r(u,a,c,l,e[h+12],11,-421815835),l=r(l,u,a,c,e[h+15],16,530742520),a=o(a,c=r(c,l,u,a,e[h+2],23,-995338651),l,u,e[h+0],6,-198630844),u=o(u,a,c,l,e[h+7],10,1126891415),l=o(l,u,a,c,e[h+14],15,-1416354905),c=o(c,l,u,a,e[h+5],21,-57434055),a=o(a,c,l,u,e[h+12],6,1700485571),u=o(u,a,c,l,e[h+3],10,-1894986606),l=o(l,u,a,c,e[h+10],15,-1051523),c=o(c,l,u,a,e[h+1],21,-2054922799),a=o(a,c,l,u,e[h+8],6,1873313359),u=o(u,a,c,l,e[h+15],10,-30611744),l=o(l,u,a,c,e[h+6],15,-1560198380),c=o(c,l,u,a,e[h+13],21,1309151649),a=o(a,c,l,u,e[h+4],6,-145523070),u=o(u,a,c,l,e[h+11],10,-1120210379),l=o(l,u,a,c,e[h+2],15,718787259),c=o(c,l,u,a,e[h+9],21,-343485551),a=v(a,d),c=v(c,p),l=v(l,f),u=v(u,m)}return[a,c,l,u]}(s(e,{ibits:8,obits:32,obigendian:!1}),8*e.length),{ibits:32,ibigendian:!1})},C=function(e){this.mul=a(88,81,244,45,76,149,127,45),this.inc=a(20,5,123,126,247,103,129,79),this.mask=a(0,0,0,0,255,255,255,255),this.state=l(this.inc),this.next(),f(this.state,this.mask),e=u(void 0!==e?e>>>0:4294967295*Math.random()>>>0),function(e,t){for(var i=0;i<8;i++)e[i]|=t[i]}(this.state,e),this.next()};C.prototype.next=function(){var e=l(this.state);(function(e,t){var i,n,s,r=new Array(16);for(i=0;i<16;i++)r[i]=0;for(i=0;i<8;i++){for(s=0,n=0;n<8;n++)r[i+n]=(s+=e[i]*t[n]+r[i+n])%o,s/=o;for(;n<16-i;n++)r[i+n]=(s+=r[i+n])%o,s/=o}for(i=0;i<8;i++)e[i]=r[i];r.slice(8,8)})(this.state,this.mul),d(this.state,this.inc);var t=l(e);g(t,18),_(t,e),g(t,27);var i=l(e);g(i,59),f(t,this.mask);var n=h(i),s=l(t);return function(e,t){if(t>64)throw new Error("ui64_rol: invalid number of bits to shift");var i,n=new Array(16);for(i=0;i<8;i++)n[i+8]=0,n[i]=e[i];var s=Math.floor(t/8),r=t%8;for(i=7-s;i>0;i--)n[i+s]=255&(n[i]<<r|n[i-1]>>>8-r);for(n[0+s]=n[0]<<r&255,i=0+s-1;i>=0;i--)n[i]=0;for(i=0;i<8;i++)e[i]=n[i];n.slice(8,8)}(s,32-n),g(t,n),_(t,s),h(t)};var w=new C,E=function(e,t){for(var i=[],n=0;n<e;n++)i[n]=w.next()%t;return i},T=0,k=0,x=function(){if(1===arguments.length&&"string"==typeof arguments[0])this.parse.apply(this,arguments);else if(arguments.length>=1&&"number"==typeof arguments[0])this.make.apply(this,arguments);else{if(arguments.length>=1)throw new Error("UUID: constructor: invalid arguments");for(var e=0;e<16;e++)this[e]=0}};return(x.prototype="undefined"!=typeof Uint8Array?new Uint8Array(16):Buffer?Buffer.alloc(16):new Array(16)).constructor=x,x.prototype.make=function(e){var t,i=this;if(1===e){var n=(new Date).getTime();n!==T?k=0:k++,T=n;var s,r=u(n);p(r,1e4),d(r,a(1,178,29,210,19,129,64,0)),k>0&&d(r,u(k)),s=m(r,8),i[3]=255&s,s=m(r,8),i[2]=255&s,s=m(r,8),i[1]=255&s,s=m(r,8),i[0]=255&s,s=m(r,8),i[5]=255&s,s=m(r,8),i[4]=255&s,s=m(r,8),i[7]=255&s,s=m(r,8),i[6]=15&s;var o=E(2,255);i[8]=o[0],i[9]=o[1];var c=E(6,255);for(c[0]|=1,c[0]|=2,t=0;t<6;t++)i[10+t]=c[t]}else if(4===e){var l=E(16,255);for(t=0;t<16;t++)this[t]=l[t]}else{if(3!==e&&5!==e)throw new Error("UUID: make: invalid version");var h="",f="object"==typeof arguments[1]&&arguments[1]instanceof x?arguments[1]:(new x).parse(arguments[1]);for(t=0;t<16;t++)h+=String.fromCharCode(f[t]);h+=arguments[2];var g=3===e?S(h):y(h);for(t=0;t<16;t++)i[t]=g.charCodeAt(t)}return i[6]&=15,i[6]|=e<<4,i[8]&=63,i[8]|=128,i},x.prototype.format=function(t){var n,s;return"z85"===t?n=function(e,t){for(var n="",s=0,r=0;s<16;)if(r=256*r+e[s++],s%4==0){for(var o=52200625;o>=1;){var a=Math.floor(r/o)%85;n+=i[a],o/=85}r=0}return n}(this):"b16"===t?(s=Array(32),e(this,0,15,!0,s,0),n=s.join("")):void 0!==t&&"std"!==t||(s=new Array(36),e(this,0,3,!1,s,0),s[8]="-",e(this,4,5,!1,s,9),s[13]="-",e(this,6,7,!1,s,14),s[18]="-",e(this,8,9,!1,s,19),s[23]="-",e(this,10,15,!1,s,24),n=s.join("")),n},x.prototype.toString=function(e){return this.format(e)},x.prototype.toJSON=function(){return this.format("std")},x.prototype.parse=function(e,i){if("string"!=typeof e)throw new Error("UUID: parse: invalid argument (type string expected)");if("z85"===i)!function(e,t){var i=e.length;if(i%5!=0)throw new Error("z85_decode: invalid input length (multiple of 5 expected)");void 0===t&&(t=new Array(4*i/5));for(var s=0,r=0,o=0;s<i;){var a=e.charCodeAt(s++)-32;if(a<0||a>=n.length)break;if(o=85*o+n[a],s%5==0){for(var c=16777216;c>=1;)t[r++]=Math.trunc(o/c%256),c/=256;o=0}}}(e,this);else if("b16"===i)t(e,0,35,this,0);else if(void 0===i||"std"===i){var s={nil:"00000000-0000-0000-0000-000000000000","ns:DNS":"6ba7b810-9dad-11d1-80b4-00c04fd430c8","ns:URL":"6ba7b811-9dad-11d1-80b4-00c04fd430c8","ns:OID":"6ba7b812-9dad-11d1-80b4-00c04fd430c8","ns:X500":"6ba7b814-9dad-11d1-80b4-00c04fd430c8"};if(void 0!==s[e])e=s[e];else if(!e.match(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/))throw new Error('UUID: parse: invalid string representation (expected "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")');t(e,0,7,this,0),t(e,9,12,this,4),t(e,14,17,this,6),t(e,19,22,this,8),t(e,24,35,this,10)}return this},x.prototype.export=function(){for(var e=Array(16),t=0;t<16;t++)e[t]=this[t];return e},x.prototype.import=function(e){if(!("object"==typeof e&&e instanceof Array))throw new Error("UUID: import: invalid argument (type Array expected)");if(16!==e.length)throw new Error("UUID: import: invalid argument (Array of length 16 expected)");for(var t=0;t<16;t++){if("number"!=typeof e[t])throw new Error("UUID: import: invalid array element #"+t+" (type Number expected)");if(!isFinite(e[t])||Math.floor(e[t])!==e[t])throw new Error("UUID: import: invalid array element #"+t+" (Number with integer value expected)");if(!(e[t]>=0&&e[t]<=255))throw new Error("UUID: import: invalid array element #"+t+" (Number with integer value in range 0...255 expected)");this[t]=e[t]}return this},x.prototype.compare=function(e){if("object"!=typeof e)throw new Error("UUID: compare: invalid argument (type UUID expected)");if(!(e instanceof x))throw new Error("UUID: compare: invalid argument (type UUID expected)");for(var t=0;t<16;t++){if(this[t]<e[t])return-1;if(this[t]>e[t])return 1}return 0},x.prototype.equal=function(e){return 0===this.compare(e)},x.prototype.fold=function(e){if(void 0===e)throw new Error("UUID: fold: invalid argument (number of fold operations expected)");if(e<1||e>4)throw new Error("UUID: fold: invalid argument (1-4 fold operations expected)");for(var t=16/Math.pow(2,e),i=new Array(t),n=0;n<t;n++){for(var s=0,r=0;n+r<16;r+=t)s^=this[n+r];i[n]=s}return i},x.PCG=C,x}(),e.exports.default=e.exports});class Ut{constructor(e){this.transport=e,this.gnpLockAcquired=e.consoleAppEvent.pipe(je(e=>"response-gnp-lock"===e.event),we(e=>e.token),nt(1)),this.gnpLockAcquired.subscribe()}acquireGnpLock(e){const t=new Ft(4).toString(),i={action:"request-gnp-lock",id:e,token:t},n=this.gnpLockAcquired.pipe(Qe(e=>e===t));return this.transport.writeAction(i),n}releaseGnpLock(e,t){this.transport.writeAction({action:"release-gnp-lock",id:e,token:t})}}(function(e){e[e.INPUT=0]="INPUT",e[e.OUTPUT=1]="OUTPUT",e[e.FEATURE=2]="FEATURE"})(Lt||(Lt={})),function(e){e.ABSOLUTE="absolute",e.RELATIVE="relative"}(Mt||(Mt={}));class Ht{constructor(e){this.id=e}equals(e){return this.id===e.id}startsWith(e){return this.id.startsWith(e.id)}toString(){return this.id}}function Bt(e,t,i){const n=e.toString(16).padStart(4,"0"),s=t.toString(16).padStart(4,"0");return new Ht(`${n}:${s}:${i}`)}class $t{constructor(e,t,i,n){this.id=e,this.usagePage=t,this.usage=i,this.value=n}isArray(){return Array.isArray(this.value)}static deserialize(e,t){return new $t(new Ht(e),t.usagePage,t.usage,t.value)}}class jt{constructor(e,t,i){this.descriptor=t,this.transport=i,this.transportId=e.transportId,this.input=i.consoleAppEvent.pipe(je(e=>e.id===this.transportId),jt.inputReportsFilter)}output(e,t,i){this.transport.writeAction({action:"hid-output",id:this.transportId,usagePage:e,usage:t,value:i})}getFeatureReport(e,t){const i=new Ft(4).toString();return this.transport.writeAction({action:"request-hid-feature",id:this.transportId,token:i,usagePage:e,usage:t}),this.transport.consoleAppEvent.pipe(Qe(e=>"response-hid-feature"===e.event&&e.token===i),we(e=>e.value))}setFeatureReport(e,t,i){this.transport.writeAction({action:"set-hid-feature",id:this.transportId,usagePage:e,usage:t,value:i})}findDescriptor(e,t,i){return this.descriptor.find(n=>n.usagePage===e&&n.usage===t&&n.reportType===i)}}jt.inputReportsFilter=e=>e.pipe(je(e=>"hid-input"===e.event),we(e=>$t.deserialize(e.id,e)));let Gt=(()=>{class e{static typeFromAttr(e){return e>>6}static packetLengthFromAttr(e){return e&this.lengthMask}static deserialize(e){const t=e[0],i=e[1],n=e[2],s=this.typeFromAttr(e[3]),r=e[4],o=e[5],a=this.packetLengthFromAttr(e[3]),c=e.slice(6,a);return new Tt(t,i,s,r,o,c,n)}}return e.lengthMask=63,e})();class Vt{constructor(){this.data=[]}hasHeader(){return this.data.length>=Vt.gnpPacketHeaderLength}expectedPacketLength(){if(!this.hasHeader())throw new at("Unable to get expected packet length without a full header",De.UNEXPECTED_ERROR);return Gt.packetLengthFromAttr(this.data[3])}appendData(e){this.hasHeader()&&this.expectedPacketLength()>Vt.gnpPacketMaxLength&&(this.data=[]),this.data=this.data.concat(e)}hasFullPacket(){if(!this.hasHeader())return!1;const e=this.expectedPacketLength();return this.data.length>=e}getPacketAndReset(){if(!this.hasFullPacket())throw new at("Trying to get packet but buffer is not complete",De.UNEXPECTED_ERROR);const e=Gt.deserialize(Uint8Array.from(this.data));return this.data=[],e}}Vt.gnpPacketHeaderLength=6,Vt.gnpPacketMaxLength=63;const qt=()=>{};function Yt(e){return ot(t=>e(),t=>e(),()=>qt)}const Zt=()=>{return e=e=>e.command===Ct.NACK,t=e=>new at(`Got NACK response. Reason: ${e.subCommand}`,De.DEVICE_ERROR),i=>i.pipe(we(i=>e(i)?ge(t(i)):me(i)),st());var e,t},zt=e=>Qe(t=>t.type===St.REPLY&&t.sequenceNumber===e.sequenceNumber&&t.destination===e.source&&t.source===e.destination);let Kt=(()=>{class e{constructor(t,i,n,s,r=0){this.hidChannel=t,this.gnpLock=i,this.transportId=n,this.primaryAddress=s,this.lockQueue=[],this.packets=t.input.pipe(e.inputFilter),this.events=this.packets.pipe(e.eventsFilter),this.nextSequenceNumber=r}static get inputFilter(){return e=>{const t=e.pipe(je(e=>e.usagePage===vt.GN_PROTOCOL&&e.usage===bt.DATA&&e.isArray())),i=new Vt;return t.pipe(Ee(e=>(i.appendData(e.value),i.hasFullPacket()?me(i.getPacketAndReset()):Ue)),tt())}}static supportsGnpOverHid(e){return void 0!==e.findDescriptor(vt.GN_PROTOCOL,bt.DATA,Lt.OUTPUT)}getNextSequenceNumber(){const e=this.nextSequenceNumber;return this.nextSequenceNumber=(this.nextSequenceNumber+1)%255,e}doWithGnpLockHeld(e){this.lockQueue.push(e),this.lockQueue.length>1||this.processLockQueue()}processLockQueue(){this.gnpLock.acquireGnpLock(this.transportId).subscribe(e=>{(0,this.lockQueue[0])(e=>{var t;const i=null===(t=this.hidChannel.findDescriptor(vt.GN_PROTOCOL,bt.DATA,Lt.OUTPUT))||void 0===t?void 0:t.reportSize;if(!i)throw new at("Cannot send GNP packets to this device.",De.DEVICE_ERROR);const n=class{static attrFromTypeAndPayloadLength(e,t){return(e<<6)+(t+6)}static serialize(e){const t=new Uint8Array(6);t[0]=e.destination,t[1]=e.source,t[2]=e.sequenceNumber,t[3]=this.attrFromTypeAndPayloadLength(e.type,e.payload.length),t[4]=e.command,t[5]=e.subCommand;const i=new Uint8Array(t.length+e.payload.length);return i.set(t),i.set(e.payload,t.length),i}}.serialize(e);let s=0;do{const e=Math.min(n.length-s,i),t=n.subarray(s,s+e);s+=t.length,this.hidChannel.output(vt.GN_PROTOCOL,bt.DATA,Array.from(t))}while(s<n.length)},this.packets,()=>{this.gnpLock.releaseGnpLock(this.transportId,e),this.lockQueue.splice(0,1),this.lockQueue.length>0&&this.processLockQueue()})})}sendEvent(e,t,i=this.primaryAddress){const n=new Tt(i,yt.PC_ADDR,St.EVENT,e.command,e.subCommand,e.serialize(t),0);this.doWithGnpLockHeld((e,t,i)=>{e(n),i()})}read(e,t=this.primaryAddress,i=2500){const n=new Et(e,e=>new Uint8Array);return this.readWithParams(n,null,t,i)}readWithParams(e,t,i=this.primaryAddress,n=2500){const s=new Tt(i,yt.PC_ADDR,St.READ,e.command,e.subCommand,e.serialize(t),this.getNextSequenceNumber()),r=new F;return this.doWithGnpLockHeld((t,i,o)=>{i.pipe(zt(s),Zt(),Qe(e=>e.command===s.command&&e.subCommand===s.subCommand),Se(n),Yt(o),we(t=>e.deserialize(t))).subscribe(r),t(s)}),r}write(e,t,i=this.primaryAddress,n=2500){const s=new Tt(i,yt.PC_ADDR,St.WRITE,e.command,e.subCommand,e.serialize(t),this.getNextSequenceNumber()),r=new F;return this.doWithGnpLockHeld((e,t,i)=>{t.pipe(zt(s),Zt(),Qe(e=>e.command===Ct.ACK),Se(n),Yt(i),we(()=>!0)).subscribe(r),e(s)}),r}}return e.eventsFilter=e=>e.pipe(je(e=>e.type===St.EVENT)),e})();class Wt{constructor(e,t){this.parentGnpChannel=e,this.primaryAddress=t,this.events=e.events.pipe(je(e=>e.source===this.primaryAddress))}sendEvent(e,t,i){this.parentGnpChannel.sendEvent(e,t,this.primaryAddress)}read(e,t,i){return this.parentGnpChannel.read(e,this.primaryAddress,i)}readWithParams(e,t,i,n){return this.parentGnpChannel.readWithParams(e,t,this.primaryAddress,n)}write(e,t,i,n){return this.parentGnpChannel.write(e,t,this.primaryAddress,n)}}function Jt(e,t,i,n){if(!Kt.supportsGnpOverHid(e))return ge(()=>new at("Device does not support GNP commands.",De.DEVICE_ERROR));const s=me(yt.HS_BT_USB_ADDR,yt.BASE_ADDR,yt.CRADLE_ADDR,yt.HS1_ADDR,yt.HS_CRADLE_ADDR).pipe(we((n,s)=>Ae(()=>{const r=new Kt(e,new Ut(t),i,n,s),o=new Pt;return r.read(o,n,500).pipe(we(e=>r),Ye(()=>Y))})),ke(),Ke(1),We(()=>new at("GNP probe failed.",De.DEVICE_ERROR)));return Ge(n.pipe(Ee(e=>ge(()=>new at("Device was suddenly disconnected.",De.DEVICE_ERROR)))),s).pipe(tt())}function Qt(e,t){return new Wt(e,t)}class Xt{constructor(){this.primaryAddress=yt.BASE_ADDR,this.events=Ue}subscribeToEvent(e,t){return ge(()=>new at("This device does not support GNP commands.",De.FEATURE_NOT_SUPPORTED))}sendEvent(e,t,i){throw new at("This device does not support GNP commands.",De.FEATURE_NOT_SUPPORTED)}read(e,t,i){return ge(()=>new at("This device does not support GNP commands.",De.FEATURE_NOT_SUPPORTED))}readWithParams(e,t,i,n){return ge(()=>new at("This device does not support GNP commands.",De.FEATURE_NOT_SUPPORTED))}write(e,t,i,n){return ge(()=>new at("This device does not support GNP commands.",De.FEATURE_NOT_SUPPORTED))}}class ei{constructor(e){this.transportId=e,this.isChild=!1}equals(e){return this.isChild===e.isChild&&this.transportId===e.transportId}toString(){return this.transportId}}class ti{constructor(e,t){this.parentId=e,this.gnpAddress=t,this.isChild=!0,this.transportId=e.transportId}equals(e){if(this.isChild===e.isChild){const t=e;return this.parentId.equals(t.parentId)&&this.gnpAddress===t.gnpAddress}return!1}toString(){return`0x${e=this.gnpAddress,e.toString(16).padStart(2,"0").toUpperCase()}@${this.transportId}`;var e}}var ii,ni,si;(function(e){e.NO_TRACKING="no-tracking",e.TRACK_ERRORS="track-errors",e.TRACK_USAGE="track-usage",e.TRACK_ALL="track-all"})(ii||(ii={})),function(e){e[e.BLUETOOTH=0]="BLUETOOTH",e[e.INDIRECT=1]="INDIRECT",e[e.USB=2]="USB"}(ni||(ni={})),function(e){e[e.BASE=0]="BASE",e[e.HEADSET=1]="HEADSET",e[e.DESKSTAND=2]="DESKSTAND",e[e.OTHER=3]="OTHER",e[e.DONGLE=4]="DONGLE",e[e.PC=5]="PC",e[e.EHS=6]="EHS",e[e.USB=7]="USB",e[e.SPEAKER_PHONE=8]="SPEAKER_PHONE",e[e.INDICATOR=9]="INDICATOR",e[e.MOBILE=10]="MOBILE",e[e.NONE=11]="NONE",e[e.LOCAL=12]="LOCAL",e[e.DISPLAY=13]="DISPLAY",e[e.HS_CRADLE=14]="HS_CRADLE",e[e.HS_CRADLE2=15]="HS_CRADLE2",e[e.MOBILE_IAP=16]="MOBILE_IAP",e[e.CRADLE=17]="CRADLE",e[e.VIDEO=18]="VIDEO",e[e.NOT_GN=252]="NOT_GN",e[e.ANY_GN=253]="ANY_GN",e[e.NOT_INIT=254]="NOT_INIT",e[e.ANY=255]="ANY"}(si||(si={}));class ri{constructor(e,t,i,n,s,r,o,a,c,l,u){this.id=e,this.type=t,this.hidChannel=i,this.events=n,this.primaryAddress=s,this.sendEvent=r,this.read=o,this.readWithParams=a,this.write=c,this.onDisconnect=l,this.parentConnectionId=u,this.onDisconnect.subscribe({error:w})}static createConnection(e,t,i,n,s,r){const o=n.sendEvent.bind(n),a=n.read.bind(n),c=n.readWithParams.bind(n),l=n.write.bind(n);return new ri(e,t,i,n.events,n.primaryAddress,o,a,c,l,s,r)}}const oi=(e=3,t=500)=>i=>i.pipe(Ee((i,n)=>{const s=n+1;return s>e?ge(()=>i):Ie(s*s*t)}));function ai(e,t,i,n=1e3,s=3,r=100){return Ae(()=>e.read(t,i,n)).pipe(et(oi(s,r)))}function ci(e,t,i){const{deviceType:n,address:s}=i;return{transportId:t.transportId,vid:t.vid,pid:ai(e,Ot,s),name:ai(e,It,s),serialNumber:ai(e,Dt,s),capabilities:t.capabilities,deviceType:n,connectionGnpAddress:s}}class li{constructor(e,t,i=ci,n=ri.createConnection,s=Qt){this.parentConnection=t,this.connectionCreator=n,this.createChildGnpChannel=s;const r=t.events.pipe(je(e=>e.command===Ct.DEVICE&&e.subCommand===wt.ATTACH_EVENT),we(e=>({deviceType:e.payload[0],address:e.payload[1]}))).pipe(we(i.bind(null,t,e)));this.connectionEvents=r.pipe(we(e=>{const i=Ge(t.events.pipe(Qe(t=>t.command===Ct.DEVICE&&t.subCommand===wt.DETACH_EVENT&&t.payload[1]===e.connectionGnpAddress),we(w)),t.onDisconnect);return{attach:e,detach:i}}),Ee(e=>qe(me(e.attach),this.createConnection(e.attach,e.detach))),we(([e,t])=>({event:e,connection:t})),rt(t.onDisconnect)),t.sendEvent(kt,[])}createConnection(e,t){const i=e.connectionGnpAddress,n=this.createChildGnpChannel(this.parentConnection,i),s=new ti(this.parentConnection.id,i);return me(this.connectionCreator(s,ni.INDIRECT,this.parentConnection.hidChannel,n,t,this.parentConnection.id))}}const ui={command:Ct.IDENT,subCommand:wt.TYPE,deserialize:e=>{const{payload:t}=e,i=t[0];if(i<1||i>=t.length)throw new at("Cannot get device type.",De.DEVICE_ERROR);return t[1]}};function hi(e,t,i,n=Re.ERROR,s=Pe.JS_LIB){var r;ct(`${e} ${r=t,r instanceof at?`JabraError: ${r.message} (type: ${r.type})`:r instanceof Error?`Error: ${r.message} (name: ${r.name})`:`Unknown error: ${r}`}`,i,n,s)}function di(e){return new li(e.event,e.connection).connectionEvents}class pi{constructor(e,t,i=((e,t,i)=>new jt(e,t,i)),n=Jt,s=di,r=ri.createConnection){this.transport=e,this.logger=t,this.createHidChannel=i,this.createRootGnpChannel=n,this.connectionCreator=r;const o=this.transport.consoleAppEvent.pipe(je(e=>"attach"===e.event),we(pi.createAttachEvent),Ye((e,t)=>(hi("",e,this.logger),t))).pipe(we(e=>{const t=this.transport.consoleAppEvent.pipe(je(e=>"detach"===e.event),Qe(t=>pi.getTransportId(t)===e.transportId),we(w),nt());return t.subscribe(),{attach:e,detach:t}}),Ee(e=>this.createConnection(e.attach,e.detach)),tt()),a=o.pipe(je(e=>e.event.deviceType===si.DONGLE),je(e=>Kt.supportsGnpOverHid(e.connection.hidChannel)),Ee(e=>s(e)));this.connectionEvents=Oe(o,a).pipe(tt())}static convertToReportType(e){switch(e){case"input":return Lt.INPUT;case"output":return Lt.OUTPUT;case"feature":return Lt.FEATURE;default:throw new at(`${e} is not a valid ReportType`,De.UNEXPECTED_ERROR)}}static convertToValueType(e){switch(e){case"absolute":return Mt.ABSOLUTE;case"relative":return Mt.RELATIVE;default:throw new at(`${e} Not a valid ValueType`,De.UNEXPECTED_ERROR)}}static createDescriptor(e){return e.map(e=>({reportType:pi.convertToReportType(e.reportType),usagePage:e.usagePage,usage:e.usage,valueType:pi.convertToValueType(e.valueType),reportSize:e.reportSize}))}static getMandatoryField(e,t){const i=e[t];if(void 0===i)throw new at(`JSON event lacks required field "${t}: ${JSON.stringify(e)}`,De.UNEXPECTED_ERROR);return i}static getTransportId(e){return pi.getMandatoryField(e,"id")}static createAttachEvent(e){return{transportId:pi.getTransportId(e),vid:pi.getMandatoryField(e,"vid"),pid:me(pi.getMandatoryField(e,"pid")),name:me(pi.getMandatoryField(e,"name")),serialNumber:me(pi.getMandatoryField(e,"serialNumber")),capabilities:pi.createDescriptor(pi.getMandatoryField(e,"descriptor"))}}createConnection(e,t,i=3,n=100){const{capabilities:s,transportId:r}=e,o=new ei(r),a=this.createHidChannel(o,s,this.transport),c=this.createRootGnpChannel(a,this.transport,r,t).pipe(Ye((e,t)=>(e.type&&e.type===De.DEVICE_ERROR&&this.transport.context===Le.WEB_HID&&ct("Child devices are not yet supported when using WebHID.",this.logger,Re.WARNING,Pe.JS_LIB),me(new Xt))),tt()),l=c.pipe(Ee(e=>e.read(ui)),et(oi(i,n)),Ye(e=>me(si.ANY)));return qe(c,l).pipe(rt(t),we(([i,n])=>({event:Object.assign(Object.assign({},e),{deviceType:n,connectionGnpAddress:i.primaryAddress}),connection:this.connectionCreator(o,ni.USB,a,i,t)})))}}var fi,mi,gi,_i,vi;class bi{constructor(e,t,i,n,o,a){this.vendorId=e,this.productId=t,this.serialNumber=i,this.name=n,this.type=o,mi.set(this,void 0),r(this,mi,new ut(a,s(bi,fi,"m",_i)),"f"),this.connectionAdded=s(this,mi,"f").itemAdded,this.connectionRemoved=s(this,mi,"f").itemRemoved,this.connectionList=s(this,mi,"f").itemList,this.onDisconnect=s(this,mi,"f").itemList.pipe(function(e){return je(function(t,i){return e<=i})}(1),Qe(e=>0===e.length),we(w),tt())}get id(){return Bt(this.vendorId,this.productId,this.serialNumber)}get currentConnections(){return s(this,mi,"f").getValue()}get browserLabel(){return`${this.vendorId.toString(16).padStart(4,"0")}:${this.productId.toString(16).padStart(4,"0")}`}}fi=bi,mi=new WeakMap,_i=function(e,t){return s(bi,fi,"f",gi).indexOf(e.type)-s(bi,fi,"f",gi).indexOf(t.type)},gi={value:[ni.USB,ni.INDIRECT,ni.BLUETOOTH]};class yi{constructor(e){this.deviceObservables=new ut(e)}static exceptionToUndefined(e){try{return e()}catch(t){if(t instanceof at)return;throw t}}connectionExists(e){return void 0!==yi.exceptionToUndefined(()=>this.findConnectionById(e))}findConnectionById(e){for(const t of this.deviceObservables.getValue())for(const i of t.currentConnections)if(i.id.equals(e))return i;throw new at(`Could not find connection with id ${e.toString()}`,De.UNEXPECTED_ERROR)}findDeviceByDeviceId(e){return this.deviceObservables.getValue().find(t=>t.id.startsWith(e)||e.startsWith(t.id))}}class Si{constructor(e,t){this.logger=t;const[i,n]=(s=e.pipe(je(e=>!this.deviceCollection.connectionExists(e.connection.id)),Ze(e=>this.force(e))),[je(r=({event:e,pid:t,serialNumber:i})=>!this.deviceCollection.findDeviceByDeviceId(Bt(e.event.vid,t,i)),void 0)(oe(s)),je($e(r,void 0))(oe(s))]);var s,r;const o=i.pipe(we(e=>Si.createDevice(e,n)));this.deviceCollection=new yi(o),this.deviceObservables=this.deviceCollection.deviceObservables}force(e){const{name:t,pid:i,serialNumber:n}=e.event,s=e.connection.onDisconnect.pipe((r=ge(()=>new Error(`Connection with ID ${e.connection.id} disconnected`)),f(void 0)?Ze(function(){return r},void 0):Ze(function(){return r})));var r;return qe(t,i,n).pipe(we(([t,i,n])=>({event:e,name:t,pid:i,serialNumber:n})),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?N(function(t,i){Ve(h([t],u(e)))(i)}):O}(s),Ye(e=>(ct(`Failed to retrieve child connection information. Error: ${e}`,this.logger,Re.WARNING,Pe.JS_LIB),Y)))}static createDevice(e,t){const{event:i,pid:n,name:s,serialNumber:r}=e,{vid:o,deviceType:a}=i.event,c=t.pipe(je(t=>Si.isSameDevice(e,t)),we(e=>e.event.connection)),l=xe(me(i.connection),c);return new bi(o,n,r,s,a,l)}static isSameDevice(e,t){const i=Bt(e.event.event.vid,e.pid,e.serialNumber),n=Bt(t.event.event.vid,t.pid,t.serialNumber);return i.startsWith(n)||n.startsWith(i)}static create(e,t){const i=new pi(e,t);return new Si(i.connectionEvents)}}function Ci(e){var t,s,r;return n(this,void 0,void 0,function*(){const o=null==e?void 0:e.logger;ct("Jabra SDK JS starting up...",o,Re.INFO);const a=new gt(e);a.validateOrganizationKey(),a.validateAppId(),a.validateAppName();const c=null!==(s=null===(t=null==e?void 0:e.internal)||void 0===t?void 0:t.testDeviceTransport)&&void 0!==s?s:yield function(e,t=Me.CHROME_EXTENSION,s){return n(this,void 0,void 0,function*(){if(t!==Me.WEB_HID){const n=yield i.e(62689).then(i.bind(i,62689)).catch(()=>{throw new at(pt,De.UNEXPECTED_ERROR)}),r=yield n.TransportChromeExtension.checkInstallation();if(r.ok)return ct("Using Chrome extension for transport.",e,Re.INFO),new n.TransportChromeExtension(e,s);if(t===Me.CHROME_EXTENSION)throw new at(r.message,De.INIT_ERROR);t===Me.CHROME_EXTENSION_WITH_WEB_HID_FALLBACK&&ct(r.message,e,Re.INFO)}return ct("Using WebHID for transport.",e,Re.INFO),function(e,t){return n(this,void 0,void 0,function*(){const n=yield i.e(52404).then(i.bind(i,52404)).catch(()=>{throw new at(pt,De.UNEXPECTED_ERROR)}),s=yield i.e(59653).then(i.bind(i,59653)).catch(()=>{throw new at(pt,De.UNEXPECTED_ERROR)}),r=n.initHandler(e);return new s.WebHidTransport(r,e,t)})}(e,s)})}(o,null==e?void 0:e.transport,null===(r=null==e?void 0:e.internal)||void 0===r?void 0:r.recorder);new ft(c,o);const l=Si.create(c,o),u=new dt(l,c,e);return yield c.connect(),u})}class wi{constructor(e,t,i,n){this.deviceId=e,this.usagePage=t,this.usage=i,this.value=n}}class Ei{constructor(e,t){this.token=e,this.value=t}}!function(e){e.UsageReport=class{constructor(e,t){this.usage=e,this.value=t}}}(vi||(vi={}));var Ti,ki,xi,Ai,Ii,Oi,Ri,Pi,Di,Ni,Li=Nt(function(e){!function(t){var i=function(e,t,i){if(!(e instanceof ArrayBuffer||"undefined"!=typeof Buffer&&e instanceof Buffer))throw new Error("Must specify a valid ArrayBuffer or Buffer.");t=t||0,i=i||e.byteLength||e.length,this._view=new Uint8Array(e.buffer||e,t,i),this.bigEndian=!1};i._scratch=new DataView(new ArrayBuffer(8)),Object.defineProperty(i.prototype,"buffer",{get:function(){return"undefined"!=typeof Buffer?Buffer.from(this._view.buffer):this._view.buffer},enumerable:!0,configurable:!1}),Object.defineProperty(i.prototype,"byteLength",{get:function(){return this._view.length},enumerable:!0,configurable:!1}),i.prototype._setBit=function(e,t){t?this._view[e>>3]|=1<<(7&e):this._view[e>>3]&=~(1<<(7&e))},i.prototype.getBits=function(e,t,i){var n=8*this._view.length-e;if(t>n)throw new Error("Cannot get "+t+" bit(s) from offset "+e+", "+n+" available");for(var s=0,r=0;r<t;){var o=7&e,a=this._view[e>>3],c=Math.min(t-r,8-o);this.bigEndian?(s<<=c,s|=a>>8-c-o&~(255<<c)):s|=(a>>o&~(255<<c))<<r,e+=c,r+=c}return i?(32!==t&&s&1<<t-1&&(s|=-1^(1<<t)-1),s):s>>>0},i.prototype.setBits=function(e,t,i){var n=8*this._view.length-e;if(i>n)throw new Error("Cannot set "+i+" bit(s) from offset "+e+", "+n+" available");for(var s=0;s<i;){var r,o,a=7&e,c=e>>3,l=Math.min(i-s,8-a);if(this.bigEndian){o=t>>i-s-l&(r=~(-1<<l));var u=8-a-l;this._view[c]=this._view[c]&~(r<<u)|o<<u}else o=t&(r=~(255<<l)),t>>=l,this._view[c]=this._view[c]&~(r<<a)|o<<a;e+=l,s+=l}},i.prototype.getBoolean=function(e){return 0!==this.getBits(e,1,!1)},i.prototype.getInt8=function(e){return this.getBits(e,8,!0)},i.prototype.getUint8=function(e){return this.getBits(e,8,!1)},i.prototype.getInt16=function(e){return this.getBits(e,16,!0)},i.prototype.getUint16=function(e){return this.getBits(e,16,!1)},i.prototype.getInt32=function(e){return this.getBits(e,32,!0)},i.prototype.getUint32=function(e){return this.getBits(e,32,!1)},i.prototype.getFloat32=function(e){return i._scratch.setUint32(0,this.getUint32(e)),i._scratch.getFloat32(0)},i.prototype.getFloat64=function(e){return i._scratch.setUint32(0,this.getUint32(e)),i._scratch.setUint32(4,this.getUint32(e+32)),i._scratch.getFloat64(0)},i.prototype.setBoolean=function(e,t){this.setBits(e,t?1:0,1)},i.prototype.setInt8=i.prototype.setUint8=function(e,t){this.setBits(e,t,8)},i.prototype.setInt16=i.prototype.setUint16=function(e,t){this.setBits(e,t,16)},i.prototype.setInt32=i.prototype.setUint32=function(e,t){this.setBits(e,t,32)},i.prototype.setFloat32=function(e,t){i._scratch.setFloat32(0,t),this.setBits(e,i._scratch.getUint32(0),32)},i.prototype.setFloat64=function(e,t){i._scratch.setFloat64(0,t),this.setBits(e,i._scratch.getUint32(0),32),this.setBits(e+32,i._scratch.getUint32(4),32)},i.prototype.getArrayBuffer=function(e,t){for(var i=new Uint8Array(t),n=0;n<t;n++)i[n]=this.getUint8(e+8*n);return i};var n=function(e,t){return function(){if(this._index+t>this._length)throw new Error("Trying to read past the end of the stream");var i=this._view[e](this._index);return this._index+=t,i}},s=function(e,t){return function(i){this._view[e](this._index,i),this._index+=t}};function r(e,t,i){if(0===t)return"";var n=0,s=[],r=!0,o=!!t;for(t||(t=Math.floor((e._length-e._index)/8));n<t;){var a=e.readUint8();if(0===a&&(r=!1,!o))break;r&&s.push(a),n++}var c=String.fromCharCode.apply(null,s);if(!i)return c;try{return decodeURIComponent(escape(c))}catch(l){return c}}var o=function(e,t,n){var s=e instanceof ArrayBuffer||"undefined"!=typeof Buffer&&e instanceof Buffer;if(!(e instanceof i||s))throw new Error("Must specify a valid BitView, ArrayBuffer or Buffer");this._view=s?new i(e,t,n):e,this._index=0,this._startIndex=0,this._length=8*this._view.byteLength};Object.defineProperty(o.prototype,"index",{get:function(){return this._index-this._startIndex},set:function(e){this._index=e+this._startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._length-this._startIndex},set:function(e){this._length=e+this._startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"bitsLeft",{get:function(){return this._length-this._index},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"byteIndex",{get:function(){return Math.ceil(this._index/8)},set:function(e){this._index=8*e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"buffer",{get:function(){return this._view.buffer},enumerable:!0,configurable:!1}),Object.defineProperty(o.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!1}),Object.defineProperty(o.prototype,"bigEndian",{get:function(){return this._view.bigEndian},set:function(e){this._view.bigEndian=e},enumerable:!0,configurable:!1}),o.prototype.readBits=function(e,t){var i=this._view.getBits(this._index,e,t);return this._index+=e,i},o.prototype.writeBits=function(e,t){this._view.setBits(this._index,e,t),this._index+=t},o.prototype.readBoolean=n("getBoolean",1),o.prototype.readInt8=n("getInt8",8),o.prototype.readUint8=n("getUint8",8),o.prototype.readInt16=n("getInt16",16),o.prototype.readUint16=n("getUint16",16),o.prototype.readInt32=n("getInt32",32),o.prototype.readUint32=n("getUint32",32),o.prototype.readFloat32=n("getFloat32",32),o.prototype.readFloat64=n("getFloat64",64),o.prototype.writeBoolean=s("setBoolean",1),o.prototype.writeInt8=s("setInt8",8),o.prototype.writeUint8=s("setUint8",8),o.prototype.writeInt16=s("setInt16",16),o.prototype.writeUint16=s("setUint16",16),o.prototype.writeInt32=s("setInt32",32),o.prototype.writeUint32=s("setUint32",32),o.prototype.writeFloat32=s("setFloat32",32),o.prototype.writeFloat64=s("setFloat64",64),o.prototype.readASCIIString=function(e){return r(this,e,!1)},o.prototype.readUTF8String=function(e){return r(this,e,!0)},o.prototype.writeASCIIString=function(e,t){!function(e,t,i){for(var n=i||t.length+1,s=0;s<n;s++)e.writeUint8(s<t.length?t.charCodeAt(s):0)}(this,e,t)},o.prototype.writeUTF8String=function(e,t){!function(e,t,i){for(var n=function(e){var t,i,n=[];for(t=0;t<e.length;t++)(i=e.charCodeAt(t))<=127?n.push(i):i<=2047?(n.push(i>>6|192),n.push(63&i|128)):i<=65535?(n.push(i>>12|224),n.push(i>>6&63|128),n.push(63&i|128)):(n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(63&i|128));return n}(t),s=i||n.length+1,r=0;r<s;r++)e.writeUint8(r<n.length?n[r]:0)}(this,e,t)},o.prototype.readBitStream=function(e){var t=new o(this._view);return t._startIndex=this._index,t._index=this._index,t.length=e,this._index+=e,t},o.prototype.writeBitStream=function(e,t){var i;for(t||(t=e.bitsLeft);t>0;)i=Math.min(t,32),this.writeBits(e.readBits(i),i),t-=i},o.prototype.readArrayBuffer=function(e){var t=this._view.getArrayBuffer(this._index,e);return this._index+=8*e,t},o.prototype.writeArrayBuffer=function(e,t){this.writeBitStream(new o(e),8*t)},e.exports&&(e.exports={BitView:i,BitStream:o})}()});(function(e){e[e.VENDOR_ID=2830]="VENDOR_ID",e.PAIRING_CHANNEL="jabra-webhid-pairing-channel"})(Ti||(Ti={})),function(e){e[e.HOOK_SWITCH=32]="HOOK_SWITCH",e[e.FLASH=33]="FLASH",e[e.ALT_HOLD=35]="ALT_HOLD",e[e.REDIAL=36]="REDIAL",e[e.ONLINE=42]="ONLINE",e[e.SPEAKER_PHONE=43]="SPEAKER_PHONE",e[e.PHONE_MUTE=47]="PHONE_MUTE",e[e.SEND=49]="SEND",e[e.SPEED_DIAL=80]="SPEED_DIAL",e[e.VOICE_MAIL=112]="VOICE_MAIL",e[e.ANSWER_ON_OFF=116]="ANSWER_ON_OFF",e[e.LINE_BUSY=151]="LINE_BUSY",e[e.RINGER=158]="RINGER",e[e.PHONE_KEY_0=176]="PHONE_KEY_0",e[e.PHONE_KEY_1=177]="PHONE_KEY_1",e[e.PHONE_KEY_2=178]="PHONE_KEY_2",e[e.PHONE_KEY_3=179]="PHONE_KEY_3",e[e.PHONE_KEY_4=180]="PHONE_KEY_4",e[e.PHONE_KEY_5=181]="PHONE_KEY_5",e[e.PHONE_KEY_6=182]="PHONE_KEY_6",e[e.PHONE_KEY_7=183]="PHONE_KEY_7",e[e.PHONE_KEY_8=184]="PHONE_KEY_8",e[e.PHONE_KEY_9=185]="PHONE_KEY_9",e[e.PHONE_KEY_STAR=186]="PHONE_KEY_STAR",e[e.PHONE_KEY_POUND=187]="PHONE_KEY_POUND",e[e.ALT_VOLUME_UP=233]="ALT_VOLUME_UP",e[e.ALT_VOLUME_DOWN=234]="ALT_VOLUME_DOWN",e[e.REJECT_CALL=65533]="REJECT_CALL"}(ki||(ki={}));class Mi{constructor(e,t,i){this.type=e,this.value=t,this.valueType=i}toString(){return void 0===ki[this.type]?`Unknown signal: type: ${this.type}, value: ${this.value}, valueType: ${this.valueType}`:`Signal: type: ${ki[this.type]}, value: ${this.value}, valueType: ${this.valueType}`}}(function(e){e[e.BUTTON=9]="BUTTON",e[e.CONSUMER=12]="CONSUMER",e[e.LED=8]="LED",e[e.TELEPHONY=11]="TELEPHONY",e[e.GN_CONSUMER=65312]="GN_CONSUMER",e[e.GN_EXT_BUTTONS=65360]="GN_EXT_BUTTONS",e[e.GN_LED=65344]="GN_LED",e[e.GN_MISC=65376]="GN_MISC",e[e.GN_TELEPHONY=65328]="GN_TELEPHONY"})(xi||(xi={})),function(e){e[e.MUTE=9]="MUTE",e[e.OFF_HOOK=23]="OFF_HOOK",e[e.RING=24]="RING",e[e.MESSAGE_WAIT=25]="MESSAGE_WAIT",e[e.HOLD=32]="HOLD",e[e.MIC_MUTE=33]="MIC_MUTE",e[e.ONLINE=42]="ONLINE",e[e.HID_OFFLINE=43]="HID_OFFLINE"}(Ai||(Ai={})),function(e){e[e.HOOK_SWITCH=32]="HOOK_SWITCH",e[e.FLASH=33]="FLASH",e[e.HOLD=35]="HOLD",e[e.REDIAL=36]="REDIAL",e[e.ONLINE=42]="ONLINE",e[e.SPEAKER_PHONE=43]="SPEAKER_PHONE",e[e.MUTE=47]="MUTE",e[e.HID_SEND=49]="HID_SEND",e[e.SPEED_DIAL=80]="SPEED_DIAL",e[e.VOICE_MAIL=112]="VOICE_MAIL",e[e.ANSWER_ON_OFF=116]="ANSWER_ON_OFF",e[e.LINE_BUSY=151]="LINE_BUSY",e[e.RINGER=158]="RINGER",e[e.PHONE_KEY_0=176]="PHONE_KEY_0",e[e.PHONE_KEY_1=177]="PHONE_KEY_1",e[e.PHONE_KEY_2=178]="PHONE_KEY_2",e[e.PHONE_KEY_3=179]="PHONE_KEY_3",e[e.PHONE_KEY_4=180]="PHONE_KEY_4",e[e.PHONE_KEY_5=181]="PHONE_KEY_5",e[e.PHONE_KEY_6=182]="PHONE_KEY_6",e[e.PHONE_KEY_7=183]="PHONE_KEY_7",e[e.PHONE_KEY_8=184]="PHONE_KEY_8",e[e.PHONE_KEY_9=185]="PHONE_KEY_9",e[e.PHONE_KEY_STAR=186]="PHONE_KEY_STAR",e[e.PHONE_KEY_POUND=187]="PHONE_KEY_POUND",e[e.HID_ALT_VOLUME_UP=233]="HID_ALT_VOLUME_UP",e[e.HID_ALT_VOLUME_DOWN=234]="HID_ALT_VOLUME_DOWN",e[e.GN_PSEUDO_HOOK_SWITCH=65531]="GN_PSEUDO_HOOK_SWITCH",e[e.GN_OUT_OF_RANGE=65532]="GN_OUT_OF_RANGE",e[e.GN_REJECT_CALL=65533]="GN_REJECT_CALL",e[e.GN_TELEPHONY_CONT_SET=65535]="GN_TELEPHONY_CONT_SET"}(Ii||(Ii={}));class Fi{constructor(e,t,i,n,s){this.hidChannel=e,this.onDisconnect=t,this.isSoftphoneInFocus=i,this.lockHeld=n,this.logger=s,this.cachedSignals=new Map}setup(){const e=this.filter().pipe(tt());return e.subscribe(),e}filter(){const e=this.hidChannel.input.pipe(je(e=>e.usagePage===xi.GN_TELEPHONY&&!e.isArray()),Ee(e=>{const t=this.hidChannel.descriptor.find(t=>t.usagePage===e.usagePage&&t.usage===e.usage);return(null==t?void 0:t.valueType)?me(Object.assign(Object.assign({},e),{valueType:t.valueType})):(hi("",new at(`Unable to find value-type in descriptor for UsagePage: ${e.usagePage} and Usage: ${e.usage}`,De.FEATURE_NOT_SUPPORTED),this.logger),Y)}),je(e=>e.valueType===Mt.RELATIVE?Boolean(e.value):this.cachedSignals.get(e.usage)!==e.value),ot(e=>{this.cachedSignals.set(e.usage,e.value)}),rt(this.onDisconnect),tt()),t=[ki.HOOK_SWITCH,ki.REDIAL],i=e.pipe(function(e){return t=>t.pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=de(e);return N(function(t,n){for(var s=e.length,r=new Array(s),o=e.map(function(){return!1}),a=!1,c=function(t){oe(e[t]).subscribe(new L(n,function(e){r[t]=e,a||o[t]||(o[t]=!0,(a=o.every(O))&&(o=null))},w))},l=0;l<s;l++)c(l);t.subscribe(new L(n,function(e){if(a){var t=h([e],u(r));n.next(i?i.apply(void 0,h([],u(t))):t)}}))})}(e),je(([e,t])=>t),we(([e,t])=>e))}(this.isSoftphoneInFocus),je(e=>t.includes(e.usage)&&!this.lockHeld.getValue()));return Oe(e.pipe(je(e=>this.lockHeld.getValue())),i).pipe(we(e=>new Mi(e.usage,0!==e.value,e.valueType)),Ye(e=>(ct(e.message,this.logger),Y)))}}class Ui{constructor(e,t,i,n,o,a){this.device=e,this.onDisconnect=i,Oi.set(this,void 0),Ri.set(this,new H(!1)),Pi.set(this,void 0),Di.set(this,!1),this.deviceSignals=new F,r(this,Oi,n,"f"),s(this,Oi,"f").lockHeld.subscribe(s(this,Ri,"f")),r(this,Pi,t,"f"),this.onDisconnect.pipe(Qe(),we(()=>!0)).subscribe(e=>{r(this,Di,e,"f")});const c=new Fi(s(this,Pi,"f"),this.onDisconnect,o,s(this,Ri,"f"),a);this.deviceSignals=c.setup()}checkCallLockHeld(e){if(!s(this,Ri,"f").getValue())throw new at(e,De.SDK_USAGE_ERROR)}checkCallLockNotHeld(e){if(s(this,Ri,"f").getValue())throw new at(e,De.SDK_USAGE_ERROR)}checkHasDisconnected(){if(s(this,Di,"f"))throw new at("CallControl cannot be performed as the connection has disconnected.",De.SDK_USAGE_ERROR)}takeCallLock(){return this.checkHasDisconnected(),this.checkCallLockNotHeld("Trying to take the call lock, but it is already held!"),e=s(this,Oi,"f").tryTakeCallLock(),new Promise(function(t,i){var n,s=!1;e.subscribe({next:function(e){n=e,s=!0},error:i,complete:function(){s?t(n):i(new _e)}})});var e}releaseCallLock(){this.checkHasDisconnected(),this.checkCallLockHeld("Trying to release the call lock, but it is not held!"),s(this,Oi,"f").releaseCallLock()}offHook(e){this.checkHasDisconnected(),this.checkCallLockHeld("Calls can only be started and stopped when the call lock is held.");const t=s(this,Pi,"f").findDescriptor(xi.GN_LED,Ai.OFF_HOOK,Lt.OUTPUT);if(!t)throw new at(`Device ${this.device.name} does not support any offHook functionality.`,De.FEATURE_NOT_SUPPORTED);const i=e?1:0;s(this,Pi,"f").output(t.usagePage,t.usage,i)}ring(e){this.checkHasDisconnected(),this.checkCallLockHeld("The ringer state can only be modified when the call lock is held.");const t=s(this,Pi,"f").findDescriptor(xi.GN_LED,Ai.RING,Lt.OUTPUT),i=s(this,Pi,"f").findDescriptor(xi.GN_TELEPHONY,Ii.RINGER,Lt.OUTPUT);if(!t&&!i)throw new at(`Device ${this.device.name} does not support any ring functionality.`,De.FEATURE_NOT_SUPPORTED);if(t){const i=e?1:0;s(this,Pi,"f").output(t.usagePage,t.usage,i)}if(i){const t=e?1:0;s(this,Pi,"f").output(i.usagePage,i.usage,t)}}mute(e){this.checkHasDisconnected(),this.checkCallLockHeld("The mute state can only be modified when the call lock is held.");let t=s(this,Pi,"f").findDescriptor(xi.GN_LED,Ai.MIC_MUTE,Lt.OUTPUT);if(t||(t=s(this,Pi,"f").findDescriptor(xi.GN_LED,Ai.MUTE,Lt.OUTPUT)),!t)throw new at(`Device ${this.device.name} does not support any mute functionality.`,De.FEATURE_NOT_SUPPORTED);const i=e?1:0;s(this,Pi,"f").output(t.usagePage,t.usage,i)}hold(e){this.checkHasDisconnected(),this.checkCallLockHeld("The hold state can only be modified when the call lock is held.");const t=s(this,Pi,"f").findDescriptor(xi.GN_LED,Ai.HOLD,Lt.OUTPUT);if(!t)throw new at(`Device ${this.device.name} does not support hold functionality.`,De.FEATURE_NOT_SUPPORTED);const i=e?1:0;s(this,Pi,"f").output(t.usagePage,t.usage,i)}}Oi=new WeakMap,Ri=new WeakMap,Pi=new WeakMap,Di=new WeakMap,function(e){e[e.STD_TELEPHONY=0]="STD_TELEPHONY",e[e.GN_TELEPHONY=1]="GN_TELEPHONY"}(Ni||(Ni={}));const Hi={[_t.SKYPE]:Ni.GN_TELEPHONY,[_t.CISCO]:Ni.GN_TELEPHONY,[_t.AVAYA]:Ni.GN_TELEPHONY,[_t.SIEMENS]:Ni.GN_TELEPHONY,[_t.IBM]:Ni.GN_TELEPHONY,[_t.AASTRA]:Ni.GN_TELEPHONY,[_t.JABRA]:Ni.GN_TELEPHONY,[_t.NEC]:Ni.GN_TELEPHONY,[_t.SHORETEL]:Ni.GN_TELEPHONY,[_t.MS_OC]:Ni.STD_TELEPHONY,[_t.ALCATEL]:Ni.STD_TELEPHONY,[_t.OTHER]:Ni.STD_TELEPHONY,[_t.NORTEL]:null,[_t.GENERIC]:null};class Bi{constructor(e,t,i){this.connectionCallLock=e,this.device=t,this.logger=i,this.lockHeld=new H(!1),this.currentLocks=new H([]),this.lockReleaseEvent=new F,this.lockReleaseEvent.subscribe(()=>this.lockHeld.next(!1))}tryTakeCallLock(){const{currentConnections:e}=this.device,t=[],i=Ae(()=>re(e).pipe(Ze(e=>this.takeSingleCallLock(e)),ot(e=>t.push(e)))).pipe(function(e,t){var i=arguments.length>=2;return function(n){return n.pipe(e?je(function(t,i){return e(t,i,n)}):O,Xe(1),i?ze(t):We(function(){return new _e}))}}(),Ye(e=>me("")),we(i=>(this.currentLocks.next(t),t.length!==e.length?(this.releaseCallLock(),!1):(this.lockHeld.next(!0),!0))),tt());return i.subscribe(e=>{e&&(this.device.connectionAdded.pipe(rt(this.lockReleaseEvent)).subscribe(e=>{this.takeSingleCallLock(e).pipe(we(e=>{this.currentLocks.getValue().push(e),this.currentLocks.next(this.currentLocks.getValue())}),et(oi())).subscribe({error:e=>{ct(`Failed to acquire the call lock on a new connection.\n                  Another softphone running an old SDK has most likely acquired this lock.\n                  Full error: ${e}`,this.logger,Re.WARNING,Pe.JS_LIB)}})}),this.device.connectionRemoved.pipe(rt(this.lockReleaseEvent)).subscribe(e=>this.releaseSingleCallLock(e.id.transportId)))}),i}takeSingleCallLock(e){return Ae(()=>this.connectionCallLock.tryTakeCallLock(e.id.transportId)).pipe(we(t=>t.acquired?me(t.transportId):ge(()=>new at(`Failed to acquire call lock on connection ${e.id.transportId}`,De.SDK_USAGE_ERROR))),st())}releaseCallLock(){this.lockReleaseEvent.next(),[...this.currentLocks.getValue()].forEach(e=>{try{this.releaseSingleCallLock(e)}catch(t){}}),this.currentLocks.next([])}releaseSingleCallLock(e){this.connectionCallLock.releaseCallLock(e);const t=this.currentLocks.getValue().findIndex(t=>t===e);if(t>-1){const e=this.currentLocks.getValue();e.splice(t,1),this.currentLocks.next(e)}0!==this.currentLocks.getValue().length&&0!==this.device.currentConnections.length||this.lockReleaseEvent.next()}}class $i{constructor(e){this.transport=e,this.callLockAcquiredResponse=this.transport.consoleAppEvent.pipe(je(e=>"response-call-lock"===e.event),we(e=>({transportId:e.id,acquired:e.acquired})))}tryTakeCallLock(e){return this.transport.writeAction({action:"request-call-lock",id:e}),this.callLockAcquiredResponse.pipe(Qe(t=>t.transportId===e))}releaseCallLock(e){this.transport.writeAction({action:"release-call-lock",id:e})}}const ji=[{usagePage:xi.GN_LED,usage:Ai.OFF_HOOK,reportType:Lt.OUTPUT},{usagePage:xi.GN_LED,usage:Ai.RING,reportType:Lt.OUTPUT},{usagePage:xi.GN_TELEPHONY,usage:Ii.RINGER,reportType:Lt.OUTPUT},{usagePage:xi.GN_LED,usage:Ai.MIC_MUTE,reportType:Lt.OUTPUT},{usagePage:xi.GN_LED,usage:Ai.MUTE,reportType:Lt.OUTPUT},{usagePage:xi.GN_LED,usage:Ai.HOLD,reportType:Lt.OUTPUT}],Gi=[ni.USB,ni.INDIRECT,ni.BLUETOOTH];function Vi(e){const{currentConnections:t,type:i}=e;var n;return(n=t,[...n].sort((e,t)=>Gi.indexOf(e.type)-Gi.indexOf(t.type))).find(e=>function(e,t){const{hidChannel:i}=e;return n=i,!(!ji.some(({usagePage:e,usage:t,reportType:i})=>n.findDescriptor(e,t,i))||Kt.supportsGnpOverHid(i)&&(t===si.DONGLE||t===si.OTHER));var n}(e,i))}class qi{constructor(e){this.devComm=e,this.softphoneInFocus=new P,this.softphoneInFocus=this.devComm.consoleAppEvent.pipe(je(e=>"softphone-in-focus"===e.event),we(e=>e.infocus),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=pe(e);return N(function(t,n){(i?xe(e,t,i):xe(e,t)).subscribe(n)})}(!1),nt(1)),this.softphoneInFocus.subscribe(()=>{})}setSharedSoftphoneInfo(e){if(!(null==e?void 0:e.partnerKey)||!(null==e?void 0:e.appId))return void ct("Unable to register with Jabra Direct: partnerKey or appId missing in config",null==e?void 0:e.logger,Re.WARNING);const t=new Ft(5,"ns:OID",e.partnerKey+e.appId);let{appName:i}=e;if((!e.appName||e.appName.length<3)&&(ct("App name missing in config. Fall back to use appId as app name.",null==e?void 0:e.logger,Re.WARNING),i=e.appId),i.length>100)return void ct("Unable to register with Jabra Direct: appName must be below 100 characters.",null==e?void 0:e.logger,Re.WARNING);const n={action:"set-softphone-info",name:i,id:t.toString()};this.devComm.writeAction(n)}}var Yi,Zi,zi,Ki,Wi,Ji,Qi,Xi;class en{constructor(e){var t;Yi.set(this,void 0),Zi.set(this,void 0),zi.set(this,void 0),Ki.set(this,void 0),r(this,Zi,new qi(e._transport),"f"),s(this,Zi,"f").setSharedSoftphoneInfo(e._config),r(this,Yi,e._transport,"f"),r(this,zi,null===(t=e._config)||void 0===t?void 0:t.logger,"f"),r(this,Ki,e._readyEvents.pipe(Qe(e=>"ready"===e.event),we(e=>e.jabraDirectInstalled)),"f")}createCallControl(e){return this.supportsCallControl(e)?ve(s(this,Ki,"f").pipe(Ee(t=>function(e,t,i,n,s){const r=Vi(e),{hidChannel:o,onDisconnect:a}=r,c=new Bi(new $i(n),e,s);return t||n.context===Le.WEB_HID?me(new Ui(e,o,a,c,i.softphoneInFocus,s)):(l=o,u=r,l.findDescriptor(xi.GN_TELEPHONY,Ii.GN_TELEPHONY_CONT_SET,Lt.FEATURE)?Ae(()=>(l.setFeatureReport(xi.GN_TELEPHONY,Ii.GN_TELEPHONY_CONT_SET,1),me(!0))):u?function(e,t){const i=e.read(new Rt).pipe(we(e=>Hi[e]===t)),n=e.read(new At).pipe(we(e=>e.find(e=>Hi[e]===t))).pipe(we(t=>t?e.write(new Rt,t):me(!1)),st());return i.pipe((s=me(!0),r=n,e=>e.pipe(we(e=>e?s:r),st())));var s,r}(u,Ni.GN_TELEPHONY):me(!1)).pipe(we(t=>new Ui(e,o,a,c,i.softphoneInFocus,s)));var l,u}(e,t,s(this,Zi,"f"),s(this,Yi,"f"),s(this,zi,"f"))))):Promise.reject(new at(`Device ${e.name} does not support call control.`,De.FEATURE_NOT_SUPPORTED))}supportsCallControl(e){return void 0!==Vi(e)}}Yi=new WeakMap,Zi=new WeakMap,zi=new WeakMap,Ki=new WeakMap,function(e){e.HOLD_CURRENT="hold-current",e.END_CURRENT="end-current"}(Wi||(Wi={})),function(e){e.MUTED="muted",e.UNMUTED="unmuted",e.NO_ONGOING_CALLS="no-ongoing-calls"}(Ji||(Ji={})),function(e){e.ON_HOLD="on-hold",e.NOT_ON_HOLD="not-on-hold",e.NO_ONGOING_CALLS="no-ongoing-calls"}(Qi||(Qi={})),function(e){e.NO_INCOMING="no-incoming",e.AWAITING_RESPONSE="awaiting-response",e.RESOLVING_RESPONSE="resolving-response",e.RESOLVING_RESPONSE_FROM_DEVICE="resolving-response-from-device",e.ACCEPTED="accepted",e.REJECTED="rejected"}(Xi||(Xi={})),new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap}},function(e){e(e.s=5767)}]);
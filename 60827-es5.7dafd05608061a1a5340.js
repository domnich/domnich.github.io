(function(){function _createForOfIteratorHelper2(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray2(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _slicedToArray2(e,t){return _arrayWithHoles2(e)||_iterableToArrayLimit2(e,t)||_unsupportedIterableToArray2(e,t)||_nonIterableRest2()}function _nonIterableRest2(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit2(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(c){s=!0,r=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}function _arrayWithHoles2(e){if(Array.isArray(e))return e}function _toConsumableArray2(e){return _arrayWithoutHoles2(e)||_iterableToArray2(e)||_unsupportedIterableToArray2(e)||_nonIterableSpread2()}function _nonIterableSpread2(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray2(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray2(e,t):void 0}}function _iterableToArray2(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles2(e){if(Array.isArray(e))return _arrayLikeToArray2(e)}function _arrayLikeToArray2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass2(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(w){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof f?t:f,a=Object.create(r.prototype),o=new S(i||[]);return a._invoke=function(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return A()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=l(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(w){return{type:"throw",arg:w}}}e.wrap=c;var u={};function f(){}function d(){}function h(){}var p={};s(p,r,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(x([])));m&&m!==t&&n.call(m,r)&&(p=m);var v=h.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){function i(r,a,o,s){var c=l(e[r],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){i("next",e,o,s)},function(e){i("throw",e,o,s)}):t.resolve(f).then(function(e){u.value=e,o(u)},function(e){return i("throw",e,o,s)})}s(c.arg)}var r;this._invoke=function(e,n){function a(){return new t(function(t,r){i(e,n,t,r)})}return r=r?r.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=h,s(v,"constructor",h),s(h,"constructor",d),d.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),s(y.prototype,a,function(){return this}),e.AsyncIterator=y,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new y(c(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(v),s(v,o,"Generator"),s(v,r,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(self.webpackChunkcloudya=self.webpackChunkcloudya||[]).push([[60827],{36853:function(e,t,n){var i=n(91052).default;function r(){}function a(e){window.navigator.mediaDevices.getDisplayMedia=function(){return new Promise((t=i(_regeneratorRuntime().mark(function t(n,r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=7;break}return t.next=4,e.getSources({types:["screen","window"]});case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,window.desktopCapturerGetDisplaySources.getDisplaySources();case 9:t.t0=t.sent;case 10:(function(e,t,n){var r=e.filter(function(e){return e.id.includes("screen")}),a=e.filter(function(e){return e.id.includes("window")}),c=document.createElement("div");c.classList.add("desktop-capturer-selection"),c.innerHTML='\n    <div class="desktop-capturer-selection__scroller">\n      <div class="desktop-capturer__tabs">\n        <strong class="desktop-capturer__title">Share your screen</strong>\n        <div class="desktop-capturer__tabs-area">\n          <a class="desktop-capturer__tabs-control active" data-tab="share-screen" href="#share-screen">Your Entire Screen</a>\n          <a class="desktop-capturer__tabs-control" data-tab="share-window" href="#share-window" href="#">Application Window</a>\n        </div>\n        '.concat(s("share-screen",r,!0),"\n        ").concat(s("share-window",a,!1),'\n        <div class="desktop-capturer-selection__btns-area">\n          <button disabled class="desktop-capturer-selection__share">Share</button>\n          <button class="desktop-capturer-selection__cancel">Cancel</button>\n        </div>\n      </div>\n    </div>\n  '),document.body.appendChild(c),new o,function(e,t,n,r){var a,o=document.querySelectorAll(".desktop-capturer-selection__item"),s=document.querySelectorAll(".desktop-capturer-selection__share");document.querySelectorAll(".desktop-capturer-selection__btn").forEach(function(t){t.addEventListener("click",i(_regeneratorRuntime().mark(function n(){var i,c,l;return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,i=t.getAttribute("data-id"),a=e.find(function(e){return e.id===i})){n.next=4;break}throw new Error("Source with id ".concat(i," does not exist"));case 4:for(c=0;c<o.length;c++)o[c].classList.remove("active");for(l=0;l<s.length;l++)s[l].disabled=!1;t.parentNode.classList.add("active"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r(n.t0);case 12:case"end":return n.stop()}},n,null,[[0,9]])})))}),document.querySelectorAll(".desktop-capturer-selection__cancel").forEach(function(e){e.addEventListener("click",i(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.remove(),r();case 1:case"end":return e.stop()}},e)})))}),s.forEach(function(e){e.addEventListener("click",i(_regeneratorRuntime().mark(function e(){var i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.navigator.mediaDevices.getUserMedia({audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:a.id}}});case 2:i=e.sent,n(i),t.remove();case 4:case"end":return e.stop()}},e)})))})}(e,c,t,n)})(t.t0,n,r),t.next=17;break;case 14:t.prev=14,t.t1=t.catch(0),r(t.t1);case 17:case"end":return t.stop()}},t,null,[[0,14]])})),function(e,n){return t.apply(this,arguments)}));var t}}function o(){var e=function(e){e.preventDefault(),function(){for(var e=document.querySelectorAll("[data-tab]"),t=0;t<e.length;t++){e[t].classList.remove("active");var n=e[t].getAttribute("data-tab");if(n){var i=document.getElementById(n);i&&i.classList.remove("active")}}}(),e.target.classList.add("active");var t=e.currentTarget.getAttribute("data-tab");if(t){var n=document.getElementById(t);n&&n.classList.add("active")}};!function(){for(var t=document.querySelectorAll("[data-tab]"),n=0;n<t.length;n++)t[n].addEventListener("click",e,!1)}()}function s(e,t,n){return'\n    <ul id="'.concat(e,'" class="').concat("desktop-capturer-selection__list"+(n?" active":""),'">\n      ').concat(t.map(function(e){var t=e.id,n=e.name,i=e.thumbnail,r=e.thumbnailUrl;return'\n        <li class="desktop-capturer-selection__item">\n          <button class="desktop-capturer-selection__btn" data-id="'.concat(t,'" title="').concat(n,'">\n            <img class="desktop-capturer-selection__thumbnail" src="').concat(r||i.toDataURL(),'" />\n            <span class="desktop-capturer-selection__name">').concat(n,"</span>\n          </button>\n        </li>\n      ")}).join(""),"\n    </ul>\n  ")}r.init=function(){var e=window.desktopCapturerGetDisplaySources;if(!e&&window.require){if(window.require)try{a(window.require("electron").desktopCapturer)}catch(t){}}else e&&a()},e.exports=r},66890:function _(module,__unused_webpack_exports,__webpack_require__){var i;i=function i(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,(function(t){return e[t]}).bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return i.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return i.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return a.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return a.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return s.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return c.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}});var i=n(1),r=n(198),a=n(5),o=n(209),s=n(200),c=n(203),l=n(210),u=n(211);if(n(7).isNodeJS){var f=n(212).PDFNodeStream;(0,r.setPDFNetworkStreamFactory)(function(e){return new f(e)})}else{var d,h=n(215).PDFNetworkStream;(0,i.isFetchSupported)()&&(d=n(216).PDFFetchStream),(0,r.setPDFNetworkStreamFactory)(function(e){return d&&(0,i.isValidFetchUrl)(e.url)?new d(e):new h(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,i=t.target,r=t.rel,o=t.enabled,s=void 0===o||o;(0,a.assert)(n&&"string"==typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var c=(0,a.removeNullCharacters)(n);s?e.href=e.title=c:(e.href="",e.title="Disabled: ".concat(c),e.onclick=function(){return!1});var l="";switch(i){case _.NONE:break;case _.SELF:l="_self";break;case _.BLANK:l="_blank";break;case _.PARENT:l="_parent";break;case _.TOP:l="_top"}e.target=l,e.rel="string"==typeof r?r:v},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),i=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",i)+1,i)},t.isFetchSupported=C,t.isValidFetchUrl=k,t.loadScript=function(e){return new Promise(function(t,n){var i=document.createElement("script");i.src=e,i.onload=t,i.onerror=function(){n(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).appendChild(i)})},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var i,r=(i=n(2))&&i.__esModule?i:{default:i},a=n(5);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{!o&&null!=n.return&&n.return()}finally{if(c)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){d(a,i,r,o,s,"next",e)}function s(e){d(a,i,r,o,s,"throw",e)}o(void 0)})}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var v="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=v;var b="http://www.w3.org/2000/svg";t.DOMCanvasFactory=function(){function e(){p(this,e)}return m(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=document.createElement("canvas"),i=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:i}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}(),t.DOMCMapReaderFactory=function(){function e(t){var n=t.baseUrl,i=void 0===n?null:n,r=t.isCompressed,a=void 0!==r&&r;p(this,e),this.baseUrl=i,this.isCompressed=a}return m(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((t=h(r.default.mark(function e(t){var n,i,o,s=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:if(i=this.baseUrl+n+(this.isCompressed?".bcmap":""),o=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE,!C()||!k(i,document.baseURI)){e.next=9;break}return e.abrupt("return",fetch(i).then(function(){var e=h(r.default.mark(function e(t){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error(t.statusText);case 2:if(!s.isCompressed){e.next=10;break}return e.t0=Uint8Array,e.next=6,t.arrayBuffer();case 6:e.t1=e.sent,n=new e.t0(e.t1),e.next=15;break;case 10:return e.t2=a.stringToBytes,e.next=13,t.text();case 13:e.t3=e.sent,n=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:n,compressionType:o});case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"")+"CMap at: ".concat(i))}));case 9:return e.abrupt("return",new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",i,!0),s.isCompressed&&(n.responseType="arraybuffer"),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var i;if((200===n.status||0===n.status)&&(s.isCompressed&&n.response?i=new Uint8Array(n.response):!s.isCompressed&&n.responseText&&(i=(0,a.stringToBytes)(n.responseText)),i))return void e({cMapData:i,compressionType:o});t(new Error(n.statusText))}},n.send(null)}).catch(function(e){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"")+"CMap at: ".concat(i))}));case 10:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)}))}]),e;var t}(),t.DOMSVGFactory=function(){function e(){p(this,e)}return m(e,[{key:"create",value:function(e,t){(0,a.assert)(e>0&&t>0,"Invalid SVG dimensions");var n=document.createElementNS(b,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+e+" "+t),n}},{key:"createElement",value:function(e){return(0,a.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(b,e)}}]),e}(),t.PageViewport=function(){function e(t){var n=t.viewBox,i=t.scale,r=t.rotation,a=t.offsetX,o=void 0===a?0:a,s=t.offsetY,c=void 0===s?0:s,l=t.dontFlip,u=void 0!==l&&l;p(this,e),this.viewBox=n,this.scale=i,this.rotation=r,this.offsetX=o,this.offsetY=c;var f,d,h,g,m,v,b,y,_=(n[2]+n[0])/2,C=(n[3]+n[1])/2;switch(r=(r%=360)<0?r+360:r){case 180:f=-1,d=0,h=0,g=1;break;case 90:f=0,d=1,h=1,g=0;break;case 270:f=0,d=-1,h=-1,g=0;break;case 0:f=1,d=0,h=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(h=-h,g=-g),0===f?(m=Math.abs(C-n[1])*i+o,v=Math.abs(_-n[0])*i+c,b=Math.abs(n[3]-n[1])*i,y=Math.abs(n[2]-n[0])*i):(m=Math.abs(_-n[0])*i+o,v=Math.abs(C-n[1])*i+c,b=Math.abs(n[2]-n[0])*i,y=Math.abs(n[3]-n[1])*i),this.transform=[f*i,d*i,h*i,g*i,m-f*i*_-h*i*C,v-d*i*_-g*i*C],this.width=b,this.height=y}return m(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,i=void 0===n?this.scale:n,r=t.rotation,a=void 0===r?this.rotation:r,o=t.offsetX,s=void 0===o?this.offsetX:o,c=t.offsetY,l=void 0===c?this.offsetY:c,u=t.dontFlip,f=void 0!==u&&u;return new e({viewBox:this.viewBox.slice(),scale:i,rotation:a,offsetX:s,offsetY:l,dontFlip:f})}},{key:"convertToViewportPoint",value:function(e,t){return a.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=a.Util.applyTransform([e[0],e[1]],this.transform),n=a.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(e,t){return a.Util.applyInverseTransform([e,t],this.transform)}}]),e}(),t.RenderingCancelledException=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}(n);function n(e,i){var r;return p(this,n),(r=t.call(this,e)).type=i,r}return n}(a.BaseException);var y,_={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function C(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function k(e,t){try{var n=(t?new URL(e,t):new URL(e)).protocol;return"http:"===n||"https:"===n}catch(i){return!1}}t.LinkTarget=_,t.StatTimer=function(){function e(){p(this,e),this.started=Object.create(null),this.times=[]}return m(e,[{key:"time",value:function(e){e in this.started&&(0,a.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,a.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,i=o(this.times);try{for(i.s();!(e=i.n()).done;){var r=e.value.name;r.length>n&&(n=r.length)}}catch(u){i.e(u)}finally{i.f()}var a,s=o(this.times);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=c.end-c.start;t.push("".concat(c.name.padEnd(n)," ").concat(l,"ms\n"))}}catch(u){s.e(u)}finally{s.f()}return t.join("")}}]),e}(),t.PDFDateString=function(){function e(){p(this,e)}return m(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,a.isString)(e))return null;y||(y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=y.exec(e);if(!t)return null;var n=parseInt(t[1],10),i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;var r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;var o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;var s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;var c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;var l=t[7]||"Z",u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;var f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,"-"===l?(o+=u,s+=f):"+"===l&&(o-=u,s-=f),new Date(Date.UTC(n,i,r,o,s,c))}}]),e}()},function(e,t,n){"use strict";e.exports=n(3)},function(e,t,n){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e){var n,i=Object.prototype,r=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n,i){var r=Object.create((t&&t.prototype instanceof m?t:m).prototype),a=new T(i||[]);return r._invoke=function(e,t,n){var i=f;return function(r,a){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw a;return I()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=A(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=u(e,t,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),r}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function m(){}function v(){}function b(){}var y={};y[o]=function(){return this};var _=Object.getPrototypeOf,C=_&&_(_(P([])));C&&C!==i&&r.call(C,o)&&(y=C);var k=b.prototype=m.prototype=Object.create(y);function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e,n){function i(a,o,s,c){var l=u(e[a],e,o);if("throw"!==l.type){var f=l.arg,d=f.value;return d&&"object"===t(d)&&r.call(d,"__await")?n.resolve(d.__await).then(function(e){i("next",e,s,c)},function(e){i("throw",e,s,c)}):n.resolve(d).then(function(e){f.value=e,s(f)},function(e){return i("throw",e,s,c)})}c(l.arg)}var a;this._invoke=function(e,t){function r(){return new n(function(n,r){i(e,t,n,r)})}return a=a?a.then(r,r):r()}}function A(e,t){var i=e.iterator[t.method];if(i===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,A(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=u(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:n,done:!0}}return v.prototype=k.constructor=b,b.constructor=v,b[c]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(x.prototype),x.prototype[s]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new x(l(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(k),k[c]="Generator",k[o]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,r){return s.type="throw",s.arg=e,t.next=i,r&&(t.method="next",t.arg=n),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;M(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:P(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=n),g}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(_){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(4)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=y,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var n=0,i=0;i<t;i++)n+=y(e[i]);for(var r=0,a=new Uint8Array(n),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"==typeof s?b(s):new Uint8Array(s));var c=s.byteLength;a.set(s,r),r+=c}return a},t.assert=p,t.bytesToString=function(e){p(null!==e&&"object"===i(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var n=[],r=0;r<t;r+=8192){var a=Math.min(r+8192,t),o=e.subarray(r,a);n.push(String.fromCharCode.apply(null,o))}return n.join("")},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise(function(n,i){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,i(e)}}),e},t.getVerbosityLevel=function(){return f},t.info=function(e){f>=u.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===i(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},t.isBool=function(e){return"boolean"==typeof e},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isNum=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSameOrigin=function(e,t){var n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(r){return!1}var i=new URL(t,n);return n.origin===i.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var n=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(i){}return null},t.removeNullCharacters=function(e){return"string"!=typeof e?(d("The argument for removeNullCharacters must be a string."),e):e.replace(v,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(f=e)},t.shadow=g,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=b,t.stringToPDFString=function(e){var t=e.length,n=[];if("\xfe"===e[0]&&"\xff"===e[1])for(var i=2;i<t;i+=2)n.push(String.fromCharCode(e.charCodeAt(i)<<8|e.charCodeAt(i+1)));else if("\xff"===e[0]&&"\xfe"===e[1])for(var r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r+1)<<8|e.charCodeAt(r)));else for(var a=0;a<t;++a){var o=k[e.charCodeAt(a)];n.push(o?String.fromCharCode(o):e.charAt(a))}return n.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=d,t.unreachable=h,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,n(6),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var u={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=u,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var f=u.WARNINGS;function d(e){f>=u.WARNINGS&&console.log("Warning: ".concat(e))}function h(e){throw new Error(e)}function p(e,t){e||h(t)}function g(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var m=function(){function e(t){this.constructor===e&&h("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=m,t.PasswordException=function(e){a(n,e);var t=s(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).code=i,a}return n}(m),t.UnknownErrorException=function(e){a(n,e);var t=s(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).details=i,a}return n}(m),t.InvalidPDFException=function(e){a(n,e);var t=s(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(m),t.MissingPDFException=function(e){a(n,e);var t=s(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(m),t.UnexpectedResponseException=function(e){a(n,e);var t=s(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).status=i,a}return n}(m),t.FormatError=function(e){a(n,e);var t=s(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(m),t.AbortException=function(e){a(n,e);var t=s(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(m);var v=/\x00/g;function b(e){p("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}function y(e){return void 0!==e.length?e.length:(p(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}t.IsLittleEndianCached={get value(){return g(this,"value",((e=new Uint8Array(4))[0]=1,1===new Uint32Array(e.buffer,0,1)[0]));var e}},t.IsEvalSupportedCached={get value(){return g(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};var _=["rgb(",0,",",0,",",0,")"];t.Util=function(){function e(){r(this,e)}return function(e,t,n){n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,n)}(e,0,[{key:"makeCssRgb",value:function(e,t,n){return _[1]=e,_[3]=t,_[5]=n,_.join("")}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(t,n){var i=e.applyTransform(t,n),r=e.applyTransform(t.slice(2,4),n),a=e.applyTransform([t[0],t[3]],n),o=e.applyTransform([t[2],t[1]],n);return[Math.min(i[0],r[0],a[0],o[0]),Math.min(i[1],r[1],a[1],o[1]),Math.max(i[0],r[0],a[0],o[0]),Math.max(i[1],r[1],a[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[2]*t[1]+e[3]*t[3],r=(n+i)/2,a=Math.sqrt((n+i)*(n+i)-4*(n*i-(e[2]*t[0]+e[3]*t[2])*(e[0]*t[1]+e[1]*t[3])))/2,o=r-a||1;return[Math.sqrt(r+a||1),Math.sqrt(o)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,n){function i(e,t){return e-t}var r=[t[0],t[2],n[0],n[2]].sort(i),a=[t[1],t[3],n[1],n[3]].sort(i),o=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),r[0]===t[0]&&r[1]===n[0]||r[0]===n[0]&&r[1]===t[0]?(o[0]=r[1],o[2]=r[2],a[0]===t[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===t[1]?(o[1]=a[1],o[3]=a[2],o):null):null}}]),e}();var C,k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],S=(C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n&&URL.createObjectURL){var i=new Blob([e],{type:t});return URL.createObjectURL(i)}for(var r="data:".concat(t,";base64,"),a=0,o=e.length;a<o;a+=3){var s=255&e[a],c=255&e[a+1],l=255&e[a+2],u=s>>2,f=(3&s)<<4|c>>4,d=a+1<o?(15&c)<<2|l>>6:64,h=a+2<o?63&l:64;r+=C[u]+C[f]+C[d]+C[h]}return r});t.createObjectURL=S},function(e,t,n){"use strict";var i=n(7);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}if("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked){("undefined"==typeof globalThis||globalThis.Math!==Math)&&(globalThis=n(8)),globalThis._pdfjsCompatibilityChecked=!0;var a="object"===("undefined"==typeof window?"undefined":r(window))&&"object"===("undefined"==typeof document?"undefined":r(document)),o="undefined"!=typeof navigator&&navigator.userAgent||"",s=/Trident/.test(o);globalThis.btoa||!i.isNodeJS||(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}),globalThis.atob||!i.isNodeJS||(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),!a||void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(){if(a&&!i.isNodeJS){var e=document.createElement("div");if(e.classList.add("testOne","testTwo"),!0!==e.classList.contains("testOne")||!0!==e.classList.contains("testTwo")){var t=DOMTokenList.prototype.add,n=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];t.call(this,o)}},DOMTokenList.prototype.remove=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var r=0,a=t;r<a.length;r++){var o=a[r];n.call(this,o)}}}}}(),a&&!i.isNodeJS&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(e){var t=arguments.length>1?!!arguments[1]:!this.contains(e);return this[t?"add":"remove"](e),t}),function(){if(a&&s){var e=window.history.pushState,t=window.history.replaceState;window.history.pushState=function(t,n,i){e.apply(this,void 0===i?[t,n]:[t,n,i])},window.history.replaceState=function(e,n,i){t.apply(this,void 0===i?[e,n]:[e,n,i])}}}(),String.prototype.startsWith||n(53),String.prototype.endsWith||n(64),String.prototype.includes||n(66),Array.prototype.includes||n(68),Array.from||n(76),Object.assign||n(98),Math.log2||(Math.log2=n(101)),Number.isNaN||(Number.isNaN=n(103)),Number.isInteger||(Number.isInteger=n(105)),Uint8Array.prototype.slice||n(108),globalThis.Promise&&globalThis.Promise.allSettled||(globalThis.Promise=n(113)),globalThis.URL=n(136),function(){var e=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),e=!0}catch(t){}e||(globalThis.ReadableStream=n(143).ReadableStream)}(),globalThis.Map&&globalThis.Map.prototype.entries||(globalThis.Map=n(144)),globalThis.Set&&globalThis.Set.prototype.entries||(globalThis.Set=n(151)),globalThis.WeakMap||(globalThis.WeakMap=n(153)),globalThis.WeakSet||(globalThis.WeakSet=n(159)),String.prototype.codePointAt||n(161),String.fromCodePoint||(String.fromCodePoint=n(163)),globalThis.Symbol||n(165),String.prototype.padStart||n(188),String.prototype.padEnd||n(193),Object.values||(Object.values=n(195))}},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var r="object"===("undefined"==typeof process?"undefined":i(process))&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;t.isNodeJS=r},function(e,t,n){n(9),e.exports=n(11)},function(e,t,n){n(10)({global:!0},{globalThis:n(11)})},function(e,t,n){var i=n(11),r=n(12).f,a=n(26),o=n(29),s=n(30),c=n(40),l=n(52);e.exports=function(e,t){var n,u,f,d,h,p=e.target,g=e.global,m=e.stat;if(n=g?i:m?i[p]||s(p,{}):(i[p]||{}).prototype)for(u in t){if(d=t[u],f=e.noTargetGet?(h=r(n,u))&&h.value:n[u],!l(g?u:p+(m?".":"#")+u,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),o(n,u,d,e)}}},function(e,t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||Function("return this")()},function(e,t,n){var i=n(13),r=n(15),a=n(16),o=n(17),s=n(21),c=n(23),l=n(24),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(n){}if(c(e,t))return a(!r.f.call(e,t),e[t])}},function(e,t,n){var i=n(14);e.exports=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);t.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(18),r=n(20);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(14),r=n(19),a="".split;e.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==r(e)?a.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var i=n(22);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e))||"function"==typeof(n=e.valueOf)&&!i(r=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(13),r=n(14),a=n(25);e.exports=!i&&!r(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(11),r=n(22),a=i.document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var i=n(13),r=n(27),a=n(16);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(13),r=n(24),a=n(28),o=n(21),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),r)try{return s(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(22);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var i=n(11),r=n(26),a=n(23),o=n(30),s=n(31),c=n(33),l=c.get,u=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"==typeof t&&!a(n,"name")&&r(n,"name",t),u(n).source=f.join("string"==typeof t?t:"")),e!==i?(c?!d&&e[t]&&(l=!0):delete e[t],l?e[t]=n:r(e,t,n)):l?e[t]=n:o(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||s(this)})},function(e,t,n){var i=n(11),r=n(26);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(32),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},function(e,t,n){var i=n(11),r=n(30),a="__core-js_shared__",o=i[a]||r(a,{});e.exports=o},function(e,t,n){var i,r,a,o=n(34),s=n(11),c=n(22),l=n(26),u=n(23),f=n(35),d=n(39);if(o){var h=new(0,s.WeakMap),p=h.get,g=h.has,m=h.set;i=function(e,t){return m.call(h,e,t),t},r=function(e){return p.call(h,e)||{}},a=function(e){return g.call(h,e)}}else{var v=f("state");d[v]=!0,i=function(e,t){return l(e,v,t),t},r=function(e){return u(e,v)?e[v]:{}},a=function(e){return u(e,v)}}e.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var i=n(11),r=n(31),a=i.WeakMap;e.exports="function"==typeof a&&/native code/.test(r(a))},function(e,t,n){var i=n(36),r=n(38),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},function(e,t,n){var i=n(37),r=n(32);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var i=n(23),r=n(41),a=n(12),o=n(27);e.exports=function(e,t){for(var n=r(t),s=o.f,c=a.f,l=0;l<n.length;l++){var u=n[l];i(e,u)||s(e,u,c(t,u))}}},function(e,t,n){var i=n(42),r=n(44),a=n(51),o=n(28);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){var i=n(43),r=n(11),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e])||a(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},function(e,t,n){var i=n(11);e.exports=i},function(e,t,n){var i=n(45),r=n(50).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(23),r=n(17),a=n(46).indexOf,o=n(39);e.exports=function(e,t){var n,s=r(e),c=0,l=[];for(n in s)!i(o,n)&&i(s,n)&&l.push(n);for(;t.length>c;)i(s,n=t[c++])&&(~a(l,n)||l.push(n));return l}},function(e,t,n){var i=n(17),r=n(47),a=n(49),o=function(e){return function(t,n,o){var s,c=i(t),l=r(c.length),u=a(o,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var i=n(48),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(48),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(14),r=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==l||n!=c&&("function"==typeof t?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},function(e,t,n){n(54);var i=n(61);e.exports=i("String","startsWith")},function(e,t,n){"use strict";var i,r=n(10),a=n(12).f,o=n(47),s=n(55),c=n(20),l=n(60),u=n(37),f="".startsWith,d=Math.min,h=l("startsWith");r({target:"String",proto:!0,forced:!(!u&&!h&&(i=a(String.prototype,"startsWith"),i&&!i.writable)||h)},{startsWith:function(e){var t=String(c(this));s(e);var n=o(d(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return f?f.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){var i=n(56);e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var i=n(22),r=n(19),a=n(57)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(11),r=n(36),a=n(23),o=n(38),s=n(58),c=n(59),l=r("wks"),u=i.Symbol,f=c?u:u&&u.withoutSetter||o;e.exports=function(e){return a(l,e)||(l[e]=s&&a(u,e)?u[e]:f("Symbol."+e)),l[e]}},function(e,t,n){var i=n(14);e.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(e,t,n){var i=n(58);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(57)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},function(e,t,n){var i=n(11),r=n(62),a=Function.call;e.exports=function(e,t,n){return r(a,i[e].prototype[t],n)}},function(e,t,n){var i=n(63);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){n(65);var i=n(61);e.exports=i("String","endsWith")},function(e,t,n){"use strict";var i,r=n(10),a=n(12).f,o=n(47),s=n(55),c=n(20),l=n(60),u=n(37),f="".endsWith,d=Math.min,h=l("endsWith");r({target:"String",proto:!0,forced:!(!u&&!h&&(i=a(String.prototype,"endsWith"),i&&!i.writable)||h)},{endsWith:function(e){var t=String(c(this));s(e);var n=arguments.length>1?arguments[1]:void 0,i=o(t.length),r=void 0===n?i:d(o(n),i),a=String(e);return f?f.call(t,a,r):t.slice(r-a.length,r)===a}})},function(e,t,n){n(67);var i=n(61);e.exports=i("String","includes")},function(e,t,n){"use strict";var i=n(10),r=n(55),a=n(20);i({target:"String",proto:!0,forced:!n(60)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(69);var i=n(61);e.exports=i("Array","includes")},function(e,t,n){"use strict";var i=n(10),r=n(46).includes,a=n(70);i({target:"Array",proto:!0,forced:!n(75)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){var i=n(57),r=n(71),a=n(27),o=i("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:r(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,n){var i,r=n(28),a=n(72),o=n(50),s=n(39),c=n(74),l=n(25),u=n(35),f="prototype",d="script",h=u("IE_PROTO"),p=function(){},g=function(e){return"<"+d+">"+e+"</"+d+">"},m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}m=i?function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):function(){var e,t=l("iframe");return t.style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F}();for(var e=o.length;e--;)delete m[f][o[e]];return m()};s[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p[f]=r(e),n=new p,p[f]=null,n[h]=e):n=m(),void 0===t?n:a(n,t)}},function(e,t,n){var i=n(13),r=n(27),a=n(28),o=n(73);e.exports=i?Object.defineProperties:function(e,t){a(e);for(var n,i=o(t),s=i.length,c=0;s>c;)r.f(e,n=i[c++],t[n]);return e}},function(e,t,n){var i=n(45),r=n(50);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(42);e.exports=i("document","documentElement")},function(e,t,n){var i=n(13),r=n(14),a=n(23),o=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var n=[][e],l=!!a(t,"ACCESSORS")&&t.ACCESSORS,u=a(t,0)?t[0]:c,f=a(t,1)?t[1]:void 0;return s[e]=!!n&&!r(function(){if(l&&!i)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,u,f)})}},function(e,t,n){n(77),n(89);var i=n(43);e.exports=i.Array.from},function(e,t,n){"use strict";var i=n(78).charAt,r=n(33),a=n(79),o="String Iterator",s=r.set,c=r.getterFor(o);a(String,"String",function(e){s(this,{type:o,string:String(e),index:0})},function(){var e,t=c(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){var i=n(48),r=n(20),a=function(e){return function(t,n){var a,o,s=String(r(t)),c=i(n),l=s.length;return c<0||c>=l?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){"use strict";var i=n(10),r=n(80),a=n(82),o=n(87),s=n(85),c=n(26),l=n(29),u=n(57),f=n(37),d=n(86),h=n(81),p=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,m=u("iterator"),v="keys",b="values",y="entries",_=function(){return this};e.exports=function(e,t,n,u,h,C,k){r(n,t,u);var S,x,A,w=function(e){if(e===h&&O)return O;if(!g&&e in P)return P[e];switch(e){case v:case b:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",T=!1,P=e.prototype,I=P[m]||P["@@iterator"]||h&&P[h],O=!g&&I||w(h),j="Array"==t&&P.entries||I;if(j&&(S=a(j.call(new e)),p!==Object.prototype&&S.next&&(!f&&a(S)!==p&&(o?o(S,p):"function"!=typeof S[m]&&c(S,m,_)),s(S,M,!0,!0),f&&(d[M]=_))),h==b&&I&&I.name!==b&&(T=!0,O=function(){return I.call(this)}),(!f||k)&&P[m]!==O&&c(P,m,O),d[t]=O,h)if(x={values:w(b),keys:C?O:w(v),entries:w(y)},k)for(A in x)(g||T||!(A in P))&&l(P,A,x[A]);else i({target:t,proto:!0,forced:g||T},x);return x}},function(e,t,n){"use strict";var i=n(81).IteratorPrototype,r=n(71),a=n(16),o=n(85),s=n(86),c=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=r(i,{next:a(1,n)}),o(e,l,!1,!0),s[l]=c,e}},function(e,t,n){"use strict";var i,r,a,o=n(82),s=n(26),c=n(23),l=n(57),u=n(37),f=l("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(r=o(o(a)))!==Object.prototype&&(i=r):d=!0),null==i&&(i={}),!u&&!c(i,f)&&s(i,f,function(){return this}),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var i=n(23),r=n(83),a=n(35),o=n(84),s=a("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=r(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t,n){var i=n(20);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(14);e.exports=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var i=n(27).f,r=n(23),a=n(57)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,n){var i=n(28),r=n(88);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(a){}return function(n,a){return i(n),r(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var i=n(22);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var i=n(10),r=n(90);i({target:"Array",stat:!0,forced:!n(97)(function(e){Array.from(e)})},{from:r})},function(e,t,n){"use strict";var i=n(62),r=n(83),a=n(91),o=n(92),s=n(47),c=n(93),l=n(94);e.exports=function(e){var t,n,u,f,d,h,p=r(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,b=void 0!==v,y=l(p),_=0;if(b&&(v=i(v,m>2?arguments[2]:void 0,2)),null==y||g==Array&&o(y))for(n=new g(t=s(p.length));t>_;_++)h=b?v(p[_],_):p[_],c(n,_,h);else for(d=(f=y.call(p)).next,n=new g;!(u=d.call(f)).done;_++)h=b?a(f,v,[u.value,_],!0):u.value,c(n,_,h);return n.length=_,n}},function(e,t,n){var i=n(28);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(o){var a=e.return;throw void 0!==a&&i(a.call(e)),o}}},function(e,t,n){var i=n(57),r=n(86),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},function(e,t,n){"use strict";var i=n(21),r=n(27),a=n(16);e.exports=function(e,t,n){var o=i(t);o in e?r.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){var i=n(95),r=n(86),a=n(57)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||r[i(e)]}},function(e,t,n){var i=n(96),r=n(19),a=n(57)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),a))?n:o?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var i={};i[n(57)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){var i=n(57)("iterator"),r=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,function(){throw 2})}catch(s){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(o){}return n}},function(e,t,n){n(99);var i=n(43);e.exports=i.Object.assign},function(e,t,n){var i=n(10),r=n(100);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var i=n(13),r=n(14),a=n(73),o=n(51),s=n(15),c=n(83),l=n(18),u=Object.assign,f=Object.defineProperty;e.exports=!u||r(function(){if(i&&1!==u({b:1},u(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||a(u({},t)).join("")!=r})?function(e,t){for(var n=c(e),r=arguments.length,u=1,f=o.f,d=s.f;r>u;)for(var h,p=l(arguments[u++]),g=f?a(p).concat(f(p)):a(p),m=g.length,v=0;m>v;)h=g[v++],(!i||d.call(p,h))&&(n[h]=p[h]);return n}:u},function(e,t,n){n(102);var i=n(43);e.exports=i.Math.log2},function(e,t,n){var i=n(10),r=Math.log,a=Math.LN2;i({target:"Math",stat:!0},{log2:function(e){return r(e)/a}})},function(e,t,n){n(104);var i=n(43);e.exports=i.Number.isNaN},function(e,t,n){n(10)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){n(106);var i=n(43);e.exports=i.Number.isInteger},function(e,t,n){n(10)({target:"Number",stat:!0},{isInteger:n(107)})},function(e,t,n){var i=n(22),r=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},function(e,t,n){n(109)},function(e,t,n){"use strict";var i=n(110),r=n(112),a=n(14),o=i.aTypedArray,s=i.aTypedArrayConstructor,c=[].slice;(0,i.exportTypedArrayMethod)("slice",function(e,t){for(var n=c.call(o(this),e,t),i=r(this,this.constructor),a=0,l=n.length,u=new(s(i))(l);l>a;)u[a]=n[a++];return u},a(function(){new Int8Array(1).slice()}))},function(e,t,n){"use strict";var i,r=n(111),a=n(13),o=n(11),s=n(22),c=n(23),l=n(95),u=n(26),f=n(29),d=n(27).f,h=n(82),p=n(87),g=n(57),m=n(38),v=o.Int8Array,b=v&&v.prototype,y=o.Uint8ClampedArray,_=y&&y.prototype,C=v&&h(v),k=b&&h(b),S=Object.prototype,x=S.isPrototypeOf,A=g("toStringTag"),w=m("TYPED_ARRAY_TAG"),M=r&&!!p&&"Opera"!==l(o.opera),T=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I=function(e){return s(e)&&c(P,l(e))};for(i in P)o[i]||(M=!1);if((!M||"function"!=typeof C||C===Function.prototype)&&(C=function(){throw TypeError("Incorrect invocation")},M))for(i in P)o[i]&&p(o[i],C);if((!M||!k||k===S)&&(k=C.prototype,M))for(i in P)o[i]&&p(o[i].prototype,k);if(M&&h(_)!==k&&p(_,k),a&&!c(k,A))for(i in T=!0,d(k,A,{get:function(){return s(this)?this[w]:void 0}}),P)o[i]&&u(o[i],w,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:T&&w,aTypedArray:function(e){if(I(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(p){if(x.call(C,e))return e}else for(var t in P)if(c(P,i)){var n=o[t];if(n&&(e===n||x.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(a){if(n)for(var i in P){var r=o[i];r&&c(r.prototype,e)&&delete r.prototype[e]}(!k[e]||n)&&f(k,e,n?t:M&&b[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,r;if(a){if(p){if(n)for(i in P)(r=o[i])&&c(r,e)&&delete r[e];if(C[e]&&!n)return;try{return f(C,e,n?t:M&&v[e]||t)}catch(s){}}for(i in P)(r=o[i])&&(!r[e]||n)&&f(r,e,t)}},isView:function(e){var t=l(e);return"DataView"===t||c(P,t)},isTypedArray:I,TypedArray:C,TypedArrayPrototype:k}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){var i=n(28),r=n(63),a=n(57)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||null==(n=i(o)[a])?t:r(n)}},function(e,t,n){n(114),n(77),n(116),n(119),n(134),n(135);var i=n(43);e.exports=i.Promise},function(e,t,n){var i=n(96),r=n(29),a=n(115);i||r(Object.prototype,"toString",a,{unsafe:!0})},function(e,t,n){"use strict";var i=n(96),r=n(95);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,n){var i=n(11),r=n(117),a=n(118),o=n(26),s=n(57),c=s("iterator"),l=s("toStringTag"),u=a.values;for(var f in r){var d=i[f],h=d&&d.prototype;if(h){if(h[c]!==u)try{o(h,c,u)}catch(g){h[c]=u}if(h[l]||o(h,l,f),r[f])for(var p in a)if(h[p]!==a[p])try{o(h,p,a[p])}catch(g){h[p]=a[p]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var i=n(17),r=n(70),a=n(86),o=n(33),s=n(79),c="Array Iterator",l=o.set,u=o.getterFor(c);e.exports=s(Array,"Array",function(e,t){l(this,{type:c,target:i(e),index:0,kind:t})},function(){var e=u(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var i,r,a,o,s=n(10),c=n(37),l=n(11),u=n(42),f=n(120),d=n(29),h=n(121),p=n(85),g=n(122),m=n(22),v=n(63),b=n(123),y=n(19),_=n(31),C=n(124),k=n(97),S=n(112),x=n(125).set,A=n(128),w=n(129),M=n(131),T=n(130),P=n(132),I=n(33),O=n(52),j=n(57),E=n(133),L=j("species"),N="Promise",R=I.get,D=I.set,Z=I.getterFor(N),F=f,U=l.TypeError,q=l.document,B=l.process,H=u("fetch"),Y=T.f,V=Y,J="process"==y(B),Q=!!(q&&q.createEvent&&l.dispatchEvent),z="unhandledrejection",G=O(N,function(){if(_(F)===String(F)&&(66===E||!J&&"function"!=typeof PromiseRejectionEvent)||c&&!F.prototype.finally)return!0;if(E>=51&&/native code/.test(F))return!1;var e=F.resolve(1),t=function(e){e(function(){},function(){})};return(e.constructor={})[L]=t,!(e.then(function(){})instanceof t)}),W=G||!k(function(e){F.all(e).catch(function(){})}),$=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},K=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;A(function(){for(var r=t.value,a=1==t.state,o=0;i.length>o;){var s,c,l,u=i[o++],f=a?u.ok:u.fail,d=u.resolve,h=u.reject,p=u.domain;try{f?(a||(2===t.rejection&&ne(e,t),t.rejection=1),!0===f?s=r:(p&&p.enter(),s=f(r),p&&(p.exit(),l=!0)),s===u.promise?h(U("Promise-chain cycle")):(c=$(s))?c.call(s,d,h):d(s)):h(r)}catch(g){p&&!l&&p.exit(),h(g)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ee(e,t)})}},X=function(e,t,n){var i,r;Q?((i=q.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),l.dispatchEvent(i)):i={promise:t,reason:n},(r=l["on"+e])?r(i):e===z&&M("Unhandled promise rejection",n)},ee=function(e,t){x.call(l,function(){var n,i=t.value;if(te(t)&&(n=P(function(){J?B.emit("unhandledRejection",i,e):X(z,e,i)}),t.rejection=J||te(t)?2:1,n.error))throw n.value})},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e,t){x.call(l,function(){J?B.emit("rejectionHandled",e):X("rejectionhandled",e,t.value)})},ie=function(e,t,n,i){return function(r){e(t,n,r,i)}},re=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=2,K(e,t,!0))},ae=function e(t,n,i,r){if(!n.done){n.done=!0,r&&(n=r);try{if(t===i)throw U("Promise can't be resolved itself");var a=$(i);a?A(function(){var r={done:!1};try{a.call(i,ie(e,t,r,n),ie(re,t,r,n))}catch(o){re(t,r,o,n)}}):(n.value=i,n.state=1,K(t,n,!1))}catch(o){re(t,{done:!1},o,n)}}};G&&(F=function(e){b(this,F,N),v(e),i.call(this);var t=R(this);try{e(ie(ae,this,t),ie(re,this,t))}catch(n){re(this,t,n)}},(i=function(e){D(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(F.prototype,{then:function(e,t){var n=Z(this),i=Y(S(this,F));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=J?B.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&K(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=R(e);this.promise=e,this.resolve=ie(ae,e,t),this.reject=ie(re,e,t)},T.f=Y=function(e){return e===F||e===a?new r(e):V(e)},!c&&"function"==typeof f&&(o=f.prototype.then,d(f.prototype,"then",function(e,t){var n=this;return new F(function(e,t){o.call(n,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof H&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return w(F,H.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:G},{Promise:F}),p(F,N,!1,!0),g(N),a=u(N),s({target:N,stat:!0,forced:G},{reject:function(e){var t=Y(this);return t.reject.call(void 0,e),t.promise}}),s({target:N,stat:!0,forced:c||G},{resolve:function(e){return w(c&&this===a?F:this,e)}}),s({target:N,stat:!0,forced:W},{all:function(e){var t=this,n=Y(t),i=n.resolve,r=n.reject,a=P(function(){var n=v(t.resolve),a=[],o=0,s=1;C(e,function(e){var c=o++,l=!1;a.push(void 0),s++,n.call(t,e).then(function(e){l||(l=!0,a[c]=e,--s||i(a))},r)}),--s||i(a)});return a.error&&r(a.value),n.promise},race:function(e){var t=this,n=Y(t),i=n.reject,r=P(function(){var r=v(t.resolve);C(e,function(e){r.call(t,e).then(n.resolve,i)})});return r.error&&i(r.value),n.promise}})},function(e,t,n){var i=n(11);e.exports=i.Promise},function(e,t,n){var i=n(29);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){"use strict";var i=n(42),r=n(27),a=n(57),o=n(13),s=a("species");e.exports=function(e){var t=i(e);o&&t&&!t[s]&&(0,r.f)(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var i=n(28),r=n(92),a=n(47),o=n(62),s=n(94),c=n(91),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,f){var d,h,p,g,m,v,b,y=o(t,n,u?2:1);if(f)d=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(r(h)){for(p=0,g=a(e.length);g>p;p++)if((m=u?y(i(b=e[p])[0],b[1]):y(e[p]))&&m instanceof l)return m;return new l(!1)}d=h.call(e)}for(v=d.next;!(b=v.call(d)).done;)if("object"==typeof(m=c(d,y,b.value,u))&&m&&m instanceof l)return m;return new l(!1)}).stop=function(e){return new l(!0,e)}},function(e,t,n){var i,r,a,o=n(11),s=n(14),c=n(19),l=n(62),u=n(74),f=n(25),d=n(126),h=o.location,p=o.setImmediate,g=o.clearImmediate,m=o.process,v=o.MessageChannel,b=o.Dispatch,y=0,_={},C="onreadystatechange",k=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},S=function(e){return function(){k(e)}},x=function(e){k(e.data)},A=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};(!p||!g)&&(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(y),y},g=function(e){delete _[e]},"process"==c(m)?i=function(e){m.nextTick(S(e))}:b&&b.now?i=function(e){b.now(S(e))}:v&&!d?(a=(r=new v).port2,r.port1.onmessage=x,i=l(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(A)||"file:"===h.protocol?i=C in f("script")?function(e){u.appendChild(f("script"))[C]=function(){u.removeChild(this),k(e)}}:function(e){setTimeout(S(e),0)}:(i=A,o.addEventListener("message",x,!1))),e.exports={set:p,clear:g}},function(e,t,n){var i=n(127);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},function(e,t,n){var i=n(42);e.exports=i("navigator","userAgent")||""},function(e,t,n){var i,r,a,o,s,c,l,u,f=n(11),d=n(12).f,h=n(19),p=n(125).set,g=n(126),m=f.MutationObserver||f.WebKitMutationObserver,v=f.process,b=f.Promise,y="process"==h(v),_=d(f,"queueMicrotask"),C=_&&_.value;C||(i=function(){var e,t;for(y&&(e=v.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(n){throw r?o():a=void 0,n}}a=void 0,e&&e.enter()},y?o=function(){v.nextTick(i)}:m&&!g?(s=!0,c=document.createTextNode(""),new m(i).observe(c,{characterData:!0}),o=function(){c.data=s=!s}):b&&b.resolve?(l=b.resolve(void 0),u=l.then,o=function(){u.call(l,i)}):o=function(){p.call(f,i)}),e.exports=C||function(e){var t={fn:e,next:void 0};a&&(a.next=t),r||(r=t,o()),a=t}},function(e,t,n){var i=n(28),r=n(22),a=n(130);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(63),r=function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},function(e,t,n){var i=n(11);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(e,t,n){var i,r,a=n(11),o=n(127),s=a.process,c=s&&s.versions,l=c&&c.v8;l?r=(i=l.split("."))[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=i[1]),e.exports=r&&+r},function(e,t,n){"use strict";var i=n(10),r=n(63),a=n(130),o=n(132),s=n(124);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),i=n.resolve,c=n.reject,l=o(function(){var n=r(t.resolve),a=[],o=0,c=1;s(e,function(e){var r=o++,s=!1;a.push(void 0),c++,n.call(t,e).then(function(e){s||(s=!0,a[r]={status:"fulfilled",value:e},--c||i(a))},function(e){s||(s=!0,a[r]={status:"rejected",reason:e},--c||i(a))})}),--c||i(a)});return l.error&&c(l.value),n.promise}})},function(e,t,n){"use strict";var i=n(10),r=n(37),a=n(120),o=n(14),s=n(42),c=n(112),l=n(129),u=n(29);i({target:"Promise",proto:!0,real:!0,forced:!!a&&o(function(){a.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=c(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then(function(){return n})}:e,n?function(n){return l(t,e()).then(function(){throw n})}:e)}}),!r&&"function"==typeof a&&!a.prototype.finally&&u(a.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){n(137),n(142),n(140);var i=n(43);e.exports=i.URL},function(e,t,n){"use strict";n(77);var i,r=n(10),a=n(13),o=n(138),s=n(11),c=n(72),l=n(29),u=n(123),f=n(23),d=n(100),h=n(90),p=n(78).codeAt,g=n(139),m=n(85),v=n(140),b=n(33),y=s.URL,_=v.URLSearchParams,C=v.getState,k=b.set,S=b.getterFor("URL"),x=Math.floor,A=Math.pow,w="Invalid scheme",M="Invalid host",T="Invalid port",P=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,O=/\d/,j=/^(0x|0X)/,E=/^[0-7]+$/,L=/^\d+$/,N=/^[\dA-Fa-f]+$/,R=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Z=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,U=function(e,t){var n,i,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1)||!(n=B(t.slice(1,-1))))return M;e.host=n}else if(W(e)){if(t=g(t),R.test(t)||null===(n=q(t)))return M;e.host=n}else{if(D.test(t))return M;for(n="",i=h(t),r=0;r<i.length;r++)n+=z(i[r],Y);e.host=n}},q=function(e){var t,n,i,r,a,o,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(r=c[i]))return e;if(a=10,r.length>1&&"0"==r.charAt(0)&&(a=j.test(r)?16:8,r=r.slice(8==a?1:2)),""===r)o=0;else{if(!(10==a?L:8==a?E:N).test(r))return e;o=parseInt(r,a)}n.push(o)}for(i=0;i<t;i++)if(o=n[i],i==t-1){if(o>=A(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*A(256,3-i);return s},B=function(e){var t,n,i,r,a,o,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,u=++l}for(;d();){if(8==l)return;if(":"!=d()){for(t=n=0;n<4&&N.test(d());)t=16*t+parseInt(d(),16),f++,n++;if("."==d()){if(0==n||(f-=n,l>6))return;for(i=0;d();){if(r=null,i>0){if(!("."==d()&&i<4))return;f++}if(!O.test(d()))return;for(;O.test(d());){if(a=parseInt(d(),10),null===r)r=a;else{if(0==r)return;r=10*r+a}if(r>255)return;f++}c[l]=256*c[l]+r,(2==++i||4==i)&&l++}if(4!=i)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;c[l++]=t}else{if(null!==u)return;f++,u=++l}}if(null!==u)for(o=l-u,l=7;0!=l&&o>0;)s=c[l],c[l--]=c[u+o-1],c[u+--o]=s;else if(8!=l)return;return c},H=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=x(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,a=0;a<8;a++)0!==e[a]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},Y={},V=d({},Y,{" ":1,'"':1,"<":1,">":1,"`":1}),J=d({},V,{"#":1,"?":1,"{":1,"}":1}),Q=d({},J,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(e,t){var n=p(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},G={ftp:21,file:null,http:80,https:443,ws:80,wss:443},W=function(e){return f(G,e.scheme)},$=function(e){return""!=e.username||""!=e.password},K=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},X=function(e,t){var n;return 2==e.length&&P.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ee=function(e){var t;return e.length>1&&X(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},te=function(e){var t=e.path,n=t.length;n&&("file"!=e.scheme||1!=n||!X(t[0],!0))&&t.pop()},ne=function(e){return"."===e||"%2e"===e.toLowerCase()},ie=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},re={},ae={},oe={},se={},ce={},le={},ue={},fe={},de={},he={},pe={},ge={},me={},ve={},be={},ye={},_e={},Ce={},ke={},Se={},xe={},Ae=function(e,t,n,r){var a,o,s,c,l=n||re,u=0,d="",p=!1,g=!1,m=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(Z,"")),t=t.replace(F,""),a=h(t);u<=a.length;){switch(o=a[u],l){case re:if(!o||!P.test(o)){if(n)return w;l=oe;continue}d+=o.toLowerCase(),l=ae;break;case ae:if(o&&(I.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(n)return w;d="",l=oe,u=0;continue}if(n&&(W(e)!=f(G,d)||"file"==d&&($(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,n)return void(W(e)&&G[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?l=ve:W(e)&&r&&r.scheme==e.scheme?l=se:W(e)?l=fe:"/"==a[u+1]?(l=ce,u++):(e.cannotBeABaseURL=!0,e.path.push(""),l=ke)}break;case oe:if(!r||r.cannotBeABaseURL&&"#"!=o)return w;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,l=xe;break}l="file"==r.scheme?ve:le;continue;case se:if("/"!=o||"/"!=a[u+1]){l=le;continue}l=de,u++;break;case ce:if("/"==o){l=he;break}l=Ce;continue;case le:if(e.scheme=r.scheme,o==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&W(e))l=ue;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",l=Se;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),l=Ce;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",l=xe}break;case ue:if(!W(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,l=Ce;continue}l=he}else l=de;break;case fe:if(l=de,"/"!=o||"/"!=d.charAt(u+1))continue;u++;break;case de:if("/"!=o&&"\\"!=o){l=he;continue}break;case he:if("@"==o){p&&(d="%40"+d),p=!0,s=h(d);for(var v=0;v<s.length;v++){var b=s[v];if(":"!=b||m){var y=z(b,Q);m?e.password+=y:e.username+=y}else m=!0}d=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&W(e)){if(p&&""==d)return"Invalid authority";u-=h(d).length+1,d="",l=pe}else d+=o;break;case pe:case ge:if(n&&"file"==e.scheme){l=ye;continue}if(":"!=o||g){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&W(e)){if(W(e)&&""==d)return M;if(n&&""==d&&($(e)||null!==e.port))return;if(c=U(e,d))return c;if(d="",l=_e,n)return;continue}"["==o?g=!0:"]"==o&&(g=!1),d+=o}else{if(""==d)return M;if(c=U(e,d))return c;if(d="",l=me,n==ge)return}break;case me:if(!O.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&W(e)||n){if(""!=d){var _=parseInt(d,10);if(_>65535)return T;e.port=W(e)&&_===G[e.scheme]?null:_,d=""}if(n)return;l=_e;continue}return T}d+=o;break;case ve:if(e.scheme="file","/"==o||"\\"==o)l=be;else{if(!r||"file"!=r.scheme){l=Ce;continue}if(o==i)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",l=Se;else{if("#"!=o){ee(a.slice(u).join(""))||(e.host=r.host,e.path=r.path.slice(),te(e)),l=Ce;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",l=xe}}break;case be:if("/"==o||"\\"==o){l=ye;break}r&&"file"==r.scheme&&!ee(a.slice(u).join(""))&&(X(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),l=Ce;continue;case ye:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&X(d))l=Ce;else if(""==d){if(e.host="",n)return;l=_e}else{if(c=U(e,d))return c;if("localhost"==e.host&&(e.host=""),n)return;d="",l=_e}continue}d+=o;break;case _e:if(W(e)){if(l=Ce,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=i&&(l=Ce,"/"!=o))continue}else e.fragment="",l=xe;else e.query="",l=Se;break;case Ce:if(o==i||"/"==o||"\\"==o&&W(e)||!n&&("?"==o||"#"==o)){if(ie(d)?(te(e),"/"!=o&&!("\\"==o&&W(e))&&e.path.push("")):ne(d)?"/"!=o&&!("\\"==o&&W(e))&&e.path.push(""):("file"==e.scheme&&!e.path.length&&X(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(o==i||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",l=Se):"#"==o&&(e.fragment="",l=xe)}else d+=z(o,J);break;case ke:"?"==o?(e.query="",l=Se):"#"==o?(e.fragment="",l=xe):o!=i&&(e.path[0]+=z(o,Y));break;case Se:n||"#"!=o?o!=i&&("'"==o&&W(e)?e.query+="%27":e.query+="#"==o?"%23":z(o,Y)):(e.fragment="",l=xe);break;case xe:o!=i&&(e.fragment+=z(o,V))}u++}},we=function e(t){var n,i,r=u(this,e,"URL"),o=arguments.length>1?arguments[1]:void 0,s=String(t),c=k(r,{type:"URL"});if(void 0!==o)if(o instanceof e)n=S(o);else if(i=Ae(n={},String(o)))throw TypeError(i);if(i=Ae(c,s,null,n))throw TypeError(i);var l=c.searchParams=new _,f=C(l);f.updateSearchParams(c.query),f.updateURL=function(){c.query=String(l)||null},a||(r.href=Te.call(r),r.origin=Pe.call(r),r.protocol=Ie.call(r),r.username=Oe.call(r),r.password=je.call(r),r.host=Ee.call(r),r.hostname=Le.call(r),r.port=Ne.call(r),r.pathname=Re.call(r),r.search=De.call(r),r.searchParams=Ze.call(r),r.hash=Fe.call(r))},Me=we.prototype,Te=function(){var e=S(this),t=e.scheme,n=e.username,i=e.password,r=e.host,a=e.port,o=e.path,s=e.query,c=e.fragment,l=t+":";return null!==r?(l+="//",$(e)&&(l+=n+(i?":"+i:"")+"@"),l+=H(r),null!==a&&(l+=":"+a)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},Pe=function(){var e=S(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(i){return"null"}return"file"!=t&&W(e)?t+"://"+H(e.host)+(null!==n?":"+n:""):"null"},Ie=function(){return S(this).scheme+":"},Oe=function(){return S(this).username},je=function(){return S(this).password},Ee=function(){var e=S(this),t=e.host,n=e.port;return null===t?"":null===n?H(t):H(t)+":"+n},Le=function(){var e=S(this).host;return null===e?"":H(e)},Ne=function(){var e=S(this).port;return null===e?"":String(e)},Re=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},De=function(){var e=S(this).query;return e?"?"+e:""},Ze=function(){return S(this).searchParams},Fe=function(){var e=S(this).fragment;return e?"#"+e:""},Ue=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&c(Me,{href:Ue(Te,function(e){var t=S(this),n=String(e),i=Ae(t,n);if(i)throw TypeError(i);C(t.searchParams).updateSearchParams(t.query)}),origin:Ue(Pe),protocol:Ue(Ie,function(e){var t=S(this);Ae(t,String(e)+":",re)}),username:Ue(Oe,function(e){var t=S(this),n=h(String(e));if(!K(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=z(n[i],Q)}}),password:Ue(je,function(e){var t=S(this),n=h(String(e));if(!K(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=z(n[i],Q)}}),host:Ue(Ee,function(e){var t=S(this);t.cannotBeABaseURL||Ae(t,String(e),pe)}),hostname:Ue(Le,function(e){var t=S(this);t.cannotBeABaseURL||Ae(t,String(e),ge)}),port:Ue(Ne,function(e){var t=S(this);K(t)||(""==(e=String(e))?t.port=null:Ae(t,e,me))}),pathname:Ue(Re,function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],Ae(t,e+"",_e))}),search:Ue(De,function(e){var t=S(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ae(t,e,Se)),C(t.searchParams).updateSearchParams(t.query)}),searchParams:Ue(Ze),hash:Ue(Fe,function(e){var t=S(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ae(t,e,xe)):t.fragment=null})}),l(Me,"toJSON",function(){return Te.call(this)},{enumerable:!0}),l(Me,"toString",function(){return Te.call(this)},{enumerable:!0}),y){var qe=y.createObjectURL,Be=y.revokeObjectURL;qe&&l(we,"createObjectURL",function(e){return qe.apply(y,arguments)}),Be&&l(we,"revokeObjectURL",function(e){return Be.apply(y,arguments)})}m(we,"URL"),r({global:!0,forced:!o,sham:!a},{URL:we})},function(e,t,n){var i=n(14),r=n(57),a=n(37),o=r("iterator");e.exports=!i(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach(function(e,i){t.delete("b"),n+=i+e}),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},function(e,t,n){"use strict";var i=2147483647,r=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",s=Math.floor,c=String.fromCharCode,l=function(e){return e+22+75*(e<26)},u=function(e,t,n){var i=0;for(e=n?s(e/700):e>>1,e+=s(e/t);e>455;i+=36)e=s(e/35);return s(i+36*e/(e+38))},f=function(e){var t,n,r=[],a=(e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&r)<<10)+(1023&a)+65536):(t.push(r),n--)}else t.push(r)}return t}(e)).length,f=128,d=0,h=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(c(n));var p=r.length,g=p;for(p&&r.push("-");g<a;){var m=i;for(t=0;t<e.length;t++)(n=e[t])>=f&&n<m&&(m=n);var v=g+1;if(m-f>s((i-d)/v))throw RangeError(o);for(d+=(m-f)*v,f=m,t=0;t<e.length;t++){if((n=e[t])<f&&++d>i)throw RangeError(o);if(n==f){for(var b=d,y=36;;y+=36){var _=y<=h?1:y>=h+26?26:y-h;if(b<_)break;var C=b-_,k=36-_;r.push(c(l(_+C%k))),b=s(C/k)}r.push(c(l(b))),h=u(d,v,g==p),d=0,++g}}++d,++f}return r.join("")};e.exports=function(e){var t,n,i=[],o=e.toLowerCase().replace(a,".").split(".");for(t=0;t<o.length;t++)i.push(r.test(n=o[t])?"xn--"+f(n):n);return i.join(".")}},function(e,t,n){"use strict";n(118);var i=n(10),r=n(42),a=n(138),o=n(29),s=n(121),c=n(85),l=n(80),u=n(33),f=n(123),d=n(23),h=n(62),p=n(95),g=n(28),m=n(22),v=n(71),b=n(16),y=n(141),_=n(94),C=n(57),k=r("fetch"),S=r("Headers"),x=C("iterator"),A="URLSearchParams",w=A+"Iterator",M=u.set,T=u.getterFor(A),P=u.getterFor(w),I=/\+/g,O=Array(4),j=function(e){return O[e-1]||(O[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},E=function(e){try{return decodeURIComponent(e)}catch(t){return e}},L=function(e){var t=e.replace(I," "),n=4;try{return decodeURIComponent(t)}catch(i){for(;n;)t=t.replace(j(n--),E);return t}},N=/[!'()~]|%20/g,R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(e){return R[e]},Z=function(e){return encodeURIComponent(e).replace(N,D)},F=function(e,t){if(t)for(var n,i,r=t.split("&"),a=0;a<r.length;)(n=r[a++]).length&&(i=n.split("="),e.push({key:L(i.shift()),value:L(i.join("="))}))},U=function(e){this.entries.length=0,F(this.entries,e)},q=function(e,t){if(e<t)throw TypeError("Not enough arguments")},B=l(function(e,t){M(this,{type:w,iterator:y(T(e).entries),kind:t})},"Iterator",function(){var e=P(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n}),H=function e(){f(this,e,A);var t,n,i,r,a,o,s,c,l,u=arguments.length>0?arguments[0]:void 0,h=this,p=[];if(M(h,{type:A,entries:p,updateURL:function(){},updateSearchParams:U}),void 0!==u)if(m(u))if("function"==typeof(t=_(u)))for(i=(n=t.call(u)).next;!(r=i.call(n)).done;){if((s=(o=(a=y(g(r.value))).next).call(a)).done||(c=o.call(a)).done||!o.call(a).done)throw TypeError("Expected sequence with length 2");p.push({key:s.value+"",value:c.value+""})}else for(l in u)d(u,l)&&p.push({key:l,value:u[l]+""});else F(p,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},Y=H.prototype;s(Y,{append:function(e,t){q(arguments.length,2);var n=T(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){q(arguments.length,1);for(var t=T(this),n=t.entries,i=e+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;t.updateURL()},get:function(e){q(arguments.length,1);for(var t=T(this).entries,n=e+"",i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){q(arguments.length,1);for(var t=T(this).entries,n=e+"",i=[],r=0;r<t.length;r++)t[r].key===n&&i.push(t[r].value);return i},has:function(e){q(arguments.length,1);for(var t=T(this).entries,n=e+"",i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){q(arguments.length,1);for(var n,i=T(this),r=i.entries,a=!1,o=e+"",s=t+"",c=0;c<r.length;c++)(n=r[c]).key===o&&(a?r.splice(c--,1):(a=!0,n.value=s));a||r.push({key:o,value:s}),i.updateURL()},sort:function(){var e,t,n,i=T(this),r=i.entries,a=r.slice();for(r.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===n&&r.push(e)}i.updateURL()},forEach:function(e){for(var t,n=T(this).entries,i=h(e,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),o(Y,x,Y.entries),o(Y,"toString",function(){for(var e,t=T(this).entries,n=[],i=0;i<t.length;)e=t[i++],n.push(Z(e.key)+"="+Z(e.value));return n.join("&")},{enumerable:!0}),c(H,A),i({global:!0,forced:!a},{URLSearchParams:H}),!a&&"function"==typeof k&&"function"==typeof S&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,i,r=[e];return arguments.length>1&&(m(t=arguments[1])&&p(n=t.body)===A&&((i=t.headers?new S(t.headers):new S).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:b(0,String(n)),headers:b(0,i)})),r.push(t)),k.apply(this,r)}}),e.exports={URLSearchParams:H,getState:T}},function(e,t,n){var i=n(28),r=n(94);e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},function(e,t,n){"use strict";n(10)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){!function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol("+e+")"};function n(){}var i=Number.isNaN||function(e){return e!=e},r=n;function a(e){return"object"==typeof e&&null!==e||"function"==typeof e}function o(e){return e.slice()}function s(e,t,n,i,r){new Uint8Array(e).set(new Uint8Array(n,i,r),t)}function c(e){return!(!1===function(e){return!("number"!=typeof e||i(e)||e<0)}(e)||e===1/0)}function l(e,t,n){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function u(e,t,n,i){var r=e[t];if(void 0!==r){if("function"!=typeof r)throw new TypeError(r+" is not a method");switch(n){case 0:return function(){return d(r,e,i)};case 1:return function(t){var n=[t].concat(i);return d(r,e,n)}}}return function(){return _(void 0)}}function f(e,t,n){var i=e[t];if(void 0!==i)return l(i,e,n)}function d(e,t,n){try{return _(l(e,t,n))}catch(i){return C(i)}}function h(e){if(e=Number(e),i(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e}function p(e){if(void 0===e)return function(){return 1};if("function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return function(t){return e(t)}}var g=Promise,m=Promise.prototype.then,v=Promise.resolve.bind(g),b=Promise.reject.bind(g);function y(e){return new g(e)}function _(e){return v(e)}function C(e){return b(e)}function k(e,t,n){return m.call(e,t,n)}function S(e,t,n){k(k(e,t,n),void 0,r)}function x(e,t){S(e,t)}function A(e,t){S(e,void 0,t)}function w(e,t,n){return k(e,t,n)}function M(e){k(e,void 0,r)}var T=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.push=function(e){var t=this._back,n=t;16383===t._elements.length&&(n={_elements:[],_next:void 0}),t._elements.push(e),n!==t&&(this._back=n,t._next=n),++this._size},e.prototype.shift=function(){var e=this._front,t=e,n=this._cursor,i=n+1,r=e._elements,a=r[n];return 16384===i&&(t=e._next,i=0),--this._size,this._cursor=i,e!==t&&(this._front=t),r[n]=void 0,a},e.prototype.forEach=function(e){for(var t=this._cursor,n=this._front,i=n._elements;!(t===i.length&&void 0===n._next||t===i.length&&(n=n._next,i=n._elements,t=0,0===i.length));)e(i[t]),++t},e.prototype.peek=function(){return this._front._elements[this._cursor]},e}();function P(e,t,n){var i=null;!0===n&&(i=Object.prototype);var r=Object.create(i);return r.value=e,r.done=t,r}function I(e,t){e._forAuthorCode=!0,e._ownerReadableStream=t,t._reader=e,"readable"===t._state?L(e):"closed"===t._state?function(e){L(e),D(e)}(e):N(e,t._storedError)}function O(e,t){return Ft(e._ownerReadableStream,t)}function j(e){"readable"===e._ownerReadableStream._state?R(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){N(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function E(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function L(e){e._closedPromise=y(function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n})}function N(e,t){L(e),R(e,t)}function R(e,t){M(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function D(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}var Z=t("[[CancelSteps]]"),F=t("[[PullSteps]]");function U(e,t){void 0===t&&(t=!1);var n=new Q(e);return n._forAuthorCode=t,n}function q(e){return y(function(t,n){e._reader._readRequests.push({_resolve:t,_reject:n})})}function B(e,t,n){var i=e._reader;i._readRequests.shift()._resolve(P(t,n,i._forAuthorCode))}function H(e){return e._reader._readRequests.length}function Y(e){var t=e._reader;return!(void 0===t||!z(t))}var V,J,Q=function(){function e(e){if(!1===Dt(e))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Zt(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");I(this,e),this._readRequests=new T}return Object.defineProperty(e.prototype,"closed",{get:function(){return z(this)?this._closedPromise:C(W("closed"))},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return z(this)?void 0===this._ownerReadableStream?C(E("cancel")):O(this,e):C(W("cancel"))},e.prototype.read=function(){return z(this)?void 0===this._ownerReadableStream?C(E("read from")):G(this):C(W("read"))},e.prototype.releaseLock=function(){if(!z(this))throw W("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");j(this)}},e}();function z(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests"))}function G(e){var t=e._ownerReadableStream;return t._disturbed=!0,"closed"===t._state?_(P(void 0,!0,e._forAuthorCode)):"errored"===t._state?C(t._storedError):t._readableStreamController[F]()}function W(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof t.asyncIterator&&((V={})[t.asyncIterator]=function(){return this},J=V,Object.defineProperty(J,t.asyncIterator,{enumerable:!1}));var $={next:function(){if(!1===K(this))return C(X("next"));var e=this._asyncIteratorReader;return void 0===e._ownerReadableStream?C(E("iterate")):w(G(e),function(t){var n=t.done;return n&&j(e),P(t.value,n,!0)})},return:function(e){if(!1===K(this))return C(X("next"));var t=this._asyncIteratorReader;if(void 0===t._ownerReadableStream)return C(E("finish iterating"));if(t._readRequests.length>0)return C(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._preventCancel){var n=O(t,e);return j(t),w(n,function(){return P(e,!0,!0)})}return j(t),_(P(e,!0,!0))}};function K(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorReader"))}function X(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}function ee(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function te(e,t,n){if(!c(n=Number(n)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function ne(e){e._queue=new T,e._queueTotalSize=0}void 0!==J&&Object.setPrototypeOf($,J),Object.defineProperty($,"next",{enumerable:!1}),Object.defineProperty($,"return",{enumerable:!1});var ie=t("[[AbortSteps]]"),re=t("[[ErrorSteps]]"),ae=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),se(this);var n=t.size,i=t.highWaterMark;if(void 0!==e.type)throw new RangeError("Invalid type is specified");var r=p(n);void 0===i&&(i=1),function(e,t,n,i){var r=Object.create(xe.prototype);var a=u(t,"write",1,[r]),o=u(t,"close",0,[]),s=u(t,"abort",1,[]);Ae(e,r,function(){return f(t,"start",[r])},a,o,s,n,i)}(this,e,i=h(i),r)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!1===ce(this))throw je("locked");return le(this)},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){return!1===ce(this)?C(je("abort")):!0===le(this)?C(new TypeError("Cannot abort a stream that already has a writer")):ue(this,e)},e.prototype.close=function(){return!1===ce(this)?C(je("close")):!0===le(this)?C(new TypeError("Cannot close a stream that already has a writer")):!0===ge(this)?C(new TypeError("Cannot close an already-closing stream")):fe(this)},e.prototype.getWriter=function(){if(!1===ce(this))throw je("getWriter");return oe(this)},e}();function oe(e){return new be(e)}function se(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new T,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ce(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController"))}function le(e){return void 0!==e._writer}function ue(e,t){var n=e._state;if("closed"===n||"errored"===n)return _(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var i=!1;"erroring"===n&&(i=!0,t=void 0);var r=y(function(n,r){e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:r,_reason:t,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=r,!1===i&&he(e,t),r}function fe(e){var t=e._state;if("closed"===t||"errored"===t)return C(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"));var n=y(function(t,n){e._closeRequest={_resolve:t,_reject:n}}),i=e._writer;return void 0!==i&&!0===e._backpressure&&"writable"===t&&He(i),function(e){te(e,"close",0),Te(e)}(e._writableStreamController),n}function de(e,t){"writable"!==e._state?pe(e):he(e,t)}function he(e,t){var n=e._writableStreamController;e._state="erroring",e._storedError=t;var i=e._writer;void 0!==i&&Ce(i,t),!1===function(e){return!(void 0===e._inFlightWriteRequest&&void 0===e._inFlightCloseRequest)}(e)&&!0===n._started&&pe(e)}function pe(e){e._state="errored",e._writableStreamController[re]();var t=e._storedError;if(e._writeRequests.forEach(function(e){e._reject(t)}),e._writeRequests=new T,void 0!==e._pendingAbortRequest){var n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===n._wasAlreadyErroring)return n._reject(t),void me(e);S(e._writableStreamController[ie](n._reason),function(){n._resolve(),me(e)},function(t){n._reject(t),me(e)})}else me(e)}function ge(e){return!(void 0===e._closeRequest&&void 0===e._inFlightCloseRequest)}function me(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&De(t,e._storedError)}function ve(e,t){var n=e._writer;void 0!==n&&t!==e._backpressure&&(!0===t?function(e){Fe(e)}(n):He(n)),e._backpressure=t}var be=function(){function e(e){if(!1===ce(e))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===le(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state;if("writable"===t)!1===ge(e)&&!0===e._backpressure?Fe(this):qe(this),Ne(this);else if("erroring"===t)Ue(this,e._storedError),Ne(this);else if("closed"===t)qe(this),function(e){Ne(e),Ze(e)}(this);else{var n=e._storedError;Ue(this,n),Re(this,n)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return!1===ye(this)?C(Ee("closed")):this._closedPromise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===ye(this))throw Ee("desiredSize");if(void 0===this._ownerWritableStream)throw Le("desiredSize");return function(e){var t=e._ownerWritableStream,n=t._state;return"errored"===n||"erroring"===n?null:"closed"===n?0:Me(t._writableStreamController)}(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return!1===ye(this)?C(Ee("ready")):this._readyPromise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){return!1===ye(this)?C(Ee("abort")):void 0===this._ownerWritableStream?C(Le("abort")):function(e,t){return ue(e._ownerWritableStream,t)}(this,e)},e.prototype.close=function(){if(!1===ye(this))return C(Ee("close"));var e=this._ownerWritableStream;return void 0===e?C(Le("close")):!0===ge(e)?C(new TypeError("Cannot close an already-closing stream")):_e(this)},e.prototype.releaseLock=function(){if(!1===ye(this))throw Ee("releaseLock");void 0!==this._ownerWritableStream&&ke(this)},e.prototype.write=function(e){return!1===ye(this)?C(Ee("write")):void 0===this._ownerWritableStream?C(Le("write to")):Se(this,e)},e}();function ye(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream"))}function _e(e){return fe(e._ownerWritableStream)}function Ce(e,t){"pending"===e._readyPromiseState?Be(e,t):function(e,t){Ue(e,t)}(e,t)}function ke(e){var t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ce(e,n),function(e,t){"pending"===e._closedPromiseState?De(e,t):function(e,t){Re(e,t)}(e,t)}(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function Se(e,t){var n=e._ownerWritableStream,i=n._writableStreamController,r=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(n){return Pe(e,n),1}}(i,t);if(n!==e._ownerWritableStream)return C(Le("write to"));var a=n._state;if("errored"===a)return C(n._storedError);if(!0===ge(n)||"closed"===a)return C(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return C(n._storedError);var o=function(e){return y(function(t,n){e._writeRequests.push({_resolve:t,_reject:n})})}(n);return function(e,t,n){var i={chunk:t};try{te(e,i,n)}catch(o){return void Pe(e,o)}var r=e._controlledWritableStream;!1===ge(r)&&"writable"===r._state&&ve(r,Ie(e)),Te(e)}(i,t,r),o}var xe=function(){function e(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return e.prototype.error=function(e){if(!1===function(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&Oe(this,e)},e.prototype[ie]=function(e){var t=this._abortAlgorithm(e);return we(this),t},e.prototype[re]=function(){ne(this)},e}();function Ae(e,t,n,i,r,a,o,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,ne(t),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._writeAlgorithm=i,t._closeAlgorithm=r,t._abortAlgorithm=a;var c=Ie(t);ve(e,c),S(_(n()),function(){t._started=!0,Te(t)},function(n){t._started=!0,de(e,n)})}function we(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Me(e){return e._strategyHWM-e._queueTotalSize}function Te(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){if("erroring"===t._state)return void pe(t);if(0!==e._queue.length){var n=function(e){return e._queue.peek().value}(e);"close"===n?function(e){var t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),ee(e);var n=e._closeAlgorithm();we(e),S(n,function(){!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&Ze(t)}(t)},function(e){!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),de(e,t)}(t,e)})}(e):function(e,t){var n=e._controlledWritableStream;(function(e){e._inFlightWriteRequest=e._writeRequests.shift()})(n),S(e._writeAlgorithm(t),function(){!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(n);var t=n._state;if(ee(e),!1===ge(n)&&"writable"===t){var i=Ie(e);ve(n,i)}Te(e)},function(t){"writable"===n._state&&we(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,de(e,t)}(n,t)})}(e,n.chunk)}}}function Pe(e,t){"writable"===e._controlledWritableStream._state&&Oe(e,t)}function Ie(e){return Me(e)<=0}function Oe(e,t){var n=e._controlledWritableStream;we(e),he(n,t)}function je(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Ee(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function Le(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Ne(e){e._closedPromise=y(function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"})}function Re(e,t){Ne(e),De(e,t)}function De(e,t){M(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function Ze(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function Fe(e){e._readyPromise=y(function(t,n){e._readyPromise_resolve=t,e._readyPromise_reject=n}),e._readyPromiseState="pending"}function Ue(e,t){Fe(e),Be(e,t)}function qe(e){Fe(e),He(e)}function Be(e,t){M(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function He(e){e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function Ye(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(t){return!1}}var Ve,Je="undefined"!=typeof DOMException?DOMException:void 0,Qe=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(t){return!1}}(Je)?Je:((Ve=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(Ve.prototype,"constructor",{value:Ve,writable:!0,configurable:!0}),Ve);function ze(e,t,i,r,a,o){var s=U(e),c=oe(t);e._disturbed=!0;var l=!1,u=_(void 0);return y(function(f,d){var h,p,g;if(void 0!==o){if(h=function(){var n=new Qe("Aborted","AbortError"),i=[];!1===r&&i.push(function(){return"writable"===t._state?ue(t,n):_(void 0)}),!1===a&&i.push(function(){return"readable"===e._state?Ft(e,n):_(void 0)}),w(function(){return Promise.all(i.map(function(e){return e()}))},!0,n)},!0===o.aborted)return void h();o.addEventListener("abort",h)}if(b(e,s._closedPromise,function(e){!1===r?w(function(){return ue(t,e)},!0,e):T(!0,e)}),b(t,c._closedPromise,function(t){!1===a?w(function(){return Ft(e,t)},!0,t):T(!0,t)}),p=s._closedPromise,g=function(){!1===i?w(function(){return function(e){var t=e._ownerWritableStream,n=t._state;return!0===ge(t)||"closed"===n?_(void 0):"errored"===n?C(t._storedError):_e(e)}(c)}):T()},"closed"===e._state?g():x(p,g),!0===ge(t)||"closed"===t._state){var m=new TypeError("the destination writable stream closed before all data could be piped to it");!1===a?w(function(){return Ft(e,m)},!0,m):T(!0,m)}function v(){var e=u;return k(u,function(){return e!==u?v():void 0})}function b(e,t,n){"errored"===e._state?n(e._storedError):A(t,n)}function w(e,n,i){function r(){S(e(),function(){return P(n,i)},function(e){return P(!0,e)})}!0!==l&&(l=!0,"writable"===t._state&&!1===ge(t)?x(v(),r):r())}function T(e,n){!0!==l&&(l=!0,"writable"===t._state&&!1===ge(t)?x(v(),function(){return P(e,n)}):P(e,n))}function P(e,t){ke(c),j(s),void 0!==o&&o.removeEventListener("abort",h),e?d(t):f(void 0)}M(y(function(e,t){!function i(r){r?e():k(!0===l?_(!0):k(c._readyPromise,function(){return k(G(s),function(e){return!0===e.done||(u=k(Se(c,e.value),void 0,n),!1)})}),i,t)}(!1)}))})}var Ge=function(){function e(){throw new TypeError}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===We(this))throw ot("desiredSize");return it(this)},enumerable:!0,configurable:!0}),e.prototype.close=function(){if(!1===We(this))throw ot("close");if(!1===rt(this))throw new TypeError("The stream is not in a state that permits close");et(this)},e.prototype.enqueue=function(e){if(!1===We(this))throw ot("enqueue");if(!1===rt(this))throw new TypeError("The stream is not in a state that permits enqueue");return tt(this,e)},e.prototype.error=function(e){if(!1===We(this))throw ot("error");nt(this,e)},e.prototype[Z]=function(e){ne(this);var t=this._cancelAlgorithm(e);return Xe(this),t},e.prototype[F]=function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=ee(this);return!0===this._closeRequested&&0===this._queue.length?(Xe(this),Ut(e)):$e(this),_(P(t,!1,e._reader._forAuthorCode))}var n=q(e);return $e(this),n},e}();function We(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream"))}function $e(e){if(!1!==Ke(e)){if(!0===e._pulling)return void(e._pullAgain=!0);e._pulling=!0,S(e._pullAlgorithm(),function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,$e(e))},function(t){nt(e,t)})}}function Ke(e){var t=e._controlledReadableStream;return!1!==rt(e)&&!1!==e._started&&(!0===Zt(t)&&H(t)>0||it(e)>0)}function Xe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function et(e){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Xe(e),Ut(t))}function tt(e,t){var n=e._controlledReadableStream;if(!0===Zt(n)&&H(n)>0)B(n,t,!1);else{var i=void 0;try{i=e._strategySizeAlgorithm(t)}catch(r){throw nt(e,r),r}try{te(e,t,i)}catch(r){throw nt(e,r),r}}$e(e)}function nt(e,t){var n=e._controlledReadableStream;"readable"===n._state&&(ne(e),Xe(e),qt(n,t))}function it(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function rt(e){return!1===e._closeRequested&&"readable"===e._controlledReadableStream._state}function at(e,t,n,i,r,a,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,ne(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._pullAlgorithm=i,t._cancelAlgorithm=r,e._readableStreamController=t,S(_(n()),function(){t._started=!0,$e(t)},function(e){nt(t,e)})}function ot(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}var st=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},ct=function(){function e(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!1===ft(this))throw wt("view");return this._view},enumerable:!0,configurable:!0}),e.prototype.respond=function(e){if(!1===ft(this))throw wt("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){if(!1===c(t=Number(t)))throw new RangeError("bytesWritten must be a finite");Ct(e,t)}(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!1===ft(this))throw wt("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");!function(e,t){var n=e._pendingPullIntos.peek();if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");n.buffer=t.buffer,Ct(e,t.byteLength)}(this._associatedReadableByteStreamController,e)},e}(),lt=function(){function e(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!1===ut(this))throw Mt("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(ct.prototype);(function(e,t,n){e._associatedReadableByteStreamController=t,e._view=n})(n,this,t),this._byobRequest=n}return this._byobRequest},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===ut(this))throw Mt("desiredSize");return At(this)},enumerable:!0,configurable:!0}),e.prototype.close=function(){if(!1===ut(this))throw Mt("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");!function(e){var t=e._controlledReadableByteStream;if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw xt(e,n),n}St(e),Ut(t)}}(this)},e.prototype.enqueue=function(e){if(!1===ut(this))throw Mt("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");!function(e,t){var n=e._controlledReadableByteStream,i=t.byteOffset,r=t.byteLength,a=t.buffer;!0===Y(n)?0===H(n)?gt(e,a,i,r):B(n,new Uint8Array(a,i,r),!1):!0===It(n)?(gt(e,a,i,r),_t(e)):gt(e,a,i,r),dt(e)}(this,e)},e.prototype.error=function(e){if(!1===ut(this))throw Mt("error");xt(this,e)},e.prototype[Z]=function(e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),ne(this);var t=this._cancelAlgorithm(e);return St(this),t},e.prototype[F]=function(){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var t=this._queue.shift();this._queueTotalSize-=t.byteLength,bt(this);var n=void 0;try{n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(s){return C(s)}return _(P(n,!1,e._reader._forAuthorCode))}var i=this._autoAllocateChunkSize;if(void 0!==i){var r=void 0;try{r=new ArrayBuffer(i)}catch(s){return C(s)}var a={buffer:r,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(a)}var o=q(e);return dt(this),o},e}();function ut(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream"))}function ft(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController"))}function dt(e){if(!1!==function(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&!0!==e._closeRequested&&!1!==e._started&&(!0===Y(t)&&H(t)>0||!0===It(t)&&Pt(t)>0||At(e)>0)}(e)){if(!0===e._pulling)return void(e._pullAgain=!0);e._pulling=!0,S(e._pullAlgorithm(),function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,dt(e))},function(t){xt(e,t)})}}function ht(e,t){var n=!1;"closed"===e._state&&(n=!0);var i=pt(t);"default"===t.readerType?B(e,i,n):function(e,t,n){var i=e._reader;i._readIntoRequests.shift()._resolve(P(t,n,i._forAuthorCode))}(e,i,n)}function pt(e){return new e.ctor(e.buffer,e.byteOffset,e.bytesFilled/e.elementSize)}function gt(e,t,n,i){e._queue.push({buffer:t,byteOffset:n,byteLength:i}),e._queueTotalSize+=i}function mt(e,t){var n=t.elementSize,i=t.bytesFilled-t.bytesFilled%n,r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+r,o=a-a%n,c=r,l=!1;o>i&&(c=o-t.bytesFilled,l=!0);for(var u=e._queue;c>0;){var f=u.peek(),d=Math.min(c,f.byteLength);s(t.buffer,t.byteOffset+t.bytesFilled,f.buffer,f.byteOffset,d),f.byteLength===d?u.shift():(f.byteOffset+=d,f.byteLength-=d),e._queueTotalSize-=d,vt(e,d,t),c-=d}return l}function vt(e,t,n){yt(e),n.bytesFilled+=t}function bt(e){0===e._queueTotalSize&&!0===e._closeRequested?(St(e),Ut(e._controlledReadableByteStream)):dt(e)}function yt(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function _t(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();!0===mt(e,t)&&(kt(e),ht(e._controlledReadableByteStream,t))}}function Ct(e,t){var n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=t.buffer;var n=e._controlledReadableByteStream;if(!0===It(n))for(;Pt(n)>0;)ht(n,kt(e))}(e,n)}else!function(e,t,n){if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range");if(vt(e,t,n),!(n.bytesFilled<n.elementSize)){kt(e);var i=n.bytesFilled%n.elementSize;if(i>0){var r=n.byteOffset+n.bytesFilled,a=n.buffer.slice(r-i,r);gt(e,a,0,a.byteLength)}n.buffer=n.buffer,n.bytesFilled-=i,ht(e._controlledReadableByteStream,n),_t(e)}}(e,t,n);dt(e)}function kt(e){var t=e._pendingPullIntos.shift();return yt(e),t}function St(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function xt(e,t){var n=e._controlledReadableByteStream;"readable"===n._state&&(function(e){yt(e),e._pendingPullIntos=new T}(e),ne(e),St(e),qt(n,t))}function At(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function wt(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function Mt(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function Tt(e){return y(function(t,n){e._reader._readIntoRequests.push({_resolve:t,_reject:n})})}function Pt(e){return e._reader._readIntoRequests.length}function It(e){var t=e._reader;return!(void 0===t||!jt(t))}var Ot=function(){function e(e){if(!Dt(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===ut(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Zt(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");I(this,e),this._readIntoRequests=new T}return Object.defineProperty(e.prototype,"closed",{get:function(){return jt(this)?this._closedPromise:C(Et("closed"))},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return jt(this)?void 0===this._ownerReadableStream?C(E("cancel")):O(this,e):C(Et("cancel"))},e.prototype.read=function(e){return jt(this)?void 0===this._ownerReadableStream?C(E("read from")):ArrayBuffer.isView(e)?0===e.byteLength?C(new TypeError("view must have non-zero byteLength")):function(e,t){var n=e._ownerReadableStream;return n._disturbed=!0,"errored"===n._state?C(n._storedError):function(e,t){var n=e._controlledReadableByteStream,i=1;t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT);var r=t.constructor,a={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,ctor:r,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),Tt(n);if("closed"===n._state)return _(P(new r(a.buffer,a.byteOffset,0),!0,n._reader._forAuthorCode));if(e._queueTotalSize>0){if(!0===mt(e,a)){var o=pt(a);return bt(e),_(P(o,!1,n._reader._forAuthorCode))}if(!0===e._closeRequested){var s=new TypeError("Insufficient bytes to fill elements in the given buffer");return xt(e,s),C(s)}}e._pendingPullIntos.push(a);var c=Tt(n);return dt(e),c}(n._readableStreamController,t)}(this,e):C(new TypeError("view must be an array buffer view")):C(Et("read"))},e.prototype.releaseLock=function(){if(!jt(this))throw Et("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");j(this)}},e}();function jt(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests"))}function Et(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}var Lt=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Rt(this);var n=t.size,i=t.highWaterMark,r=e.type;if("bytes"===String(r)){if(void 0!==n)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===i&&(i=0),function(e,t,n){var i=Object.create(lt.prototype),r=u(t,"pull",0,[i]),a=u(t,"cancel",1,[]),o=t.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===st(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(e,t,n,i,r,a,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=void 0,t._queue=t._queueTotalSize=void 0,ne(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=h(a),t._pullAlgorithm=i,t._cancelAlgorithm=r,t._autoAllocateChunkSize=o,t._pendingPullIntos=new T,e._readableStreamController=t,S(_(n()),function(){t._started=!0,dt(t)},function(e){xt(t,e)})}(e,i,function(){return f(t,"start",[i])},r,a,n,o)}(this,e,i=h(i))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var a=p(n);void 0===i&&(i=1),function(e,t,n,i){var r=Object.create(Ge.prototype),a=u(t,"pull",0,[r]),o=u(t,"cancel",1,[]);at(e,r,function(){return f(t,"start",[r])},a,o,n,i)}(this,e,i=h(i),a)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!1===Dt(this))throw Bt("locked");return Zt(this)},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return!1===Dt(this)?C(Bt("cancel")):!0===Zt(this)?C(new TypeError("Cannot cancel a stream that already has a reader")):Ft(this,e)},e.prototype.getReader=function(e){var t=(void 0===e?{}:e).mode;if(!1===Dt(this))throw Bt("getReader");if(void 0===t)return U(this,!0);if("byob"===(t=String(t)))return function(e,t){void 0===t&&(t=!1);var n=new Ot(e);return n._forAuthorCode=t,n}(this,!0);throw new RangeError("Invalid mode is specified")},e.prototype.pipeThrough=function(e,t){var n=e.writable,i=e.readable,r=void 0===t?{}:t,a=r.preventClose,o=r.preventAbort,s=r.preventCancel,c=r.signal;if(!1===Dt(this))throw Bt("pipeThrough");if(!1===ce(n))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===Dt(i))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(a=Boolean(a),o=Boolean(o),s=Boolean(s),void 0!==c&&!Ye(c))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Zt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===le(n))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return M(ze(this,n,a,o,s,c)),i},e.prototype.pipeTo=function(e,t){var n=void 0===t?{}:t,i=n.preventClose,r=n.preventAbort,a=n.preventCancel,o=n.signal;return!1===Dt(this)?C(Bt("pipeTo")):!1===ce(e)?C(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(i=Boolean(i),r=Boolean(r),a=Boolean(a),void 0===o||Ye(o)?!0===Zt(this)?C(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===le(e)?C(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ze(this,e,i,r,a,o):C(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},e.prototype.tee=function(){if(!1===Dt(this))throw Bt("tee");return o(function(e,t){var n,i,r,a,s,c=U(e),l=!1,u=!1,f=!1,d=y(function(e){s=e});function h(){return!0===l||(l=!0,M(w(G(c),function(e){if(l=!1,!0===e.done)return!1===u&&et(r._readableStreamController),void(!1===f&&et(a._readableStreamController));var t=e.value,n=t;!1===u&&tt(r._readableStreamController,t),!1===f&&tt(a._readableStreamController,n)}))),_(void 0)}function p(){}return r=Nt(p,h,function(t){if(u=!0,n=t,!0===f){var r=o([n,i]),a=Ft(e,r);s(a)}return d}),a=Nt(p,h,function(t){if(f=!0,i=t,!0===u){var r=o([n,i]),a=Ft(e,r);s(a)}return d}),A(c._closedPromise,function(e){nt(r._readableStreamController,e),nt(a._readableStreamController,e)}),[r,a]}(this))},e.prototype.getIterator=function(e){var t=(void 0===e?{}:e).preventCancel,n=void 0!==t&&t;if(!1===Dt(this))throw Bt("getIterator");return function(e,t){void 0===t&&(t=!1);var n=U(e),i=Object.create($);return i._asyncIteratorReader=n,i._preventCancel=Boolean(t),i}(this,n)},e}();function Nt(e,t,n,i,r){void 0===i&&(i=1),void 0===r&&(r=function(){return 1});var a=Object.create(Lt.prototype);return Rt(a),at(a,Object.create(Ge.prototype),e,t,n,i,r),a}function Rt(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Dt(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController"))}function Zt(e){return void 0!==e._reader}function Ft(e,t){return e._disturbed=!0,"closed"===e._state?_(void 0):"errored"===e._state?C(e._storedError):(Ut(e),w(e._readableStreamController[Z](t),n))}function Ut(e){e._state="closed";var t=e._reader;void 0!==t&&(z(t)&&(t._readRequests.forEach(function(e){e._resolve(P(void 0,!0,t._forAuthorCode))}),t._readRequests=new T),D(t))}function qt(e,t){e._state="errored",e._storedError=t;var n=e._reader;void 0!==n&&(z(n)?(n._readRequests.forEach(function(e){e._reject(t)}),n._readRequests=new T):(n._readIntoRequests.forEach(function(e){e._reject(t)}),n._readIntoRequests=new T),R(n,t))}function Bt(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}"symbol"==typeof t.asyncIterator&&Object.defineProperty(Lt.prototype,t.asyncIterator,{value:Lt.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Ht=function(){function e(e){this.highWaterMark=e.highWaterMark}return e.prototype.size=function(e){return e.byteLength},e}(),Yt=function(){function e(e){this.highWaterMark=e.highWaterMark}return e.prototype.size=function(){return 1},e}(),Vt=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={});var i=t.size,r=t.highWaterMark,a=n.size,o=n.highWaterMark;if(void 0!==e.writableType)throw new RangeError("Invalid writable type specified");var s=p(i);if(void 0===r&&(r=1),r=h(r),void 0!==e.readableType)throw new RangeError("Invalid readable type specified");var c,l=p(a);void 0===o&&(o=0),o=h(o),function(e,t,n,i,r,a){function o(){return t}e._writable=function(e,t,n,i,r,a){void 0===r&&(r=1),void 0===a&&(a=function(){return 1});var o=Object.create(ae.prototype);return se(o),Ae(o,Object.create(xe.prototype),e,t,n,i,r,a),o}(o,function(t){return function(e,t){var n=e._transformStreamController;return!0===e._backpressure?w(e._backpressureChangePromise,function(){var i=e._writable;if("erroring"===i._state)throw i._storedError;return en(n,t)}):en(n,t)}(e,t)},function(){return function(e){var t=e._readable,n=e._transformStreamController,i=n._flushAlgorithm();return Kt(n),w(i,function(){if("errored"===t._state)throw t._storedError;var e=t._readableStreamController;!0===rt(e)&&et(e)},function(n){throw Qt(e,n),t._storedError})}(e)},function(t){return function(e,t){return Qt(e,t),_(void 0)}(e,t)},n,i),e._readable=Nt(o,function(){return function(e){return Gt(e,!1),e._backpressureChangePromise}(e)},function(t){return zt(e,t),_(void 0)},r,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Gt(e,!0),e._transformStreamController=void 0}(this,y(function(e){c=e}),r,s,o,l),function(e,t){var n=Object.create(Wt.prototype),i=function(e){try{return Xt(n,e),_(void 0)}catch(o){return C(o)}},r=t.transform;if(void 0!==r){if("function"!=typeof r)throw new TypeError("transform is not a method");i=function(e){return d(r,t,[e,n])}}var a=u(t,"flush",0,[n]);!function(e,t,n,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=i}(e,n,i,a)}(this,e);var g=f(e,"start",[this._transformStreamController]);c(g)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!1===Jt(this))throw nn("readable");return this._readable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!1===Jt(this))throw nn("writable");return this._writable},enumerable:!0,configurable:!0}),e}();function Jt(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController"))}function Qt(e,t){nt(e._readable._readableStreamController,t),zt(e,t)}function zt(e,t){Kt(e._transformStreamController),Pe(e._writable._writableStreamController,t),!0===e._backpressure&&Gt(e,!1)}function Gt(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=y(function(t){e._backpressureChangePromise_resolve=t}),e._backpressure=t}var Wt=function(){function e(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===$t(this))throw tn("desiredSize");return it(this._controlledTransformStream._readable._readableStreamController)},enumerable:!0,configurable:!0}),e.prototype.enqueue=function(e){if(!1===$t(this))throw tn("enqueue");Xt(this,e)},e.prototype.error=function(e){if(!1===$t(this))throw tn("error");!function(e,t){Qt(e._controlledTransformStream,t)}(this,e)},e.prototype.terminate=function(){if(!1===$t(this))throw tn("terminate");!function(e){var t=e._controlledTransformStream,n=t._readable._readableStreamController;!0===rt(n)&&et(n),zt(t,new TypeError("TransformStream terminated"))}(this)},e}();function $t(e){return!(!a(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream"))}function Kt(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Xt(e,t){var n=e._controlledTransformStream,i=n._readable._readableStreamController;if(!1===rt(i))throw new TypeError("Readable side is not in a state that permits enqueue");try{tt(i,t)}catch(r){throw zt(n,r),n._readable._storedError}(function(e){return!0!==Ke(e)})(i)!==n._backpressure&&Gt(n,!0)}function en(e,t){return w(e._transformAlgorithm(t),void 0,function(t){throw Qt(e._controlledTransformStream,t),t})}function tn(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function nn(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.ByteLengthQueuingStrategy=Ht,e.CountQueuingStrategy=Yt,e.ReadableStream=Lt,e.TransformStream=Vt,e.WritableStream=ae,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){n(145),n(114),n(77),n(116);var i=n(43);e.exports=i.Map},function(e,t,n){"use strict";var i=n(146),r=n(150);e.exports=i("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r)},function(e,t,n){"use strict";var i=n(10),r=n(11),a=n(52),o=n(29),s=n(147),c=n(124),l=n(123),u=n(22),f=n(14),d=n(97),h=n(85),p=n(149);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),v=g?"set":"add",b=r[e],y=b&&b.prototype,_=b,C={},k=function(e){var t=y[e];o(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof b||!(m||y.forEach&&!f(function(){(new b).entries().next()}))))_=n.getConstructor(t,e,g,v),s.REQUIRED=!0;else if(a(e,!0)){var S=new _,x=S[v](m?{}:-0,1)!=S,A=f(function(){S.has(1)}),w=d(function(e){new b(e)}),M=!m&&f(function(){for(var e=new b,t=5;t--;)e[v](t,t);return!e.has(-0)});w||((_=t(function(t,n){l(t,_,e);var i=p(new b,t,_);return null!=n&&c(n,i[v],i,g),i})).prototype=y,y.constructor=_),(A||M)&&(k("delete"),k("has"),g&&k("get")),(M||x)&&k(v),m&&y.clear&&delete y.clear}return C[e]=_,i({global:!0,forced:_!=b},C),h(_,e),m||n.setStrong(_,e,g),_}},function(e,t,n){var i=n(39),r=n(22),a=n(23),o=n(27).f,s=n(38),c=n(148),l=s("meta"),u=0,f=Object.isExtensible||function(){return!0},d=function(e){o(e,l,{value:{objectID:"O"+ ++u,weakData:{}}})},h=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,l)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[l].objectID},getWeakData:function(e,t){if(!a(e,l)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[l].weakData},onFreeze:function(e){return c&&h.REQUIRED&&f(e)&&!a(e,l)&&d(e),e}};i[l]=!0},function(e,t,n){var i=n(14);e.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){var i=n(22),r=n(87);e.exports=function(e,t,n){var a,o;return r&&"function"==typeof(a=t.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&r(e,o),e}},function(e,t,n){"use strict";var i=n(27).f,r=n(71),a=n(121),o=n(62),s=n(123),c=n(124),l=n(79),u=n(122),f=n(13),d=n(147).fastKey,h=n(33),p=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,l){var u=e(function(e,i){s(e,u,t),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=i&&c(i,e[l],e,n)}),h=g(t),m=function(e,t,n){var i,r,a=h(e),o=v(e,t);return o?o.value=n:(a.last=o={index:r=d(t,!0),key:t,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=o),i&&(i.next=o),f?a.size++:e.size++,"F"!==r&&(a.index[r]=o)),e},v=function(e,t){var n,i=h(e),r=d(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return a(u.prototype,{clear:function(){for(var e=h(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=this,n=h(t),i=v(t,e);if(i){var r=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=r),r&&(r.previous=a),n.first==i&&(n.first=r),n.last==i&&(n.last=a),f?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=h(this),i=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),a(u.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&i(u.prototype,"size",{get:function(){return h(this).size}}),u},setStrong:function(e,t,n){var i=t+" Iterator",r=g(t),a=g(i);l(e,t,function(e,t){p(this,{type:i,target:e,state:r(e),kind:t,last:void 0})},function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),u(t)}}},function(e,t,n){n(152),n(114),n(77),n(116);var i=n(43);e.exports=i.Set},function(e,t,n){"use strict";var i=n(146),r=n(150);e.exports=i("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r)},function(e,t,n){n(114),n(154),n(116);var i=n(43);e.exports=i.WeakMap},function(e,t,n){"use strict";var i,r=n(11),a=n(121),o=n(147),s=n(146),c=n(155),l=n(22),u=n(33).enforce,f=n(34),d=!r.ActiveXObject&&"ActiveXObject"in r,h=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=e.exports=s("WeakMap",p,c);if(f&&d){i=c.getConstructor(p,"WeakMap",!0),o.REQUIRED=!0;var m=g.prototype,v=m.delete,b=m.has,y=m.get,_=m.set;a(m,{delete:function(e){if(l(e)&&!h(e)){var t=u(this);return t.frozen||(t.frozen=new i),v.call(this,e)||t.frozen.delete(e)}return v.call(this,e)},has:function(e){if(l(e)&&!h(e)){var t=u(this);return t.frozen||(t.frozen=new i),b.call(this,e)||t.frozen.has(e)}return b.call(this,e)},get:function(e){if(l(e)&&!h(e)){var t=u(this);return t.frozen||(t.frozen=new i),b.call(this,e)?y.call(this,e):t.frozen.get(e)}return y.call(this,e)},set:function(e,t){if(l(e)&&!h(e)){var n=u(this);n.frozen||(n.frozen=new i),b.call(this,e)?_.call(this,e,t):n.frozen.set(e,t)}else _.call(this,e,t);return this}})}},function(e,t,n){"use strict";var i=n(121),r=n(147).getWeakData,a=n(28),o=n(22),s=n(123),c=n(124),l=n(156),u=n(23),f=n(33),d=f.set,h=f.getterFor,p=l.find,g=l.findIndex,m=0,v=function(e){return e.frozen||(e.frozen=new b)},b=function(){this.entries=[]},y=function(e,t){return p(e.entries,function(e){return e[0]===t})};b.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,l){var f=e(function(e,i){s(e,f,t),d(e,{type:t,id:m++,frozen:void 0}),null!=i&&c(i,e[l],e,n)}),p=h(t),g=function(e,t,n){var i=p(e),o=r(a(t),!0);return!0===o?v(i).set(t,n):o[i.id]=n,e};return i(f.prototype,{delete:function(e){var t=p(this);if(!o(e))return!1;var n=r(e);return!0===n?v(t).delete(e):n&&u(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!o(e))return!1;var n=r(e);return!0===n?v(t).has(e):n&&u(n,t.id)}}),i(f.prototype,n?{get:function(e){var t=p(this);if(o(e)){var n=r(e);return!0===n?v(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),f}}},function(e,t,n){var i=n(62),r=n(18),a=n(83),o=n(47),s=n(157),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,f=6==e,d=5==e||f;return function(h,p,g,m){for(var v,b,y=a(h),_=r(y),C=i(p,g,3),k=o(_.length),S=0,x=m||s,A=t?x(h,k):n?x(h,0):void 0;k>S;S++)if((d||S in _)&&(b=C(v=_[S],S,y),e))if(t)A[S]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:c.call(A,v)}else if(u)return!1;return f?-1:l||u?u:A}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,n){var i=n(22),r=n(158),a=n(57)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var i=n(19);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){n(114),n(160),n(116);var i=n(43);e.exports=i.WeakSet},function(e,t,n){"use strict";n(146)("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n(155))},function(e,t,n){n(162);var i=n(61);e.exports=i("String","codePointAt")},function(e,t,n){"use strict";var i=n(10),r=n(78).codeAt;i({target:"String",proto:!0},{codePointAt:function(e){return r(this,e)}})},function(e,t,n){n(164);var i=n(43);e.exports=i.String.fromCodePoint},function(e,t,n){var i=n(10),r=n(49),a=String.fromCharCode,o=String.fromCodePoint;i({target:"String",stat:!0,forced:!!o&&1!=o.length},{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,o=0;i>o;){if(t=+arguments[o++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){n(166),n(114),n(168),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187);var i=n(43);e.exports=i.Symbol},function(e,t,n){"use strict";var i=n(10),r=n(14),a=n(158),o=n(22),s=n(83),c=n(47),l=n(93),u=n(157),f=n(167),d=n(57),h=n(133),p=d("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=h>=51||!r(function(){var e=[];return e[p]=!1,e.concat()[0]!==e}),b=f("concat"),y=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)};i({target:"Array",proto:!0,forced:!v||!b},{concat:function(e){var t,n,i,r,a,o=s(this),f=u(o,0),d=0;for(t=-1,i=arguments.length;t<i;t++)if(y(a=-1===t?o:arguments[t])){if(d+(r=c(a.length))>g)throw TypeError(m);for(n=0;n<r;n++,d++)n in a&&l(f,d,a[n])}else{if(d>=g)throw TypeError(m);l(f,d++,a)}return f.length=d,f}})},function(e,t,n){var i=n(14),r=n(57),a=n(133),o=r("species");e.exports=function(e){return a>=51||!i(function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t,n){"use strict";var i=n(10),r=n(11),a=n(42),o=n(37),s=n(13),c=n(58),l=n(59),u=n(14),f=n(23),d=n(158),h=n(22),p=n(28),g=n(83),m=n(17),v=n(21),b=n(16),y=n(71),_=n(73),C=n(44),k=n(169),S=n(51),x=n(12),A=n(27),w=n(15),M=n(26),T=n(29),P=n(36),I=n(35),O=n(39),j=n(38),E=n(57),L=n(170),N=n(171),R=n(85),D=n(33),Z=n(156).forEach,F=I("hidden"),U="Symbol",q="prototype",B=E("toPrimitive"),H=D.set,Y=D.getterFor(U),V=Object[q],J=r.Symbol,Q=a("JSON","stringify"),z=x.f,G=A.f,W=k.f,$=w.f,K=P("symbols"),X=P("op-symbols"),ee=P("string-to-symbol-registry"),te=P("symbol-to-string-registry"),ne=P("wks"),ie=r.QObject,re=!ie||!ie[q]||!ie[q].findChild,ae=s&&u(function(){return 7!=y(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=z(V,t);i&&delete V[t],G(e,t,n),i&&e!==V&&G(V,t,i)}:G,oe=function(e,t){var n=K[e]=y(J[q]);return H(n,{type:U,tag:e,description:t}),s||(n.description=t),n},se=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof J},ce=function e(t,n,i){t===V&&e(X,n,i),p(t);var r=v(n,!0);return p(i),f(K,r)?(i.enumerable?(f(t,F)&&t[F][r]&&(t[F][r]=!1),i=y(i,{enumerable:b(0,!1)})):(f(t,F)||G(t,F,b(1,{})),t[F][r]=!0),ae(t,r,i)):G(t,r,i)},le=function(e,t){p(e);var n=m(t),i=_(n).concat(he(n));return Z(i,function(t){(!s||ue.call(n,t))&&ce(e,t,n[t])}),e},ue=function(e){var t=v(e,!0),n=$.call(this,t);return!(this===V&&f(K,t)&&!f(X,t))&&(!(n||!f(this,t)||!f(K,t)||f(this,F)&&this[F][t])||n)},fe=function(e,t){var n=m(e),i=v(t,!0);if(n!==V||!f(K,i)||f(X,i)){var r=z(n,i);return r&&f(K,i)&&!(f(n,F)&&n[F][i])&&(r.enumerable=!0),r}},de=function(e){var t=W(m(e)),n=[];return Z(t,function(e){!f(K,e)&&!f(O,e)&&n.push(e)}),n},he=function(e){var t=e===V,n=W(t?X:m(e)),i=[];return Z(n,function(e){f(K,e)&&(!t||f(V,e))&&i.push(K[e])}),i};c||(T((J=function(){if(this instanceof J)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=j(e),n=function e(n){this===V&&e.call(X,n),f(this,F)&&f(this[F],t)&&(this[F][t]=!1),ae(this,t,b(1,n))};return s&&re&&ae(V,t,{configurable:!0,set:n}),oe(t,e)})[q],"toString",function(){return Y(this).tag}),T(J,"withoutSetter",function(e){return oe(j(e),e)}),w.f=ue,A.f=ce,x.f=fe,C.f=k.f=de,S.f=he,L.f=function(e){return oe(E(e),e)},s&&(G(J[q],"description",{configurable:!0,get:function(){return Y(this).description}}),o||T(V,"propertyIsEnumerable",ue,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:J}),Z(_(ne),function(e){N(e)}),i({target:U,stat:!0,forced:!c},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=J(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(e,t){return void 0===t?y(e):le(y(e),t)},defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:fe}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:de,getOwnPropertySymbols:he}),i({target:"Object",stat:!0,forced:u(function(){S.f(1)})},{getOwnPropertySymbols:function(e){return S.f(g(e))}}),Q&&i({target:"JSON",stat:!0,forced:!c||u(function(){var e=J();return"[null]"!=Q([e])||"{}"!=Q({a:e})||"{}"!=Q(Object(e))})},{stringify:function(e,t,n){for(var i,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);if(i=t,(h(t)||void 0!==e)&&!se(e))return d(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!se(t))return t}),r[1]=t,Q.apply(null,r)}}),J[q][B]||M(J[q],B,J[q].valueOf),R(J,U),O[F]=!0},function(e,t,n){var i=n(17),r=n(44).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(t){try{return r(t)}catch(e){return o.slice()}}(e):r(i(e))}},function(e,t,n){var i=n(57);t.f=i},function(e,t,n){var i=n(43),r=n(23),a=n(170),o=n(27).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||o(t,e,{value:a.f(e)})}},function(e,t,n){n(171)("asyncIterator")},function(e,t,n){"use strict";var i=n(10),r=n(13),a=n(11),o=n(23),s=n(22),c=n(27).f,l=n(40),u=a.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},d=function e(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof e?new u(t):void 0===t?u():u(t);return""===t&&(f[n]=!0),n};l(d,u);var h=d.prototype=u.prototype;h.constructor=d;var p=h.toString,g="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(o(f,e))return"";var n=g?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){n(171)("hasInstance")},function(e,t,n){n(171)("isConcatSpreadable")},function(e,t,n){n(171)("iterator")},function(e,t,n){n(171)("match")},function(e,t,n){n(171)("matchAll")},function(e,t,n){n(171)("replace")},function(e,t,n){n(171)("search")},function(e,t,n){n(171)("species")},function(e,t,n){n(171)("split")},function(e,t,n){n(171)("toPrimitive")},function(e,t,n){n(171)("toStringTag")},function(e,t,n){n(171)("unscopables")},function(e,t,n){n(85)(Math,"Math",!0)},function(e,t,n){var i=n(11);n(85)(i.JSON,"JSON",!0)},function(e,t,n){n(189);var i=n(61);e.exports=i("String","padStart")},function(e,t,n){"use strict";var i=n(10),r=n(190).start;i({target:"String",proto:!0,forced:n(192)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(47),r=n(191),a=n(20),o=Math.ceil,s=function(e){return function(t,n,s){var c,l,u=String(a(t)),f=u.length,d=void 0===s?" ":String(s),h=i(n);return h<=f||""==d?u:((l=r.call(d,o((c=h-f)/d.length))).length>c&&(l=l.slice(0,c)),e?u+l:l+u)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){"use strict";var i=n(48),r=n(20);e.exports="".repeat||function(e){var t=String(r(this)),n="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){var i=n(127);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},function(e,t,n){n(194);var i=n(61);e.exports=i("String","padEnd")},function(e,t,n){"use strict";var i=n(10),r=n(190).end;i({target:"String",proto:!0,forced:n(192)},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(196);var i=n(43);e.exports=i.Object.values},function(e,t,n){var i=n(10),r=n(197).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},function(e,t,n){var i=n(13),r=n(73),a=n(17),o=n(15).f,s=function(e){return function(t){for(var n,s=a(t),c=r(s),l=c.length,u=0,f=[];l>u;)n=c[u++],(!i||o.call(s,n))&&f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(199),_api_compatibility=__w_pdfjs_require__(200),_canvas=__w_pdfjs_require__(201),_worker_options=__w_pdfjs_require__(203),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(204),_metadata=__w_pdfjs_require__(205),_transport_stream=__w_pdfjs_require__(207),_webgl=__w_pdfjs_require__(208);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){asyncGeneratorStep(a,i,r,o,s,"next",e)}function s(e){asyncGeneratorStep(a,i,r,o,s,"throw",e)}o(void 0)})}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{!o&&null!=n.return&&n.return()}finally{if(s)throw a}}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&null!=s.return&&s.return()}finally{if(r)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,n=new PDFDocumentLoadingTask;if("string"==typeof e)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==_typeof(e))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var i=Object.create(null),r=null,a=null;for(var o in t)if("url"!==o||"undefined"==typeof window)if("range"!==o)if("worker"!==o)if("data"!==o||t[o]instanceof Uint8Array)i[o]=t[o];else{var s=t[o];if("string"==typeof s)i[o]=(0,_util.stringToBytes)(s);else if("object"!==_typeof(s)||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");i[o]=new Uint8Array(s)}else i[o]=new Uint8Array(s)}else a=t[o];else r=t[o];else i[o]=new URL(t[o],window.location).href;if(i.rangeChunkSize=i.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,i.CMapReaderFactory=i.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,Number.isInteger(i.maxImageSize)||(i.maxImageSize=-1),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!a){var c={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};a=c.port?PDFWorker.fromPort(c):new PDFWorker(c),n._worker=a}var l=n.docId;return a.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(a,i,r,l),t=new Promise(function(e){var t;r?t=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,disableRange:i.disableRange,disableStream:i.disableStream},r):i.data||(t=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),e(t)});return Promise.all([e,t]).then(function(e){var t=_slicedToArray(e,2),r=t[0],o=t[1];if(n.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(l,r,a.port);s.postMessageTransfers=a.postMessageTransfers;var c=new WorkerTransport(s,n,o,i);n._transport=c,s.send("Ready",null)})}).catch(n._capability.reject),n}function _fetchDocument(e,t,n,i){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone),e.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.5.207",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then(function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t}))}var PDFDocumentLoadingTask=(k=0,function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+k++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})}},{key:"promise",get:function(){return this._capability.promise}}]),e}()),PDFDataRangeTransport=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.length=t,this.initialData=n,this.progressiveDone=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,i=_createForOfIteratorHelper(this._rangeListeners);try{for(i.s();!(n=i.n()).done;)(0,n.value)(e,t)}catch(r){i.e(r)}finally{i.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then(function(){var i,r=_createForOfIteratorHelper(n._progressListeners);try{for(r.s();!(i=r.n()).done;)(0,i.value)(e,t)}catch(a){r.e(a)}finally{r.f()}})}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then(function(){var n,i=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(i.s();!(n=i.n()).done;)(0,n.value)(e)}catch(r){i.e(r)}finally{i.f()}})}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then(function(){var t,n=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(_){n.e(_)}finally{n.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}(),k;exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,n){_classCallCheck(this,e),this._pdfInfo=t,this._transport=n}return _createClass(e,[{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getOpenActionDestination",value:function(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then(function(e){return e&&e.dest?e.dest:null})}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=n,this._transport=i,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(e,[{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,i=void 0===n?this.rotate:n,r=e.offsetX,a=void 0===r?0:r,o=e.offsetY,s=void 0===o?0:o,c=e.dontFlip,l=void 0!==c&&c;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:i,offsetX:a,offsetY:s,dontFlip:l})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?null:t;return(!this.annotationsPromise||this.annotationsIntent!==n)&&(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this.annotationsIntent=n),this.annotationsPromise}},{key:"render",value:function(e){var t=this,n=e.canvasContext,i=e.viewport,r=e.intent,a=void 0===r?"display":r,o=e.enableWebGL,s=void 0!==o&&o,c=e.renderInteractiveForms,l=void 0!==c&&c,u=e.transform,f=void 0===u?null:u,d=e.imageLayer,h=void 0===d?null:d,p=e.canvasFactory,g=void 0===p?null:p,m=e.background,v=void 0===m?null:m;this._stats&&this._stats.time("Overall");var b="print"===a?"print":"display";this.pendingCleanup=!1,this.intentStates[b]||(this.intentStates[b]=Object.create(null));var y=this.intentStates[b];y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);var _=g||new _display_utils.DOMCanvasFactory,C=new _webgl.WebGLContext({enable:s});y.displayReadyCapability||(y.displayReadyCapability=(0,_util.createPromiseCapability)(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:b,renderInteractiveForms:!0===l}));var k=function(e){var n=y.renderTasks.indexOf(S);n>=0&&y.renderTasks.splice(n,1),(t.cleanupAfterRender||"print"===b)&&(t.pendingCleanup=!0),t._tryCleanup(),e?(S.capability.reject(e),t._abortOperatorList({intentState:y,reason:e})):S.capability.resolve(),t._stats&&(t._stats.timeEnd("Rendering"),t._stats.timeEnd("Overall"))},S=new InternalRenderTask({callback:k,params:{canvasContext:n,viewport:i,transform:f,imageLayer:h,background:v},objs:this.objs,commonObjs:this.commonObjs,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:_,webGLContext:C,useRequestAnimationFrame:"print"!==b,pdfBug:this._pdfBug});y.renderTasks||(y.renderTasks=[]),y.renderTasks.push(S);var x=S.task;return y.displayReadyCapability.promise.then(function(e){t.pendingCleanup?k():(t._stats&&t._stats.time("Rendering"),S.initializeGraphics(e),S.operatorListChanged())}).catch(k),x}},{key:"getOperatorList",value:function(){var e="oplist";this.intentStates[e]||(this.intentStates[e]=Object.create(null));var t,n=this.intentStates[e];return n.opListReadCapability||((t={}).operatorListChanged=function(){if(n.operatorList.lastChunk){n.opListReadCapability.resolve(n.operatorList);var e=n.renderTasks.indexOf(t);e>=0&&n.renderTasks.splice(e,1)}},n.opListReadCapability=(0,_util.createPromiseCapability)(),n.renderTasks=[],n.renderTasks.push(t),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:e})),n.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,n=void 0!==t&&t,i=e.disableCombineTextItems,r=void 0!==i&&i,a=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==r},{highWaterMark:a,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.streamTextContent(e);return new Promise(function(e,n){var i=t.getReader(),r={items:[],styles:Object.create(null)};!function t(){i.read().then(function(n){var i,a=n.value;n.done?e(r):(Object.assign(r.styles,a.styles),(i=r.items).push.apply(i,_toConsumableArray(a.items)),t())},n)}()})}},{key:"_destroy",value:function(){var e=this;this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var t=[];return Object.keys(this.intentStates).forEach(function(n){var i=e.intentStates[n];e._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==n&&i.renderTasks.forEach(function(e){var n=e.capability.promise.catch(function(){});t.push(n),e.cancel()})}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!this.pendingCleanup||Object.keys(this.intentStates).some(function(t){var n=e.intentStates[t];return 0!==n.renderTasks.length||!n.operatorList.lastChunk})||(Object.keys(this.intentStates).forEach(function(t){delete e.intentStates[t]}),this.objs.clear(),this.annotationsPromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,0))}},{key:"_startRenderPage",value:function(e,t){var n=this.intentStates[t];!n||(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;for(var r=0;r<t.renderTasks.length;r++)t.renderTasks[r].operatorListChanged();e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),i=this.intentStates[e.intent];i.streamReader=n,function e(){n.read().then(function(n){var r=n.value;n.done?i.streamReader=null:t._transport.destroyed||(t._renderPageChunk(r,i),e())},function(e){if(i.streamReader=null,!t._transport.destroyed){if(i.operatorList){i.operatorList.lastChunk=!0;for(var n=0;n<i.renderTasks.length;n++)i.renderTasks[n].operatorListChanged();t._tryCleanup()}if(i.displayReadyCapability)i.displayReadyCapability.reject(e);else{if(!i.opListReadCapability)throw e;i.opListReadCapability.reject(e)}}})}()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,i=e.reason,r=e.force,a=void 0!==r&&r;if((0,_util.assert)(i instanceof Error||"object"===_typeof(i)&&null!==i,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!a){if(0!==n.renderTasks.length)return;if(i instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout(function(){t._abortOperatorList({intentState:n,reason:i,force:!0}),n.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}n.streamReader.cancel(new _util.AbortException(i&&i.message)),n.streamReader=null,!this._transport.destroyed&&(Object.keys(this.intentStates).some(function(e){return t.intentStates[e]===n&&(delete t.intentStates[e],!0)}),this.cleanup())}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,t){var n=this;if(this._defer){var i=new WeakMap,r={data:function e(n){if("object"!==_typeof(n)||null===n)return n;if(i.has(n))return i.get(n);var r,a;if((r=n.buffer)&&(0,_util.isArrayBuffer)(r))return a=t&&t.includes(r)?new n.constructor(r,n.byteOffset,n.byteLength):new n.constructor(n),i.set(n,a),a;for(var o in a=Array.isArray(n)?[]:{},i.set(n,a),n){for(var s=void 0,c=n;!(s=Object.getOwnPropertyDescriptor(c,o));)c=Object.getPrototypeOf(c);if(void 0!==s.value){if("function"==typeof s.value){if(n.hasOwnProperty&&n.hasOwnProperty(o))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(n[o]));continue}a[o]=e(s.value)}}return a}(e)};this._deferred.then(function(){n._listeners.forEach(function(e){e.call(n,r)})})}else this._listeners.forEach(function(t){t.call(n,{data:e})})}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.indexOf(t);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{e=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(k){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref10=_asyncToGenerator(_regenerator.default.mark(function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}},_callee)}));return function(){return _ref10.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){return URL.createObjectURL(new Blob(["importScripts('"+e+"');"]))}var PDFWorker=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,i=void 0===n?null:n,r=t.port,a=void 0===r?null:r,o=t.verbosity,s=void 0===o?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,e),a&&pdfWorkerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=i,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return pdfWorkerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}return _createClass(e,[{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var t=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,t)||(t=createCDNWrapper(new URL(t,window.location).href));var n=new Worker(t),i=new _message_handler.MessageHandler("main","worker",n),r=function(){n.removeEventListener("error",a),i.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},a=function(){e._webWorker||r()};n.addEventListener("error",a),i.on("test",function(t){n.removeEventListener("error",a),e.destroyed?r():t?(e._messageHandler=i,e._port=n,e._webWorker=n,t.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),i.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),i.destroy(),n.terminate())}),i.on("ready",function(t){if(n.removeEventListener("error",a),e.destroyed)r();else try{o()}catch(i){e._setupFakeWorker()}});var o=function(){var t=new Uint8Array([e.postMessageTransfers?255:0]);try{i.send("test",t,[t.buffer])}catch(n){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,i.send("test",t)}};return void o()}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;e._port=n;var i="fake"+nextFakeWorkerId++,r=new _message_handler.MessageHandler(i+"_worker",i,n);t.setup(r,n);var a=new _message_handler.MessageHandler(i,i+"_worker",n);e._messageHandler=a,e._readyCapability.resolve(),a.send("configure",{verbosity:e.verbosity})}}).catch(function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new e(t)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),e}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function e(t,n,i,r){_classCallCheck(this,e),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=r,this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,n=this.loadingTask;t.on("GetReader",function(t,n){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},n.onPull=function(){e._fullReader.read().then(function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){n.error(e)})},n.onCancel=function(t){e._fullReader.cancel(t)}}),t.on("ReaderHeadersReady",function(t){var i=(0,_util.createPromiseCapability)(),r=e._fullReader;return r.headersReady.then(function(){(!r.isStreamingSupported||!r.isRangeSupported)&&(e._lastProgress&&n.onProgress&&n.onProgress(e._lastProgress),r.onProgress=function(e){n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),i.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},i.reject),i.promise}),t.on("GetRangeReader",function(t,n){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var i=e._networkStream.getRangeReader(t.begin,t.end);i?(n.onPull=function(){i.read().then(function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){n.error(e)})},n.onCancel=function(e){i.cancel(e)}):n.close()}),t.on("GetDoc",function(t){var i=t.pdfInfo;e._numPages=i.numPages,n._capability.resolve(new PDFDocumentProxy(i,e))}),t.on("DocException",function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details)}n._capability.reject(t)}),t.on("PasswordRequest",function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword)try{n.onPassword(function(t){e._passwordCapability.resolve({password:t})},t.code)}catch(i){e._passwordCapability.reject(i)}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise}),t.on("DataLoaded",function(t){n.onProgress&&n.onProgress({loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)}),t.on("StartRenderPage",function(t){e.destroyed||e.pageCache[t.pageIndex]._startRenderPage(t.transparency,t.intent)}),t.on("commonobj",function(n){if(!e.destroyed){var i=_slicedToArray(n,3),r=i[0],a=i[1],o=i[2];if(!e.commonObjs.has(r))switch(a){case"Font":var s=e._params;if("error"in o){var c=o.error;(0,_util.warn)("Error during font loading: ".concat(c)),e.commonObjs.resolve(r,c);break}var l=null;s.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(l={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var u=new _font_loader.FontFaceObject(o,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:l});e.fontLoader.bind(u).catch(function(e){return t.sendWithPromise("FontFallback",{id:r})}).finally(function(){!s.fontExtraProperties&&u.data&&(u.data=null),e.commonObjs.resolve(r,u)});break;case"FontPath":case"FontType3Res":case"Image":e.commonObjs.resolve(r,o);break;default:throw new Error("Got unknown common object type ".concat(a))}}}),t.on("obj",function(t){if(!e.destroyed){var n=_slicedToArray(t,4),i=n[0],r=n[2],a=n[3],o=e.pageCache[n[1]];if(!o.objs.has(i))switch(r){case"Image":o.objs.resolve(i,a),a&&"data"in a&&a.data.length>8e6&&(o.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(r))}}}),t.on("DocProgress",function(t){e.destroyed||n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",function(t,n){if(e.destroyed)n.error(new Error("Worker was destroyed"));else{var i=!1;n.onPull=function(){i?n.close():(i=!0,e.CMapReaderFactory.fetch(t).then(function(e){n.enqueue(e,1,[e.cMapData.buffer])}).catch(function(e){n.error(e)}))}}})}},{key:"_onUnsupportedFeature",value:function(e){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(t.destroyed)throw new Error("Transport destroyed");var i=new PDFPageProxy(n,e,t,t._params.pdfBug);return t.pageCache[n]=i,i});return this.pagePromises[n]=i,i}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch(function(e){return Promise.reject(new Error(e))})}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(t){return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:e._fullReader?e._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var e=this;return this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var t=0,n=e.pageCache.length;t<n;t++){var i=e.pageCache[t];if(i&&!i.cleanup())throw new Error("startCleanup: Page ".concat(t+1," is currently rendering."))}e.commonObjs.clear(),e.fontLoader.clear()})}},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var n=this._objs[e];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"has",value:function(e){var t=this._objs[e];return!!t&&t.resolved}},{key:"resolve",value:function(e,t){var n=this._ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),e}(),InternalRenderTask=function(){var e=new WeakSet;return function(){function t(e){var n=e.callback,i=e.params,r=e.objs,a=e.commonObjs,o=e.operatorList,s=e.pageIndex,c=e.canvasFactory,l=e.webGLContext,u=e.useRequestAnimationFrame,f=void 0!==u&&u,d=e.pdfBug,h=void 0!==d&&d;_classCallCheck(this,t),this.callback=n,this.params=i,this.objs=r,this.commonObjs=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=c,this.webGLContext=l,this._pdfBug=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===f&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}return _createClass(t,[{key:"initializeGraphics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var n=this.params,i=n.canvasContext,r=n.viewport,a=n.transform,o=n.imageLayer,s=n.background;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,o),this.gfx.beginDrawing({transform:a,viewport:r,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){e._nextBound().catch(e.cancel.bind(e))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(n=_asyncToGenerator(_regenerator.default.mark(function t(){return _regenerator.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback()));case 4:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})}]),t;var n}()}(),version="2.5.207";exports.version=version;var build="0974d605";exports.build=build},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var i,r=(i=n(2))&&i.__esModule?i:{default:i},a=n(5);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var p,g=function(){function e(t){var n=t.docId,i=t.onUnsupportedFeature;f(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=i,this.nativeFontFaces=[],this.styleElement=null}return h(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(e){document.fonts.delete(e)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(t=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){u(a,i,r,o,s,"next",e)}function s(e){u(a,i,r,o,s,"throw",e)}o(void 0)})}}(r.default.mark(function e(t){var n,i,o=this;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(!(n=t.createNativeFontFace())){e.next=18;break}return this.addNativeFontFace(n),e.prev=7,e.next=10,n.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(i=t.createFontFaceRule())){e.next=26;break}if(this.insertRule(i),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise(function(e){var n=o._queueLoadingCallback(e);o._prepareFontLoadEvent([i],[t],n)});case 26:case"end":return e.stop()}},e,this,[[7,12]])})),function(e){return t.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(e){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,n){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var e="undefined"!=typeof document&&!!document.fonts;return(0,a.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}}]),e;var t}();t.FontLoader=p,t.FontLoader=p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}(n);function n(e){var i;return f(this,n),(i=t.call(this,e)).loadingContext={requests:[],nextRequestId:0},i.loadTestFontId=0,i}return h(n,[{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,n={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,a.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}},{key:"_prepareFontLoadEvent",value:function(e,t,n){function i(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}var o,s,c=document.createElement("canvas");c.width=1,c.height=1;var l=c.getContext("2d"),u=0,f="lt".concat(Date.now()).concat(this.loadTestFontId++),d=this._loadTestFont,h=1482184792,p=i(d=r(d,976,f.length,f),16);for(o=0,s=f.length-3;o<s;o+=4)p=p-h+i(f,o)|0;o<f.length&&(p=p-h+i(f+"XXX",o)|0),d=r(d,16,4,(0,a.string32)(p));var g="url(data:font/opentype;base64,".concat(btoa(d),");"),m='@font-face {font-family:"'.concat(f,'";src:').concat(g,"}");this.insertRule(m);var v=[];for(o=0,s=t.length;o<s;o++)v.push(t[o].loadedName);v.push(f);var b=document.createElement("div");for(b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px",o=0,s=v.length;o<s;++o){var y=document.createElement("span");y.textContent="Hi",y.style.fontFamily=v[o],b.appendChild(y)}document.body.appendChild(b),function e(t,n){if(++u>30)return(0,a.warn)("Load test font never loaded."),void n();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(f,function(){document.body.removeChild(b),n.complete()})}},{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"==typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t&&t[1]>=14&&(e=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_loadTestFont",get:function(){return(0,a.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),n}(g),t.FontFaceObject=function(){function e(t,n){var i=n.isEvalSupported,r=void 0===i||i,a=n.disableFontFace,o=void 0!==a&&a,s=n.ignoreErrors,c=void 0!==s&&s,l=n.onUnsupportedFeature,u=void 0===l?null:l,d=n.fontRegistry,h=void 0===d?null:d;for(var p in f(this,e),this.compiledGlyphs=Object.create(null),t)this[p]=t[p];this.isEvalSupported=!1!==r,this.disableFontFace=!0===o,this.ignoreErrors=!0===c,this._onUnsupportedFeature=u,this.fontRegistry=h}return h(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,a.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var n,i;try{n=e.get(this.loadedName+"_path_"+t)}catch(l){if(!this.ignoreErrors)throw l;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)('getPathGenerator - ignoring character: "'.concat(l,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&a.IsEvalSupportedCached.value){for(var r,o="",s=0,c=n.length;s<c;s++)r=void 0!==(i=n[s]).args?i.args.join(","):"",o+="c."+i.cmd+"("+r+");\n";return this.compiledGlyphs[t]=new Function("c","size",o)}return this.compiledGlyphs[t]=function(e,t){for(var r=0,a=n.length;r<a;r++)"scale"===(i=n[r]).cmd&&(i.args=[t,-t]),e[i.cmd].apply(e,i.args)}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var i=n(7),r=Object.create(null);i.isNodeJS&&(r.disableFontFace=!0);var a=Object.freeze(r);t.apiCompatibilityParams=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var i=n(5),r=n(202);function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{!s&&null!=n.return&&n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=4096,c=.65,l=16;function u(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=t*r-n*i,c=n*i-t*r;return[r/s,n/c,i/c,t/s,(r*a-i*o)/c,(n*a-t*o)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,i,r,a,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*n,s[1]*t+s[3]*n,s[0]*i+s[2]*r,s[1]*i+s[3]*r,s[0]*a+s[2]*o+s[4],s[1]*a+s[3]*o+s[5]],e._originalTransform(t,n,i,r,a,o)},e.setTransform=function(t,n,i,r,a,o){this._transformMatrix=[t,n,i,r,a,o],e._originalSetTransform(t,n,i,r,a,o)},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),i=this._transformMatrix;this._transformMatrix=[i[0]*t+i[2]*n,i[1]*t+i[3]*n,i[0]*-n+i[2]*t,i[1]*-n+i[3]*t,i[4],i[5]],this._originalRotate(e)})}var f=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,n,i){var r;return void 0!==this.cache[e]?(this.canvasFactory.reset(r=this.cache[e],t,n),r.context.setTransform(1,0,0,1,0,0)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),i&&u(r.context),r},clear:function(){for(var e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}},e}(),d=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),h=function(){function e(e,t,n,i,r,a){this.ctx=e,this.current=new d,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.webGLContext=r,this.imageLayer=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new f(this.canvasFactory),e&&u(e),this._cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var n,r,a,o,s,c=t.height,u=t.width,f=c%l,d=(c-f)/l,h=0===f?d:d+1,p=e.createImageData(u,l),g=0,m=t.data,v=p.data;if(t.kind===i.ImageKind.GRAYSCALE_1BPP){var b=m.byteLength,y=new Uint32Array(v.buffer,0,v.byteLength>>2),_=y.length,C=u+7>>3,k=4294967295,S=i.IsLittleEndianCached.value?4278190080:255;for(r=0;r<h;r++){for(o=r<d?l:f,n=0,a=0;a<o;a++){for(var x=b-g,A=0,w=x>C?u:8*x-7,M=-8&w,T=0,P=0;A<M;A+=8)P=m[g++],y[n++]=128&P?k:S,y[n++]=64&P?k:S,y[n++]=32&P?k:S,y[n++]=16&P?k:S,y[n++]=8&P?k:S,y[n++]=4&P?k:S,y[n++]=2&P?k:S,y[n++]=1&P?k:S;for(;A<w;A++)0===T&&(P=m[g++],T=128),y[n++]=P&T?k:S,T>>=1}for(;n<_;)y[n++]=0;e.putImageData(p,0,r*l)}}else if(t.kind===i.ImageKind.RGBA_32BPP){for(a=0,s=u*l*4,r=0;r<d;r++)v.set(m.subarray(g,g+s)),g+=s,e.putImageData(p,0,a),a+=l;r<h&&(v.set(m.subarray(g,g+(s=u*f*4))),e.putImageData(p,0,a))}else{if(t.kind!==i.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(s=u*(o=l),r=0;r<h;r++){for(r>=d&&(s=u*(o=f)),n=0,a=s;a--;)v[n++]=m[g++],v[n++]=m[g++],v[n++]=m[g++],v[n++]=255;e.putImageData(p,0,r*l)}}}}function n(e,t){for(var n=t.height,i=t.width,r=n%l,a=(n-r)/l,o=0===r?a:a+1,s=e.createImageData(i,l),c=0,u=t.data,f=s.data,d=0;d<o;d++){for(var h=d<a?l:r,p=3,g=0;g<h;g++)for(var m=0,v=0;v<i;v++){if(!m){var b=u[c++];m=128}f[p]=b&m?0:255,p+=4,m>>=1}e.putImageData(s,0,d*l)}}function o(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,r=n.length;i<r;i++){var a=n[i];void 0!==e[a]&&(t[a]=e[a])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function h(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function p(e,t,n,i){for(var r=e.length,a=3;a<r;a+=4){var o=e[a];if(0===o)e[a-3]=t,e[a-2]=n,e[a-1]=i;else if(o<255){var s=255-o;e[a-3]=e[a-3]*o+t*s>>8,e[a-2]=e[a-2]*o+n*s>>8,e[a-1]=e[a-1]*o+i*s>>8}}}function g(e,t,n){for(var i=e.length,r=3;r<i;r+=4)t[r]=t[r]*(n?n[e[r]]:e[r])*.00392156862745098|0}function m(e,t,n){for(var i=e.length,r=3;r<i;r+=4){var a=77*e[r-3]+152*e[r-2]+28*e[r-1];t[r]=n?t[r]*n[a>>8]>>8:t[r]*a>>16}}function v(e,t,n,i){var r=t.canvas,a=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&i.isEnabled){var s=i.composeSMask({layer:n.canvas,mask:r,properties:{subtype:t.subtype,backdrop:o}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}(function(e,t,n,i,r,a,o){var s,c=!!a,l=c?a[0]:0,u=c?a[1]:0,f=c?a[2]:0;s="Luminosity"===r?m:g;for(var d=Math.min(i,Math.ceil(1048576/n)),h=0;h<i;h+=d){var v=Math.min(d,i-h),b=e.getImageData(0,h,n,v),y=t.getImageData(0,h,n,v);c&&p(b.data,l,u,f),s(b.data,y.data,o),e.putImageData(y,0,h)}})(a,n,r.width,r.height,t.subtype,o,t.transferMap),e.drawImage(r,0,0)}var b=["butt","round","square"],y=["miter","round","bevel"],_={},C={};for(var k in e.prototype={beginDrawing:function(e){var t=e.transform,n=e.viewport,i=e.transparency,r=void 0!==i&&i,a=e.background,o=void 0===a?null:a,s=this.ctx.canvas.width,c=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,c),this.ctx.restore(),r){var l=this.cachedCanvases.getCanvas("transparent",s,c,!0);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),h(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,r){var o=e.argsArray,s=e.fnArray,c=t||0,l=o.length;if(l===c)return c;for(var u,f=l-c>10&&"function"==typeof n,d=f?Date.now()+15:0,h=0,p=this.commonObjs,g=this.objs;;){if(void 0!==r&&c===r.nextBreakPoint)return r.breakIt(c,n),c;if((u=s[c])!==i.OPS.dependency)this[u].apply(this,o[c]);else{var m,v=a(o[c]);try{for(v.s();!(m=v.n()).done;){var b=m.value,y=b.startsWith("g_")?p:g;if(!y.has(b))return y.get(b,n),c}}catch(_){v.e(_)}finally{v.f()}}if(++c===l)return c;if(f&&++h>10){if(Date.now()>d)return n(),c;h=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=b[e]},setLineJoin:function(e){this.ctx.lineJoin=y[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t],r=i[1];switch(i[0]){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1],this.ctx.globalAlpha=i[1];break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=r?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,e.canvas.width,e.canvas.height,!0),n=this.ctx,i=n.mozCurrentTransform;this.ctx.save();var r=t.context;r.scale(1/e.scaleX,1/e.scaleY),r.translate(-e.offsetX,-e.offsetY),r.transform.apply(r,i),e.startTransformInverse=r.mozCurrentTransformInverse,o(n,r),this.ctx=r,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),v(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),o(e,this.ctx),this.current.resumeSMaskCtx=e;var t=i.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(e),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),v(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),o(e,this.ctx);var t=i.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(e,t,n,i,r,a){this.ctx.transform(e,t,n,i,r,a),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var n=this.ctx,r=this.current,a=r.x,o=r.y,s=0,c=0,l=e.length;s<l;s++)switch(0|e[s]){case i.OPS.rectangle:a=t[c++],o=t[c++];var u=t[c++],f=t[c++];0===u&&(u=this.getSinglePixelWidth()),0===f&&(f=this.getSinglePixelWidth());var d=a+u,h=o+f;this.ctx.moveTo(a,o),this.ctx.lineTo(d,o),this.ctx.lineTo(d,h),this.ctx.lineTo(a,h),this.ctx.lineTo(a,o),this.ctx.closePath();break;case i.OPS.moveTo:a=t[c++],o=t[c++],n.moveTo(a,o);break;case i.OPS.lineTo:a=t[c++],o=t[c++],n.lineTo(a,o);break;case i.OPS.curveTo:n.bezierCurveTo(t[c],t[c+1],t[c+2],t[c+3],a=t[c+4],o=t[c+5]),c+=6;break;case i.OPS.curveTo2:n.bezierCurveTo(a,o,t[c],t[c+1],t[c+2],t[c+3]),a=t[c+2],o=t[c+3],c+=4;break;case i.OPS.curveTo3:n.bezierCurveTo(t[c],t[c+1],a=t[c+2],o=t[c+3],a,o),c+=4;break;case i.OPS.closePath:n.closePath()}r.setCurrentPoint(a,o)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type){t.save();var r=i.Util.singularValueDecompose2dScale(t.mozCurrentTransform)[0];t.strokeStyle=n.getPattern(t,this),t.lineWidth=Math.max(this.getSinglePixelWidth()*c,this.current.lineWidth*r),t.stroke(),t.restore()}else t.lineWidth=Math.max(this.getSinglePixelWidth()*c,this.current.lineWidth),t.stroke();e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.fillColor,i=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),i=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),i&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=_},eoClip:function(){this.pendingClip=C},beginText:function(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var i=e[n];t.setTransform.apply(t,i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error("Can't find font for ".concat(e));if(r.fontMatrix=n.fontMatrix?n.fontMatrix:i.FONT_IDENTITY_MATRIX,(0===r.fontMatrix[0]||0===r.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,!n.isType3Font){var a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal",s='"'.concat(n.loadedName||"sans-serif",'", ').concat(n.fallbackName),c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(o," ").concat(a," ").concat(c,"px ").concat(s)}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,i,r,a){this.current.textMatrix=[e,t,n,i,r,a],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,n,r){var a,o=this.ctx,s=this.current,c=s.font,l=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,f=l&i.TextRenderingMode.FILL_STROKE_MASK,d=!!(l&i.TextRenderingMode.ADD_TO_PATH_FLAG),h=s.patternFill&&!c.missingFile;(c.disableFontFace||d||h)&&(a=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||h?(o.save(),o.translate(t,n),o.beginPath(),a(o,u),r&&o.setTransform.apply(o,r),(f===i.TextRenderingMode.FILL||f===i.TextRenderingMode.FILL_STROKE)&&o.fill(),(f===i.TextRenderingMode.STROKE||f===i.TextRenderingMode.FILL_STROKE)&&o.stroke(),o.restore()):((f===i.TextRenderingMode.FILL||f===i.TextRenderingMode.FILL_STROKE)&&o.fillText(e,t,n),(f===i.TextRenderingMode.STROKE||f===i.TextRenderingMode.FILL_STROKE)&&o.strokeText(e,t,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:o.mozCurrentTransform,x:t,y:n,fontSize:u,addToPath:a})},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var r=t.fontSize;if(0!==r){var a,o=this.ctx,s=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,f=t.fontDirection,d=t.textHScale*f,h=e.length,p=n.vertical,g=p?1:-1,m=n.defaultVMetrics,v=r*t.fontMatrix[0],b=t.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;if(o.save(),t.patternFill){o.save();var y=t.fillColor.getPattern(o,this);a=o.mozCurrentTransform,o.restore(),o.fillStyle=y}o.transform.apply(o,t.textMatrix),o.translate(t.x,t.y+t.textRise),o.scale(d,f>0?-1:1);var _=t.lineWidth,C=t.textMatrixScale;if(0===C||0===_){var k=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(k===i.TextRenderingMode.STROKE||k===i.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,_=this.getSinglePixelWidth()*c)}else _/=C;1!==s&&(o.scale(s,s),_/=s),o.lineWidth=_;var S,x=0;for(S=0;S<h;++S){var A=e[S];if((0,i.isNum)(A))x+=g*A*r/1e3;else{var w,M,T,P,I=!1,O=(A.isSpace?u:0)+l,j=A.fontChar,E=A.accent,L=A.width;if(p?(T=A.vmetric||m,P=A.vmetric?T[1]:.5*L,L=T?-T[0]:L,w=(P=-P*v)/s,M=(x+T[2]*v)/s):(w=x/s,M=0),n.remeasure&&L>0){var N=1e3*o.measureText(j).width/r*s;if(L<N&&this.isFontSubpixelAAEnabled){var R=L/N;I=!0,o.save(),o.scale(R,1),w/=R}else L!==N&&(w+=(L-N)/2e3*r/s)}(A.isInFont||n.missingFile)&&(b&&!E?o.fillText(j,w,M):(this.paintChar(j,w,M,a),E&&this.paintChar(E.fontChar,w+E.offset.x/s,M-E.offset.y/s,a))),x+=p?L*v-O*f:L*v+O*f,I&&o.restore()}}p?t.y-=x:t.x+=x*d,o.restore()}},showType3Text:function(e){var t,n,r,a,o=this.ctx,s=this.current,c=s.font,l=s.fontSize,u=s.fontDirection,f=c.vertical?1:-1,d=s.charSpacing,h=s.wordSpacing,p=s.textHScale*u,g=s.fontMatrix||i.FONT_IDENTITY_MATRIX,m=e.length;if(s.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==l){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,s.textMatrix),o.translate(s.x,s.y),o.scale(p,u),t=0;t<m;++t)if((0,i.isNum)(n=e[t]))this.ctx.translate(a=f*n*l/1e3,0),s.x+=a*p;else{var v=(n.isSpace?h:0)+d,b=c.charProcOperatorList[n.operatorListId];if(b){this.processingType3=n,this.save(),o.scale(l,l),o.transform.apply(o,g),this.executeOperatorList(b),this.restore();var y=i.Util.applyTransform([n.width,0],g);o.translate(r=y[0]*l+v,0),s.x+=r*p}else(0,i.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}o.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,i,r,a){this.ctx.rect(n,i,r-n,a-i),this.clip(),this.endPath()},getColorN_Pattern:function(t){var n,i=this;if("TilingPattern"===t[0]){var a=t[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();n=new r.TilingPattern(t,a,this.ctx,{createCanvasGraphics:function(t){return new e(t,i.commonObjs,i.objs,i.canvasFactory,i.webGLContext)}},o)}else n=(0,r.getShadingPatternFromIR)(t);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){var r=i.Util.makeCssRgb(e,t,n);this.ctx.strokeStyle=r,this.current.strokeColor=r},setFillRGBColor:function(e,t,n){var r=i.Util.makeCssRgb(e,t,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var n=(0,r.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);var a=t.mozCurrentTransformInverse;if(a){var o=t.canvas,s=o.width,c=o.height,l=i.Util.applyTransform([0,0],a),u=i.Util.applyTransform([0,c],a),f=i.Util.applyTransform([s,0],a),d=i.Util.applyTransform([s,c],a),h=Math.min(l[0],u[0],f[0],d[0]),p=Math.min(l[1],u[1],f[1],d[1]),g=Math.max(l[0],u[0],f[0],d[0]),m=Math.max(l[1],u[1],f[1],d[1]);this.ctx.fillRect(h,p,g-h,m-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,i.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,i.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,i.info)("TODO: Support non-isolated groups."),e.knockout&&(0,i.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var r=i.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform);r=i.Util.intersect(r,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];var a=Math.floor(r[0]),c=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-a,1),u=Math.max(Math.ceil(r[3])-c,1),f=1,d=1;l>s&&(f=l/s,l=s),u>s&&(d=u/s,u=s);var h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);var p=this.cachedCanvases.getCanvas(h,l,u,!0),g=p.context;g.scale(1/f,1/d),g.translate(-a,-c),g.transform.apply(g,n),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:a,offsetY:c,scaleX:f,scaleY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,c),t.scale(f,d)),o(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){this.save(),h(this.ctx),this.current=new d,Array.isArray(e)&&4===e.length&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.clip(),this.endPath()),this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){var t=this.ctx,i=e.width,r=e.height,a=this.current.fillColor,o=this.current.patternFill,s=this.processingType3;if(s&&void 0===s.compiled&&(s.compiled=i<=1e3&&r<=1e3?function(e){var t,n,i,r,a=e.width,o=e.height,s=a+1,c=new Uint8Array(s*(o+1)),l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=a+7&-8,f=e.data,d=new Uint8Array(u*o),h=0;for(t=0,r=f.length;t<r;t++)for(var p=128,g=f[t];p>0;)d[h++]=g&p?0:255,p>>=1;var m=0;for(0!==d[h=0]&&(c[0]=1,++m),n=1;n<a;n++)d[h]!==d[h+1]&&(c[n]=d[h]?2:1,++m),h++;for(0!==d[h]&&(c[n]=2,++m),t=1;t<o;t++){i=t*s,d[(h=t*u)-u]!==d[h]&&(c[i]=d[h]?1:8,++m);var v=(d[h]?4:0)+(d[h-u]?8:0);for(n=1;n<a;n++)l[v=(v>>2)+(d[h+1]?4:0)+(d[h-u+1]?8:0)]&&(c[i+n]=l[v],++m),h++;if(d[h-u]!==d[h]&&(c[i+n]=d[h]?2:4,++m),m>1e3)return null}for(i=t*s,0!==d[h=u*(o-1)]&&(c[i]=8,++m),n=1;n<a;n++)d[h]!==d[h+1]&&(c[i+n]=d[h]?4:8,++m),h++;if(0!==d[h]&&(c[i+n]=4,++m),m>1e3)return null;var b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=[];for(t=0;m&&t<=o;t++){for(var _=t*s,C=_+a;_<C&&!c[_];)_++;if(_!==C){var k,S=[_%s,t],x=c[_],A=_;do{var w=b[x];do{_+=w}while(!c[_]);5!==(k=c[_])&&10!==k?(x=k,c[_]=0):c[_]&=(x=k&51*x>>4)>>2|x<<2,S.push(_%s),S.push(_/s|0),c[_]||--m}while(A!==_);y.push(S),--t}}return function(e){e.save(),e.scale(1/a,-1/o),e.translate(0,-o),e.beginPath();for(var t=0,n=y.length;t<n;t++){var i=y[t];e.moveTo(i[0],i[1]);for(var r=2,s=i.length;r<s;r+=2)e.lineTo(i[r],i[r+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:i,height:r}):null),s&&s.compiled)s.compiled(t);else{var c=this.cachedCanvases.getCanvas("maskCanvas",i,r),l=c.context;l.save(),n(l,e),l.globalCompositeOperation="source-in",l.fillStyle=o?a.getPattern(l,this):a,l.fillRect(0,0,i,r),l.restore(),this.paintInlineImageXObject(c.canvas)}},paintImageMaskXObjectRepeat:function(e,t,i,r){var a=e.width,o=e.height,s=this.current.fillColor,c=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",a,o),u=l.context;u.save(),n(u,e),u.globalCompositeOperation="source-in",u.fillStyle=c?s.getPattern(u,this):s,u.fillRect(0,0,a,o),u.restore();for(var f=this.ctx,d=0,h=r.length;d<h;d+=2)f.save(),f.transform(t,0,0,i,r[d],r[d+1]),f.scale(1,-1),f.drawImage(l.canvas,0,0,a,o,0,-1,1,1),f.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,i=this.current.fillColor,r=this.current.patternFill,a=0,o=e.length;a<o;a++){var s=e[a],c=s.width,l=s.height,u=this.cachedCanvases.getCanvas("maskCanvas",c,l),f=u.context;f.save(),n(f,s),f.globalCompositeOperation="source-in",f.fillStyle=r?i.getPattern(f,this):i,f.fillRect(0,0,c,l),f.restore(),t.save(),t.transform.apply(t,s.transform),t.scale(1,-1),t.drawImage(u.canvas,0,0,c,l,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,n,r){var a=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(a){for(var o=a.width,s=a.height,c=[],l=0,u=r.length;l<u;l+=2)c.push({transform:[t,0,0,n,r[l],r[l+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(a,c)}else(0,i.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var n=e.width,i=e.height,r=this.ctx;this.save(),r.scale(1/n,-1/i);var a,o,s=r.mozCurrentTransformInverse,c=s[0],l=s[1],u=Math.max(Math.sqrt(c*c+l*l),1),f=s[2],d=s[3],h=Math.max(Math.sqrt(f*f+d*d),1);if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{var p=(o=this.cachedCanvases.getCanvas("inlineImage",n,i)).context;t(p,e),a=o.canvas}for(var g=n,m=i,v="prescale1";u>2&&g>1||h>2&&m>1;){var b=g,y=m;u>2&&g>1&&(u/=g/(b=Math.ceil(g/2))),h>2&&m>1&&(h/=m/(y=Math.ceil(m/2))),(p=(o=this.cachedCanvases.getCanvas(v,b,y)).context).clearRect(0,0,b,y),p.drawImage(a,0,0,g,m,0,0,b,y),a=o.canvas,g=b,m=y,v="prescale1"===v?"prescale2":"prescale1"}if(r.drawImage(a,0,0,g,m,0,-i,n,i),this.imageLayer){var _=this.getCanvasPosition(0,-i);this.imageLayer.appendImage({imgData:e,left:_[0],top:_[1],width:n/s[0],height:i/s[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,n){var i=this.ctx,r=e.width,a=e.height,o=this.cachedCanvases.getCanvas("inlineImage",r,a);t(o.context,e);for(var s=0,c=n.length;s<c;s++){var l=n[s];if(i.save(),i.transform.apply(i,l.transform),i.scale(1,-1),i.drawImage(o.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:e,left:u[0],top:u[1],width:r,height:a})}i.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,i.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===C?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){if(null===this._cachedGetSinglePixelWidth){var t=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}},i.OPS)e.prototype[i.OPS[k]]=e.prototype[k];return e}();t.CanvasGraphics=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=r[e[0]];if(!t)throw new Error("Unknown IR type: ".concat(e[0]));return t.fromIR(e)},t.TilingPattern=void 0;var i=n(5),r={};function a(e,t){if(t&&"undefined"!=typeof Path2D){var n=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],n,i),e.clip(r)}}r.RadialAxial={fromIR:function(e){var t=e[1],n=e[2],i=e[3],r=e[4],o=e[5],s=e[6],c=e[7];return{type:"Pattern",getPattern:function(e){var l;a(e,n),"axial"===t?l=e.createLinearGradient(r[0],r[1],o[0],o[1]):"radial"===t&&(l=e.createRadialGradient(r[0],r[1],s,o[0],o[1],c));for(var u=0,f=i.length;u<f;++u){var d=i[u];l.addColorStop(d[0],d[1])}return l}}}};var o=function(){function e(e,t,n,i,r,a,o,s){var c,l=t.coords,u=t.colors,f=e.data,d=4*e.width;l[n+1]>l[i+1]&&(c=n,n=i,i=c,c=a,a=o,o=c),l[i+1]>l[r+1]&&(c=i,i=r,r=c,c=o,o=s,s=c),l[n+1]>l[i+1]&&(c=n,n=i,i=c,c=a,a=o,o=c);var h=(l[n]+t.offsetX)*t.scaleX,p=(l[n+1]+t.offsetY)*t.scaleY,g=(l[i]+t.offsetX)*t.scaleX,m=(l[i+1]+t.offsetY)*t.scaleY,v=(l[r]+t.offsetX)*t.scaleX,b=(l[r+1]+t.offsetY)*t.scaleY;if(!(p>=b))for(var y,_,C,k,S,x,A,w,M=u[a],T=u[a+1],P=u[a+2],I=u[o],O=u[o+1],j=u[o+2],E=u[s],L=u[s+1],N=u[s+2],R=Math.round(p),D=Math.round(b),Z=R;Z<=D;Z++){var F,U;if(Z<m)y=h-(h-g)*(F=Z<p?0:p===m?1:(p-Z)/(p-m)),_=M-(M-I)*F,C=T-(T-O)*F,k=P-(P-j)*F;else y=g-(g-v)*(U=Z>b?1:m===b?0:(m-Z)/(m-b)),_=I-(I-E)*U,C=O-(O-L)*U,k=j-(j-N)*U;var q=void 0;S=h-(h-v)*(q=Z<p?0:Z>b?1:(p-Z)/(p-b)),x=M-(M-E)*q,A=T-(T-L)*q,w=P-(P-N)*q;for(var B=Math.round(Math.min(y,S)),H=Math.round(Math.max(y,S)),Y=d*Z+4*B,V=B;V<=H;V++)(q=(y-V)/(y-S))<0?q=0:q>1&&(q=1),f[Y++]=_-(_-x)*q|0,f[Y++]=C-(C-A)*q|0,f[Y++]=k-(k-w)*q|0,f[Y++]=255}}function t(t,n,i){var r,a,o=n.coords,s=n.colors;switch(n.type){case"lattice":var c=n.verticesPerRow,l=Math.floor(o.length/c)-1,u=c-1;for(r=0;r<l;r++)for(var f=r*c,d=0;d<u;d++,f++)e(t,i,o[f],o[f+1],o[f+c],s[f],s[f+1],s[f+c]),e(t,i,o[f+c+1],o[f+1],o[f+c],s[f+c+1],s[f+1],s[f+c]);break;case"triangles":for(r=0,a=o.length;r<a;r+=3)e(t,i,o[r],o[r+1],o[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}return function(e,n,i,r,a,o,s,c){var l,u,f,d,h=Math.floor(e[0]),p=Math.floor(e[1]),g=Math.ceil(e[2])-h,m=Math.ceil(e[3])-p,v=Math.min(Math.ceil(Math.abs(g*n[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*n[1]*1.1)),3e3),y=g/v,_=m/b,C={coords:i,colors:r,offsetX:-h,offsetY:-p,scaleX:1/y,scaleY:1/_},k=v+4,S=b+4;if(c.isEnabled)l=c.drawFigures({width:v,height:b,backgroundColor:o,figures:a,context:C}),(u=s.getCanvas("mesh",k,S,!1)).context.drawImage(l,2,2),l=u.canvas;else{var x=(u=s.getCanvas("mesh",k,S,!1)).context,A=x.createImageData(v,b);if(o){var w=A.data;for(f=0,d=w.length;f<d;f+=4)w[f]=o[0],w[f+1]=o[1],w[f+2]=o[2],w[f+3]=255}for(f=0;f<a.length;f++)t(A,a[f],C);x.putImageData(A,2,2),l=u.canvas}return{canvas:l,offsetX:h-2*y,offsetY:p-2*_,scaleX:y,scaleY:_}}}();r.Mesh={fromIR:function(e){var t=e[2],n=e[3],r=e[4],s=e[5],c=e[6],l=e[7],u=e[8];return{type:"Pattern",getPattern:function(e,f,d){var h;if(a(e,l),d)h=i.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(h=i.Util.singularValueDecompose2dScale(f.baseTransform),c){var p=i.Util.singularValueDecompose2dScale(c);h=[h[0]*p[0],h[1]*p[1]]}var g=o(s,h,t,n,r,d?null:u,f.cachedCanvases,f.webGLContext);return d||(e.setTransform.apply(e,f.baseTransform),c&&e.transform.apply(e,c)),e.translate(g.offsetX,g.offsetY),e.scale(g.scaleX,g.scaleY),e.createPattern(g.canvas,"no-repeat")}}}},r.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var s=function(){function e(e,t,n,i,r){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=i,this.baseTransform=r,this.type="Pattern",this.ctx=n}return e.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,r=this.xstep,a=this.ystep,o=this.paintType,s=this.color,c=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);var l=n[0],u=n[1],f=n[2],d=n[3],h=i.Util.singularValueDecompose2dScale(this.matrix),p=i.Util.singularValueDecompose2dScale(this.baseTransform),g=[h[0]*p[0],h[1]*p[1]],m=this.getSizeAndScale(r,this.ctx.canvas.width,g[0]),v=this.getSizeAndScale(a,this.ctx.canvas.height,g[1]),b=e.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),y=c.createCanvasGraphics(b.context);return y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(y,o,s),y.transform(m.scale,0,0,v.scale,0,0),y.transform(1,0,0,1,-l,-u),this.clipBbox(y,n,l,u,f,d),y.executeOperatorList(t),this.ctx.transform(1,0,0,1,l,u),this.ctx.scale(1/m.scale,1/v.scale),b.canvas},getSizeAndScale:function(e,t,n){e=Math.abs(e);var i=Math.max(3e3,t),r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}},clipBbox:function(e,t,n,i,r,a){Array.isArray(t)&&4===t.length&&(e.ctx.rect(n,i,r-n,a-i),e.clip(),e.endPath())},setFillAndStrokeStyleToContext:function(e,t,n){var r=e.ctx,a=e.current;switch(t){case 1:var o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,a.fillColor=o.fillStyle,a.strokeColor=o.strokeStyle;break;case 2:var s=i.Util.makeCssRgb(n[0],n[1],n[2]);r.fillStyle=s,r.strokeStyle=s,a.fillColor=s,a.strokeColor=s;break;default:throw new i.FormatError("Unsupported paint type: ".concat(t))}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var n=this.createPatternCanvas(t);return e.createPattern(n,"repeat")}},e}();t.TilingPattern=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var i=Object.create(null);t.GlobalWorkerOptions=i,i.workerPort=void 0===i.workerPort?null:i.workerPort,i.workerSrc=void 0===i.workerSrc?"":i.workerSrc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var i,r=(i=n(2))&&i.__esModule?i:{default:i},a=n(5);function o(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){if("object"!==s(e)||null===e)return e;switch(e.name){case"AbortException":return new a.AbortException(e.message);case"MissingPDFException":return new a.MissingPDFException(e.message);case"UnexpectedResponseException":return new a.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new a.UnknownErrorException(e.message,e.details);default:return new a.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=function(){function e(t,n,i){var r=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.sourceName=t,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===r.sourceName){if(t.stream)return void r._processStreamMessage(t);if(t.callback){var n=t.callbackId,a=r.callbackCapabilities[n];if(!a)throw new Error("Cannot resolve callback ".concat(n));if(delete r.callbackCapabilities[n],1===t.callback)a.resolve(t.data);else{if(2!==t.callback)throw new Error("Unexpected callback case");a.reject(c(t.reason))}return}var o=r.actionHandler[t.action];if(!o)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var s=r.sourceName,l=t.sourceName;return void new Promise(function(e){e(o(t.data))}).then(function(e){i.postMessage({sourceName:s,targetName:l,callback:1,callbackId:t.callbackId,data:e})},function(e){i.postMessage({sourceName:s,targetName:l,callback:2,callbackId:t.callbackId,reason:c(e)})})}if(t.streamId)return void r._createStreamSink(t);o(t.data)}},i.addEventListener("message",this._onComObjOnMessage)}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var i=this.callbackId++,r=(0,a.createPromiseCapability)();this.callbackCapabilities[i]=r;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(o){r.reject(o)}return r.promise}},{key:"sendWithStream",value:function(e,t,n,i){var r=this,o=this.streamId++,s=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:function(n){var c=(0,a.createPromiseCapability)();return r.streamControllers[o]={controller:n,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},r._postMessage({sourceName:s,targetName:l,action:e,streamId:o,data:t,desiredSize:n.desiredSize},i),c.promise},pull:function(e){var t=(0,a.createPromiseCapability)();return r.streamControllers[o].pullCall=t,u.postMessage({sourceName:s,targetName:l,stream:6,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,a.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,a.createPromiseCapability)();return r.streamControllers[o].cancelCall=t,r.streamControllers[o].isClosed=!0,u.postMessage({sourceName:s,targetName:l,stream:1,streamId:o,reason:c(e)}),t.promise}},n)}},{key:"_createStreamSink",value:function(e){var t=this,n=this.actionHandler[e.action],i=e.streamId,r=this.sourceName,o=e.sourceName,s=this.comObj,l={enqueue:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=n,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:r,targetName:o,stream:4,streamId:i,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:o,stream:3,streamId:i}),delete t.streamSinks[i])},error:function(e){(0,a.assert)(e instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:o,stream:5,streamId:i,reason:c(e)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[i]=l,new Promise(function(t){t(n(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:o,stream:8,streamId:i,success:!0})},function(e){s.postMessage({sourceName:r,targetName:o,stream:8,streamId:i,reason:c(e)})})}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj;switch(e.stream){case 8:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(c(e.reason));break;case 7:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(c(e.reason));break;case 6:if(!this.streamSinks[t]){r.postMessage({sourceName:n,targetName:i,stream:7,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;var o=this.streamSinks[e.streamId].onPull;new Promise(function(e){e(o&&o())}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:7,streamId:t,success:!0})},function(e){r.postMessage({sourceName:n,targetName:i,stream:7,streamId:t,reason:c(e)})});break;case 4:if((0,a.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case 3:if((0,a.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case 5:(0,a.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(c(e.reason)),this._deleteStreamController(t);break;case 2:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(c(e.reason)),this._deleteStreamController(t);break;case 1:if(!this.streamSinks[t])break;var s=this.streamSinks[e.streamId].onCancel;new Promise(function(t){t(s&&s(c(e.reason)))}).then(function(){r.postMessage({sourceName:n,targetName:i,stream:2,streamId:t,success:!0})},function(e){r.postMessage({sourceName:n,targetName:i,stream:2,streamId:t,reason:c(e)})}),this.streamSinks[t].sinkCapability.reject(c(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(t=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function s(e){o(a,i,r,s,c,"next",e)}function c(e){o(a,i,r,s,c,"throw",e)}s(void 0)})}}(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map(function(e){return e&&e.promise}));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e;var t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var i=n(5),r=n(206);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&null!=s.return&&s.return()}finally{if(r)throw a}}return n}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}t.Metadata=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),(0,i.assert)("string"==typeof t,"Metadata: input is not a string"),t=this._repair(t);var n=(new r.SimpleXMLParser).parseFromString(t);this._metadataMap=new Map,n&&this._parse(n)}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"_repair",value:function(e){return e.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(e,t){for(var n=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,n,i){return String.fromCharCode(64*t+8*n+1*i)}).replace(/&(amp|apos|gt|lt|quot);/g,function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))}),i="",r=0,a=n.length;r<a;r+=2){var o=256*n.charCodeAt(r)+n.charCodeAt(r+1);i+=o>=32&&o<127&&60!==o&&62!==o&&38!==o?String.fromCharCode(o):"&#x"+(65536+o).toString(16).substring(1)+";"}return">"+i})}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;var n=t?t.nodeName.toLowerCase():null;if(t&&"rdf:rdf"===n&&t.hasChildNodes())for(var i=t.childNodes,r=0,a=i.length;r<a;r++){var o=i[r];if("rdf:description"===o.nodeName.toLowerCase())for(var s=0,c=o.childNodes.length;s<c;s++)if("#text"!==o.childNodes[s].nodeName.toLowerCase()){var l=o.childNodes[s],u=l.nodeName.toLowerCase();this._metadataMap.set(u,l.textContent.trim())}}}},{key:"get",value:function(e){return this._metadataMap.has(e)?this._metadataMap.get(e):null}},{key:"getAll",value:function(){var e,t=Object.create(null),n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=o(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{!s&&null!=n.return&&n.return()}finally{if(c)throw a}}}}(this._metadataMap);try{for(n.s();!(e=n.n()).done;){var i=a(e.value,2);t[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"has",value:function(e){return this._metadataMap.has(e)}}]),e}()},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t){var n=e[t];return" "===n||"\n"===n||"\r"===n||"\t"===n}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;var h=function(){function e(){l(this,e)}return f(e,[{key:"_resolveEntities",value:function(e){var t=this;return e.replace(/&([^;]+);/g,function(e,n){if("#x"===n.substring(0,2))return String.fromCharCode(parseInt(n.substring(2),16));if("#"===n.substring(0,1))return String.fromCharCode(parseInt(n.substring(1),10));switch(n){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return t.onResolveEntity(n)})}},{key:"_parseContent",value:function(e,t){var n=[],i=t;function r(){for(;i<e.length&&d(e,i);)++i}for(;i<e.length&&!d(e,i)&&">"!==e[i]&&"/"!==e[i];)++i;var a=e.substring(t,i);for(r();i<e.length&&">"!==e[i]&&"/"!==e[i]&&"?"!==e[i];){r();for(var o,s="";i<e.length&&!d(e,i)&&"="!==e[i];)s+=e[i],++i;if(r(),"="!==e[i])return null;++i,r();var c=e[i];if('"'!==c&&"'"!==c)return null;var l=e.indexOf(c,++i);if(l<0)return null;o=e.substring(i,l),n.push({name:s,value:this._resolveEntities(o)}),i=l+1,r()}return{name:a,attributes:n,parsed:i-t}}},{key:"_parseProcessingInstruction",value:function(e,t){for(var n=t;n<e.length&&!d(e,n)&&">"!==e[n]&&"/"!==e[n];)++n;var i=e.substring(t,n);!function(){for(;n<e.length&&d(e,n);)++n}();for(var r=n;n<e.length&&("?"!==e[n]||">"!==e[n+1]);)++n;return{name:i,value:e.substring(r,n),parsed:n-t}}},{key:"parseXml",value:function(e){for(var t=0;t<e.length;){var n=t;if("<"===e[t]){var i=void 0;switch(e[++n]){case"/":if(++n,(i=e.indexOf(">",n))<0)return void this.onError(-9);this.onEndElement(e.substring(n,i)),n=i+1;break;case"?":++n;var r=this._parseProcessingInstruction(e,n);if("?>"!==e.substring(n+r.parsed,n+r.parsed+2))return void this.onError(-3);this.onPi(r.name,r.value),n+=r.parsed+2;break;case"!":if("--"===e.substring(n+1,n+3)){if((i=e.indexOf("--\x3e",n+3))<0)return void this.onError(-5);this.onComment(e.substring(n+3,i)),n=i+3}else if("[CDATA["===e.substring(n+1,n+8)){if((i=e.indexOf("]]>",n+8))<0)return void this.onError(-2);this.onCdata(e.substring(n+8,i)),n=i+3}else{if("DOCTYPE"!==e.substring(n+1,n+8))return void this.onError(-6);var a=e.indexOf("[",n+8),o=!1;if((i=e.indexOf(">",n+8))<0)return void this.onError(-4);if(a>0&&i>a){if((i=e.indexOf("]>",n+8))<0)return void this.onError(-4);o=!0}var s=e.substring(n+8,i+(o?1:0));this.onDoctype(s),n=i+(o?2:1)}break;default:var c=this._parseContent(e,n);if(null===c)return void this.onError(-6);var l=!1;if("/>"===e.substring(n+c.parsed,n+c.parsed+2))l=!0;else if(">"!==e.substring(n+c.parsed,n+c.parsed+1))return void this.onError(-9);this.onBeginElement(c.name,c.attributes,l),n+=c.parsed+(l?2:1)}}else{for(;n<e.length&&"<"!==e[n];)n++;var u=e.substring(t,n);this.onText(this._resolveEntities(u))}t=n}}},{key:"onResolveEntity",value:function(e){return"&".concat(e,";")}},{key:"onPi",value:function(e,t){}},{key:"onComment",value:function(e){}},{key:"onCdata",value:function(e){}},{key:"onDoctype",value:function(e){}},{key:"onText",value:function(e){}},{key:"onBeginElement",value:function(e,t,n){}},{key:"onEndElement",value:function(e){}},{key:"onError",value:function(e){}}]),e}(),p=function(){function e(t,n){l(this,e),this.nodeName=t,this.nodeValue=n,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return f(e,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes;if(e){var t=e.indexOf(this);if(-1!==t)return e[t+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(e){return e.textContent}).join(""):this.nodeValue||""}}]),e}();t.SimpleXMLParser=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}(n);function n(){var e;return l(this,n),(e=t.call(this))._currentFragment=null,e._stack=null,e._errorCode=0,e}return f(n,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(e),0===this._errorCode){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),1!==n.length);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&null!=s.return&&s.return()}finally{if(r)throw a}}return n}}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,1)}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this._currentFragment)[0];if(t)return{documentElement:t}}}},{key:"onResolveEntity",value:function(e){switch(e){case"apos":return"'"}return a(c(n.prototype),"onResolveEntity",this).call(this,e)}},{key:"onText",value:function(e){if(!function(e){for(var t=0,n=e.length;t<n;t++)if(!d(e,t))return!1;return!0}(e)){var t=new p("#text",e);this._currentFragment.push(t)}}},{key:"onCdata",value:function(e){var t=new p("#text",e);this._currentFragment.push(t)}},{key:"onBeginElement",value:function(e,t,n){var i=new p(e);i.childNodes=[],this._currentFragment.push(i),!n&&(this._stack.push(this._currentFragment),this._currentFragment=i.childNodes)}},{key:"onEndElement",value:function(e){this._currentFragment=this._stack.pop()||[];var t=this._currentFragment[this._currentFragment.length-1];if(t)for(var n=0,i=t.childNodes.length;n<i;n++)t.childNodes[n].parentNode=t}},{key:"onError",value:function(e){this._errorCode=e}}]),n}(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var i,r=(i=n(2))&&i.__esModule?i:{default:i},a=n(5);function o(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function s(e){o(a,i,r,s,c,"next",e)}function c(e){o(a,i,r,s,c,"throw",e)}s(void 0)})}}function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{!o&&null!=n.return&&n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}t.PDFDataTransportStream=function(){function e(t,n){var i=this;u(this,e),(0,a.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1;var r=t.initialData;if(r&&r.length>0){var o=new Uint8Array(r).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){i._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e,t){i._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){i._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){i._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return d(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var n=this._rangeReaders.some(function(n){return n._begin===e.begin&&(n._enqueue(t),!0)});(0,a.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var n=this._fullRequestReader;n&&n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new h(this,e,this._progressiveDone)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new p(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach(function(t){t.cancel(e)}),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();var h=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u(this,e),this._stream=t,this._done=i||!1,this._filename=null,this._queuedChunks=n||[],this._loaded=0;var r,a=c(this._queuedChunks);try{for(a.s();!(r=a.n()).done;){var o=r.value;this._loaded+=o.byteLength}}catch(s){a.e(s)}finally{a.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}return d(e,[{key:"_enqueue",value:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}},{key:"read",value:(t=s(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 8:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),e;var t}(),p=function(){function e(t,n,i){u(this,e),this._stream=t,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return d(e,[{key:"_enqueue",value:function(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:(t=s(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),e;var t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var i=n(5);t.WebGLContext=function(){function e(t){var n=t.enable,i=void 0!==n&&n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._enabled=!0===i}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"composeSMask",value:function(e){return r.composeSMask(e.layer,e.mask,e.properties)}},{key:"drawFigures",value:function(e){return r.drawFigures(e.width,e.height,e.backgroundColor,e.figures,e.context)}},{key:"clear",value:function(){r.cleanup()}},{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=r.tryInitGL()),(0,i.shadow)(this,"isEnabled",e)}}]),e}();var r=function(){function e(e,t,n){var i=e.createShader(n);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){var r=e.getShaderInfoLog(i);throw new Error("Error during shader compilation: "+r)}return i}function t(t,n){return e(t,n,t.VERTEX_SHADER)}function n(t,n){return e(t,n,t.FRAGMENT_SHADER)}function i(e,t){for(var n=e.createProgram(),i=0,r=t.length;i<r;++i)e.attachShader(n,t[i]);if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var a=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+a)}return n}function r(e,t,n){e.activeTexture(n);var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),i}var a,o;function s(){a||(o=document.createElement("canvas"),a=o.getContext("webgl",{premultipliedalpha:!1}))}var c=null,l=null;return{tryInitGL:function(){try{return s(),!!a}catch(e){}return!1},composeSMask:function(e,l,u){var f=e.width,d=e.height;c||function(){var e,r;s(),e=o,o=null,r=a,a=null;var l=i(r,[t(r,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),n(r,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);r.useProgram(l);var u={};u.gl=r,u.canvas=e,u.resolutionLocation=r.getUniformLocation(l,"u_resolution"),u.positionLocation=r.getAttribLocation(l,"a_position"),u.backdropLocation=r.getUniformLocation(l,"u_backdrop"),u.subtypeLocation=r.getUniformLocation(l,"u_subtype");var f=r.getAttribLocation(l,"a_texCoord"),d=r.getUniformLocation(l,"u_image"),h=r.getUniformLocation(l,"u_mask"),p=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,p),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),r.STATIC_DRAW),r.enableVertexAttribArray(f),r.vertexAttribPointer(f,2,r.FLOAT,!1,0,0),r.uniform1i(d,0),r.uniform1i(h,1),c=u}();var h=c,p=h.canvas,g=h.gl;p.width=f,p.height=d,g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.uniform2f(h.resolutionLocation,f,d),u.backdrop?g.uniform4f(h.resolutionLocation,u.backdrop[0],u.backdrop[1],u.backdrop[2],1):g.uniform4f(h.resolutionLocation,0,0,0,0),g.uniform1i(h.subtypeLocation,"Luminosity"===u.subtype?1:0);var m=r(g,e,g.TEXTURE0),v=r(g,l,g.TEXTURE1),b=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,b),g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,f,0,0,d,0,d,f,0,f,d]),g.STATIC_DRAW),g.enableVertexAttribArray(h.positionLocation),g.vertexAttribPointer(h.positionLocation,2,g.FLOAT,!1,0,0),g.clearColor(0,0,0,0),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.clear(g.COLOR_BUFFER_BIT),g.drawArrays(g.TRIANGLES,0,6),g.flush(),g.deleteTexture(m),g.deleteTexture(v),g.deleteBuffer(b),p},drawFigures:function(e,r,c,u,f){l||function(){var e,r;s(),e=o,o=null,r=a,a=null;var c=i(r,[t(r,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),n(r,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);r.useProgram(c);var u={};u.gl=r,u.canvas=e,u.resolutionLocation=r.getUniformLocation(c,"u_resolution"),u.scaleLocation=r.getUniformLocation(c,"u_scale"),u.offsetLocation=r.getUniformLocation(c,"u_offset"),u.positionLocation=r.getAttribLocation(c,"a_position"),u.colorLocation=r.getAttribLocation(c,"a_color"),l=u}();var d=l,h=d.canvas,p=d.gl;h.width=e,h.height=r,p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight),p.uniform2f(d.resolutionLocation,e,r);var g,m,v,b=0;for(g=0,m=u.length;g<m;g++)switch(u[g].type){case"lattice":b+=((v=u[g].coords.length/u[g].verticesPerRow|0)-1)*(u[g].verticesPerRow-1)*6;break;case"triangles":b+=u[g].coords.length}var y=new Float32Array(2*b),_=new Uint8Array(3*b),C=f.coords,k=f.colors,S=0,x=0;for(g=0,m=u.length;g<m;g++){var A=u[g],w=A.coords,M=A.colors;switch(A.type){case"lattice":var T=A.verticesPerRow;v=w.length/T|0;for(var P=1;P<v;P++)for(var I=P*T+1,O=1;O<T;O++,I++)y[S]=C[w[I-T-1]],y[S+1]=C[w[I-T-1]+1],y[S+2]=C[w[I-T]],y[S+3]=C[w[I-T]+1],y[S+4]=C[w[I-1]],y[S+5]=C[w[I-1]+1],_[x]=k[M[I-T-1]],_[x+1]=k[M[I-T-1]+1],_[x+2]=k[M[I-T-1]+2],_[x+3]=k[M[I-T]],_[x+4]=k[M[I-T]+1],_[x+5]=k[M[I-T]+2],_[x+6]=k[M[I-1]],_[x+7]=k[M[I-1]+1],_[x+8]=k[M[I-1]+2],y[S+6]=y[S+2],y[S+7]=y[S+3],y[S+8]=y[S+4],y[S+9]=y[S+5],y[S+10]=C[w[I]],y[S+11]=C[w[I]+1],_[x+9]=_[x+3],_[x+10]=_[x+4],_[x+11]=_[x+5],_[x+12]=_[x+6],_[x+13]=_[x+7],_[x+14]=_[x+8],_[x+15]=k[M[I]],_[x+16]=k[M[I]+1],_[x+17]=k[M[I]+2],S+=12,x+=18;break;case"triangles":for(var j=0,E=w.length;j<E;j++)y[S]=C[w[j]],y[S+1]=C[w[j]+1],_[x]=k[M[j]],_[x+1]=k[M[j]+1],_[x+2]=k[M[j]+2],S+=2,x+=3}}c?p.clearColor(c[0]/255,c[1]/255,c[2]/255,1):p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT);var L=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,L),p.bufferData(p.ARRAY_BUFFER,y,p.STATIC_DRAW),p.enableVertexAttribArray(d.positionLocation),p.vertexAttribPointer(d.positionLocation,2,p.FLOAT,!1,0,0);var N=p.createBuffer();return p.bindBuffer(p.ARRAY_BUFFER,N),p.bufferData(p.ARRAY_BUFFER,_,p.STATIC_DRAW),p.enableVertexAttribArray(d.colorLocation),p.vertexAttribPointer(d.colorLocation,3,p.UNSIGNED_BYTE,!1,0,0),p.uniform2f(d.scaleLocation,f.scaleX,f.scaleY),p.uniform2f(d.offsetLocation,f.offsetX,f.offsetY),p.drawArrays(p.TRIANGLES,0,b),p.flush(),p.deleteBuffer(L),p.deleteBuffer(N),h},cleanup:function(){c&&c.canvas&&(c.canvas.width=0,c.canvas.height=0),l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0),c=null,l=null}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var i=n(1),r=n(5);function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{!s&&null!=n.return&&n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var b=function(){function e(){g(this,e)}return v(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new _(e);case r.AnnotationType.TEXT:return new C(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new S(e);case"Btn":return e.data.radioButton?new A(e):e.data.checkBox?new x(e):new w(e);case"Ch":return new M(e)}return new k(e);case r.AnnotationType.POPUP:return new T(e);case r.AnnotationType.FREETEXT:return new I(e);case r.AnnotationType.LINE:return new O(e);case r.AnnotationType.SQUARE:return new j(e);case r.AnnotationType.CIRCLE:return new E(e);case r.AnnotationType.POLYLINE:return new L(e);case r.AnnotationType.CARET:return new R(e);case r.AnnotationType.INK:return new D(e);case r.AnnotationType.POLYGON:return new N(e);case r.AnnotationType.HIGHLIGHT:return new Z(e);case r.AnnotationType.UNDERLINE:return new F(e);case r.AnnotationType.SQUIGGLY:return new U(e);case r.AnnotationType.STRIKEOUT:return new q(e);case r.AnnotationType.STAMP:return new B(e);case r.AnnotationType.FILEATTACHMENT:return new H(e);default:return new y(e)}}}]),e}(),y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g(this,e),this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,n&&(this.container=this._createContainer(i))}return v(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,n=this.page,i=this.viewport,a=document.createElement("section"),o=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];a.setAttribute("data-annotation-id",t.id);var c=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(a.style.transform="matrix(".concat(i.transform.join(","),")"),a.style.transformOrigin="-".concat(c[0],"px -").concat(c[1],"px"),!e&&t.borderStyle.width>0){a.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==r.AnnotationBorderStyleType.UNDERLINE&&(o-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var l=t.borderStyle.horizontalCornerRadius,u=t.borderStyle.verticalCornerRadius;if(l>0||u>0){var f="".concat(l,"px / ").concat(u,"px");a.style.borderRadius=f}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}t.color?a.style.borderColor=r.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):a.style.borderWidth=0}return a.style.left="".concat(c[0],"px"),a.style.top="".concat(c[1],"px"),a.style.width="".concat(o,"px"),a.style.height="".concat(s,"px"),a}},{key:"_createPopup",value:function(e,t,n){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var i=new P({container:e,trigger:t,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}).render();i.style.left=e.style.width,e.appendChild(i)}},{key:"render",value:function(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),_=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.url||e.data.dest||e.data.action))}return v(n,[{key:"render",value:function(){this.container.className="linkAnnotation";var e=this.data,t=this.linkService,n=document.createElement("a");return e.url?(0,i.addLinkAttributes)(n,{url:e.url,target:e.newWindow?i.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):this._bindLink(n,e.dest),this.container.appendChild(n),this.container}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.navigateTo(t),!1},t&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}}]),n}(y),C=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents))}return v(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}]),n}(y),k=function(e){l(n,e);var t=f(n);function n(){return g(this,n),t.apply(this,arguments)}return v(n,[{key:"render",value:function(){return this.container}}]),n}(y),S=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue)}return v(n,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var e=null;if(this.renderInteractiveForms){if(this.data.multiLine?(e=document.createElement("textarea")).textContent=this.data.fieldValue:((e=document.createElement("input")).type="text",e.setAttribute("value",this.data.fieldValue)),e.disabled=this.data.readOnly,e.name=this.data.fieldName,null!==this.data.maxLen&&(e.maxLength=this.data.maxLen),this.data.comb){var t=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;e.classList.add("comb"),e.style.letterSpacing="calc(".concat(t,"px - 1ch)")}}else{(e=document.createElement("div")).textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell";var n=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(n=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(e,n)}return null!==this.data.textAlignment&&(e.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(e),this.container}},{key:"_setTextStyle",value:function(e,t){var n=e.style;if(n.fontSize="".concat(this.data.fontSize,"px"),n.direction=this.data.fontDirection<0?"rtl":"ltr",t){var i="normal";t.black?i="900":t.bold&&(i="bold"),n.fontWeight=i,n.fontStyle=t.italic?"italic":"normal";var r=t.loadedName?'"'.concat(t.loadedName,'", '):"";n.fontFamily=r+(t.fallbackName||"Helvetica, sans-serif")}}}]),n}(k),x=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,e.renderInteractiveForms)}return v(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",e.name=this.data.fieldName,this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(k),A=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,e.renderInteractiveForms)}return v(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(k),w=function(e){l(n,e);var t=f(n);function n(){return g(this,n),t.apply(this,arguments)}return v(n,[{key:"render",value:function(){var e=s(p(n.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",e}}]),n}(_),M=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,e.renderInteractiveForms)}return v(n,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,e.name=this.data.fieldName,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));var t,n=a(this.data.options);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=document.createElement("option");r.textContent=i.displayValue,r.value=i.exportValue,this.data.fieldValue.includes(i.displayValue)&&r.setAttribute("selected",!0),e.appendChild(r)}}catch(o){n.e(o)}finally{n.f()}return this.container.appendChild(e),this.container}}]),n}(k),T=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!(!e.data.title&&!e.data.contents))}return v(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelector(e);if(!t)return this.container;var n=new P({container:this.container,trigger:t,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),i=parseFloat(t.style.left),r=parseFloat(t.style.width);return this.container.style.transformOrigin="-".concat(i+r,"px -").concat(t.style.top),this.container.style.left="".concat(i+r,"px"),this.container.appendChild(n.render()),this.container}}]),n}(y),P=function(){function e(t){g(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.modificationDate=t.modificationDate,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return v(e,[{key:"render",value:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var t=document.createElement("div");t.className="popup";var n=this.color;n&&(t.style.backgroundColor=r.Util.makeCssRgb(0|.7*(255-n[0])+n[0],0|.7*(255-n[1])+n[1],0|.7*(255-n[2])+n[2]));var a=document.createElement("h1");a.textContent=this.title,t.appendChild(a);var o=i.PDFDateString.toDateObject(this.modificationDate);if(o){var s=document.createElement("span");s.textContent="{{date}}, {{time}}",s.dataset.l10nId="annotation_date_string",s.dataset.l10nArgs=JSON.stringify({date:o.toLocaleDateString(),time:o.toLocaleTimeString()}),t.appendChild(s)}var c=this._formatContents(this.contents);return t.appendChild(c),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/),i=0,r=n.length;i<r;++i)t.appendChild(document.createTextNode(n[i])),i<r-1&&t.appendChild(document.createElement("br"));return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),e}(),I=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return v(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),O=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return v(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),n.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),n.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),n.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),t.appendChild(n),this.container.append(t),this._createPopup(this.container,n,e),this.container}}]),n}(y),j=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return v(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],i=this.svgFactory.create(t,n),r=e.borderStyle.width,a=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",t-r),a.setAttribute("height",n-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),i.appendChild(a),this.container.append(i),this._createPopup(this.container,a,e),this.container}}]),n}(y),E=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return v(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],i=this.svgFactory.create(t,n),r=e.borderStyle.width,a=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-r/2),a.setAttribute("ry",n/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),i.appendChild(a),this.container.append(i),this._createPopup(this.container,a,e),this.container}}]),n}(y),L=function(e){l(n,e);var t=f(n);function n(e){var i;return g(this,n),(i=t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)).containerClassName="polylineAnnotation",i.svgElementName="svg:polyline",i}return v(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),i=[],r=a(t.vertices);try{for(r.s();!(e=r.n()).done;){var o=e.value;i.push(o.x-t.rect[0]+","+(t.rect[3]-o.y))}}catch(c){r.e(c)}finally{r.f()}i=i.join(" ");var s=this.svgFactory.createElement(this.svgElementName);return s.setAttribute("points",i),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","none"),n.appendChild(s),this.container.append(n),this._createPopup(this.container,s,t),this.container}}]),n}(y),N=function(e){l(n,e);var t=f(n);function n(e){var i;return g(this,n),(i=t.call(this,e)).containerClassName="polygonAnnotation",i.svgElementName="svg:polygon",i}return n}(L),R=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return v(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),D=function(e){l(n,e);var t=f(n);function n(e){var i;return g(this,n),(i=t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)).containerClassName="inkAnnotation",i.svgElementName="svg:polyline",i}return v(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),i=a(t.inkLists);try{for(i.s();!(e=i.n()).done;){var r,o=[],s=a(e.value);try{for(s.s();!(r=s.n()).done;){var c=r.value,l=t.rect[3]-c.y;o.push("".concat(c.x-t.rect[0],",").concat(l))}}catch(f){s.e(f)}finally{s.f()}o=o.join(" ");var u=this.svgFactory.createElement(this.svgElementName);u.setAttribute("points",o),u.setAttribute("stroke-width",t.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","none"),this._createPopup(this.container,u,t),n.appendChild(u)}}catch(f){i.e(f)}finally{i.f()}return this.container.append(n),this.container}}]),n}(y),Z=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return v(n,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),F=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return v(n,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),U=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return v(n,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),q=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return v(n,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),B=function(e){l(n,e);var t=f(n);function n(e){return g(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return v(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),H=function(e){l(n,e);var t=f(n);function n(e){var a;g(this,n);var o=(a=t.call(this,e,!0)).data.file,s=o.filename,c=o.content;return a.filename=(0,i.getFilenameFromUrl)(s),a.content=c,a.linkService.eventBus&&a.linkService.eventBus.dispatch("fileattachmentannotation",{source:h(a),id:(0,r.stringToPDFString)(s),filename:s,content:c}),a}return v(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,r.warn)("Download cannot be started due to unavailable download manager")}}]),n}(y);t.AnnotationLayer=function(){function e(){g(this,e)}return v(e,null,[{key:"render",value:function(e){var t,n=[],o=[],s=a(e.annotations);try{for(s.s();!(t=s.n()).done;){var c=t.value;if(c){if(c.annotationType===r.AnnotationType.POPUP){o.push(c);continue}n.push(c)}}}catch(d){s.e(d)}finally{s.f()}o.length&&n.push.apply(n,o);for(var l=0,u=n;l<u.length;l++){var f=b.create({data:u[l],layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:e.renderInteractiveForms||!1,svgFactory:new i.DOMSVGFactory});f.isRenderable&&e.div.appendChild(f.render())}}},{key:"update",value:function(e){var t,n=a(e.annotations);try{for(n.s();!(t=n.n()).done;){var i=e.div.querySelector('[data-annotation-id="'.concat(t.value.id,'"]'));i&&(i.style.transform="matrix(".concat(e.viewport.transform.join(","),")"))}}catch(r){n.e(r)}finally{n.f()}e.div.removeAttribute("hidden")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var i=n(5),r=function(){var e=/\S/;function t(t,n,r){var a=document.createElement("span"),o={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(t._textDivs.push(a),function(t){return!e.test(t)}(n.str))return o.isWhitespace=!0,void t._textDivProperties.set(a,o);var s=i.Util.transform(t._viewport.transform,n.transform),c=Math.atan2(s[1],s[0]),l=r[n.fontName];l.vertical&&(c+=Math.PI/2);var u,f,d=Math.sqrt(s[2]*s[2]+s[3]*s[3]),h=d;l.ascent?h*=l.ascent:l.descent&&(h*=1+l.descent),0===c?(u=s[4],f=s[5]-h):(u=s[4]+h*Math.sin(c),f=s[5]-h*Math.cos(c)),a.style.left="".concat(u,"px"),a.style.top="".concat(f,"px"),a.style.fontSize="".concat(d,"px"),a.style.fontFamily=l.fontFamily,a.textContent=n.str,t._fontInspectorEnabled&&(a.dataset.fontName=n.fontName),0!==c&&(o.angle=c*(180/Math.PI));var p=!1;if(n.str.length>1)p=!0;else if(n.transform[0]!==n.transform[3]){var g=Math.abs(n.transform[0]),m=Math.abs(n.transform[3]);g!==m&&Math.max(g,m)/Math.min(g,m)>1.5&&(p=!0)}if(p&&(o.canvasWidth=l.vertical?n.height*t._viewport.scale:n.width*t._viewport.scale),t._textDivProperties.set(a,o),t._textContentStream&&t._layoutText(a),t._enhanceTextSelection){var v=1,b=0;0!==c&&(v=Math.cos(c),b=Math.sin(c));var y,_,C=(l.vertical?n.height:n.width)*t._viewport.scale,k=d;_=0!==c?i.Util.getAxialAlignedBoundingBox([0,0,C,k],y=[v,b,-b,v,u,f]):[u,f,u+C,f+k],t._bounds.push({left:_[0],top:_[1],right:_[2],bottom:_[3],div:a,size:[C,k],m:y})}}function n(e){if(!e._canceled){var t=e._textDivs,n=e._capability,i=t.length;if(i>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var r=0;r<i;r++)e._layoutText(t[r]);e._renderingDone=!0,n.resolve()}}function r(e,t,n){for(var i=0,r=0;r<n;r++){var a=e[t++];a>0&&(i=i?Math.min(a,i):a)}return i}function a(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach(function(e){for(var t=0;t<n.length&&n[t].end<=e.y1;)t++;for(var i=n.length-1;i>=0&&n[i].start>=e.y2;)i--;var r,a,o,s,c=-1/0;for(o=t;o<=i;o++){var l;(l=(a=(r=n[o]).boundary).x2>e.x1?a.index>e.index?a.x1New:e.x1:void 0===a.x2New?(a.x2+e.x1)/2:a.x2New)>c&&(c=l)}for(e.x1New=c,o=t;o<=i;o++)void 0===(a=(r=n[o]).boundary).x2New?a.x2>e.x1?a.index>e.index&&(a.x2New=a.x2):a.x2New=c:a.x2New>c&&(a.x2New=Math.max(c,a.x2));var u=[],f=null;for(o=t;o<=i;o++){var d=(a=(r=n[o]).boundary).x2>e.x2?a:e;f===d?u[u.length-1].end=r.end:(u.push({start:r.start,end:r.end,boundary:d}),f=d)}for(n[t].start<e.y1&&(u[0].start=e.y1,u.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[i].end&&(u[u.length-1].end=e.y2,u.push({start:e.y2,end:n[i].end,boundary:n[i].boundary})),o=t;o<=i;o++)if(void 0===(a=(r=n[o]).boundary).x2New){var h=!1;for(s=t-1;!h&&s>=0&&n[s].start>=a.y1;s--)h=n[s].boundary===a;for(s=i+1;!h&&s<n.length&&n[s].end<=a.y2;s++)h=n[s].boundary===a;for(s=0;!h&&s<u.length;s++)h=u[s].boundary===a;h||(a.x2New=c)}Array.prototype.splice.apply(n,[t,i-t+1].concat(u))}),n.forEach(function(t){var n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))})}function o(e){var t=this,n=e.textContentStream,r=e.container,a=e.viewport,o=e.textDivs,s=e.textContentItemsStr,c=e.enhanceTextSelection;this._textContent=e.textContent,this._textContentStream=n,this._container=r,this._viewport=a,this._textDivs=o||[],this._textContentItemsStr=s||[],this._enhanceTextSelection=!!c,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){t._layoutTextCtx&&(t._layoutTextCtx.canvas.width=0,t._layoutTextCtx.canvas.height=0,t._layoutTextCtx=null)}).catch(function(){})}return o.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(e,n){for(var i=0,r=e.length;i<r;i++)this._textContentItemsStr.push(e[i].str),t(this,e[i],n)},_layoutText:function(e){var t=this._textDivProperties.get(e);if(!t.isWhitespace){var n="";if(0!==t.canvasWidth){var i=e.style,r=i.fontSize,a=i.fontFamily;(r!==this._layoutTextLastFontSize||a!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(r," ").concat(a),this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=a);var o=this._layoutTextCtx.measureText(e.textContent).width;o>0&&(t.scale=t.canvasWidth/o,n="scaleX(".concat(t.scale,")"))}0!==t.angle&&(n="rotate(".concat(t.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),this._textDivProperties.set(e,t),this._container.appendChild(e)}},_render:function(e){var t=this,r=(0,i.createPromiseCapability)(),a=Object.create(null),o=document.createElement("canvas");if(o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),r.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function e(){t._reader.read().then(function(n){var i=n.value;n.done?r.resolve():(Object.assign(a,i.styles),t._processItems(i.items,a),e())},r.reject)}()}r.promise.then(function(){a=null,e?t._renderTimer=setTimeout(function(){n(t),t._renderTimer=null},e):n(t)},this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(function(e){for(var t=e._bounds,n=e._viewport,o=function(e,t,n){var i=n.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});a(e,i);var r=new Array(n.length);return i.forEach(function(e){r[e.index]={left:e.x1New,top:0,right:e.x2New,bottom:0}}),n.map(function(t,n){var a=r[n],o=i[n];o.x1=t.top,o.y1=e-a.right,o.x2=t.bottom,o.y2=e-a.left,o.index=n,o.x1New=void 0,o.x2New=void 0}),a(t,i),i.forEach(function(e){var t=e.index;r[t].top=e.x1New,r[t].bottom=e.x2New}),r}(n.width,n.height,t),s=0;s<o.length;s++){var c=t[s].div,l=e._textDivProperties.get(c);if(0!==l.angle){var u=o[s],f=t[s],d=f.m,h=d[0],p=d[1],g=[[0,0],[0,f.size[1]],[f.size[0],0],f.size],m=new Float64Array(64);g.forEach(function(e,t){var n=i.Util.applyTransform(e,d);m[t+0]=h&&(u.left-n[0])/h,m[t+4]=p&&(u.top-n[1])/p,m[t+8]=h&&(u.right-n[0])/h,m[t+12]=p&&(u.bottom-n[1])/p,m[t+16]=p&&(u.left-n[0])/-p,m[t+20]=h&&(u.top-n[1])/h,m[t+24]=p&&(u.right-n[0])/-p,m[t+28]=h&&(u.bottom-n[1])/h,m[t+32]=h&&(u.left-n[0])/-h,m[t+36]=p&&(u.top-n[1])/-p,m[t+40]=h&&(u.right-n[0])/-h,m[t+44]=p&&(u.bottom-n[1])/-p,m[t+48]=p&&(u.left-n[0])/p,m[t+52]=h&&(u.top-n[1])/-h,m[t+56]=p&&(u.right-n[0])/p,m[t+60]=h&&(u.bottom-n[1])/-h});var v=1+Math.min(Math.abs(h),Math.abs(p));l.paddingLeft=r(m,32,16)/v,l.paddingTop=r(m,48,16)/v,l.paddingRight=r(m,0,16)/v,l.paddingBottom=r(m,16,16)/v,e._textDivProperties.set(c,l)}else l.paddingLeft=t[s].left-o[s].left,l.paddingTop=t[s].top-o[s].top,l.paddingRight=o[s].right-t[s].right,l.paddingBottom=o[s].bottom-t[s].bottom,e._textDivProperties.set(c,l)}}(this),this._bounds=null);for(var t=[],n=[],o=0,s=this._textDivs.length;o<s;o++){var c=this._textDivs[o],l=this._textDivProperties.get(c);l.isWhitespace||(e?(t.length=0,n.length=0,l.originalTransform&&t.push(l.originalTransform),l.paddingTop>0?(n.push("".concat(l.paddingTop,"px")),t.push("translateY(".concat(-l.paddingTop,"px)"))):n.push(0),n.push(l.paddingRight>0?"".concat(l.paddingRight/l.scale,"px"):0),n.push(l.paddingBottom>0?"".concat(l.paddingBottom,"px"):0),l.paddingLeft>0?(n.push("".concat(l.paddingLeft/l.scale,"px")),t.push("translateX(".concat(-l.paddingLeft/l.scale,"px)"))):n.push(0),c.style.padding=n.join(" "),t.length&&(c.style.transform=t.join(" "))):(c.style.padding=null,c.style.transform=l.originalTransform))}}}},function(e){var t=new o({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var i=n(5),r=n(1),a=n(7);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&null!=s.return&&s.return()}finally{if(r)throw a}}return n}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{!o&&null!=n.return&&n.return()}finally{if(s)throw a}}}}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var h=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=h;var p=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)},g=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(p(e[0])," ").concat(p(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(p(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(p(e[4])," ").concat(p(e[5]),")");return"matrix(".concat(p(e[0])," ").concat(p(e[1])," ").concat(p(e[2])," ").concat(p(e[3])," ").concat(p(e[4])," ")+"".concat(p(e[5]),")")},m="normal",v="#000000",b=["butt","round","square"],y=["miter","round","bevel"],_=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256),n=0;n<256;n++){for(var r=n,o=0;o<8;o++)r=1&r?3988292384^r>>1&2147483647:r>>1&2147483647;t[n]=r}function s(e,n,i,r){var a=r,o=n.length;i[a]=o>>24&255,i[a+1]=o>>16&255,i[a+2]=o>>8&255,i[a+3]=255&o,i[a+=4]=255&e.charCodeAt(0),i[a+1]=255&e.charCodeAt(1),i[a+2]=255&e.charCodeAt(2),i[a+3]=255&e.charCodeAt(3),i.set(n,a+=4);var s=function(e,n,i){for(var r=-1,a=n;a<i;a++)r=r>>>8^t[255&(r^e[a])];return-1^r}(i,r+4,a+=n.length);i[a]=s>>24&255,i[a+1]=s>>16&255,i[a+2]=s>>8&255,i[a+3]=255&s}function c(e){var t=e.length,n=65535,i=Math.ceil(t/n),r=new Uint8Array(2+t+5*i+4),a=0;r[a++]=120,r[a++]=156;for(var o=0;t>n;)r[a++]=0,r[a++]=255,r[a++]=255,r[a++]=0,r[a++]=0,r.set(e.subarray(o,o+n),a),a+=n,o+=n,t-=n;r[a++]=1,r[a++]=255&t,r[a++]=t>>8&255,r[a++]=255&~t,r[a++]=(65535&~t)>>8&255,r.set(e.subarray(o),a),a+=e.length-o;var s=function(e,t,n){for(var i=1,r=0,a=0;a<n;++a)r=(r+(i=(i+(255&e[a]))%65521))%65521;return r<<16|i}(e,0,e.length);return r[a++]=s>>24&255,r[a++]=s>>16&255,r[a++]=s>>8&255,r[a++]=255&s,r}return function(t,n,r){return function(t,n,r,o){var l,u,f,d=t.width,h=t.height,p=t.data;switch(n){case i.ImageKind.GRAYSCALE_1BPP:u=0,l=1,f=d+7>>3;break;case i.ImageKind.RGB_24BPP:u=2,l=8,f=3*d;break;case i.ImageKind.RGBA_32BPP:u=6,l=8,f=4*d;break;default:throw new Error("invalid format")}for(var g=new Uint8Array((1+f)*h),m=0,v=0,b=0;b<h;++b)g[m++]=0,g.set(p.subarray(v,v+f),m),v+=f,m+=f;if(n===i.ImageKind.GRAYSCALE_1BPP&&o){m=0;for(var y=0;y<h;y++){m++;for(var _=0;_<f;_++)g[m++]^=255}}var C=new Uint8Array([d>>24&255,d>>16&255,d>>8&255,255&d,h>>24&255,h>>16&255,h>>8&255,255&h,l,u,0,0,0]),k=function(e){if(!a.isNodeJS)return c(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var n=__webpack_require__(33074).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(o){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+o)}return c(e)}(g),S=new Uint8Array(e.length+36+C.length+k.length),x=0;return S.set(e,x),s("IHDR",C,S,x+=e.length),s("IDATA",k,S,x+=12+C.length),x+=12+k.length,s("IEND",new Uint8Array(0),S,x),(0,i.createObjectURL)(S,"image/png",r)}(t,void 0===t.kind?i.ImageKind.GRAYSCALE_1BPP:t.kind,n,r)}}(),C=function(){function e(){u(this,e),this.fontSizeScale=1,this.fontWeight=m,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=v,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return d(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),k=0,S=0,x=0;t.SVGGraphics=h=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in u(this,e),this.svgFactory=new r.DOMSVGFactory,this.current=new C,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!a,this._operatorIdMapping=[],i.OPS)this._operatorIdMapping[i.OPS[o]]=o}return d(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,n=e.fnArray,r=e.argsArray,a=0,o=n.length;a<o;a++)if(n[a]===i.OPS.dependency){var c,l=s(r[a]);try{var u=function(){var e=c.value,n=e.startsWith("g_")?t.commonObjs:t.objs,i=new Promise(function(t){n.get(e,t)});t.current.dependencies.push(i)};for(l.s();!(c=l.n()).done;)u()}catch(f){l.e(f)}finally{l.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,n,r,a,o){this.transformMatrix=i.Util.transform(this.transformMatrix,[e,t,n,r,a,o]),this.tgrp=null}},{key:"getSVG",value:function(e,t){var n=this;this.viewport=t;var r=this._initialize(t);return this.loadDependencies(e).then(function(){return n.transformMatrix=i.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(e)),r})}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,n=e.argsArray,i=e.fnArray,r=[],a=0,o=i.length;a<o;a++){var c=i[a];r.push({fnId:c,fn:t[c],args:n[a]})}return function(e){var t,n=[],i=[],r=s(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;"save"!==o.fn?"restore"===o.fn?n=i.pop():n.push(o):(n.push({fnId:92,fn:"group",items:[]}),i.push(n),n=n[n.length-1].items)}}catch(a){r.e(a)}finally{r.f()}return n}(r)}},{key:"executeOpTree",value:function(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=r.fn,o=r.args;switch(0|r.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(o);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(o[0],o[1]);break;case i.OPS.setFont:this.setFont(o);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(o[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(o[0],o[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(o[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(o[0]);break;case i.OPS.setHScale:this.setHScale(o[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(o[0],o[1],o[2],o[3],o[4],o[5]);break;case i.OPS.setTextRise:this.setTextRise(o[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(o[0]);break;case i.OPS.setLineWidth:this.setLineWidth(o[0]);break;case i.OPS.setLineJoin:this.setLineJoin(o[0]);break;case i.OPS.setLineCap:this.setLineCap(o[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(o[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(o[0],o[1],o[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(o[0],o[1],o[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(o);break;case i.OPS.setFillColorN:this.setFillColorN(o);break;case i.OPS.shadingFill:this.shadingFill(o[0]);break;case i.OPS.setDash:this.setDash(o[0],o[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(o[0]);break;case i.OPS.setFlatness:this.setFlatness(o[0]);break;case i.OPS.setGState:this.setGState(o[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(o[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(o[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(o[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(o[0],o[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(o[0],o[1],o[2],o[3],o[4],o[5]);break;case i.OPS.constructPath:this.constructPath(o[0],o[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,i.warn)("Unimplemented operator ".concat(a))}}}catch(c){n.e(c)}finally{n.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,n,i,r,a){var o=this.current;o.textMatrix=o.lineMatrix=[e,t,n,i,r,a],o.textMatrixScale=Math.sqrt(e*e+t*t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(p(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",p(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(p(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",p(-n.y))}},{key:"showText",value:function(e){var t=this.current,n=t.font,r=t.fontSize;if(0!==r){var a,o=t.fontSizeScale,c=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,f=t.textHScale*u,d=n.vertical,h=d?1:-1,b=n.defaultVMetrics,y=r*t.fontMatrix[0],_=0,C=s(e);try{for(C.s();!(a=C.n()).done;){var k=a.value;if(null!==k)if((0,i.isNum)(k))_+=h*k*r/1e3;else{var S=(k.isSpace?l:0)+c,x=k.fontChar,A=void 0,w=void 0,M=k.width;if(d){var T=void 0,P=k.vmetric||b;T=k.vmetric?P[1]:.5*M,M=P?-P[0]:M,A=(T=-T*y)/o,w=(_+P[2]*y)/o}else A=_/o,w=0;(k.isInFont||n.missingFile)&&(t.xcoords.push(t.x+A),d&&t.ycoords.push(-t.y+w),t.tspan.textContent+=x),_+=d?M*y-S*u:M*y+S*u}else _+=u*l}}catch(j){C.e(j)}finally{C.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(p).join(" ")),t.tspan.setAttributeNS(null,"y",d?t.ycoords.map(p).join(" "):p(-t.y)),d?t.y-=_:t.x+=_*f,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(p(t.fontSize),"px")),"normal"!==t.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==m&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var I=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;I===i.TextRenderingMode.FILL||I===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==v&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.tspan.setAttributeNS(null,"fill",t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(I===i.TextRenderingMode.STROKE||I===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(t.tspan,1/(t.textMatrixScale||1));var O=t.textMatrix;0!==t.textRise&&((O=O.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(g(O)," scale(").concat(p(f),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,i.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,n=this.commonObjs.get(e[0]),r=e[1];t.font=n,this.embedFonts&&!n.missingFile&&!this.embeddedFonts[n.loadedName]&&(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix?n.fontMatrix:i.FONT_IDENTITY_MATRIX;var a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=a,t.fontStyle=o,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",p(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e=this.current;e.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement&&e.txtElement.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=b[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=y[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,n){this.current.strokeColor=i.Util.makeCssRgb(e,t,n)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,n){this.current.fillColor=i.Util.makeCssRgb(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,n=this.viewport.height,r=i.Util.inverseTransform(this.transformMatrix),a=i.Util.applyTransform([0,0],r),o=i.Util.applyTransform([0,n],r),s=i.Util.applyTransform([t,0],r),c=i.Util.applyTransform([t,n],r),l=Math.min(a[0],o[0],s[0],c[0]),u=Math.min(a[1],o[1],s[1],c[1]),f=Math.max(a[0],o[0],s[0],c[0]),d=Math.max(a[1],o[1],s[1],c[1]),h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x",l),h.setAttributeNS(null,"y",u),h.setAttributeNS(null,"width",f-l),h.setAttributeNS(null,"height",d-u),h.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&h.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(h)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],n=e[2],r=e[3]||i.IDENTITY_MATRIX,a=o(e[4],4),s=a[0],u=a[1],f=a[2],d=a[3],h=e[5],p=e[6],g=e[7],m="shading".concat(x++),v=o(i.Util.applyTransform([s,u],r),2),b=v[0],y=v[1],_=o(i.Util.applyTransform([f,d],r),2),C=_[0],k=_[1],S=o(i.Util.singularValueDecompose2dScale(r),2),A=h*S[0],w=p*S[1],M=this.svgFactory.createElement("svg:pattern");M.setAttributeNS(null,"id",m),M.setAttributeNS(null,"patternUnits","userSpaceOnUse"),M.setAttributeNS(null,"width",A),M.setAttributeNS(null,"height",w),M.setAttributeNS(null,"x","".concat(b)),M.setAttributeNS(null,"y","".concat(y));var T=this.svg,P=this.transformMatrix,I=this.current.fillColor,O=this.current.strokeColor,j=this.svgFactory.create(C-b,k-y);if(this.svg=j,this.transformMatrix=r,2===g){var E=i.Util.makeCssRgb.apply(i.Util,function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t));this.current.fillColor=E,this.current.strokeColor=E}return this.executeOpTree(this.convertOpList(n)),this.svg=T,this.transformMatrix=P,this.current.fillColor=I,this.current.strokeColor=O,M.appendChild(j.childNodes[0]),this.defs.appendChild(M),"url(#".concat(m,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,n="shading".concat(x++),r=e[3];switch(e[1]){case"axial":var a=e[4],o=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",a[0]),t.setAttributeNS(null,"y1",a[1]),t.setAttributeNS(null,"x2",o[0]),t.setAttributeNS(null,"y2",o[1]);break;case"radial":var c=e[4],l=e[5],u=e[6],f=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",l[0]),t.setAttributeNS(null,"cy",l[1]),t.setAttributeNS(null,"r",f),t.setAttributeNS(null,"fx",c[0]),t.setAttributeNS(null,"fy",c[1]),t.setAttributeNS(null,"fr",u);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var d,h=s(r);try{for(h.s();!(d=h.n()).done;){var p=d.value,g=this.svgFactory.createElement("svg:stop");g.setAttributeNS(null,"offset",p[0]),g.setAttributeNS(null,"stop-color",p[1]),t.appendChild(g)}}catch(m){h.e(m)}finally{h.f()}return this.defs.appendChild(t),"url(#".concat(n,")");case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var n,r=this.current,a=r.x,o=r.y,c=[],l=0,u=s(e);try{for(u.s();!(n=u.n()).done;)switch(0|n.value){case i.OPS.rectangle:a=t[l++],o=t[l++];var f=a+t[l++],d=o+t[l++];c.push("M",p(a),p(o),"L",p(f),p(o),"L",p(f),p(d),"L",p(a),p(d),"Z");break;case i.OPS.moveTo:a=t[l++],o=t[l++],c.push("M",p(a),p(o));break;case i.OPS.lineTo:a=t[l++],o=t[l++],c.push("L",p(a),p(o));break;case i.OPS.curveTo:a=t[l+4],o=t[l+5],c.push("C",p(t[l]),p(t[l+1]),p(t[l+2]),p(t[l+3]),p(a),p(o)),l+=6;break;case i.OPS.curveTo2:c.push("C",p(a),p(o),p(t[l]),p(t[l+1]),p(t[l+2]),p(t[l+3])),a=t[l+2],o=t[l+3],l+=4;break;case i.OPS.curveTo3:a=t[l+2],o=t[l+3],c.push("C",p(t[l]),p(t[l+1]),p(a),p(o),p(a),p(o)),l+=4;break;case i.OPS.closePath:c.push("Z")}}catch(h){u.e(h)}finally{u.f()}c=c.join(" "),r.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?c=r.path.getAttributeNS(null,"d")+c:(r.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(r.path)),r.path.setAttributeNS(null,"d",c),r.path.setAttributeNS(null,"fill","none"),r.element=r.path,r.setCurrentPoint(a,o)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip){if(!e.element)return void(this.pendingClip=null);var t="clippath".concat(k++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",g(this.transformMatrix));var i=e.element.cloneNode(!0);i.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,n.appendChild(i),this.defs.appendChild(n),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach(function(e){e.clipGroup=null}),n.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),a=r[0],c=r[1];switch(a){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c);break;case"CA":this.setStrokeAlpha(c);break;case"ca":this.setFillAlpha(c);break;default:(0,i.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(l){n.e(l)}finally{n.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,i=n.dashArray;1!==t&&i.length>0&&(i=i.map(function(e){return t*e})),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",p(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",p(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",i.map(p).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",p(t*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var n=e.width,i=e.height,r=_(e,this.forceDataSchema,!!t),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",p(n)),a.setAttributeNS(null,"height",p(i)),this.current.element=a,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",p(-i)),o.setAttributeNS(null,"width",p(n)+"px"),o.setAttributeNS(null,"height",p(i)+"px"),o.setAttributeNS(null,"transform","scale(".concat(p(1/n)," ").concat(p(-1/i),")")),t?t.appendChild(o):this._ensureTransformGroup().appendChild(o)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,n=e.width,i=e.height,r=t.fillColor;t.maskId="mask".concat(S++);var a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",t.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",p(n)),o.setAttributeNS(null,"height",p(i)),o.setAttributeNS(null,"fill",r),o.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(a),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(e,a)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var n=t[2]-t[0],i=t[3]-t[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",p(n)),r.setAttributeNS(null,"height",p(i)),this.current.element=r,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;var i=this.svgFactory.createElement("svg:g");return i.setAttributeNS(null,"transform",g(e.transform)),t.appendChild(i),this.svg=i,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var i,r=(i=n(2))&&i.__esModule?i:{default:i},a=n(5),o=n(213);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){h(a,i,r,o,s,"next",e)}function s(e){h(a,i,r,o,s,"throw",e)}o(void 0)})}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var b=__webpack_require__(36599),y=__webpack_require__(35358),_=__webpack_require__(61822),C=__webpack_require__(31127),k=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=function(){function e(t){g(this,e),this.source=t,this.url=function(e){var t=C.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?C.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return v(e,[{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new T(this):new w(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=this.isFsUrl?new P(this,e,t):new M(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach(function(t){t.cancel(e)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();var S=function(){function e(t){g(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}return v(e,[{key:"read",value:(t=p(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,a.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e;var t}(),x=function(){function e(t){g(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!t.source.disableStream}return v(e,[{key:"read",value:(t=p(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,a.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e;var t}();function A(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var w=function(e){c(n,e);var t=u(n);function n(e){var i;g(this,n);var r=function(t){if(404===t.statusCode){var n=new a.MissingPDFException('Missing PDF "'.concat(i._url,'".'));return i._storedError=n,void i._headersCapability.reject(n)}i._headersCapability.resolve(),i._setReadableStream(t);var r=function(e){return i._readableStream.headers[e.toLowerCase()]},s=(0,o.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:i._rangeChunkSize,disableRange:i._disableRange}),c=s.suggestedLength;i._isRangeSupported=s.allowRangeRequests,i._contentLength=c||i._contentLength,i._filename=(0,o.extractFilenameFromHeader)(r)};return(i=t.call(this,e))._request=null,i._request="http:"===i._url.protocol?y.request(A(i._url,e.httpHeaders),r):_.request(A(i._url,e.httpHeaders),r),i._request.on("error",function(e){i._storedError=e,i._headersCapability.reject(e)}),i._request.end(),i}return n}(S),M=function(e){c(n,e);var t=u(n);function n(e,i,r){var o;for(var s in g(this,n),(o=t.call(this,e))._httpHeaders={},e.httpHeaders){var c=e.httpHeaders[s];void 0!==c&&(o._httpHeaders[s]=c)}o._httpHeaders.Range="bytes=".concat(i,"-").concat(r-1);var l=function(e){if(404!==e.statusCode)o._setReadableStream(e);else{var t=new a.MissingPDFException('Missing PDF "'.concat(o._url,'".'));o._storedError=t}};return o._request=null,o._request="http:"===o._url.protocol?y.request(A(o._url,o._httpHeaders),l):_.request(A(o._url,o._httpHeaders),l),o._request.on("error",function(e){o._storedError=e}),o._request.end(),o}return n}(x),T=function(e){c(n,e);var t=u(n);function n(e){var i;g(this,n),i=t.call(this,e);var r=decodeURIComponent(i._url.path);return k.test(i._url.href)&&(r=r.replace(/^\//,"")),b.lstat(r,function(e,t){if(e)return"ENOENT"===e.code&&(e=new a.MissingPDFException('Missing PDF "'.concat(r,'".'))),i._storedError=e,void i._headersCapability.reject(e);i._contentLength=t.size,i._setReadableStream(b.createReadStream(r)),i._headersCapability.resolve()}),i}return n}(S),P=function(e){c(n,e);var t=u(n);function n(e,i,r){var a;g(this,n),a=t.call(this,e);var o=decodeURIComponent(a._url.path);return k.test(a._url.href)&&(o=o.replace(/^\//,"")),a._setReadableStream(b.createReadStream(o,{start:i,end:r-1})),a}return n}(x)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+t+'".'):new i.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var n=(0,r.getFilenameFromContentDispositionHeader)(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(i){}if(/\.pdf$/i.test(n))return n}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,n=e.isHttp,r=e.rangeChunkSize,a=e.disableRange;(0,i.assert)(r>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return!Number.isInteger(s)||(o.suggestedLength=s,s<=2*r)||a||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o},t.validateResponseStatus=function(e){return 200===e||206===e};var i=n(5),r=n(214)},function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&null!=s.return&&s.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var t=!0,n=o("filename\\*","i").exec(e);if(n){var r=l(n=n[1]);return c(r=f(r=u(r=unescape(r))))}if(n=function(e){for(var t,n=[],r=o("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=r.exec(e));){var a=i(t,4),s=a[1],c=a[2],f=a[3];if((s=parseInt(s,10))in n){if(0===s)break}else n[s]=[c,f]}for(var d=[],h=0;h<n.length&&h in n;++h){var p=i(n[h],2),g=p[0],m=p[1];m=l(m),g&&(m=unescape(m),0===h&&(m=u(m))),d.push(m)}return d.join("")}(e))return c(f(n));if(n=o("filename","i").exec(e)){var a=l(n=n[1]);return c(a=f(a))}function o(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var i=new TextDecoder(e,{fatal:!0}),r=Array.from(n,function(e){return 255&e.charCodeAt(0)});n=i.decode(new Uint8Array(r)),t=!1}catch(a){if(/^utf-?8$/i.test(e))try{n=decodeURIComponent(escape(n)),t=!1}catch(o){}}}return n}function c(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function l(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var i=t[n].indexOf('"');-1!==i&&(t[n]=t[n].slice(0,i),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function u(e){var t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function f(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,i){if("q"===n||"Q"===n)return s(t,i=(i=i.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{i=atob(i)}catch(r){}return s(t,i)})}return""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var i,r=(i=n(2))&&i.__esModule?i:{default:i},a=n(5),o=n(213);function s(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){s(a,i,r,o,c,"next",e)}function c(e){s(a,i,r,o,c,"throw",e)}o(void 0)})}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var d=function(){function e(t,n){l(this,e),this.url=t,n=n||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||{},this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return f(e,[{key:"requestRange",value:function(e,t,n){var i={begin:e,end:t};for(var r in n)i[r]=n[r];return this.request(i)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};for(var r in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var a=this.httpHeaders[r];void 0!==a&&t.setRequestHeader(r,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}},{key:"onProgress",value:function(e,t){var n=this.pendingRequests[e];!n||n.onProgress&&n.onProgress(t)}},{key:"onStateChange",value:function(e,t){var n=this.pendingRequests[e];if(n){var i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===i.readyState&&e in this.pendingRequests){if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void(n.onError&&n.onError(i.status));var r=i.status||200;if((200!==r||206!==n.expectedStatus)&&r!==n.expectedStatus)return void(n.onError&&n.onError(i.status));var o=function(e){var t=e.response;return"string"!=typeof t?t:(0,a.stringToBytes)(t).buffer}(i);if(206===r){var s=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);n.onDone({begin:parseInt(c[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):n.onError&&n.onError(i.status)}}}},{key:"hasPendingRequests",value:function(){for(var e in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}();t.PDFNetworkStream=function(){function e(t){l(this,e),this._source=t,this._manager=new d(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new h(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var n=new p(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach(function(t){t.cancel(e)})}}]),e}();var h=function(){function e(t,n){l(this,e),this._manager=t;var i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(i),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return f(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=function(e){return t.getResponseHeader(e)},i=(0,o.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),r=i.suggestedLength;i.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)&&(this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(e){var t=(0,o.createResponseStatusError)(e,this._url);this._storedError=t,this._headersReceivedCapability.reject(t),this._requests.forEach(function(e){e.reject(t)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"read",value:(t=c(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 10:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),e;var t}(),p=function(){function e(t,n,i){l(this,e),this._manager=t;var r={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(n,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}return f(e,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"read",value:(t=c(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),e;var t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var i,r=(i=n(2))&&i.__esModule?i:{default:i},a=n(5),o=n(213);function s(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){s(a,i,r,o,c,"next",e)}function c(e){s(a,i,r,o,c,"throw",e)}o(void 0)})}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t,n){return{method:"GET",headers:e,signal:n&&n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function h(e){var t=new Headers;for(var n in e){var i=e[n];void 0!==i&&t.append(n,i)}return t}t.PDFFetchStream=function(){function e(t){l(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(e,[{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new p(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new g(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach(function(t){t.cancel(e)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();var p=function(){function e(t){var n=this;l(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var i=t.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._headers=h(this._stream.httpHeaders);var r=i.url;fetch(r,d(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,o.validateResponseStatus)(e.status))throw(0,o.createResponseStatusError)(e.status,r);n._reader=e.body.getReader(),n._headersCapability.resolve();var t=function(t){return e.headers.get(t)},i=(0,o.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),s=i.suggestedLength;n._isRangeSupported=i.allowRangeRequests,n._contentLength=s||n._contentLength,n._filename=(0,o.extractFilenameFromHeader)(t),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return f(e,[{key:"read",value:(t=c(r.default.mark(function e(){var t,n,i,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=(t=e.sent).value,!(i=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:i});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),a=new Uint8Array(n).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e;var t}(),g=function(){function e(t,n,i){var r=this;l(this,e),this._stream=t,this._reader=null,this._loaded=0;var s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!s.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=h(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(i-1));var c=s.url;fetch(c,d(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,o.validateResponseStatus)(e.status))throw(0,o.createResponseStatusError)(e.status,c);r._readCapability.resolve(),r._reader=e.body.getReader()}),this.onProgress=null}return f(e,[{key:"read",value:(t=c(r.default.mark(function e(){var t,n,i,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=(t=e.sent).value,!(i=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:i});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),a=new Uint8Array(n).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e;var t}()}])},module.exports=i()},88265:function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,(function(t){return e[t]}).bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return i.AnnotationLayerBuilder}}),Object.defineProperty(t,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return i.DefaultAnnotationLayerFactory}}),Object.defineProperty(t,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return r.DefaultTextLayerFactory}}),Object.defineProperty(t,"TextLayerBuilder",{enumerable:!0,get:function(){return r.TextLayerBuilder}}),Object.defineProperty(t,"EventBus",{enumerable:!0,get:function(){return a.EventBus}}),Object.defineProperty(t,"NullL10n",{enumerable:!0,get:function(){return a.NullL10n}}),Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(t,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(t,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(t,"DownloadManager",{enumerable:!0,get:function(){return s.DownloadManager}}),Object.defineProperty(t,"GenericL10n",{enumerable:!0,get:function(){return c.GenericL10n}}),Object.defineProperty(t,"PDFFindController",{enumerable:!0,get:function(){return l.PDFFindController}}),Object.defineProperty(t,"PDFHistory",{enumerable:!0,get:function(){return u.PDFHistory}}),Object.defineProperty(t,"PDFPageView",{enumerable:!0,get:function(){return f.PDFPageView}}),Object.defineProperty(t,"PDFSinglePageViewer",{enumerable:!0,get:function(){return d.PDFSinglePageViewer}}),Object.defineProperty(t,"PDFViewer",{enumerable:!0,get:function(){return h.PDFViewer}});var i=n(1),r=n(8),a=n(3),o=n(7),s=n(9),c=n(11),l=n(13),u=n(15),f=n(16),d=n(18),h=n(20)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var i=n(2),r=n(3),a=n(7);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var l=function(){function e(t){var n=t.pageDiv,i=t.pdfPage,a=t.linkService,s=t.downloadManager,c=t.imageResourcesPath,l=void 0===c?"":c,u=t.renderInteractiveForms,f=void 0!==u&&u,d=t.l10n,h=void 0===d?r.NullL10n:d;o(this,e),this.pageDiv=n,this.pdfPage=i,this.linkService=a,this.downloadManager=s,this.imageResourcesPath=l,this.renderInteractiveForms=f,this.l10n=h,this.div=null,this._cancelled=!1}return c(e,[{key:"render",value:function(e){var t=this;this.pdfPage.getAnnotations({intent:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(n){if(!t._cancelled){var r={viewport:e.clone({dontFlip:!0}),div:t.div,annotations:n,page:t.pdfPage,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,linkService:t.linkService,downloadManager:t.downloadManager};if(t.div)i.AnnotationLayer.update(r);else{if(0===n.length)return;t.div=document.createElement("div"),t.div.className="annotationLayer",t.pageDiv.appendChild(t.div),r.div=t.div,i.AnnotationLayer.render(r),t.l10n.translate(t.div)}}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){!this.div||this.div.setAttribute("hidden","true")}}]),e}();t.AnnotationLayerBuilder=l,t.DefaultAnnotationLayerFactory=function(){function e(){o(this,e)}return c(e,[{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.NullL10n;return new l({pageDiv:e,pdfPage:t,imageResourcesPath:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:arguments.length>3&&void 0!==arguments[3]&&arguments[3],linkService:new a.SimpleLinkService,l10n:n})}}]),e}()},function(e,t,i){"use strict";var r;r="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n(66890),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(d).includes(e)&&e!==d.UNKNOWN},t.isValidSpreadMode=function(e){return Number.isInteger(e)&&Object.values(h).includes(e)&&e!==h.UNKNOWN},t.isPortraitOrientation=function(e){return e.width<=e.height},t.clamp=C,t.getPDFFileNameFromURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(v(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;var n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e),r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0]).includes("%"))try{r=n.exec(decodeURIComponent(r))[0]}catch(a){}return r||t},t.noContextMenuHandler=function(e){e.preventDefault()},t.parseQueryString=function(e){for(var t=e.split("&"),n=Object.create(null),i=0,r=t.length;i<r;++i){var a=t[i].split("="),o=a[0].toLowerCase(),s=a.length>1?a[1]:null;n[decodeURIComponent(o)]=decodeURIComponent(s)}return n},t.backtrackBeforeAllVisibleElements=m,t.getVisibleElements=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.scrollTop,a=r+e.clientHeight,o=e.scrollLeft,s=o+e.clientWidth;function c(e){var t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>r}function l(e){var t=e.div;return t.offsetLeft+t.clientLeft+t.clientWidth>o}var u=[],f=t.length,d=0===f?0:g(t,i?l:c);d>0&&d<f&&!i&&(d=m(d,t,r));for(var h=i?s:-1,p=d;p<f;p++){var v=t[p],b=v.div,y=b.offsetLeft+b.clientLeft,_=b.offsetTop+b.clientTop,C=b.clientWidth,k=b.clientHeight,S=y+C,x=_+k;if(-1===h)x>=a&&(h=x);else if((i?y:_)>h)break;if(!(x<=r||_>=a||S<=o||y>=s)){var A=Math.max(0,r-_)+Math.max(0,x-a),w=Math.max(0,o-y)+Math.max(0,S-s);u.push({id:v.id,x:y,y:_,view:v,percent:(k-A)*(C-w)*100/k/C|0})}}var M=u[0],T=u[u.length-1];return n&&u.sort(function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id}),{first:M,last:T,views:u}},t.roundToDivide=function(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)},t.getPageSizeInches=function(e){var t=e.userUnit,n=e.rotate,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),4!==n.length);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&null!=s.return&&s.return()}finally{if(r)throw a}}return n}}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,4);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,4)}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.view),r=n%180!=0,a=(i[2]-i[0])/72*t,o=(i[3]-i[1])/72*t;return{width:r?o:a,height:r?a:o}},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];for(var n=e>1?t:e,i=0,r=1,a=1,o=1;;){var s=i+a,c=r+o;if(c>8)break;n<=s/c?(a=s,o=c):(i=s,r=c)}return n-i/r<a/o-n?n===e?[i,r]:[r,i]:n===e?[a,o]:[o,a]},t.getOutputScale=function(e){var t=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);return{sx:t,sy:t,scaled:1!==t}},t.scrollIntoView=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.offsetParent;if(i){for(var r=e.offsetTop+e.clientTop,a=e.offsetLeft+e.clientLeft;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||n&&"hidden"===getComputedStyle(i).overflow;)if(i.dataset._scaleY&&(r/=i.dataset._scaleY,a/=i.dataset._scaleX),r+=i.offsetTop,a+=i.offsetLeft,!(i=i.offsetParent))return;t&&(void 0!==t.top&&(r+=t.top),void 0!==t.left&&(i.scrollLeft=a+=t.left)),i.scrollTop=r}else console.error("offsetParent is not set -- cannot scroll")},t.watchScroll=function(e,t){var n=function(n){r||(r=window.requestAnimationFrame(function(){r=null;var n=e.scrollLeft,a=i.lastX;n!==a&&(i.right=n>a),i.lastX=n;var o=e.scrollTop,s=i.lastY;o!==s&&(i.down=o>s),i.lastY=o,t(i)}))},i={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n},r=null;return e.addEventListener("scroll",n,!0),i},t.binarySearchFirstItem=g,t.normalizeWheelEventDelta=function(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t),0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30),t},t.waitOnEventOrTimeout=function(e){var t=e.target,n=e.name,i=e.delay,r=void 0===i?0:i;return new Promise(function(e,i){if("object"!==c(t)||!n||"string"!=typeof n||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function a(i){t instanceof _?t._off(n,o):t.removeEventListener(n,o),l&&clearTimeout(l),e(i)}var o=a.bind(null,b.EVENT);t instanceof _?t._on(n,o):t.addEventListener(n,o);var s=a.bind(null,b.TIMEOUT),l=setTimeout(s,r)})},t.moveToEndOfArray=function(e,t){for(var n=[],i=e.length,r=0,a=0;a<i;++a)t(e[a])?n.push(e[a]):(e[r]=e[a],++r);for(var o=0;r<i;++o,++r)e[r]=n[o]},t.WaitOnType=t.animationStarted=t.ProgressBar=t.EventBus=t.NullL10n=t.SpreadMode=t.ScrollMode=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=t.AutoPrintRegExp=void 0;var i,r=(i=n(4))&&i.__esModule?i:{default:i};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){u(a,i,r,o,s,"next",e)}function s(e){u(a,i,r,o,s,"throw",e)}o(void 0)})}}t.CSS_UNITS=96/72,t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},t.RendererType={CANVAS:"canvas",SVG:"svg"},t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var d={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=d;var h={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function p(e,t){return t?e.replace(/\{\{\s*(\w+)\s*\}\}/g,function(e,n){return n in t?t[n]:"{{"+n+"}}"}):e}function g(e,t){var n=0,i=e.length-1;if(i<0||!t(e[i]))return e.length;if(t(e[n]))return n;for(;n<i;){var r=n+i>>1;t(e[r])?i=r:n=r+1}return n}function m(e,t,n){if(e<2)return e;var i=t[e].div,r=i.offsetTop+i.clientTop;r>=n&&(r=(i=t[e-1].div).offsetTop+i.clientTop);for(var a=e-2;a>=0&&!((i=t[a].div).offsetTop+i.clientTop+i.clientHeight<=r);--a)e=a;return e}function v(e){for(var t=0,n=e.length;t<n&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}t.SpreadMode=h,t.AutoPrintRegExp=/\bprint\s*\(/,t.NullL10n={getLanguage:function(){return f(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","en-us");case 1:case"end":return e.stop()}},e)}))()},getDirection:function(){return f(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","ltr");case 1:case"end":return e.stop()}},e)}))()},get:function(e,t,n){return f(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(n,t));case 1:case"end":return e.stop()}},e)}))()},translate:function(e){return f(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()}};var b={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=b;var y=new Promise(function(e){window.requestAnimationFrame(e)});t.animationStarted=y;var _=function(){function e(t){a(this,e),this._listeners=Object.create(null)}return s(e,[{key:"on",value:function(e,t){this._on(e,t,{external:!0})}},{key:"off",value:function(e,t){this._off(e,t,{external:!0})}},{key:"dispatch",value:function(e){var t=this._listeners[e];if(t&&0!==t.length){var n,i=Array.prototype.slice.call(arguments,1);t.slice(0).forEach(function(e){var t=e.listener;if(e.external)return n||(n=[]),void n.push(t);t.apply(null,i)}),n&&(n.forEach(function(e){e.apply(null,i)}),n=null)}}},{key:"_on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this._listeners[e];i||(this._listeners[e]=i=[]),i.push({listener:t,external:!0===(n&&n.external)})}},{key:"_off",value:function(e,t){var n=this._listeners[e];if(n)for(var i=0,r=n.length;i<r;i++)if(n[i].listener===t)return void n.splice(i,1)}}]),e}();function C(e,t,n){return Math.min(Math.max(e,t),n)}t.EventBus=_,t.ProgressBar=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.height,r=n.width,o=n.units;a(this,e),this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=i||100,this.width=r||100,this.units=o||"%",this.div.style.height=this.height+this.units,this.percent=0}return s(e,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"setWidth",value:function(e){if(e){var t=e.parentNode.offsetWidth-e.offsetWidth;t>0&&(this.bar.style.width="calc(100% - ".concat(t,"px)"))}}},{key:"hide",value:function(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(e){this._indeterminate=isNaN(e),this._percent=C(e,0,100),this._updateBar()}}]),e}()},function(e,t,n){"use strict";e.exports=n(5)},function(e,t,n){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e){var n,i=Object.prototype,r=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n,i){var r=Object.create((t&&t.prototype instanceof m?t:m).prototype),a=new T(i||[]);return r._invoke=function(e,t,n){var i=f;return function(r,a){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw a;return I()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=A(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=u(e,t,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),r}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function m(){}function v(){}function b(){}var y={};y[o]=function(){return this};var _=Object.getPrototypeOf,C=_&&_(_(P([])));C&&C!==i&&r.call(C,o)&&(y=C);var k=b.prototype=m.prototype=Object.create(y);function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e,n){function i(a,o,s,c){var l=u(e[a],e,o);if("throw"!==l.type){var f=l.arg,d=f.value;return d&&"object"===t(d)&&r.call(d,"__await")?n.resolve(d.__await).then(function(e){i("next",e,s,c)},function(e){i("throw",e,s,c)}):n.resolve(d).then(function(e){f.value=e,s(f)},function(e){return i("throw",e,s,c)})}c(l.arg)}var a;this._invoke=function(e,t){function r(){return new n(function(n,r){i(e,t,n,r)})}return a=a?a.then(r,r):r()}}function A(e,t){var i=e.iterator[t.method];if(i===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,A(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=u(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:n,done:!0}}return v.prototype=k.constructor=b,b.constructor=v,b[c]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(x.prototype),x.prototype[s]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new x(l(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(k),k[c]="Generator",k[o]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,r){return s.type="throw",s.arg=e,t.next=i,r&&(t.method="next",t.arg=n),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;M(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:P(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=n),g}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(6)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var i=n(3);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}t.PDFLinkService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventBus,i=t.externalLinkTarget,r=void 0===i?null:i,o=t.externalLinkRel,s=void 0===o?null:o,c=t.externalLinkEnabled,l=void 0===c||c,u=t.ignoreDestinationZoom,f=void 0!==u&&u;a(this,e),this.eventBus=n,this.externalLinkTarget=r,this.externalLinkRel=s,this.externalLinkEnabled=l,this._ignoreDestinationZoom=f,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return s(e,[{key:"setDocument",value:function(e){this.baseUrl=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"navigateTo",value:function(e){var t=this,n=function n(i){var r,a=i.namedDest,o=i.explicitDest,s=o[0];if(s instanceof Object){if(null===(r=t._cachedPageNumber(s)))return void t.pdfDocument.getPageIndex(s).then(function(e){t.cachePageRef(e+1,s),n({namedDest:a,explicitDest:o})}).catch(function(){console.error('PDFLinkService.navigateTo: "'.concat(s,'" is not ')+'a valid page reference, for dest="'.concat(e,'".'))})}else{if(!Number.isInteger(s))return void console.error('PDFLinkService.navigateTo: "'.concat(s,'" is not ')+'a valid destination reference, for dest="'.concat(e,'".'));r=s+1}!r||r<1||r>t.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(r,'" is not ')+'a valid page number, for dest="'.concat(e,'".')):(t.pdfHistory&&(t.pdfHistory.pushCurrentPosition(),t.pdfHistory.push({namedDest:a,explicitDest:o,pageNumber:r})),t.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:o,ignoreDestinationZoom:t._ignoreDestinationZoom}))};new Promise(function(n,i){"string"!=typeof e?n({namedDest:"",explicitDest:e}):t.pdfDocument.getDestination(e).then(function(t){n({namedDest:e,explicitDest:t})})}).then(function(t){Array.isArray(t.explicitDest)?n(t):console.error('PDFLinkService.navigateTo: "'.concat(t.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(e,'".'))})}},{key:"getDestinationHash",value:function(e){if("string"==typeof e)return this.getAnchorUrl("#"+escape(e));if(Array.isArray(e)){var t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t,n;if(e.includes("=")){var a=(0,i.parseQueryString)(e);if("search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"page"in a&&(t=0|a.page||1),"zoom"in a){var o=a.zoom.split(","),s=o[0],c=parseFloat(s);s.includes("Fit")?"Fit"===s||"FitB"===s?n=[null,{name:s}]:"FitH"===s||"FitBH"===s||"FitV"===s||"FitBV"===s?n=[null,{name:s},o.length>1?0|o[1]:null]:"FitR"===s?5!==o.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:s},0|o[1],0|o[2],0|o[3],0|o[4]]:console.error('PDFLinkService.setHash: "'.concat(s,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},o.length>1?0|o[1]:null,o.length>2?0|o[2]:null,c?c/100:s]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode}),"nameddest"in a&&this.navigateTo(a.nameddest)}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(l){}if("string"==typeof n||function(e){if(!Array.isArray(e))return!1;var t=e.length;if(t<2)return!1;var n=e[0];if(!("object"===r(n)&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&n>=0))return!1;var i=e[1];if("object"!==r(i)||"string"!=typeof i.name)return!1;var a=!0;switch(i.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;a=!1;break;default:return!1}for(var o=2;o<t;o++){var s=e[o];if(!("number"==typeof s||a&&null===s))return!1}return!0}(n))return void this.navigateTo(n);console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"cachePageRef",value:function(e,t){if(t){var n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);this._pagesRefCache[n]=e}}},{key:"_cachedPageNumber",value:function(e){var t=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return this._pagesRefCache&&this._pagesRefCache[t]||null}},{key:"isPageVisible",value:function(e){return this.pdfViewer.isPageVisible(e)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}}]),e}(),t.SimpleLinkService=function(){function e(){a(this,e),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}return s(e,[{key:"navigateTo",value:function(e){}},{key:"getDestinationHash",value:function(e){return"#"}},{key:"getAnchorUrl",value:function(e){return"#"}},{key:"setHash",value:function(e){}},{key:"executeNamedAction",value:function(e){}},{key:"cachePageRef",value:function(e,t){}},{key:"isPageVisible",value:function(e){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(e){}},{key:"rotation",get:function(){return 0},set:function(e){}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextLayerFactory=t.TextLayerBuilder=void 0;var i=n(2);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var s=function(){function e(t){var n=t.textLayerDiv,i=t.eventBus,a=t.pageIndex,o=t.viewport,s=t.findController,c=void 0===s?null:s,l=t.enhanceTextSelection,u=void 0!==l&&l;r(this,e),this.textLayerDiv=n,this.eventBus=i,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=a,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=o,this.textDivs=[],this.findController=c,this.textLayerRenderTask=null,this.enhanceTextSelection=u,this._onUpdateTextLayerMatches=null,this._bindMouse()}return o(e,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var n=document.createDocumentFragment();this.textLayerRenderTask=(0,i.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){e.textLayerDiv.appendChild(n),e._finishRendering(),e._updateMatches()},function(e){}),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(t){(t.pageIndex===e.pageIdx||-1===t.pageIndex)&&e._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(e){this.cancel(),this.textContentStream=e}},{key:"setTextContent",value:function(e){this.cancel(),this.textContent=e}},{key:"_convertMatches",value:function(e,t){if(!e)return[];for(var n=this.textContentItemsStr,i=0,r=0,a=n.length-1,o=this.findController.state.query.length,s=[],c=0,l=e.length;c<l;c++){for(var u=e[c];i!==a&&u>=r+n[i].length;)r+=n[i].length,i++;i===n.length&&console.error("Could not find a matching mapping");var f={begin:{divIdx:i,offset:u-r}};for(u+=t?t[c]:o;i!==a&&u>r+n[i].length;)r+=n[i].length,i++;f.end={divIdx:i,offset:u-r},s.push(f)}return s}},{key:"_renderMatches",value:function(e){if(0!==e.length){var t=this.findController,n=this.pageIdx,i=this.textContentItemsStr,r=this.textDivs,a=n===t.selected.pageIdx,o=t.selected.matchIdx,s=null,c={divIdx:-1,offset:void 0},l=o,u=l+1;if(t.state.highlightAll)l=0,u=e.length;else if(!a)return;for(var f=l;f<u;f++){var d=e[f],h=d.begin,p=d.end,g=a&&f===o,m=g?" selected":"";if(g&&t.scrollMatchIntoView({element:r[h.divIdx],pageIndex:n,matchIndex:o}),s&&h.divIdx===s.divIdx?_(s.divIdx,s.offset,h.offset):(null!==s&&_(s.divIdx,s.offset,c.offset),y(h)),h.divIdx===p.divIdx)_(h.divIdx,h.offset,p.offset,"highlight"+m);else{_(h.divIdx,h.offset,c.offset,"highlight begin"+m);for(var v=h.divIdx+1,b=p.divIdx;v<b;v++)r[v].className="highlight middle"+m;y(p,"highlight end"+m)}s=p}s&&_(s.divIdx,s.offset,c.offset)}function y(e,t){var n=e.divIdx;r[n].textContent="",_(n,0,e.offset,t)}function _(e,t,n,a){var o=r[e],s=i[e].substring(t,n),c=document.createTextNode(s);if(a){var l=document.createElement("span");return l.className=a,l.appendChild(c),void o.appendChild(l)}o.appendChild(c)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var e=this.findController,t=this.matches,n=this.pageIdx,i=this.textContentItemsStr,r=this.textDivs,a=-1,o=0,s=t.length;o<s;o++){for(var c=t[o],l=Math.max(a,c.begin.divIdx),u=c.end.divIdx;l<=u;l++){var f=r[l];f.textContent=i[l],f.className=""}a=c.end.divIdx+1}e&&e.highlightMatches&&(this.matches=this._convertMatches(e.pageMatches[n]||null,e.pageMatchesLength[n]||null),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var e=this,t=this.textLayerDiv,n=null;t.addEventListener("mousedown",function(i){if(e.enhanceTextSelection&&e.textLayerRenderTask)return e.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));var r=t.querySelector(".endOfContent");if(r){var a=i.target!==t;if(a=a&&"none"!==window.getComputedStyle(r).getPropertyValue("-moz-user-select")){var o=t.getBoundingClientRect(),s=Math.max(0,(i.pageY-o.top)/o.height);r.style.top=(100*s).toFixed(2)+"%"}r.classList.add("active")}}),t.addEventListener("mouseup",function(){if(e.enhanceTextSelection&&e.textLayerRenderTask)n=setTimeout(function(){e.textLayerRenderTask&&e.textLayerRenderTask.expandTextDivs(!1),n=null},300);else{var i=t.querySelector(".endOfContent");!i||(i.style.top="",i.classList.remove("active"))}})}}]),e}();t.TextLayerBuilder=s,t.DefaultTextLayerFactory=function(){function e(){r(this,e)}return o(e,[{key:"createTextLayerBuilder",value:function(e,t,n){return new s({textLayerDiv:e,pageIndex:t,viewport:n,enhanceTextSelection:arguments.length>3&&void 0!==arguments[3]&&arguments[3],eventBus:arguments.length>4?arguments[4]:void 0})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var i=n(2);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=n(10).viewerCompatibilityParams.disableCreateObjectURL||!1;function o(e,t){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}t.DownloadManager=function(){function e(t){var n=t.disableCreateObjectURL,i=void 0===n?a:n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.disableCreateObjectURL=i}return function(e,t,n){t&&r(e.prototype,t)}(e,[{key:"downloadUrl",value:function(e,t){!(0,i.createValidAbsoluteUrl)(e,"http://example.com")||o(e+"#pdfjs.action=download",t)}},{key:"downloadData",value:function(e,t,n){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([e],{type:n}),t):o((0,i.createObjectURL)(e,n,this.disableCreateObjectURL),t)}},{key:"download",value:function(e,t,n){navigator.msSaveBlob?navigator.msSaveBlob(e,n)||this.downloadUrl(t,n):this.disableCreateObjectURL?this.downloadUrl(t,n):o(URL.createObjectURL(e),n)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewerCompatibilityParams=void 0;var i=Object.create(null),r="undefined"!=typeof navigator&&navigator.userAgent||"",a="undefined"!=typeof navigator&&navigator.platform||"",o="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,s=/Android/.test(r),c=/Trident/.test(r),l=/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===a&&o>1,u=/CriOS/.test(r);(c||u)&&(i.disableCreateObjectURL=!0),(l||s)&&(i.maxCanvasPixels=5242880);var f=Object.freeze(i);t.viewerCompatibilityParams=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0;var i,r=(i=n(4))&&i.__esModule?i:{default:i};function a(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function s(e){a(o,i,r,s,c,"next",e)}function c(e){a(o,i,r,s,c,"throw",e)}s(void 0)})}}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(12);var c=document.webL10n;t.GenericL10n=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._lang=t,this._ready=new Promise(function(e,n){c.setLanguage(t,function(){e(c)})})}return function(e,t,n){t&&s(e.prototype,t)}(e,[{key:"getLanguage",value:(t=o(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.getLanguage());case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"getDirection",value:function(){var e=o(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.getDirection());case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=o(r.default.mark(function e(t,n,i){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.get(t,n,i));case 4:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"translate",value:function(){var e=o(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.translate(t));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e;var t}()},function(e,t,n){"use strict";document.webL10n=function(e,t,n){var i={},r="",a="textContent",o="",s={},c="loading";function l(e,t,n){t=t||function(e){},n=n||function(){};var i=new XMLHttpRequest;i.open("GET",e,!0),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8"),i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0===i.status?t(i.responseText):n())},i.onerror=n,i.ontimeout=n;try{i.send(null)}catch(r){n()}}function u(e,t,n,o){var s=e.replace(/[^\/]*$/,"")||"./";function c(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}l(e,function(e){r+=e,function(e,r){var o={},u=/^\s*|\s*$/,f=/^\s*#|^\s*$/,d=/^\s*\[(.*)\]\s*$/,h=/^\s*@import\s+url\((.*)\)\s*$/i,p=/^([^=\s]*)\s*=\s*(.+)$/;function g(e,n,i){var r=e.replace(u,"").split(/[\r\n]+/),a="*",l=t.split("-",1)[0],g=!1,v="";!function e(){for(;;){if(!r.length)return void i();var u=r.shift();if(!f.test(u)){if(n){if(v=d.exec(u)){a=v[1].toLowerCase(),g="*"!==a&&a!==t&&a!==l;continue}if(g)continue;if(v=h.exec(u))return void m(s+v[1],e)}var b=u.match(p);b&&3==b.length&&(o[b[1]]=c(b[2]))}}}()}function m(e,t){l(e,function(e){g(e,!1,t)},function(){console.warn(e+" not found."),t()})}g(e,!0,function(){!function(e){for(var t in e){var r,o,s=t.lastIndexOf(".");s>0?(r=t.substring(0,s),o=t.substring(s+1)):(r=t,o=a),i[r]||(i[r]={}),i[r][o]=e[t]}n&&n()}(o)})}(e)},o)}function f(e,t,n){var r=i[e];if(!r){if(console.warn("#"+e+" is undefined."),!n)return null;r=n}var a={};for(var o in r){var s=r[o];s=h(s=d(s,t,e,o),t,e),a[o]=s}return a}function d(e,t,n,r){var a=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!a||!a.length)return e;var o,c=a[1],l=a[2];return t&&l in t?o=t[l]:l in i&&(o=i[l]),c in s&&(e=(0,s[c])(e,o,n,r)),e}function h(e,t,n){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,function(e,r){return t&&r in t?t[r]:r in i?i[r]:(console.log("argument {{"+r+"}} for #"+n+" is undefined."),e)})}function p(e){var n=function(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),i={};if(n)try{i=JSON.parse(n)}catch(o){console.warn("could not parse arguments for #"+t)}return{id:t,args:i}}(e);if(n.id){var i=f(n.id,n.args);if(!i)return void console.warn("#"+n.id+" is undefined.");if(i[a]){if(0===function(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}(e))e[a]=i[a];else{for(var r=e.childNodes,o=!1,s=0,c=r.length;s<c;s++)3===r[s].nodeType&&/\S/.test(r[s].nodeValue)&&(o?r[s].nodeValue="":(r[s].nodeValue=i[a],o=!0));if(!o){var l=t.createTextNode(i[a]);e.insertBefore(l,e.firstChild)}}delete i[a]}for(var u in i)e[u]=i[u]}}return s.plural=function(e,t,n,r){var c=parseFloat(t);if(isNaN(c)||r!=a)return e;s._pluralRules||(s._pluralRules=function(e){function t(e,t){return-1!==t.indexOf(e)}function n(e,t,n){return t<=e&&e<=n}var i={0:function(e){return"other"},1:function(e){return n(e%100,3,10)?"few":0===e?"zero":n(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return n(e,0,1)?"one":"other"},5:function(e){return n(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return n(e,3,6)?"few":n(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&n(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return n(e%10,2,9)&&!n(e%100,11,19)?"few":e%10!=1||n(e%100,11,19)?"other":"one"},11:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":e%10==0||n(e%10,5,9)||n(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return n(e,2,4)?"few":1==e?"one":"other"},13:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":1!=e&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return n(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||n(e%100,2,10)?"few":n(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":n(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return n(e,2,10)?"few":n(e,0,1)?"one":"other"},20:function(e){return!n(e%10,3,4)&&e%10!=9||n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||t(e%100,[12,72,92])?e%10!=1||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return n(e,0,1)||n(e,11,99)?"one":"other"},23:function(e){return n(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return n(e,3,10)||n(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},r={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[e.replace(/-.*$/,"")];return r in i?i[r]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}(o));var l="["+s._pluralRules(c)+"]";return 0===c&&n+"[zero]"in i?e=i[n+"[zero]"][r]:1==c&&n+"[one]"in i?e=i[n+"[one]"][r]:2==c&&n+"[two]"in i?e=i[n+"[two]"][r]:n+l in i?e=i[n+l][r]:n+"[other]"in i&&(e=i[n+"[other]"][r]),e},{get:function(e,t,n){var i,r=e.lastIndexOf("."),o=a;r>0&&(o=e.substring(r+1),e=e.substring(0,r)),n&&((i={})[o]=n);var s=f(e,t,i);return s&&o in s?s[o]:"{{"+e+"}}"},getData:function(){return i},getText:function(){return r},getLanguage:function(){return o},setLanguage:function(e,n){!function(e,n){e&&(e=e.toLowerCase()),n=n||function(){},i={},r="",o="",o=e;var a=t.querySelectorAll('link[type="application/l10n"]'),s=a.length;if(0!==s){var l,f=0;l=function(){++f>=s&&(n(),c="complete")};for(var d=0;d<s;d++)new m(a[d]).load(e,l)}else{var h=function(){var e=t.querySelector('script[type="application/l10n"]');return e?JSON.parse(e.innerHTML):null}();if(h&&h.locales&&h.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(i=h.locales[e])){var p=h.default_locale.toLowerCase();for(var g in h.locales){if((g=g.toLowerCase())===e){i=h.locales[e];break}g===p&&(i=h.locales[p])}}n()}else console.log("no resource to load, early way out");c="complete"}function m(e){var t=e.href;this.load=function(e,n){u(t,e,n,function(){console.warn(t+" not found."),console.warn('"'+e+'" resource not found'),o="",n()})}}}(e,function(){n&&n()})},getDirection:function(){var e=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function(e){for(var n=function(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}(e=e||t.documentElement),i=n.length,r=0;r<i;r++)p(n[r]);p(e)},getReadyState:function(){return c},ready:function(n){n&&("complete"==c||"interactive"==c?e.setTimeout(function(){n()}):t.addEventListener&&t.addEventListener("localized",function e(){t.removeEventListener("localized",e),n()}))}}}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var i=n(2),r=n(14),a=n(3);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=s;var c={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},l=null;function u(e){if(!l){var t=Object.keys(c).join("");l=new RegExp("[".concat(t,"]"),"g")}return e.replace(l,function(e){return c[e]})}t.PDFFindController=function(){function e(t){var n=t.linkService,i=t.eventBus;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._linkService=n,this._eventBus=i,this._reset(),i._on("findbarclose",this._onFindBarClose.bind(this))}return function(e,t,n){t&&o(e.prototype,t)}(e,[{key:"setDocument",value:function(e){this._pdfDocument&&this._reset(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(e,t){var n=this;if(t){var i=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(e,t))&&(this._dirtyMatch=!0),this._state=t,"findhighlightallchange"!==e&&this._updateUIState(s.PENDING),this._firstPageCapability.promise.then(function(){if(n._pdfDocument&&(!i||n._pdfDocument===i)){n._extractText();var t=!n._highlightMatches,r=!!n._findTimeout;n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null),"find"===e?n._findTimeout=setTimeout(function(){n._nextMatch(),n._findTimeout=null},250):n._dirtyMatch?n._nextMatch():"findagain"===e?(n._nextMatch(),t&&n._state.highlightAll&&n._updateAllPages()):"findhighlightallchange"===e?(r?n._nextMatch():n._highlightMatches=!0,n._updateAllPages()):n._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(e){var t=e.element,n=void 0===t?null:t,i=e.pageIndex,r=void 0===i?-1:i,o=e.matchIndex,s=void 0===o?-1:o;if(this._scrollMatches&&n){if(-1===s||s!==this._selected.matchIdx)return;if(-1===r||r!==this._selected.pageIdx)return;this._scrollMatches=!1,(0,a.scrollIntoView)(n,{top:-50,left:-400},!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,i.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(e,t){if(t.query!==this._state.query)return!0;switch(e){case"findagain":var n=this._selected.pageIdx+1,i=this._linkService;return n>=1&&n<=i.pagesCount&&n!==i.page&&!i.isPageVisible(n);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(e,t,n){function i(t){var n=e[t];if(t<e.length-1&&n.match===e[t+1].match)return n.skipped=!0,!0;for(var i=t-1;i>=0;i--){var r=e[i];if(!r.skipped){if(r.match+r.matchLength<n.match)break;if(r.match+r.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}e.sort(function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match});for(var r=0,a=e.length;r<a;r++)i(r)||(t.push(e[r].match),n.push(e[r].matchLength))}},{key:"_isEntireWord",value:function(e,t,n){if(t>0){var i=e.charCodeAt(t),a=e.charCodeAt(t-1);if((0,r.getCharacterType)(i)===(0,r.getCharacterType)(a))return!1}var o=t+n-1;if(o<e.length-1){var s=e.charCodeAt(o),c=e.charCodeAt(o+1);if((0,r.getCharacterType)(s)===(0,r.getCharacterType)(c))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(e,t,n,i){for(var r=[],a=e.length,o=-a;-1!==(o=n.indexOf(e,o+a));)i&&!this._isEntireWord(n,o,a)||r.push(o);this._pageMatches[t]=r}},{key:"_calculateWordMatch",value:function(e,t,n,i){for(var r=[],a=e.match(/\S+/g),o=0,s=a.length;o<s;o++)for(var c=a[o],l=c.length,u=-l;-1!==(u=n.indexOf(c,u+l));)i&&!this._isEntireWord(n,u,l)||r.push({match:u,matchLength:l,skipped:!1});this._pageMatchesLength[t]=[],this._pageMatches[t]=[],this._prepareMatches(r,this._pageMatches[t],this._pageMatchesLength[t])}},{key:"_calculateMatch",value:function(e){var t=this._pageContents[e],n=this._query,i=this._state,r=i.entireWord,a=i.phraseSearch;if(0!==n.length){i.caseSensitive||(t=t.toLowerCase(),n=n.toLowerCase()),a?this._calculatePhraseMatch(n,e,t,r):this._calculateWordMatch(n,e,t,r),this._state.highlightAll&&this._updatePage(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this._nextPageMatch());var o=this._pageMatches[e].length;o>0&&(this._matchesCountTotal+=o,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var e=this;if(!(this._extractTextPromises.length>0))for(var t=Promise.resolve(),n=function(n,r){var a=(0,i.createPromiseCapability)();e._extractTextPromises[n]=a.promise,t=t.then(function(){return e._pdfDocument.getPage(n+1).then(function(e){return e.getTextContent({normalizeWhitespace:!0})}).then(function(t){for(var i=t.items,r=[],o=0,s=i.length;o<s;o++)r.push(i[o].str);e._pageContents[n]=u(r.join("")),a.resolve(n)},function(t){console.error("Unable to get text content for page ".concat(n+1),t),e._pageContents[n]="",a.resolve(n)})})},r=0,a=this._linkService.pagesCount;r<a;r++)n(r)}},{key:"_updatePage",value:function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var e=this,t=this._state.findPrevious,n=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var r=0;r<i;r++)!0!==this._pendingFindMatches[r]&&(this._pendingFindMatches[r]=!0,this._extractTextPromises[r].then(function(t){delete e._pendingFindMatches[t],e._calculateMatch(t)}))}if(""!==this._query){if(!this._resumePageIdx){var a=this._offset;if(this._pagesToSearch=i,null!==a.matchIdx){if(!t&&a.matchIdx+1<this._pageMatches[a.pageIdx].length||t&&a.matchIdx>0)return a.matchIdx=t?a.matchIdx-1:a.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(t)}this._nextPageMatch()}}else this._updateUIState(s.FOUND)}},{key:"_matchesReady",value:function(e){var t=this._offset,n=e.length,i=this._state.findPrevious;return n?(t.matchIdx=i?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(i),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var e=null;do{var t=this._offset.pageIdx;if(!(e=this._pageMatches[t])){this._resumePageIdx=t;break}}while(!this._matchesReady(e))}},{key:"_advanceOffsetPage",value:function(e){var t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}},{key:"_updateMatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=s.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,e){var i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?s.WRAPPED:s.FOUND,-1!==i&&i!==this._selected.pageIdx&&this._updatePage(i)}this._updateUIState(t,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(e){var t=this,n=this._pdfDocument;this._firstPageCapability.promise.then(function(){!t._pdfDocument||n&&t._pdfDocument!==n||(t._findTimeout&&(clearTimeout(t._findTimeout),t._findTimeout=null),t._resumePageIdx&&(t._resumePageIdx=null,t._dirtyMatch=!0),t._updateUIState(s.FOUND),t._highlightMatches=!1,t._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var e=this._selected,t=e.pageIdx,n=e.matchIdx,i=0,r=this._matchesCountTotal;if(-1!==n){for(var a=0;a<t;a++)i+=this._pageMatches[a]&&this._pageMatches[a].length||0;i+=n+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(e,t){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=u(this._state.query)),this._normalizedQuery}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCharacterType=function(e){return function(e){return e<11904}(e)?function(e){return 0==(65408&e)}(e)?function(e){return 32===e||9===e||13===e||10===e}(e)?i.SPACE:function(e){return e>=97&&e<=122||e>=65&&e<=90}(e)||function(e){return e>=48&&e<=57}(e)||95===e?i.ALPHA_LETTER:i.PUNCT:function(e){return 3584==(65408&e)}(e)?i.THAI_LETTER:160===e?i.SPACE:i.ALPHA_LETTER:function(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}(e)?i.HAN_LETTER:function(e){return e>=12448&&e<=12543}(e)?i.KATAKANA_LETTER:function(e){return e>=12352&&e<=12447}(e)?i.HIRAGANA_LETTER:function(e){return e>=65376&&e<=65439}(e)?i.HALFWIDTH_KATAKANA_LETTER:i.ALPHA_LETTER},t.CharacterType=void 0;var i={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDestHashesEqual=l,t.isDestArraysEqual=u,t.PDFHistory=void 0;var i=n(3);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&null!=s.return&&s.return()}finally{if(r)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(){return document.location.hash}function l(e,t){return"string"==typeof e&&"string"==typeof t&&(e===t||(0,i.parseQueryString)(e).nameddest===t)}function u(e,t){function n(e,t){if(r(e)!==r(t)||Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"===r(e)&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e)if(!n(e[i],t[i]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var i=0,a=e.length;i<a;i++)if(!n(e[i],t[i]))return!1;return!0}t.PDFHistory=function(){function e(t){var n=this,i=t.linkService,r=t.eventBus;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.linkService=i,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(e){n._isViewerInPresentationMode=e.active||e.switchInProgress}),this.eventBus._on("pagesinit",function(){n._isPagesLoaded=!1,n.eventBus._on("pagesloaded",function e(t){n.eventBus._off("pagesloaded",e),n._isPagesLoaded=!!t.pagesCount})})}return function(e,t,n){t&&s(e.prototype,t)}(e,[{key:"initialize",value:function(e){var t=e.fingerprint,n=e.resetHistory,i=void 0!==n&&n,r=e.updateUrl,a=void 0!==r&&r;if(t&&"string"==typeof t){this._initialized&&this.reset();var o=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===a,this._initialized=!0,this._bindEvents();var s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=c(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(s,!0)||i){var l=this._parseCurrentHash(!0),u=l.hash,f=l.page,d=l.rotation;return!u||o||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:u,page:f,rotation:d},!0)}var h=s.destination;this._updateInternalState(h,s.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==h.rotation&&(this._initialRotation=h.rotation),h.dest?(this._initialBookmark=JSON.stringify(h.dest),this._destination.page=null):h.hash?this._initialBookmark=h.hash:h.page&&(this._initialBookmark="page=".concat(h.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(e){var t=this,n=e.namedDest,i=void 0===n?null:n,r=e.explicitDest,a=e.pageNumber;if(this._initialized){if(i&&"string"!=typeof i)return void console.error("PDFHistory.push: "+'"'.concat(i,'" is not a valid namedDest parameter.'));if(!Array.isArray(r))return void console.error("PDFHistory.push: "+'"'.concat(r,'" is not a valid explicitDest parameter.'));if(!(Number.isInteger(a)&&a>0&&a<=this.linkService.pagesCount)&&(null!==a||this._destination))return void console.error("PDFHistory.push: "+'"'.concat(a,'" is not a valid pageNumber parameter.'));var o=i||JSON.stringify(r);if(o){var s=!1;if(this._destination&&(l(this._destination.hash,o)||u(this._destination.dest,r))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this._pushOrReplaceState({dest:r,hash:o,page:a,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){t._popStateInProgress=!1})))}}}},{key:"pushCurrentPosition",value:function(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this._destination,i={fingerprint:this._fingerprint,uid:n?this._uid:this._uid+1,destination:e};if(this._updateInternalState(e,i.uid),this._updateUrl&&e&&e.hash){var r=document.location.href.split("#")[0];r.startsWith("file://")||(t="".concat(r,"#").concat(e.hash))}n?window.history.replaceState(i,"",t):(this._maxUid=this._uid,window.history.pushState(i,"",t))}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var e=this._position;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&((e=Object.assign(Object.create(null),this._position)).temporary=!0),!this._destination)return void this._pushOrReplaceState(e);if(this._destination.temporary)return void this._pushOrReplaceState(e,!0);if(this._destination.hash!==e.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var t=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(this._destination.dest||!this._destination.first)return;t=!0}this._pushOrReplaceState(e,t)}}}},{key:"_isValidState",value:function(e){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return!1;if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;var t=a(performance.getEntriesByType("navigation"),1)[0];if(!t||"reload"!==t.type)return!1}return!(!Number.isInteger(e.uid)||e.uid<0||null===e.destination||"object"!==r(e.destination))}},{key:"_updateInternalState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&e&&e.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=unescape(c()).substring(1),n=(0,i.parseQueryString)(t),r=n.nameddest||"",a=0|n.page;return(!(Number.isInteger(a)&&a>0&&a<=this.linkService.pagesCount)||e&&r.length>0)&&(a=null),{hash:t,page:a,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(e){var t=this,n=e.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(n.pageNumber):n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){t._popStateInProgress||t._tryPushCurrentPosition(!0),t._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(e){var t=this,n=e.state,r=c(),a=this._currentHash!==r;if(this._currentHash=r,n){if(this._isValidState(n)){this._popStateInProgress=!0,a&&(this._blockHashChange++,(0,i.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){t._blockHashChange--}));var o=n.destination;this._updateInternalState(o,n.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,i.isValidRotation)(o.rotation)&&(this.linkService.rotation=o.rotation),o.dest?this.linkService.navigateTo(o.dest):o.hash?this.linkService.setHash(o.hash):o.page&&(this.linkService.page=o.page),Promise.resolve().then(function(){t._popStateInProgress=!1})}}else{this._uid++;var s=this._parseCurrentHash();this._pushOrReplaceState({hash:s.hash,page:s.page,rotation:s.rotation},!0)}}},{key:"_pageHide",value:function(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var i,r=(i=n(4))&&i.__esModule?i:{default:i},a=n(3),o=n(2),s=n(17);function c(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=n(10).viewerCompatibilityParams.maxCanvasPixels||16777216;t.PDFPageView=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.container,i=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||a.DEFAULT_SCALE,this.viewport=i,this.pdfPageRotate=i.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:a.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels||u,this.eventBus=t.eventBus,this.renderingQueue=t.renderingQueue,this.textLayerFactory=t.textLayerFactory,this.annotationLayerFactory=t.annotationLayerFactory,this.renderer=t.renderer||a.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.l10n=t.l10n||a.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=s.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),this.div=r,n.appendChild(r)}return function(e,t,n){t&&l(e.prototype,t)}(e,[{key:"setPdfPage",value:function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate,this.viewport=e.getViewport({scale:this.scale*a.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.stats=e.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(t),this.renderingState=s.RenderingStates.INITIAL;var n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";for(var i=n.childNodes,r=e&&this.zoomLayer||null,a=t&&this.annotationLayer&&this.annotationLayer.div||null,o=i.length-1;o>=0;o--){var c=i[o];r===c||a===c||n.removeChild(c)}n.removeAttribute("data-loaded"),a?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),r||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",n.appendChild(this.loadingIconDiv)}},{key:"update",value:function(e,t){if(this.scale=e||this.scale,void 0!==t&&(this.rotation=t),this.viewport=this.viewport.clone({scale:this.scale*a.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});var n=!1;if(this.canvas&&this.maxCanvasPixels>0){var i=this.outputScale;(Math.floor(this.viewport.width)*i.sx|0)*(Math.floor(this.viewport.height)*i.sy|0)>this.maxCanvasPixels&&(n=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&n)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});!this.zoomLayer&&!this.canvas.hasAttribute("hidden")&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!e&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.viewport.width,i=this.viewport.height,r=this.div;e.style.width=e.parentNode.style.width=r.style.width=Math.floor(n)+"px",e.style.height=e.parentNode.style.height=r.style.height=Math.floor(i)+"px";var a=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,o=Math.abs(a),s=1,c=1;if((90===o||270===o)&&(s=i/n,c=n/i),e.style.transform="rotate("+a+"deg) scale("+s+","+c+")",this.textLayer){var l=this.textLayer.viewport,u=Math.abs(this.viewport.rotation-l.rotation),f=n/l.width;(90===u||270===u)&&(f=n/l.height);var d,h,p=this.textLayer.textLayerDiv;switch(u){case 0:d=h=0;break;case 90:d=0,h="-"+p.style.height;break;case 180:d="-"+p.style.width,h="-"+p.style.height;break;case 270:d="-"+p.style.width,h=0;break;default:console.error("Bad rotation value.")}p.style.transform="rotate("+u+"deg) scale("+f+", "+f+") translate("+d+", "+h+")",p.style.transformOrigin="0% 0%"}t&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(e,t){return this.viewport.convertToPdfPoint(e,t)}},{key:"draw",value:function(){var e=this;this.renderingState!==s.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var t=this.div,n=this.pdfPage;if(!n)return this.renderingState=s.RenderingStates.FINISHED,this.loadingIconDiv&&(t.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=s.RenderingStates.RUNNING;var i=document.createElement("div");i.style.width=t.style.width,i.style.height=t.style.height,i.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?t.insertBefore(i,this.annotationLayer.div):t.appendChild(i);var l=null;if(this.textLayerMode!==a.TextLayerMode.DISABLE&&this.textLayerFactory){var u=document.createElement("div");u.className="textLayer",u.style.width=i.style.width,u.style.height=i.style.height,this.annotationLayer&&this.annotationLayer.div?t.insertBefore(u,this.annotationLayer.div):t.appendChild(u),l=this.textLayerFactory.createTextLayerBuilder(u,this.id-1,this.viewport,this.textLayerMode===a.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=l;var f=null;this.renderingQueue&&(f=function(t){if(!e.renderingQueue.isHighestPriority(e))return e.renderingState=s.RenderingStates.PAUSED,void(e.resume=function(){e.renderingState=s.RenderingStates.RUNNING,t()});t()});var d,h=(d=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){c(a,i,r,o,s,"next",e)}function s(e){c(a,i,r,o,s,"throw",e)}o(void 0)})}}(r.default.mark(function i(a){return r.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(p===e.paintTask&&(e.paintTask=null),!(a instanceof o.RenderingCancelledException)){i.next=4;break}return e.error=null,i.abrupt("return");case 4:if(e.renderingState=s.RenderingStates.FINISHED,e.loadingIconDiv&&(t.removeChild(e.loadingIconDiv),delete e.loadingIconDiv),e._resetZoomLayer(!0),e.error=a,e.stats=n.stats,e.eventBus.dispatch("pagerendered",{source:e,pageNumber:e.id,cssTransform:!1,timestamp:performance.now()}),!a){i.next=12;break}throw a;case 12:case"end":return i.stop()}},i)})),function(e){return d.apply(this,arguments)}),p=this.renderer===a.RendererType.SVG?this.paintOnSvg(i):this.paintOnCanvas(i);p.onRenderContinue=f,this.paintTask=p;var g=p.promise.then(function(){return h(null).then(function(){if(l){var e=n.streamTextContent({normalizeWhitespace:!0});l.setTextContentStream(e),l.render()}})},function(e){return h(e)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(t,n,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),t.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),g}},{key:"paintOnCanvas",value:function(e){var t=(0,o.createPromiseCapability)(),n={promise:t.promise,onRenderContinue:function(e){e()},cancel:function(){g.cancel()}},i=this.viewport,r=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then(function(e){r.setAttribute("aria-label",e)}),r.setAttribute("hidden","hidden");var s=!0,c=function(){s&&(r.removeAttribute("hidden"),s=!1)};e.appendChild(r),this.canvas=r,r.mozOpaque=!0;var l=r.getContext("2d",{alpha:!1}),u=(0,a.getOutputScale)(l);if(this.outputScale=u,this.useOnlyCssZoom){var f=i.clone({scale:a.CSS_UNITS});u.sx*=f.width/i.width,u.sy*=f.height/i.height,u.scaled=!0}if(this.maxCanvasPixels>0){var d=Math.sqrt(this.maxCanvasPixels/(i.width*i.height));u.sx>d||u.sy>d?(u.sx=d,u.sy=d,u.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var h=(0,a.approximateFraction)(u.sx),p=(0,a.approximateFraction)(u.sy);r.width=(0,a.roundToDivide)(i.width*u.sx,h[0]),r.height=(0,a.roundToDivide)(i.height*u.sy,p[0]),r.style.width=(0,a.roundToDivide)(i.width,h[1])+"px",r.style.height=(0,a.roundToDivide)(i.height,p[1])+"px",this.paintedViewportMap.set(r,i);var g=this.pdfPage.render({canvasContext:l,transform:u.scaled?[u.sx,0,0,u.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});return g.onContinue=function(e){c(),n.onRenderContinue?n.onRenderContinue(e):e()},g.promise.then(function(){c(),t.resolve(void 0)},function(e){c(),t.reject(e)}),n}},{key:"paintOnSvg",value:function(e){var t=this,n=!1,i=function(){if(n)throw new o.RenderingCancelledException("Rendering cancelled, page ".concat(t.id),"svg")},r=this.pdfPage,c=this.viewport.clone({scale:a.CSS_UNITS});return{promise:r.getOperatorList().then(function(n){return i(),new o.SVGGraphics(r.commonObjs,r.objs).getSVG(n,c).then(function(n){i(),t.svg=n,t.paintedViewportMap.set(n,c),n.style.width=e.style.width,n.style.height=e.style.height,t.renderingState=s.RenderingStates.FINISHED,e.appendChild(n)})}),onRenderContinue:function(e){e()},cancel:function(){n=!0}}}},{key:"setPageLabel",value:function(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]),e}()},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFRenderingQueue=t.RenderingStates=void 0;var r={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=r,t.PDFRenderingQueue=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return function(e,t,n){t&&i(e.prototype,t)}(e,[{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setThumbnailViewer",value:function(e){this.pdfThumbnailViewer=e}},{key:"isHighestPriority",value:function(e){return this.highestPriorityPage===e.renderingId}},{key:"renderHighestPriority",value:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}},{key:"getHighestPriority",value:function(e,t,n){var i=e.views,r=i.length;if(0===r)return null;for(var a=0;a<r;++a){var o=i[a].view;if(!this.isViewFinished(o))return o}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var c=e.first.id-2;if(t[c]&&!this.isViewFinished(t[c]))return t[c]}return null}},{key:"isViewFinished",value:function(e){return e.renderingState===r.FINISHED}},{key:"renderView",value:function(e){var t=this;switch(e.renderingState){case r.FINISHED:return!1;case r.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case r.RUNNING:this.highestPriorityPage=e.renderingId;break;case r.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(function(){t.renderHighestPriority()}).catch(function(e){console.error('renderView: "'.concat(e,'"'))})}return!0}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var i=n(19),r=n(2);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.PDFSinglePageViewer=function(e){c(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}(n);function n(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this,e)).eventBus._on("pagesinit",function(e){i._ensurePageViewVisible()}),i}return function(e,t,n){t&&o(e.prototype,t)}(n,[{key:"_resetView",value:function(){s(f(n.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var e=this._pages[this._currentPageNumber-1],t=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(e.div);break;case 1:if(n[0]!==t.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(e===t)break;this._shadowViewer.appendChild(t.div),this.viewer.appendChild(e.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),s(f(n.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(e){var t=this,i=e.pageDiv,r=e.pageSpot,a=void 0===r?null:r,o=e.pageNumber,c=void 0===o?null:o;c&&this._setCurrentPageNumber(c);var l=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),s(f(n.prototype),"_scrollIntoView",this).call(this,{pageDiv:i,pageSpot:a,pageNumber:c}),this._updateScrollDown=function(){t.scroll.down=l,t._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(e){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_viewerElement",get:function(){return(0,r.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,r.shadow)(this,"_isScrollModeHorizontal",!1)}}]),n}(i.BaseViewer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseViewer=void 0;var i=n(3),r=n(17),a=n(1),o=n(2),s=n(16),c=n(7),l=n(8);function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e){var t=[];this.push=function(n){var i=t.indexOf(n);i>=0&&t.splice(i,1),t.push(n),t.length>e&&t.shift().destroy()},this.resize=function(n,r){if(e=n,r){for(var a=new Set,o=0,s=r.length;o<s;++o)a.add(r[o].id);(0,i.moveToEndOfArray)(t,function(e){return a.has(e.id)})}for(;t.length>e;)t.shift().destroy()}}function d(e,t){return t===e||Math.abs(t-e)<1e-15}t.BaseViewer=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor===e)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,this.eventBus=t.eventBus,this.linkService=t.linkService||new c.SimpleLinkService,this.downloadManager=t.downloadManager||null,this.findController=t.findController||null,this.removePageBorders=t.removePageBorders||!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1,this.renderer=t.renderer||i.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels,this.l10n=t.l10n||i.NullL10n,this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new r.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=i.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){n.eventBus.dispatch("baseviewerinit",{source:n})})}return function(e,t,n){t&&u(e.prototype,t)}(e,[{key:"getPageView",value:function(e){return this._pages[e]}},{key:"_setCurrentPageNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._currentPageNumber===e?(t&&this._resetCurrentPageView(),!0):0<e&&e<=this.pagesCount&&(this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels&&this._pageLabels[e-1]}),t&&this._resetCurrentPageView(),!0)}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(e){var t=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=e,e){var n=e.numPages,r=e.getPage(1);this._pagesCapability.promise.then(function(){t.eventBus.dispatch("pagesloaded",{source:t,pagesCount:n})}),this._onBeforeDraw=function(e){var n=t._pages[e.pageNumber-1];!n||t._buffer.push(n)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(e){e.cssTransform||t._onePageRenderedCapability.settled||(t._onePageRenderedCapability.resolve(),t.eventBus._off("pagerendered",t._onAfterDraw),t._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),r.then(function(r){t._firstPageCapability.resolve(r);for(var a=t.currentScale,o=r.getViewport({scale:a*i.CSS_UNITS}),c=t.textLayerMode!==i.TextLayerMode.DISABLE?t:null,l=1;l<=n;++l){var u=new s.PDFPageView({container:t._viewerElement,eventBus:t.eventBus,id:l,scale:a,defaultViewport:o.clone(),renderingQueue:t.renderingQueue,textLayerFactory:c,textLayerMode:t.textLayerMode,annotationLayerFactory:t,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,renderer:t.renderer,enableWebGL:t.enableWebGL,useOnlyCssZoom:t.useOnlyCssZoom,maxCanvasPixels:t.maxCanvasPixels,l10n:t.l10n});t._pages.push(u)}var f=t._pages[0];f&&(f.setPdfPage(r),t.linkService.cachePageRef(1,r.ref)),t._spreadMode!==i.SpreadMode.NONE&&t._updateSpreadMode(),t._onePageRenderedOrForceFetch().then(function(){if(t.findController&&t.findController.setDocument(e),e.loadingParams.disableAutoFetch||n>7500)t._pagesCapability.resolve();else{var i=n-1;if(i<=0)t._pagesCapability.resolve();else for(var r=function(n){e.getPage(n).then(function(e){var r=t._pages[n-1];r.pdfPage||r.setPdfPage(e),t.linkService.cachePageRef(n,e.ref),0==--i&&t._pagesCapability.resolve()},function(e){console.error("Unable to get page ".concat(n," to initialize viewer"),e),0==--i&&t._pagesCapability.resolve()})},a=2;a<=n;++a)r(a)}}),t.eventBus.dispatch("pagesinit",{source:t}),t.defaultRenderingQueue&&t.update()}).catch(function(e){console.error("Unable to initialize viewer",e)})}}},{key:"setPageLabels",value:function(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var t=0,n=this._pages.length;t<n;t++)this._pages[t].setPageLabel(this._pageLabels&&this._pageLabels[t])}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=i.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new f(10),this._location=null,this._pagesRotation=0,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,o.createPromiseCapability)(),this._onePageRenderedCapability=(0,o.createPromiseCapability)(),this._pagesCapability=(0,o.createPromiseCapability)(),this._scrollMode=i.ScrollMode.VERTICAL,this._spreadMode=i.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(e){var t=e.pageSpot;(0,i.scrollIntoView)(e.pageDiv,void 0===t?null:t)}},{key:"_setScaleUpdatePages",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=t.toString(),d(this._currentScale,e))i&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});else{for(var r=0,a=this._pages.length;r<a;r++)this._pages[r].update(e);if(this._currentScale=e,!n){var o,s=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(s=this._location.pageNumber,o=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:s,destArray:o,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:i?t:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(e);if(n>0)this._setScaleUpdatePages(n,e,t,!1);else{var r=this._pages[this._currentPageNumber-1];if(!r)return;var a=this.isInPresentationMode||this.removePageBorders,o=a?0:i.SCROLLBAR_PADDING,s=a?0:i.VERTICAL_PADDING;if(!a&&this._isScrollModeHorizontal){var c=[s,o];o=c[0],s=c[1]}var l=(this.container.clientWidth-o)/r.width*r.scale,u=(this.container.clientHeight-s)/r.height*r.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=l;break;case"page-height":n=u;break;case"page-fit":n=Math.min(l,u);break;case"auto":var f=(0,i.isPortraitOrientation)(r)?l:Math.min(u,l);n=Math.min(i.MAX_AUTO_SCALE,f);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(e,'" is an unknown zoom value.'))}this._setScaleUpdatePages(n,e,t,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(e){var t=e.pageNumber,n=e.destArray,r=void 0===n?null:n,a=e.allowNegativeOffset,o=void 0!==a&&a,s=e.ignoreDestinationZoom,c=void 0!==s&&s;if(this.pdfDocument){var l=Number.isInteger(t)&&this._pages[t-1];if(!l)return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(t,'" is not a valid pageNumber parameter.'));if(this.isInPresentationMode||!r)return void this._setCurrentPageNumber(t,!0);var u,f=0,d=0,h=0,p=0,g=l.rotation%180!=0,m=(g?l.height:l.width)/l.scale/i.CSS_UNITS,v=(g?l.width:l.height)/l.scale/i.CSS_UNITS,b=0;switch(r[1].name){case"XYZ":b=r[4],f=null!==(f=r[2])?f:0,d=null!==(d=r[3])?d:v;break;case"Fit":case"FitB":b="page-fit";break;case"FitH":case"FitBH":b="page-width",null===(d=r[2])&&this._location&&(f=this._location.left,d=this._location.top);break;case"FitV":case"FitBV":f=r[2],h=m,p=v,b="page-height";break;case"FitR":h=r[4]-(f=r[2]),u=(this.container.clientHeight-(this.removePageBorders?0:i.VERTICAL_PADDING))/(p=r[5]-(d=r[3]))/i.CSS_UNITS,b=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:i.SCROLLBAR_PADDING))/h/i.CSS_UNITS),Math.abs(u));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(r[1].name,'" is not a valid destination type.'))}if(c||(b&&b!==this._currentScale?this.currentScaleValue=b:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE)),"page-fit"===b&&!r[4])return void this._scrollIntoView({pageDiv:l.div,pageNumber:t});var y=[l.viewport.convertToViewportPoint(f,d),l.viewport.convertToViewportPoint(f+h,d+p)],_=Math.min(y[0][0],y[1][0]),C=Math.min(y[0][1],y[1][1]);o||(_=Math.max(_,0),C=Math.max(C,0)),this._scrollIntoView({pageDiv:l.div,pageSpot:{left:_,top:C},pageNumber:t})}}},{key:"_updateLocation",value:function(e){var t=this._currentScale,n=this._currentScaleValue,i=parseFloat(n)===t?Math.round(1e4*t)/100:n,r=e.id,a="#page="+r;a+="&zoom="+i;var o=this.container,s=this._pages[r-1].getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),c=Math.round(s[0]),l=Math.round(s[1]);this._location={pageNumber:r,scale:i,top:l,left:c,rotation:this._pagesRotation,pdfOpenParams:a+=","+c+","+l}}},{key:"_updateHelper",value:function(e){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var e=this._getVisiblePages(),t=e.views,n=t.length;if(0!==n){var i=Math.max(10,2*n+1);this._buffer.resize(i,t),this.renderingQueue.renderHighestPriority(e),this._updateHelper(t),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(e){return this.container.contains(e)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var e=this._pages[this._currentPageNumber-1],t=e.div,n={id:e.id,x:t.offsetLeft+t.clientLeft,y:t.offsetTop+t.clientTop,view:e};return{first:n,last:n,views:[n]}}},{key:"_getVisiblePages",value:function(){return(0,i.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function(e){return!!this.pdfDocument&&(e<1||e>this.pagesCount?(console.error("".concat(this._name,'.isPageVisible: "').concat(e,'" is out of bounds.')),!1):this._getVisiblePages().views.some(function(t){return t.id===e}))}},{key:"cleanup",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==r.RenderingStates.FINISHED&&this._pages[e].reset()}},{key:"_cancelRendering",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(e){var t=this;if(e.pdfPage)return Promise.resolve(e.pdfPage);if(this._pagesRequests.has(e))return this._pagesRequests.get(e);var n=this.pdfDocument.getPage(e.id).then(function(n){return e.pdfPage||e.setPdfPage(n),t._pagesRequests.delete(e),n}).catch(function(n){console.error("Unable to get page for page view",n),t._pagesRequests.delete(e)});return this._pagesRequests.set(e,n),n}},{key:"forceRendering",value:function(e){var t=this,n=e||this._getVisiblePages(),i=this.renderingQueue.getHighestPriority(n,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!i&&(this._ensurePdfPageLoaded(i).then(function(){t.renderingQueue.renderView(i)}),!0)}},{key:"createTextLayerBuilder",value:function(e,t,n){return new l.TextLayerBuilder({textLayerDiv:e,eventBus:arguments.length>4?arguments[4]:void 0,pageIndex:t,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&arguments.length>3&&void 0!==arguments[3]&&arguments[3]})}},{key:"createAnnotationLayerBuilder",value:function(e,t){return new a.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,imageResourcesPath:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:arguments.length>3&&void 0!==arguments[3]&&arguments[3],linkService:this.linkService,downloadManager:this.downloadManager,l10n:arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.NullL10n})}},{key:"getPagesOverview",value:function(){var e=this._pages.map(function(e){var t=e.pdfPage.getViewport({scale:1});return{width:t.width,height:t.height,rotation:t.rotation}});if(!this.enablePrintAutoRotate)return e;var t=(0,i.isPortraitOrientation)(e[0]);return e.map(function(e){return t===(0,i.isPortraitOrientation)(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}})}},{key:"_updateScrollMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===i.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",t===i.ScrollMode.WRAPPED),this.pdfDocument&&e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var t=this.viewer,n=this._pages;if(t.textContent="",this._spreadMode===i.SpreadMode.NONE)for(var r=0,a=n.length;r<a;++r)t.appendChild(n[r].div);else for(var o=this._spreadMode-1,s=null,c=0,l=n.length;c<l;++c)null===s?((s=document.createElement("div")).className="spread",t.appendChild(s)):c%2===o&&(s=s.cloneNode(!1),t.appendChild(s)),s.appendChild(n[c].div);!e||(this._setCurrentPageNumber(e,!0),this.update())}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(e){return e&&e.pdfPage})}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(e,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(e,'" is not a valid page.'))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(e){if(this.pdfDocument){var t=0|e;if(this._pageLabels){var n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(e,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE},set:function(e){if(isNaN(e))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(e,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(e){!this.pdfDocument||this._setScale(e,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(e){if(!(0,i.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==e){this._pagesRotation=e;for(var t=this._currentPageNumber,n=0,r=this._pages.length;n<r;n++){var a=this._pages[n];a.update(a.scale,e)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===i.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var e=this._pages[0],t=1,n=this._pages.length;t<n;++t){var i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(e){if(this._scrollMode!==e){if(!(0,i.isValidScrollMode)(e))throw new Error("Invalid scroll mode: ".concat(e));this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(e){if(this._spreadMode!==e){if(!(0,i.isValidSpreadMode)(e))throw new Error("Invalid spread mode: ".concat(e));this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var i=n(19),r=n(2);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.PDFViewer=function(e){u(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}(n);function n(){return s(this,n),t.apply(this,arguments)}return function(e,t,n){t&&c(e.prototype,t)}(n,[{key:"_scrollIntoView",value:function(e){var t=e.pageDiv,i=e.pageSpot,r=void 0===i?null:i,a=e.pageNumber,o=void 0===a?null:a;if(!r&&!this.isInPresentationMode){var s=t.offsetLeft+t.clientLeft,c=this.container,u=c.scrollLeft;(this._isScrollModeHorizontal||s<u||s+t.clientWidth>u+c.clientWidth)&&(r={left:0,top:0})}l(h(n.prototype),"_scrollIntoView",this).call(this,{pageDiv:t,pageSpot:r,pageNumber:o})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():l(h(n.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(e){if(!this.isInPresentationMode){var t,n=this._currentPageNumber,i=!1,r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{!s&&null!=n.return&&n.return()}finally{if(c)throw a}}}}(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.percent<100)break;if(a.id===n){i=!0;break}}}catch(s){r.e(s)}finally{r.f()}i||(n=e[0].id),this._setCurrentPageNumber(n)}}},{key:"_viewerElement",get:function(){return(0,r.shadow)(this,"_viewerElement",this.viewer)}}]),n}(i.BaseViewer)}])},16936:function(e,t,n){"use strict";n.d(t,{M:function(){return v}});var i,r=n(12286),a=n(26215),o=n(62049),s=n(45435),c=n(68307),l=n(43190),u=n(37716),f=n(725),d=n(88640),h=n(90971),p=n(97574),g=n(8307),m=n(22238),v=((i=function(){function e(t,n,i,o,c,l){var u=this;_classCallCheck2(this,e),this.electronService=t,this.localUserConfigService=n,this.whiteLabelService=i,this.helpersService=o,this.router=c,this.dialog=l,this.latestDesktopAppVersion=this.electronService.setVersion(r.k.DESKTOP_APP_WIN_VERSION),this.isNewDesktopAppAvailableSource=new a.X(!1),this.isModalOpen=!1,this.isCrmConnect=!1,this.isDesktopApp=this.electronService.desktop,this.isShowUpdateButton=!1,this.isNewDesktopAppAvailable$=this.isNewDesktopAppAvailableSource.asObservable(),this.isDesktopApp&&(this.cacheUserSettingsForCheckingUpdate(),this.desktopAppDownloadList=this.getDesktopAppDownloadList(),this.isNewDesktopAppAvailable$.pipe((0,s.h)(function(e){return e})).subscribe(function(){u.toggleNewDesktopAppAvailableDialog()}),this.checkIsCrmConnectInstalled())}return _createClass2(e,[{key:"getDesktopAppDownloadList",value:function(){return this.helpersService.getDeepProperty(this.whiteLabelService.data,"downloadableAppList")}},{key:"checkDesktopAppVersion",value:function(){(this.latestDesktopAppVersion.major!==this.installedDesktopAppVersion.major||this.latestDesktopAppVersion.minor!==this.installedDesktopAppVersion.minor||this.latestDesktopAppVersion.patch!==this.installedDesktopAppVersion.patch)&&this.isNewDesktopAppAvailableSource.next(!0)}},{key:"removeDesktopAppUpdateBadge",value:function(){this.isNewDesktopAppAvailableSource.next(!1)}},{key:"cacheUserSettingsForCheckingUpdate",value:function(){var e=this;this.electronService.getAppVersion().pipe((0,c.b)(function(t){return e.installedDesktopAppVersion=e.electronService.setVersion(t)}),(0,l.w)(function(){return e.localUserConfigService.userConfig$})).subscribe(function(t){t.isDesktopAppAutoUpdate&&e.checkDesktopAppVersion()})}},{key:"toggleNewDesktopAppAvailableDialog",value:function(){var e,t=this;if(!this.isModalOpen){this.isModalOpen=!0;var n=null===(e=this.whiteLabelService.data.downloadableAppList)||void 0===e?void 0:e.productTitle;this.dialog.open(o.f,{autoFocus:!1,data:{latestAppVersion:this.latestDesktopAppVersion.version,whiteLabelName:n}}).afterClosed().subscribe(function(e){t.isModalOpen=!1,t.isShowUpdateButton=!0,e&&t.downloadLatestDesktopApp()})}}},{key:"downloadLatestDesktopApp",value:function(){var e;(e=navigator.userAgent.includes("Mac")?this.getDesktopAppDownloadLink("Mac"):this.getDesktopAppDownloadLink(this.isCrmConnect?"Windows - CRM Connect":"Windows"))?location.href=e:this.router.navigate(["/main/settings/download"])}},{key:"getDesktopAppDownloadLink",value:function(e){return this.desktopAppDownloadList.desktopAppItems.filter(function(t){return t.os===e})[0].link}},{key:"checkIsCrmConnectInstalled",value:function(){var e=this;this.electronService.getCrmConnectIntegratorInfo(),this.electronService.crmConnectIntegratorInfo$.subscribe(function(t){e.isCrmConnect=t.isInstalled})}}]),e}()).\u0275fac=function(e){return new(e||i)(u.LFG(f.d),u.LFG(d.i),u.LFG(h.D),u.LFG(p.$),u.LFG(g.F0),u.LFG(m.uw))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i)},8493:function(e,t,n){"use strict";n.d(t,{W:function(){return f}});var i,r=n(38583),a=n(27912),o=n(33601),s=n(72413),c=n(33935),l=n(29790),u=n(37716),f=((i=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[o.x,s.F,a.X]}}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[r.ez,c.Tx,l.aw]]}),i)},60827:function(e,t,n){"use strict";n.r(t),n.d(t,{MainModule:function(){return $f}});var i=n(8307),r=n(76321),a=n(39210),o=n(21554);function s(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}var c,l=n(37716),u=n(66890),f=n(88265),d=["pdfViewerContainer"],h=function(e){var t=new e.EventBus(!0);return function(e){e.on("documentload",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),e.on("pagerendered",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagerendered",!0,!0,{pageNumber:e.pageNumber,cssTransform:e.cssTransform}),e.source.div.dispatchEvent(t)}),e.on("textlayerrendered",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e.pageNumber}),e.source.textLayerDiv.dispatchEvent(t)}),e.on("pagechanging",function(e){var t=document.createEvent("UIEvents");t.initEvent("pagechanging",!0,!0),t.pageNumber=e.pageNumber,e.source.container.dispatchEvent(t)}),e.on("pagesinit",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesinit",!0,!0,null),e.source.container.dispatchEvent(t)}),e.on("pagesloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e.pagesCount}),e.source.container.dispatchEvent(t)}),e.on("scalechange",function(e){var t=document.createEvent("UIEvents");t.initEvent("scalechange",!0,!0),t.scale=e.scale,t.presetValue=e.presetValue,e.source.container.dispatchEvent(t)}),e.on("updateviewarea",function(e){var t=document.createEvent("UIEvents");t.initEvent("updateviewarea",!0,!0),t.location=e.location,e.source.container.dispatchEvent(t)}),e.on("find",function(e){if(e.source!==window){var t=document.createEvent("CustomEvent");t.initCustomEvent("find"+e.type,!0,!0,{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:e.caseSensitive,highlightAll:e.highlightAll,findPrevious:e.findPrevious}),window.dispatchEvent(t)}}),e.on("attachmentsloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e.attachmentsCount}),e.source.container.dispatchEvent(t)}),e.on("sidebarviewchanged",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("sidebarviewchanged",!0,!0,{view:e.view}),e.source.outerContainer.dispatchEvent(t)}),e.on("pagemode",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagemode",!0,!0,{mode:e.mode}),e.source.pdfViewer.container.dispatchEvent(t)}),e.on("namedaction",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("namedaction",!0,!0,{action:e.action}),e.source.pdfViewer.container.dispatchEvent(t)}),e.on("presentationmodechanged",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("presentationmodechanged",!0,!0,{active:e.active,switchInProgress:e.switchInProgress}),window.dispatchEvent(t)}),e.on("outlineloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e.outlineCount}),e.source.container.dispatchEvent(t)})}(t),t};function p(e,t,n){e[t]=n}function g(){return"undefined"==typeof window}g()||p(u,"verbosity",u.VerbosityLevel.ERRORS);var m,v=((m=v||(v={}))[m.DISABLED=0]="DISABLED",m[m.ENABLED=1]="ENABLED",m[m.ENHANCED=2]="ENHANCED",v),b=c=function(){function e(t){var n;(_classCallCheck2(this,e),this.element=t,this.isVisible=!1,this._cMapsUrl=void 0!==u?"https://unpkg.com/pdfjs-dist@".concat(u.version,"/cmaps/"):null,this._renderText=!0,this._renderTextMode=v.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.isInitialized=!1,this.afterLoadComplete=new l.vpe,this.pageRendered=new l.vpe,this.pageInitialized=new l.vpe,this.textLayerRendered=new l.vpe,this.onError=new l.vpe,this.onProgress=new l.vpe,this.pageChange=new l.vpe(!0),g())||(n=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:"https://cdn.jsdelivr.net/npm/pdfjs-dist@".concat(u.version,"/es5/build/pdf.worker.js"),p(u.GlobalWorkerOptions,"workerSrc",n))}return _createClass2(e,[{key:"cMapsUrl",set:function(e){this._cMapsUrl=e}},{key:"page",set:function(e){var t=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,t!==e&&this.pageChange.emit(e)}},{key:"renderText",set:function(e){this._renderText=e}},{key:"renderTextMode",set:function(e){this._renderTextMode=e}},{key:"originalSize",set:function(e){this._originalSize=e}},{key:"showAll",set:function(e){this._showAll=e}},{key:"stickToPage",set:function(e){this._stickToPage=e}},{key:"zoom",get:function(){return this._zoom},set:function(e){e<=0||(this._zoom=e)}},{key:"zoomScale",get:function(){return this._zoomScale},set:function(e){this._zoomScale=e}},{key:"rotation",set:function(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}},{key:"externalLinkTarget",set:function(e){this._externalLinkTarget=e}},{key:"autoresize",set:function(e){this._canAutoResize=Boolean(e)}},{key:"fitToPage",set:function(e){this._fitToPage=Boolean(e)}},{key:"showBorders",set:function(e){this._showBorders=Boolean(e)}},{key:"ngAfterViewChecked",value:function(){var e=this;if(!this.isInitialized){var t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(function(){e.ngOnInit(),e.ngOnChanges({src:e.src})})):this.isVisible=!1}}},{key:"ngOnInit",value:function(){!g()&&this.isVisible&&(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}},{key:"ngOnDestroy",value:function(){this.clear()}},{key:"onPageResize",value:function(){var e=this;!this._canAutoResize||!this._pdf||(this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.updateSize()},100))}},{key:"pdfLinkService",get:function(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}},{key:"pdfViewer",get:function(){return this.getCurrentViewer()}},{key:"pdfFindController",get:function(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}},{key:"ngOnChanges",value:function(e){if(!g()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if("renderText"in e?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:v.DISABLED,this.resetPdfDocument()):"showAll"in e&&this.resetPdfDocument(),"page"in e){if(e.page.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}},{key:"updateSize",value:function(){var e=this,t=this.getCurrentViewer();this._pdf.getPage(t.currentPageNumber).then(function(n){var i=e._rotation||n.rotate,r=n.getViewport({scale:e._zoom,rotation:i}).width*c.CSS_UNITS,a=e._zoom,o=!0;if(!e._originalSize||e._fitToPage&&r>e.pdfViewerContainer.nativeElement.clientWidth){var s=n.getViewport({scale:1,rotation:i});a=e.getScale(s.width,s.height),o=!e._stickToPage}t._setScale(a,o)})}},{key:"clear",value:function(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}},{key:"getPDFLinkServiceConfig",value:function(){var e={},t=c.getLinkTarget(this._externalLinkTarget);return t&&(e.externalLinkTarget=t),e}},{key:"setupMultiPageViewer",value:function(){var e=this;p(u,"disableTextLayer",!this._renderText);var t=h(f);t.on("pagerendered",function(t){e.pageRendered.emit(t)}),t.on("pagesinit",function(t){e.pageInitialized.emit(t)}),t.on("pagechanging",function(t){e.pageScrollTimeout&&clearTimeout(e.pageScrollTimeout),e.pageScrollTimeout=setTimeout(function(){e._latestScrolledPage=t.pageNumber,e.pageChange.emit(t.pageNumber)},100)}),t.on("textlayerrendered",function(t){e.textLayerRendered.emit(t)}),this.pdfMultiPageLinkService=new f.PDFLinkService(Object.assign({eventBus:t},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new f.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:t});var n={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:v.DISABLED,findController:this.pdfMultiPageFindController};this.pdfMultiPageViewer=new f.PDFViewer(n),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}},{key:"setupSinglePageViewer",value:function(){var e=this;p(u,"disableTextLayer",!this._renderText);var t=h(f);t.on("pagechanging",function(t){t.pageNumber!==e._page&&(e.page=t.pageNumber)}),t.on("pagerendered",function(t){e.pageRendered.emit(t)}),t.on("pagesinit",function(t){e.pageInitialized.emit(t)}),t.on("textlayerrendered",function(t){e.textLayerRendered.emit(t)}),this.pdfSinglePageLinkService=new f.PDFLinkService(Object.assign({eventBus:t},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new f.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:t});var n={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:v.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new f.PDFSinglePageViewer(n),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}},{key:"getValidPageNumber",value:function(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}},{key:"getDocumentParams",value:function(){var e=typeof this.src;if(!this._cMapsUrl)return this.src;var t={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===e?t.url=this.src:"object"===e&&(void 0!==this.src.byteLength?t.data=this.src:Object.assign(t,this.src)),t}},{key:"loadPDF",value:function(){var e=this;if(this.src)if(this.lastLoaded!==this.src){this.clear(),this.loadingTask=(0,u.getDocument)(this.getDocumentParams()),this.loadingTask.onProgress=function(t){e.onProgress.emit(t)};var t=this.src;this.loadingTask.promise.then(function(n){e._pdf=n,e.lastLoaded=t,e.afterLoadComplete.emit(n),e.pdfMultiPageViewer||(e.setupMultiPageViewer(),e.setupSinglePageViewer()),e.resetPdfDocument(),e.update()},function(t){e.onError.emit(t)})}else this.update()}},{key:"update",value:function(){this.page=this._page,this.render()}},{key:"render",value:function(){var e=this;this._page=this.getValidPageNumber(this._page);var t=this.getCurrentViewer();(0!==this._rotation||t.pagesRotation!==this._rotation)&&setTimeout(function(){t.pagesRotation=e._rotation}),this._stickToPage&&setTimeout(function(){t.currentPageNumber=e._page}),this.updateSize()}},{key:"getScale",value:function(e,t){var n=this._showBorders?2*c.BORDER_WIDTH:0,i=this.pdfViewerContainer.nativeElement.clientWidth-n,r=this.pdfViewerContainer.nativeElement.clientHeight-n;if(0===r||0===t||0===i||0===e)return 1;var a=1;switch(this._zoomScale){case"page-fit":a=Math.min(r/t,i/e);break;case"page-height":a=r/t;break;case"page-width":default:a=i/e}return this._zoom*a/c.CSS_UNITS}},{key:"getCurrentViewer",value:function(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}},{key:"resetPdfDocument",value:function(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}}],[{key:"getLinkTarget",value:function(e){switch(e){case"blank":return u.LinkTarget.BLANK;case"none":return u.LinkTarget.NONE;case"self":return u.LinkTarget.SELF;case"parent":return u.LinkTarget.PARENT;case"top":return u.LinkTarget.TOP}return null}}]),e}();b.\u0275fac=function(e){return new(e||b)(l.Y36(l.SBq))},b.\u0275cmp=l.Xpm({type:b,selectors:[["pdf-viewer"]],viewQuery:function(e,t){var n;(1&e&&l.Gf(d,5),2&e)&&(l.iGM(n=l.CRH())&&(t.pdfViewerContainer=n.first))},hostBindings:function(e,t){1&e&&l.NdJ("resize",function(){return t.onPageResize()},!1,l.Jf7)},inputs:{cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"],src:"src"},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[l.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0,1),l._UZ(2,"div",2),l.qZA())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:relative;height:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer>span{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0 0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::-moz-selection{background:#00f}[_nghost-%COMP%]     .textLayer ::selection{background:#00f}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{background-color:#000;content:"";display:block;position:absolute;height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute;border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation{cursor:pointer}[_nghost-%COMP%]     .pdfViewer{padding-bottom:10px}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid rgba(0,0,0,.01);box-sizing:initial;background-clip:content-box;-o-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.removePageBorders{padding-bottom:0}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle;margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==) center no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-ms-fullscreen .pdfViewer .page{margin-bottom:100%!important}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page{margin-bottom:100%;border:0}[_nghost-%COMP%]     .pdfPresentationMode:-moz-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}']}),b.CSS_UNITS=96/72,b.BORDER_WIDTH=9,b.ctorParameters=function(){return[{type:l.SBq}]},s([(0,l.i9L)("pdfViewerContainer")],b.prototype,"pdfViewerContainer",void 0),s([(0,l.r_U)("after-load-complete")],b.prototype,"afterLoadComplete",void 0),s([(0,l.r_U)("page-rendered")],b.prototype,"pageRendered",void 0),s([(0,l.r_U)("pages-initialized")],b.prototype,"pageInitialized",void 0),s([(0,l.r_U)("text-layer-rendered")],b.prototype,"textLayerRendered",void 0),s([(0,l.r_U)("error")],b.prototype,"onError",void 0),s([(0,l.r_U)("on-progress")],b.prototype,"onProgress",void 0),s([(0,l.r_U)()],b.prototype,"pageChange",void 0),s([(0,l.IIB)()],b.prototype,"src",void 0),s([(0,l.IIB)("c-maps-url")],b.prototype,"cMapsUrl",null),s([(0,l.IIB)("page")],b.prototype,"page",null),s([(0,l.IIB)("render-text")],b.prototype,"renderText",null),s([(0,l.IIB)("render-text-mode")],b.prototype,"renderTextMode",null),s([(0,l.IIB)("original-size")],b.prototype,"originalSize",null),s([(0,l.IIB)("show-all")],b.prototype,"showAll",null),s([(0,l.IIB)("stick-to-page")],b.prototype,"stickToPage",null),s([(0,l.IIB)("zoom")],b.prototype,"zoom",null),s([(0,l.IIB)("zoom-scale")],b.prototype,"zoomScale",null),s([(0,l.IIB)("rotation")],b.prototype,"rotation",null),s([(0,l.IIB)("external-link-target")],b.prototype,"externalLinkTarget",null),s([(0,l.IIB)("autoresize")],b.prototype,"autoresize",null),s([(0,l.IIB)("fit-to-page")],b.prototype,"fitToPage",null),s([(0,l.IIB)("show-borders")],b.prototype,"showBorders",null),s([(0,l.L6J)("window:resize",[])],b.prototype,"onPageResize",null);var y=function(){var e=_createClass2(function e(){_classCallCheck2(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({}),e}(),_=n(29790),C=n(25167),k=function(){var e=_createClass2(function e(){_classCallCheck2(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[_.aw,C.m]]}),e}(),S=n(96292),x=n(74823),A=n(79765),w=n(28049),M=n(46782),T=n(83217),P=n(88044),I=n(93739),O=n(22238),j=n(66632),E=n(45832),L=n(7460),N=n(99445),R=function(){var e=function(){function e(t,n,i,r){var a=this;_classCallCheck2(this,e),this.snackBarService=t,this.clickToDialService=n,this.dialogRef=i,this.callTrackerService=r,this.ngUnsubscribe=new A.xQ,this.isLoading=!1,this.clickToDialService.callContextMenu$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){e.menuItemClicked&&a.dialogRef.close()})}return _createClass2(e,[{key:"closeModal",value:function(e){e.close()}},{key:"onSuccess",value:function(e,t){this.snackBarService.openInfo(e,!0),this.closeModal(t)}},{key:"onError",value:function(e){this.snackBarService.openErrorInfo(e)}},{key:"closeModalAndStartCall",value:function(e,t){var n=this;this.closeModal(t),setTimeout(function(){n.callTrackerService.makeCall(e)},300)}},{key:"showContextMenu",value:function(e,t){t.preventDefault(),this.clickToDialService.callContextMenu({positionX:t.clientX,positionY:t.clientY,isShown:!0,isOverlayDisabled:!0,item:e})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(E.c),l.Y36(L.q),l.Y36(O.so),l.Y36(N.k))},e.\u0275dir=l.lG2({type:e}),e}(),D=n(99910),Z=n(73456),F=n(39485),U=n(658),q=function(){var e=function(){function e(t,n,i,r,a){_classCallCheck2(this,e),this.name=t,this.digestInterceptor=n,this.logger=i,this.liteModeService=r,this.conferenceService=a,this.addMemberSource=new A.xQ,this.deafMemberSource=new A.xQ,this.deleteMemberSource=new A.xQ,this.destroyConferenceSource=new A.xQ,this.kickMemberSource=new A.xQ,this.isLockedConferenceSource=new A.xQ,this.muteConferenceSource=new A.xQ,this.muteMemberSource=new A.xQ,this.startTalkingSource=new A.xQ,this.stopTalkingSource=new A.xQ,this.undeafMemberSource=new A.xQ,this.unmuteConferenceSource=new A.xQ,this.unmuteMemberSource=new A.xQ,this.createConferenceSource=new A.xQ,this.raiseHandSource=new A.xQ,this.lowerHandSource=new A.xQ,this.eventStreamCounter=1,this.ngUnsubscribe=new A.xQ,this.addMember$=this.addMemberSource.asObservable(),this.deleteMember$=this.deleteMemberSource.asObservable(),this.muteConference$=this.muteConferenceSource.asObservable(),this.unmuteConference$=this.unmuteConferenceSource.asObservable(),this.destroyConference$=this.destroyConferenceSource.asObservable(),this.isLockedConference$=this.isLockedConferenceSource.asObservable(),this.deafMember$=this.deafMemberSource.asObservable(),this.undeafMember$=this.undeafMemberSource.asObservable(),this.muteMember$=this.muteMemberSource.asObservable(),this.unmuteMember$=this.unmuteMemberSource.asObservable(),this.kickMember$=this.kickMemberSource.asObservable(),this.startTalking$=this.startTalkingSource.asObservable(),this.stopTalking$=this.stopTalkingSource.asObservable(),this.createConference$=this.createConferenceSource.asObservable(),this.raiseHand$=this.raiseHandSource.asObservable(),this.lowerHand$=this.lowerHandSource.asObservable(),this.init()}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"close",value:function(){this.stream&&(this.stream.close(),this.conferenceService.setStoredConferenceId(""))}},{key:"init",value:function(){var e=this;if(!this.liteModeService.isLiteMode()){var t=this.conferenceService.getPin(),n=t?"?pin=".concat(t):"";this.digestInterceptor.getDigestAuthorizationHeaderValue("".concat(F.N.VOICE_CONTROL_URL,"/conference/").concat(this.name,"/events").concat(n),"GET").subscribe(function(t){e.stream=new D.g("".concat(F.N.VOICE_CONTROL_URL,"/conference/").concat(e.name,"/events").concat(n),{interval:2e3,withCredentials:!1,headers:{Authorization:t}}),e.stream.onmessage=function(t){t=JSON.parse(t.data);var n=e.conferenceService.getStoredConferenceId();switch(t.action){case Z.R.ADD_MEMBER:e.updateConferenceId(n,t.name),e.addMemberSource.next(t);break;case Z.R.DELETE_MEMBER:e.deleteMemberSource.next(t);break;case Z.R.DESTROY:e.conferenceService.setStoredConferenceId(""),e.destroyConferenceSource.next(t);break;case Z.R.MUTE_MEMBER:e.muteMemberSource.next(t);break;case Z.R.UNMUTE_MEMBER:e.unmuteMemberSource.next(t);break;case Z.R.DEAF:e.deafMemberSource.next(t);break;case Z.R.UNDEAF:e.undeafMemberSource.next(t);break;case Z.R.KICK:e.kickMemberSource.next(t);break;case Z.R.START_TALKING:e.startTalkingSource.next(t);break;case Z.R.STOP_TALKING:e.stopTalkingSource.next(t);break;case Z.R.LOCK:e.isLockedConferenceSource.next(!0);break;case Z.R.UNLOCK:e.isLockedConferenceSource.next(!1);break;case Z.R.MUTE:e.muteConferenceSource.next(t);break;case Z.R.UNMUTE:e.unmuteConferenceSource.next(t);break;case Z.R.CREATE:e.updateConferenceId(n,t.name),e.createConferenceSource.next(t);break;case Z.R.RAISE_HAND:e.raiseHandSource.next(t);break;case Z.R.LOWER_HAND:e.lowerHandSource.next(t)}},e.stream.onerror=function(){e.close(),setTimeout(function(){e.eventStreamCounter++,e.init()},500*e.eventStreamCounter)}})}}},{key:"updateConferenceId",value:function(e,t){e||this.conferenceService.setStoredConferenceId(t)}}],[{key:"getFactoryMethod",value:function(t){return function(n,i,r,a){return new e(t,n,i,r,a)}}}]),e}();return e.\u0275fac=function(e){l.$Z()},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),B=n(13427),H=n(8259),Y=n(97090),V=n(80311),J=n(51233),Q=n(95786),z=n(57158),G=[[["","modal-header",""]],[["","modal-content",""]]],W=["[modal-header]","[modal-content]"],$=function(){var e=_createClass2(function e(){_classCallCheck2(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["modal-details-container"]],ngContentSelectors:W,decls:3,vars:0,consts:[[1,"modal-details-container-holder"]],template:function(e,t){1&e&&(l.F$t(G),l.TgZ(0,"div",0),l.Hsn(1),l.Hsn(2,1),l.qZA())},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]     .loading-container{align-items:center;display:flex;height:10rem;justify-content:center}[_nghost-%COMP%]     section .details-list:last-child{border-bottom:0}[_nghost-%COMP%]     .joint{border:.1rem solid #e5e5e5;border-width:0 0 .1rem;padding:.8rem 0}[_nghost-%COMP%]     .joint .details-list{border:0;padding:0}[_nghost-%COMP%]     .details-list{border:.1rem solid #e5e5e5;border-width:0 0 .1rem;list-style:none;margin:0;padding:.8rem 0}[_nghost-%COMP%]     .details-list .item-title{color:#999;font-size:1.4rem;padding:0 1rem .8rem}[_nghost-%COMP%]     .details-list .item{display:flex;min-height:4.8rem;padding:0 1rem}[_nghost-%COMP%]     .details-list .item.call-info .item-content{align-items:center;flex:1}[_nghost-%COMP%]     .details-list .item.call-info .item-content .item-primary-content{color:#000;flex:1}[_nghost-%COMP%]     .details-list .item.call-info .item-content .item-secondary-content{color:#333}[_nghost-%COMP%]     .details-list .item.call-info .item-content .item-additional-content__reason{color:#999}[_nghost-%COMP%]     .details-list .item.call-info .item-content .rounded-icon-holder{margin-left:0}[_nghost-%COMP%]     .details-list .item:not(.call-info){cursor:pointer}[_nghost-%COMP%]     .details-list .item:not(.call-info):hover .item-primary-content, [_nghost-%COMP%]     .details-list .item:not(.call-info):hover .item-secondary-content{color:#000}[_nghost-%COMP%]     .details-list .item:not(.call-info):hover .item-secondary-content{opacity:.7}[_nghost-%COMP%]     .details-list .item .item-content{font-size:1.8rem}[_nghost-%COMP%]     .details-list .item .item-primary-content, [_nghost-%COMP%]     .details-list .item .item-secondary-content, [_nghost-%COMP%]     .details-list .item .item-label{align-self:center}[_nghost-%COMP%]     .details-list .item .item-content{display:flex;flex-direction:row}[_nghost-%COMP%]     .details-list .item .item-trunk{align-self:center;flex:1;flex-direction:row;font-size:1.8rem;text-align:right}[_nghost-%COMP%]     .details-list .item .item-secondary-content{color:#999}[_nghost-%COMP%]     .details-list .item .item-label{display:flex;justify-content:center;width:9.6rem}[_nghost-%COMP%]     form footer{border-top:.1rem solid #e5e5e5;padding:0;text-align:right}[_nghost-%COMP%]     form footer button{text-transform:uppercase}.modal-details-container-holder[_ngcontent-%COMP%]{max-width:80vw;position:relative;width:72rem}"]}),e}(),K=n(38583),X=n(52592),ee=n(20746),te=n(77540),ne=n(56436),ie=n(89937);function re(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",4),l.TgZ(1,"conference-modal-header",5),l.NdJ("closeModalClick",function(){return l.CHM(n),l.oxw().close()})("onDeleteClick",function(){return l.CHM(n),l.oxw().onConferenceUnsubscribe()}),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("conferenceServiceData",i.conferenceServiceData)("memberCount",i.memberCount)("serviceNumber",i.conferenceSubscription.serviceNumber)}}function ae(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"li",17),l.NdJ("click",function(){return l.CHM(n),l.oxw(3).callToNumber()})("contextmenu",function(e){return l.CHM(n),l.oxw(3).showContextMenu(e)}),l.TgZ(1,"span",10),l._UZ(2,"app-svg-icon",18),l.qZA(),l.TgZ(3,"span",19),l.TgZ(4,"span",20),l._uU(5),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit;l.xp6(5),l.hij(" ",i," ")}}function oe(e,t){if(1&e&&(l.TgZ(0,"ul",7),l.YNc(1,ae,6,1,"li",16),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",n.conferenceServiceData.externalPhoneNumbers)}}function se(e,t){if(1&e&&(l.TgZ(0,"li",22),l.TgZ(1,"span",10),l._UZ(2,"app-svg-icon",23),l.qZA(),l.TgZ(3,"span",19),l.TgZ(4,"span",24),l._uU(5),l.qZA(),l.TgZ(6,"span",25),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.qZA(),l.qZA()),2&e){var n=l.oxw(3);l.xp6(5),l.hij(" ",null==n.conferenceServiceData?null:n.conferenceServiceData.adminPIN," "),l.xp6(2),l.hij(" ",l.lcZ(8,2,"conference.conference_admin_pin_hint")," ")}}function ce(e,t){if(1&e&&(l.TgZ(0,"li",22),l.TgZ(1,"span",10),l._UZ(2,"app-svg-icon",26),l.qZA(),l.TgZ(3,"span",19),l.TgZ(4,"span",27),l._uU(5),l.qZA(),l.TgZ(6,"span",25),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.qZA(),l.qZA()),2&e){var n=l.oxw(3);l.xp6(5),l.hij(" ",null==n.conferenceServiceData?null:n.conferenceServiceData.userPIN," "),l.xp6(2),l.hij(" ",l.lcZ(8,2,"conference.conference_user_pin_hint")," ")}}function le(e,t){if(1&e&&(l.TgZ(0,"ul",7),l.TgZ(1,"li",8),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.YNc(4,se,9,4,"li",21),l.YNc(5,ce,9,4,"li",21),l.qZA()),2&e){var n=l.oxw(2);l.xp6(2),l.Oqu(l.lcZ(3,3,"conference.conference_pin")),l.xp6(2),l.Q6J("ngIf",null==n.conferenceServiceData?null:n.conferenceServiceData.adminPIN),l.xp6(1),l.Q6J("ngIf",null==n.conferenceServiceData?null:n.conferenceServiceData.userPIN)}}function ue(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"section"),l.TgZ(1,"div",6),l.TgZ(2,"ul",7),l.TgZ(3,"li",8),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.TgZ(6,"li",9),l.NdJ("click",function(){return l.CHM(n),l.oxw().call()})("contextmenu",function(e){return l.CHM(n),l.oxw().showContextMenu(e)}),l.TgZ(7,"span",10),l._UZ(8,"app-svg-icon",11),l.qZA(),l.TgZ(9,"span",12),l.TgZ(10,"span",13),l._uU(11),l.qZA(),l.qZA(),l.TgZ(12,"copy-to-clipboard-button",14),l.NdJ("click",function(e){return e.stopPropagation()}),l.qZA(),l.qZA(),l.qZA(),l.YNc(13,oe,2,1,"ul",15),l.qZA(),l.YNc(14,le,6,5,"ul",15),l.qZA()}if(2&e){var i=l.oxw();l.xp6(4),l.Oqu(l.lcZ(5,5,"conference.phone_number")),l.xp6(7),l.hij(" ",i.conferenceServiceData.extensionNumber," "),l.xp6(1),l.Q6J("textToCopy",i.conferenceServiceData.extensionNumber),l.xp6(1),l.Q6J("ngIf",i.conferenceServiceData.externalPhoneNumbers),l.xp6(1),l.Q6J("ngIf",(null==i.conferenceServiceData?null:i.conferenceServiceData.adminPIN)||(null==i.conferenceServiceData?null:i.conferenceServiceData.userPIN))}}var fe=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o,s,c,l,u,f,d,h,p,g,m){var v;return _classCallCheck2(this,n),(v=t.call(this,s,e,r,i)).clickToDialService=e,v.callTrackerService=i,v.dialogRef=r,v.digestInterceptor=a,v.liteModeService=o,v.snackBarService=s,v.conferenceSubscription=c,v.apiConferenceService=l,v.conferenceHelper=u,v.conferenceService=f,v.conferenceSubscriptionsService=d,v.dialog=h,v.userService=p,v.preferredDeviceService=g,v.logger=m,v}return _createClass2(n,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;this.conferenceSubscription&&(this.isLoading=!0,this.memberCount=this.conferenceSubscription.memberCount,this.userService.userInfo$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.userInfo=t,e.apiConferenceService.getConferenceServiceData(e.conferenceSubscription.serviceNumber).pipe((0,M.R)(e.ngUnsubscribe)).subscribe(function(t){e.conferenceServiceData=t,e.initConferenceEventStream(),e.isLoading=!1})}))}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.closeStream()}},{key:"closeStream",value:function(){this.conferenceEventStreamService&&this.conferenceEventStreamService.close()}},{key:"callToNumber",value:function(){_get(_getPrototypeOf(n.prototype),"closeModalAndStartCall",this).call(this,{name:this.conferenceServiceData.displayName,number:this.conferenceServiceData.displayNumber},this.dialogRef)}},{key:"showContextMenu",value:function(e){_get(_getPrototypeOf(n.prototype),"showContextMenu",this).call(this,{name:this.conferenceServiceData.displayName,number:this.conferenceServiceData.displayNumber||this.conferenceServiceData.extensionNumber},e)}},{key:"onConferenceUnsubscribe",value:function(){var e=this;this.conferenceSubscriptionsService.unsubscribeToConference(this.conferenceSubscription.serviceNumber).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){e.close(),e.conferenceService.emitConferenceSubscriptionChange(e.conferenceSubscription.id),e.snackBarService.openInfo("conference.unsubscribed")})}},{key:"close",value:function(){this.closeModal(this.dialogRef)}},{key:"call",value:function(){var e=this;this.preferredDeviceService.preferredDevice$.pipe((0,w.P)(),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.close(),e.conferenceHelper.callByPreferredDevice(e.conferenceSubscription,t)})}},{key:"initConferenceEventStream",value:function(){var e=j.Z.getConferenceIdentifier(this.userInfo.activePhoneExtension.name,this.conferenceSubscription.serviceNumber);this.conferenceEventStreamService=new q(e,this.digestInterceptor,this.logger,this.liteModeService,this.conferenceService),this.conferenceEventStreamService.createConference$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(),this.conferenceEventStreamService.addMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.addMember.bind(this)),this.conferenceEventStreamService.deleteMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.removeMember.bind(this))}},{key:"addMember",value:function(){void 0!==this.memberCount&&this.memberCount>=0&&this.memberCount++}},{key:"removeMember",value:function(){void 0!==this.memberCount&&this.memberCount>0&&this.memberCount--}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(l.Y36(L.q),l.Y36(N.k),l.Y36(O.so),l.Y36(U.L),l.Y36(B.v),l.Y36(E.c),l.Y36(O.WI),l.Y36(H.j),l.Y36(Y._),l.Y36(j.Z),l.Y36(V.H),l.Y36(O.uw),l.Y36(J.K),l.Y36(Q._),l.Y36(z.Kf))},e.\u0275cmp=l.Xpm({type:e,selectors:[["conference-details"]],features:[l.qOj],decls:4,vars:3,consts:[["data-e2e","conference-info-modal-fragment"],["class","extended-header","modal-header","",4,"ngIf"],["loading-area-indicator","","modal-content","",3,"loadingAreaIndicatorActive"],[4,"ngIf"],["modal-header","",1,"extended-header"],["e2e","conference-info-modal-fragment",3,"conferenceServiceData","memberCount","serviceNumber","closeModalClick","onDeleteClick"],[1,"joint"],[1,"details-list"],[1,"item-title"],["itemHoverbox","",1,"item",3,"click","contextmenu"],[1,"item-label"],["fill","main-bg-color","icon","conference_call_solid","size","small"],[1,"item-content","conference-details__number"],["data-e2e","conference-info-modal-fragment__extension",1,"item-primary-content"],["tooltipText","contacts.copy_to_clipboard",3,"textToCopy","click"],["class","details-list",4,"ngIf"],["class","item",3,"click","contextmenu",4,"ngFor","ngForOf"],[1,"item",3,"click","contextmenu"],["fill","main-bg-color","icon","call","size","small"],[1,"item-content"],[1,"item-primary-content"],["class","item info-item call-info",4,"ngIf"],[1,"item","info-item","call-info"],["fill","main-bg-color","icon","contact","size","small"],["data-e2e","conference-info-modal-fragment__admin-pin",1,"item-primary-content"],[1,"item-primary-content-hint"],["fill","main-bg-color","icon","group","size","small"],["data-e2e","conference-info-modal-fragment__user-pin",1,"item-primary-content"]],template:function(e,t){1&e&&(l.TgZ(0,"modal-details-container",0),l.YNc(1,re,2,3,"div",1),l.TgZ(2,"div",2),l.YNc(3,ue,15,7,"section",3),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",t.conferenceServiceData),l.xp6(1),l.Q6J("loadingAreaIndicatorActive",t.isLoading),l.xp6(1),l.Q6J("ngIf",t.conferenceServiceData))},directives:[$,K.O5,X.O,ee._,te.h,ne.u,ie.v,K.sg],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.members[_ngcontent-%COMP%]{color:#666;padding-left:2rem}.conference-details__number[_ngcontent-%COMP%]{flex-grow:1}"]}),e}(),de=n(58623),he=n(54249),pe=n(4604),ge=n(7208),me=function(){return(e=me||(me={})).FUNCTIONKEY="functionKey",e.CONTACT="contact",e.HISTORY="history",e.VOICEMAIL="voicemail",e.CONFERENCE="conference",e.CRM_CONNECT="crmConnect",e.ACTIVE="active",e.EMERGENCY="emergency",e.SEARCH="search",e.CONFERENCE_SEARCH="conferenceSearch",me;var e}(),ve=[{callItemConfigKey:me.FUNCTIONKEY,avatar:{forceShowIcon:!1},presenceState:{isBlf:!0,presenceStateVisualizationType:ge.Y.ICON},details:{isBtnInfoHidden:!0,rowSize:"small",isClickToDialAllowed:!0},isItemBordered:!0},{callItemConfigKey:me.CONTACT,contextMenu:{contextMenuSection:"contact"},avatar:{forceShowIcon:!1},presenceState:{isBlf:!0,presenceStateVisualizationType:ge.Y.ICON},details:{isBtnInfoHidden:!1,rowSize:"medium",isClickToDialAllowed:!0},isItemBordered:!0},{callItemConfigKey:me.HISTORY,avatar:{forceShowIcon:!1},presenceState:{isBlf:!0,presenceStateVisualizationType:ge.Y.ICON},details:{isBtnInfoHidden:!0,rowSize:"medium",isClickToDialAllowed:!0,isShowItemSubTitle:!0},isItemBordered:!0},{callItemConfigKey:me.VOICEMAIL,contextMenu:{contextMenuSection:"voicemails"},avatar:{forceShowIcon:!1},presenceState:{isBlf:!0,presenceStateVisualizationType:ge.Y.ICON},details:{isBtnInfoHidden:!1,rowSize:"medium",isClickToDialAllowed:!0,isShowItemSubTitle:!0},isItemBordered:!0},{callItemConfigKey:me.CONFERENCE,contextMenu:{contextMenuSection:"conference"},avatar:{forceShowIcon:!0},presenceState:{isBlf:!0,presenceStateVisualizationType:ge.Y.CONFERENCE},details:{isBtnInfoHidden:!0,rowSize:"medium",isClickToDialAllowed:!0,isShowItemSubTitle:!1},isItemBordered:!0},{callItemConfigKey:me.CRM_CONNECT,contextMenu:{contextMenuSection:"crmConnect"},avatar:{forceShowIcon:!0},presenceState:{isBlf:!0,presenceStateVisualizationType:ge.Y.ICON},details:{isBtnInfoHidden:!0,rowSize:"medium",isClickToDialAllowed:!0,isShowItemSubTitle:!1,isSubTitleColorApplied:!1},isItemBordered:!0},{callItemConfigKey:me.ACTIVE,contextMenu:{contextMenuSection:"contact"},avatar:{forceShowIcon:!1},presenceState:{isBlf:!1,presenceStateVisualizationType:ge.Y.ICON},details:{isBtnInfoHidden:!0,rowSize:"medium",isClickToDialAllowed:!0,isShowItemSubTitle:!0,isSubTitleColorApplied:!0}},{callItemConfigKey:me.EMERGENCY,contextMenu:{contextMenuSection:"emergency"},avatar:{forceShowIcon:!0,bgColor:"red"},presenceState:{isBlf:!1,presenceStateVisualizationType:ge.Y.ICON},details:{isBtnInfoHidden:!0,rowSize:"medium",isClickToDialAllowed:!1,isShowItemSubTitle:!0,isSubTitleColorApplied:!0,isEmergencyCall:!0},isItemBordered:!0},{callItemConfigKey:me.SEARCH,avatar:{forceShowIcon:!1},presenceState:{isBlf:!0,presenceStateVisualizationType:ge.Y.ICON},details:{isBtnInfoHidden:!0,rowSize:"medium",isClickToDialAllowed:!0,isShowItemSubTitle:!0,isSubTitleColorApplied:!0},isItemBordered:!0},{callItemConfigKey:me.CONFERENCE_SEARCH,contextMenu:{contextMenuSection:"conference"},avatar:{forceShowIcon:!0},presenceState:{isBlf:!0,presenceStateVisualizationType:ge.Y.CONFERENCE},details:{isBtnInfoHidden:!0,rowSize:"medium",isClickToDialAllowed:!0,isShowItemSubTitle:!0,isSubTitleColorApplied:!0},isItemBordered:!0}],be=n(81836),ye=n(43962),_e=n(85260),Ce=n(38294),ke=n(49183),Se=n(76083),xe=n(77310),Ae=n(95055),we=n(76916),Me=n(87147),Te=function(){var e=function(){function e(t,n,i,r){var a=this;_classCallCheck2(this,e),this.headerButtonService=t,this.searchService=n,this.callItemConfigs=i,this.callService=r,this.headerButtonService.isEditMode$.subscribe(function(e){a.isEditMode=e})}return _createClass2(e,[{key:"onCall",value:function(e,t){this.isEditMode||(this.callService.makeCall(e.number,{callItem:e,isClickToDialAllowed:t}),this.headerButtonService.clearSearch(),this.searchService.clearSearch())}},{key:"updateSelectedEditItemsCount",value:function(e){!e.hasOwnProperty("isSelected")||!this.isEditMode||(e.isSelected=!e.isSelected,this.headerButtonService.setSelectedEditItemsCount(e.isSelected))}},{key:"getCallItemByConfigKey",value:function(e){return this.callItemConfigs.find(function(t){return t.callItemConfigKey===e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(we.d),l.LFG(Ce.o),l.LFG("CALL_ITEM_CONFIGS"),l.LFG(Me.M))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e}(),Pe=n(84985),Ie=n(83112),Oe=n(14944),je=function(e){return{"call-item-details__sub-title--color":e}};function Ee(e,t){if(1&e&&(l.TgZ(0,"span",3),l._uU(1),l.qZA()),2&e){var n=l.oxw();l.Q6J("ngClass",l.VKq(3,je,null==n.callItemDetails?null:n.callItemDetails.isSubTitleColorApplied)),l.uIk("data-e2e",n.e2e?n.e2e+"-second-title":null),l.xp6(1),l.hij(" ",(null==n.item?null:n.item.itemSubTitle)||(null==n.item?null:n.item.number)," ")}}var Le=function(e,t,n){return{missed:e,"call-item-details--bold":t,"call-item-details--red ":n}},Ne=function(){var e=_createClass2(function e(){_classCallCheck2(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["call-item-details"]],inputs:{item:"item",callItemDetails:"callItemDetails",e2e:"e2e"},decls:4,vars:8,consts:[[1,"call-item-details__content"],["ellipsisTitle","",1,"call-item-details__name",3,"ngClass"],["class","call-item-details__sub-title",3,"ngClass",4,"ngIf"],[1,"call-item-details__sub-title",3,"ngClass"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"span",1),l._uU(2),l.qZA(),l.YNc(3,Ee,2,5,"span",2),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngClass",l.kEZ(4,Le,"call_missed"===(null==t.item||null==t.item.direction?null:t.item.direction.name),null==t.item?null:t.item.new,null==t.callItemDetails?null:t.callItemDetails.isEmergencyCall)),l.uIk("data-e2e",t.e2e?t.e2e+"__title":null),l.xp6(1),l.hij(" ",(null==t.item?null:t.item.name)||(null==t.item?null:t.item.number)," "),l.xp6(1),l.Q6J("ngIf",null==t.callItemDetails?null:t.callItemDetails.isShowItemSubTitle))},directives:[Oe.w,K.mk,K.O5],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.call-item-details__content[_ngcontent-%COMP%]{align-items:center;display:grid;flex:1;flex-direction:column;margin-left:.8rem;padding:1.1rem 0}.call-item-details__name[_ngcontent-%COMP%]{display:inline-block;width:90%}.call-item-details--red[_ngcontent-%COMP%]{color:#b31a3e}"]}),e}(),Re=n(526);function De(e,t){if(1&e&&l._UZ(0,"busy-lamp-field",5),2&e){var n=l.oxw();l.Q6J("extension",null==n.callItem?null:n.callItem.number)("entityPresenceStateType",null==n.callItemConfig||null==n.callItemConfig.presenceState?null:n.callItemConfig.presenceState.presenceStateVisualizationType)("isConferenceActive",null==n.callItem?null:n.callItem.isPresenceStateActive)}}var Ze=function(e){return{"call-item-container__item-border":e}},Fe=function(e,t){return{"call-item-container--disabled":e,"call-item-container__item-alignment":t}},Ue=["*"],qe=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.callItemService=t,this.isDisabled=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.callItemConfig=this.callItemService.getCallItemByConfigKey(this.callItemConfigKey)}},{key:"onCall",value:function(e){var t,n;this.callItemService.onCall(e,(null===(n=null===(t=this.callItemConfig)||void 0===t?void 0:t.details)||void 0===n?void 0:n.isClickToDialAllowed)||!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Te))},e.\u0275cmp=l.Xpm({type:e,selectors:[["call-item-container"]],inputs:{callItem:"callItem",callItemConfigKey:"callItemConfigKey",isDisabled:"isDisabled",e2e:"e2e"},ngContentSelectors:Ue,decls:6,vars:27,consts:[[1,"call-item-container",3,"itemHoverbox","contextMenuSection","isContextMenuDisabled","context-menu","isDebounceDblClickDisabled","debounceDblClick"],[3,"displayName","forceShowIcon","iconName","bgColor","isAdmin","isInitialsHidden","e2e"],[3,"extension","entityPresenceStateType","isConferenceActive",4,"ngIf"],[3,"ngClass"],[1,"call-item-container__alignment",3,"ngClass","item","callItemDetails","e2e"],[3,"extension","entityPresenceStateType","isConferenceActive"]],template:function(e,t){1&e&&(l.F$t(),l.TgZ(0,"div",0),l.NdJ("debounceDblClick",function(){return t.onCall(t.callItem)}),l._UZ(1,"svg-avatar",1),l.YNc(2,De,1,3,"busy-lamp-field",2),l.TgZ(3,"div",3),l._UZ(4,"call-item-details",4),l.Hsn(5),l.qZA(),l.qZA()),2&e&&(l.Q6J("itemHoverbox",!1)("contextMenuSection",null==t.callItemConfig||null==t.callItemConfig.contextMenu?null:t.callItemConfig.contextMenu.contextMenuSection)("isContextMenuDisabled",null==t.callItem?null:t.callItem.isContextMenuDisabled)("context-menu",t.callItem)("isDebounceDblClickDisabled",null==t.callItem?null:t.callItem.isDebounceDblClickDisabled),l.uIk("data-e2e",t.e2e||null),l.xp6(1),l.Q6J("displayName",null==t.callItem?null:t.callItem.name)("forceShowIcon",null==t.callItemConfig?null:t.callItemConfig.avatar.forceShowIcon)("iconName",(null==t.callItem||null==t.callItem.avatarIcon?null:t.callItem.avatarIcon.iconName)||"contact")("bgColor",(null==t.callItemConfig||null==t.callItemConfig.avatar?null:t.callItemConfig.avatar.bgColor)||"svg-wrapper--bg")("isAdmin",null==t.callItem||null==t.callItem.avatarIcon?null:t.callItem.avatarIcon.isAdmin)("isInitialsHidden",null==t.callItem||null==t.callItem.avatarIcon?null:t.callItem.avatarIcon.isInitialsHidden)("e2e",t.e2e||null),l.xp6(1),l.Q6J("ngIf",null==t.callItemConfig||null==t.callItemConfig.presenceState?null:t.callItemConfig.presenceState.isBlf),l.xp6(1),l.Gre("call-item-container__item-details call-item-container--",(null==t.callItemConfig||null==t.callItemConfig.details?null:t.callItemConfig.details.rowSize)||"medium",""),l.Q6J("ngClass",l.VKq(22,Ze,null==t.callItemConfig?null:t.callItemConfig.isItemBordered)),l.xp6(1),l.Q6J("ngClass",l.WLB(24,Fe,t.isDisabled,!(null!=t.callItemConfig&&null!=t.callItemConfig.details&&t.callItemConfig.details.isBtnInfoHidden)))("item",t.callItem)("callItemDetails",null==t.callItemConfig?null:t.callItemConfig.details)("e2e",t.e2e))},directives:[te.h,Pe.l,Ae.I,Ie.T,K.O5,K.mk,Ne,Re.K],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.call-item-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;width:100%}.call-item-container__alignment[_ngcontent-%COMP%]{align-self:center;display:flex;height:100%;width:100%}.call-item-container__item-alignment[_ngcontent-%COMP%]{width:90%}.call-item-container__item-details[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;width:100%}.call-item-container__item-border[_ngcontent-%COMP%]{border-bottom:.1rem solid #e5e5e5}.call-item-container--medium[_ngcontent-%COMP%]{font-size:1.8rem;height:7.5rem}.call-item-container--small[_ngcontent-%COMP%]{font-size:1.6rem;height:5.7rem}.call-item-container--disabled[_ngcontent-%COMP%]{color:#b2b2b2}"]}),e}(),Be=n(51095),He=n(12126),Ye=n(55821),Ve=n(63743);function Je(e,t){1&e&&l._UZ(0,"svg-avatar-drag-target",11)}function Qe(e,t){1&e&&l._UZ(0,"app-svg-icon",12)}function ze(e,t){1&e&&l._UZ(0,"app-svg-icon",13)}function Ge(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(e){l.CHM(n);var t=l.oxw().$implicit,i=l.oxw(2);return e.stopPropagation(),i.goToConferenceDetailsPage(t)}),l._UZ(1,"app-svg-icon",15),l.TgZ(2,"hoverbox"),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.qZA()}2&e&&(l.xp6(3),l.hij(" ",l.lcZ(4,1,"conference.open_conference")," "))}function We(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",3),l.NdJ("cdkDragMoved",function(){return l.CHM(n),l.oxw(2).onDragStart()})("cdkDragDropped",function(){return l.CHM(n),l.oxw(2).onDragEnd()})("contextmenu",function(e){var t=l.CHM(n).$implicit;return l.oxw(2).contextMenu(t,e)})("debounceDblClick",function(){var e=l.CHM(n).$implicit;return l.oxw(2).call(e)})("scrolled",function(){return l.CHM(n),l.oxw(2).onLazyLoadingCalls()}),l.YNc(1,Je,1,0,"svg-avatar-drag-target",4),l.TgZ(2,"call-item-container",5),l.TgZ(3,"div",6),l.TgZ(4,"button",7),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw(2).handleClick(e)}),l.YNc(5,Qe,1,0,"app-svg-icon",8),l.YNc(6,ze,1,0,"ng-template",null,9,l.W1O),l.qZA(),l.YNc(8,Ge,5,3,"button",10),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.MAs(7),a=l.oxw(2);l.Q6J("cdkDragData",i)("infiniteScrollContainer",a.scrollContainerSelector)("infiniteScrollDisabled",!a.hasMoreData||a.isLoading)("infiniteScrollThrottle",50)("scrollWindow",!1),l.xp6(2),l.Q6J("callItem",null==i?null:i.callItem)("callItemConfigKey",a.conferenceSearchConfigKey),l.xp6(3),l.Q6J("ngIf",!a.subscribedTo(i))("ngIfElse",r),l.xp6(3),l.Q6J("ngIf",a.subscribedTo(i))}}function $e(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"search-group",1),l.NdJ("loadMore",function(){return l.CHM(n),l.oxw().onLoadMore()}),l.ALo(1,"translate"),l.YNc(2,We,9,10,"div",2),l.qZA()}if(2&e){var i=l.oxw();l.Q6J("showLoading",i.isLoadMore&&i.isLoading)("title",l.lcZ(1,5,"search-result.conference-available.title"))("cdkDropListData",i.items)("cdkDropListConnectedTo",i.dropZoneNames),l.xp6(2),l.Q6J("ngForOf",i.items)}}var Ke=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o,s,c,l,u,f,d){var h;return _classCallCheck2(this,n),(h=t.call(this,e,i,a,o)).clickToDialService=e,h.sipService=i,h.conferenceService=r,h.logger=a,h.callTrackerService=o,h.dialog=s,h.router=c,h.conferenceHelper=l,h.conferencesEventStreamService=u,h.searchService=f,h.dropZoneService=d,h.ngUnsubscribe=new A.xQ,h.type=P.V.CONFERENCE_AVAILABLE,h.page=0,h.pageInitValue=0,h.dragIcons=[],h.dropZoneNames=h.dropZoneService.getDropZones(),h.conferenceSearchConfigKey=me.CONFERENCE_SEARCH,h.dragIcons=["conference_call_solid"],h.conferencesEventStreamService.init(),h.initConferencesEvents(),h}return _createClass2(n,[{key:"ngOnDestroy",value:function(){this.conferencesEventStreamService.close(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"mapData",value:function(e){return this.mapConference(e)}},{key:"contextMenu",value:function(e,t){this.onContextMenu(this.mapConference(e),t)}},{key:"call",value:function(e){e instanceof pe.i?this.conferenceHelper.callByPreferredDevice(e):this.onCall(this.mapConference(e)),this.searchService.clearSearch()}},{key:"subscribedTo",value:function(e){return e instanceof pe.i}},{key:"onDragStart",value:function(){this.dropZoneService.onDragStart()}},{key:"onDragEnd",value:function(){this.dropZoneService.onDragEnd()}},{key:"handleClick",value:function(e){e instanceof he.U&&this.toggleEnterPin(e),e instanceof pe.i&&this.viewConferenceInfo(e)}},{key:"viewConferenceInfo",value:function(e){this.dialog.open(fe,{autoFocus:!1,data:e})}},{key:"toggleEnterPin",value:function(e){this.dialog.open(de.b,{data:{conference:e}})}},{key:"goToConferenceDetailsPage",value:function(e){this.router.navigate(["/main/conference/details/".concat(e.serviceNumber)])}},{key:"mapConference",value:function(e){return Object.assign(Object.assign({},e),{type:I.i.CONFERENCE_AVAILABLE,conferenceSubscription:e})}},{key:"load",value:function(){var e=this;this.isLoading=!0,this.loadRequest=this.conferenceService.getCombinedList({page:this.page,pageSize:this.getPerPage(),search:this.searchString}).pipe((0,w.P)(),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.appendItems(e.getMappedConferenceSubscriptions(t)),e.updateHasMoreData(t.length),e.loaded.emit(t.length),e.page++},function(){e.loaded.emit(0),e.updateHasMoreData(0),e.isLoading=!1},function(){e.isLoading=!1})}},{key:"initConferencesEvents",value:function(){var e=this;this.conferenceService.conferenceSubscription$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&e.items.length&&e.reload()}),this.conferenceService.audioConferenceSubscriber$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&e.reload()}),this.conferencesEventStreamService.addMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.updateConferenceMemberCount.bind(this)),this.conferencesEventStreamService.deleteMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.updateConferenceMemberCount.bind(this))}},{key:"reload",value:function(){this.reset(!0),this.load()}},{key:"updateConferenceMemberCount",value:function(e){this.conferenceHelper.updateCountOnUpdate(e,this.items)}},{key:"getMappedConferenceSubscriptions",value:function(e){return(null==e?void 0:e.length)?(e.forEach(function(e){e.callItem={id:"",name:e.displayName||"",number:e.number||"",timestamp:0,isPresenceStateActive:e.memberCount>0,isContextMenuDisabled:!0,isDebounceDblClickDisabled:!0,avatarIcon:{iconName:"conference_call_solid",isAdmin:e instanceof pe.i&&"admin"===e.role}}}),e):[]}}]),n}(T.g);return e.\u0275fac=function(t){return new(t||e)(l.Y36(L.q),l.Y36(be.y),l.Y36(ye.K),l.Y36(z.Kf),l.Y36(N.k),l.Y36(O.uw),l.Y36(i.F0),l.Y36(Y._),l.Y36(_e.i),l.Y36(Ce.o),l.Y36(ke.b))},e.\u0275cmp=l.Xpm({type:e,selectors:[["conference-available-group"]],features:[l.qOj],decls:1,vars:1,consts:[["class","conference-subscriptions","e2e","search-result-fragment__conference-available","cdkDropList","",3,"showLoading","title","cdkDropListData","cdkDropListConnectedTo","loadMore",4,"ngIf"],["e2e","search-result-fragment__conference-available","cdkDropList","",1,"conference-subscriptions",3,"showLoading","title","cdkDropListData","cdkDropListConnectedTo","loadMore"],["cdkDrag","","class","flexible-list__item","infinite-scroll","","itemHoverbox","","data-e2e","search-result-fragment__conference-available-list-element",3,"cdkDragData","infiniteScrollContainer","infiniteScrollDisabled","infiniteScrollThrottle","scrollWindow","cdkDragMoved","cdkDragDropped","contextmenu","debounceDblClick","scrolled",4,"ngFor","ngForOf"],["cdkDrag","","infinite-scroll","","itemHoverbox","","data-e2e","search-result-fragment__conference-available-list-element",1,"flexible-list__item",3,"cdkDragData","infiniteScrollContainer","infiniteScrollDisabled","infiniteScrollThrottle","scrollWindow","cdkDragMoved","cdkDragDropped","contextmenu","debounceDblClick","scrolled"],["iconName","conference_call_solid",4,"cdkDragPreview"],["e2e","search-result-fragment__conference-available-list",1,"conference-user-subscribed-list__call-item-container",3,"callItem","callItemConfigKey"],[1,"flexible-list__item__actions"],["mat-icon-button","","type","button",1,"flexible-list__item__info-button",3,"click"],["icon","add","size","small","data-e2e","search-result-fragment__conference-available-add--button",4,"ngIf","ngIfElse"],["subscribed",""],["class","go-to-details","appHoverbox","","mat-icon-button","",3,"click",4,"ngIf"],["iconName","conference_call_solid"],["icon","add","size","small","data-e2e","search-result-fragment__conference-available-add--button"],["icon","info","size","small","data-e2e","search-result-fragment__conference-available-info--button"],["appHoverbox","","mat-icon-button","",1,"go-to-details",3,"click"],["fill","button-color","icon","group","size","small","data-e2e","search-result-fragment__conference-available-group--button"]],template:function(e,t){1&e&&l.YNc(0,$e,3,7,"search-group",0),2&e&&l.Q6J("ngIf",t.items.length||t.isLoadMore&&t.isLoading)},directives:[K.O5,Se.g,xe.Wj,K.sg,xe.Zt,a.R,te.h,Ae.I,xe.pV,qe,Be.lW,He.g,ne.u,Ye.r,Ve.B],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.telephone__contacts-list--narrow[_nghost-%COMP%]   .conference-user-subscribed-list__call-item-container[_ngcontent-%COMP%], .telephone__contacts-list--narrow   [_nghost-%COMP%]   .conference-user-subscribed-list__call-item-container[_ngcontent-%COMP%]{padding-right:0}.flexible-list__item[_ngcontent-%COMP%]{position:relative}.flexible-list__item[_ngcontent-%COMP%]:hover   .go-to-details[_ngcontent-%COMP%]{display:block}.flexible-list__item[_ngcontent-%COMP%]   .go-to-details[_ngcontent-%COMP%]{display:none}.flexible-list__item__actions[_ngcontent-%COMP%]{display:flex;flex:0 1 auto}.flexible-list__item__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.8rem;margin-right:.8rem}.conference-user-subscribed-list__call-item-container[_ngcontent-%COMP%]{padding-right:.8rem;width:100%}"]}),e}(),Xe=n(48431),et=n(99385),tt=n(73432),nt=n(96780),it=n(17490),rt=n(93949),at=n(91557),ot=n(83205),st=n(67267);function ct(e,t){if(1&e&&(l.TgZ(0,"div",9),l.TgZ(1,"span",6),l._uU(2),l.qZA(),l.qZA()),2&e){var n=l.oxw();l.xp6(2),l.Oqu(n.item.trunk)}}var lt=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o,s,c){var l;return _classCallCheck2(this,n),(l=t.call(this,r,a,e,o)).dialogRef=e,l.data=i,l.snackBarService=r,l.clickToDialService=a,l.callTrackerService=o,l.meetingService=s,l.callService=c,l.ngUnsubscribe=new A.xQ,l.contactType="",l.displayExtension="",l.isCallingEnabled=!1,l.meetingLinkId=null,l}return _createClass2(n,[{key:"ngOnInit",value:function(){var e,t,n,i;this.displayExtension=(null===(e=this.item)||void 0===e?void 0:e.meetingLink)||(null===(t=this.item)||void 0===t?void 0:t.extension)||(null===(n=this.item)||void 0===n?void 0:n.display_num),this.meetingLinkId=st.D.parseHistoryCallItemRemoteForMeetingId(null===(i=this.item)||void 0===i?void 0:i.extension),this.setContactType(),this.checkMeeting()}},{key:"closeModalAndStartCall",value:function(){var e={name:this.item.display_name||this.item.display_num,number:this.item.extension||this.item.display_num};this.item.crmConnectName&&(e.crmConnectName=this.item.crmConnectName),this.closeModal(this.dialogRef),this.callService.makeCall(this.item.extension,e)}},{key:"callMeeting",value:function(){this.meetingService.tryToJoinMeeting(this.meetingLinkId),this.dialogRef.close()}},{key:"makeCall",value:function(){this.meetingLinkId?this.callMeeting():this.closeModalAndStartCall()}},{key:"checkMeeting",value:function(){var e=this;this.meetingLinkId?this.meetingService.resolveLink(this.meetingLinkId).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){return e.isCallingEnabled=!0},function(){return e.isCallingEnabled=!1}):this.isCallingEnabled=!0}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"setContactType",value:function(){var e;this.contactType="contacts.phone",this.item&&this.item.discriminator&&this.item.discriminator===it.v.VIRTUALFAXEXTENSION&&(this.contactType="contacts.fax"),(null===(e=this.item)||void 0===e?void 0:e.meetingLink)&&(this.contactType="contacts.meeting")}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(l.Y36(O.so),l.Y36(O.WI),l.Y36(E.c),l.Y36(L.q),l.Y36(N.k),l.Y36(st.D),l.Y36(Me.M))},e.\u0275cmp=l.Xpm({type:e,selectors:[["callable-modal-row"]],inputs:{item:"item",e2e:"e2e"},features:[l.qOj],decls:12,vars:11,consts:[[1,"container"],["contextMenuSection","callable-modal","itemHoverbox","",1,"call-record-container",3,"context-menu","click"],[1,"icon-column"],["fill","callable-modal-row-color","icon","call","size","small"],[1,"title-column","item-content"],["ellipsisTitle","",1,"extension"],[1,"title"],["class","trunk-column item-content",4,"ngIf"],["tooltipText","contacts.copy_to_clipboard",1,"callable-modal-row__copy-button",3,"textToCopy","click"],[1,"trunk-column","item-content"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.NdJ("click",function(){return t.makeCall()}),l.TgZ(2,"div",2),l._UZ(3,"app-svg-icon",3),l.qZA(),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l._uU(6),l.qZA(),l.TgZ(7,"span",6),l._uU(8),l.ALo(9,"translate"),l.qZA(),l.qZA(),l.YNc(10,ct,3,1,"div",7),l.TgZ(11,"copy-to-clipboard-button",8),l.NdJ("click",function(e){return e.stopPropagation()}),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.ekj("callable-modal-row--disabled",!t.isCallingEnabled),l.xp6(1),l.Q6J("context-menu",t.item),l.xp6(4),l.uIk("data-e2e",t.e2e?t.e2e+"__extension":null),l.xp6(1),l.hij(" ",t.displayExtension," "),l.xp6(2),l.hij("\xa0\u2022 ",l.lcZ(9,9,t.contactType)," "),l.xp6(2),l.Q6J("ngIf",null==t.item?null:t.item.trunk),l.xp6(1),l.Q6J("textToCopy",t.displayExtension),l.uIk("data-e2e",t.e2e?t.e2e+"__copy-to-clipboard--button":null))},directives:[te.h,Pe.l,ne.u,Oe.w,K.O5,ie.v],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.container[_ngcontent-%COMP%]{padding-bottom:.8rem;padding-top:.8rem}.container[_ngcontent-%COMP%]:hover   .extension[_ngcontent-%COMP%]{max-width:80%}.container[_ngcontent-%COMP%]:hover   .title-column[_ngcontent-%COMP%]{max-width:78%}.call-record-container[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;flex-flow:row wrap;min-height:4.8rem;width:100%}.call-record-container[_ngcontent-%COMP%]:not(.call-info):hover   .title[_ngcontent-%COMP%], .call-record-container[_ngcontent-%COMP%]:not(.call-info):hover   .extension[_ngcontent-%COMP%]{color:#000}.icon-column[_ngcontent-%COMP%]{margin-left:1rem;width:9.6rem}.title-column[_ngcontent-%COMP%]{flex-grow:3}.trunk-column[_ngcontent-%COMP%]{flex-grow:1}.item-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:1.8rem}.title[_ngcontent-%COMP%]{color:#999}.callable-modal-row__copy-button[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]:not(.callable-modal-row--disabled):hover   .callable-modal-row__copy-button[_ngcontent-%COMP%]{display:block}.callable-modal-row--disabled[_ngcontent-%COMP%]{pointer-events:none}.callable-modal-row--disabled[_ngcontent-%COMP%]   .extension[_ngcontent-%COMP%]{color:#b5b5b5}"]}),e}(),ut=n(3679),ft=n(90980),dt=n(98295),ht=n(83166),pt=n(85499),gt=n(42070);function mt(e,t){1&e&&(l.TgZ(0,"mat-hint",8),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"contacts.contact_name.error.required")," "))}var vt=function(e){return{maxlength:e}};function bt(e,t){if(1&e&&(l.TgZ(0,"mat-hint",8),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.hij(" ",l.xi3(2,1,"contacts.contact_name.error.maxlength",l.VKq(4,vt,null==n.form.controls.displayName.errors||null==n.form.controls.displayName.errors.maxlength?null:n.form.controls.displayName.errors.maxlength.requiredLength))," ")}}function yt(e,t){1&e&&(l.TgZ(0,"mat-hint",8),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"contacts.contact_number.error.required")," "))}function _t(e,t){1&e&&(l.TgZ(0,"mat-hint",8),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"contacts.contact_number.error.invalid")," "))}function Ct(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"form",1),l.NdJ("ngSubmit",function(){l.CHM(n);var e=l.oxw();return e.form.valid&&e.save()}),l.TgZ(1,"div",2),l._UZ(2,"svg-avatar"),l.TgZ(3,"mat-form-field"),l.TgZ(4,"label"),l._UZ(5,"input",3),l.ALo(6,"translate"),l.qZA(),l.YNc(7,mt,3,3,"mat-hint",4),l.YNc(8,bt,3,6,"mat-hint",4),l.qZA(),l.qZA(),l.TgZ(9,"div",2),l._UZ(10,"app-svg-icon",5),l.TgZ(11,"mat-form-field"),l.TgZ(12,"label"),l._UZ(13,"input",6),l.ALo(14,"translate"),l.qZA(),l.YNc(15,yt,3,3,"mat-hint",4),l.YNc(16,_t,3,3,"mat-hint",4),l.qZA(),l.qZA(),l.TgZ(17,"footer-actions",7),l.NdJ("cancelClick",function(){return l.CHM(n),l.oxw().cancel()}),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.Q6J("formGroup",i.form),l.xp6(5),l.Q6J("focus",!0)("placeholder",l.lcZ(6,12,"contacts.contact_name.label")),l.uIk("data-e2e",i.e2e?i.e2e+"__name--input":null),l.xp6(2),l.Q6J("ngIf",!i.form.controls.displayName.value),l.xp6(1),l.Q6J("ngIf",i.form.controls.displayName.hasError("maxlength")&&i.form.controls.displayName.touched),l.xp6(5),l.Q6J("placeholder",l.lcZ(14,14,"contacts.contact_number.label")),l.uIk("data-e2e",i.e2e?i.e2e+"__number--input":null),l.xp6(2),l.Q6J("ngIf",i.form.controls.displayNumber.hasError("required")&&i.form.controls.displayNumber.touched),l.xp6(1),l.Q6J("ngIf",i.form.controls.displayNumber.hasError("invalidPhoneNumber")),l.xp6(1),l.Q6J("saveDisabled",!i.form.valid)("e2e",i.e2e?i.e2e:null)}}var kt=function(){var e=function(){function e(){_classCallCheck2(this,e),this._item=new nt.e,this.itemChange=new l.vpe(!0),this.isSubmitted=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.form=new ut.cw({displayName:new ut.NI(this.item.displayName,ut.kI.compose([ut.kI.required,ut.kI.maxLength(50)])),displayNumber:new ut.NI(this.item.displayNumber,ut.kI.compose([ut.kI.required,ft.b.international_e123()]))})}},{key:"cancel",value:function(){this.cancelFn()}},{key:"save",value:function(){this.saveFn(this.form.value)}},{key:"onChange",value:function(){var e=this;setTimeout(function(){var t=e.form.value;e.item.displayName=t.displayName,e.item.displayNumber=t.displayNumber,e.itemChange.emit(e.item)})}},{key:"item",get:function(){return this._item},set:function(e){e&&e.displayNumber&&(e.displayNumber=e.displayNumber.replace(/\s/g,"")),this._item=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["contact-form"]],inputs:{errors:"errors",saveFn:"saveFn",cancelFn:"cancelFn",e2e:"e2e",item:"item"},outputs:{itemChange:"itemChange"},decls:1,vars:1,consts:[["class","contact-form","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","",1,"contact-form",3,"formGroup","ngSubmit"],[1,"new-contact__input-container"],["formControlName","displayName","matInput","","maxlength","50","type","text",3,"focus","placeholder"],["class","mat-hint--error",4,"ngIf"],["fill","main-bg-color","icon","call","size","small"],["formControlName","displayNumber","matInput","","type","text",3,"placeholder"],[3,"saveDisabled","e2e","cancelClick"],[1,"mat-hint--error"]],template:function(e,t){1&e&&l.YNc(0,Ct,18,16,"form",0),2&e&&l.Q6J("ngIf",!t.isSubmitted)},directives:[K.O5,ut._Y,ut.JL,ut.sg,Ie.T,dt.KE,ut.Fj,ht.Nt,ut.JJ,ut.u,ut.nD,pt.R,ne.u,gt.c,dt.bx],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.hide-module[_ngcontent-%COMP%]{display:none!important}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.mat-form-field.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-size:1.6rem;margin-top:1rem}.mat-form-field-label[_ngcontent-%COMP%]{font-size:1.8rem}mat-form-field[_ngcontent-%COMP%]{flex:1;width:100%}mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:disabled{color:#00000061}.mat-form-field-label-wrapper[_ngcontent-%COMP%]{top:-1.44375em}.mat-form-field-infix[_ngcontent-%COMP%]{padding:.5rem 0}form[_ngcontent-%COMP%]{margin:2rem}.new-contact__input-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row}svg-avatar[_ngcontent-%COMP%]{flex-basis:5rem}app-svg-icon[_ngcontent-%COMP%]{display:flex;flex-basis:6rem;justify-content:center}"]}),e}();function St(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",6),l.TgZ(1,"user-modal-header",7),l.NdJ("onDeleteClick",function(){return l.CHM(n),l.oxw().deleteContact()})("onEditClick",function(){return l.CHM(n),l.oxw().editContact()}),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("isHiddenBtnDelete",!i.isPrivateContact)("isHiddenBtnEdit",!i.isPrivateContact)("isBusyLampFieldHidden",i.isExternal)("item",i.modalHeaderInfo)}}function xt(e,t){1&e&&(l.TgZ(0,"header",8),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"contacts.edit-contact")))}function At(e,t){if(1&e&&(l.TgZ(0,"section"),l._UZ(1,"callable-modal-row",9),l.qZA()),2&e){var n=l.oxw();l.xp6(1),l.Q6J("item",n.modalHeaderInfo)}}function wt(e,t){if(1&e&&l._UZ(0,"contact-form",10),2&e){var n=l.oxw();l.Q6J("cancelFn",n.cancel)("errors",n.errors)("item",n.item)("saveFn",n.save)}}var Mt=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o,s,c){var l;return _classCallCheck2(this,n),(l=t.call(this,o,s,i,e)).callTrackerService=e,l.dialogRef=i,l.data=r,l.phoneBookService=a,l.snackBarService=o,l.clickToDialService=s,l.mainService=c,l.item=new nt.e,l.isEdit=!1,l.isPrivateContact=!1,l.modalHeaderInfo={extension:"",display_name:"",trunk:"",discriminator:""},l.bind(),l}return _createClass2(n,[{key:"ngOnInit",value:function(){this.loadContact()}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"loadContact",value:function(){this.data?(this.buildPhoneBookItem(),this.buildModalHeaderInfo(),this.isPrivateContact="1"===this.item.isPrivate):(this.onError("contacts.not_retrieved"),this.cancel())}},{key:"editContact",value:function(){this.isEdit=!0}},{key:"deleteContact",value:function(){var e=this;this.phoneBookService.deleteContact(this.item.id).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){e.snackBarService.openInfo("contacts.deleted",!0),e.dialogRef.close({deleted:!0}),e.data.type&&e.phoneBookService.reloadItems(e.data.type===tt.n.GLOBAL)},this.handleError.bind(this))}},{key:"save",value:function(e){var t=this;this.snackBarService.open("contacts.saving"),this.phoneBookService.editContact(this.item.id,e).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){t.handleSuccess(t.item,"contacts.saved")},this.handleError.bind(this))}},{key:"cancel",value:function(){this.closeModal(this.dialogRef)}},{key:"handleSuccess",value:function(e,t){_get(_getPrototypeOf(n.prototype),"onSuccess",this).call(this,t,this.dialogRef),this.data.type&&this.phoneBookService.reloadItems(this.data.type===tt.n.GLOBAL)}},{key:"handleError",value:function(e){_get(_getPrototypeOf(n.prototype),"onError",this).call(this,"contacts.error"),e&&e.error&&e.error.errors&&(this.errors=e.error.errors)}},{key:"bind",value:function(){this.cancel=this.cancel.bind(this),this.save=this.save.bind(this)}},{key:"buildPhoneBookItem",value:function(){this.item.displayName=this.data.contact.name||"",this.item.displayNumber=this.data.contact.number||"",this.item.extensionNumber=this.data.contact.itemSubTitle||"",this.item.discriminator=this.data.contact.discriminator||"",this.item.id=this.data.contact.id||"",this.item.isPrivate=this.data.contact.isPrivate||""}},{key:"buildModalHeaderInfo",value:function(){this.modalHeaderInfo={display_name:this.item.displayName||"",discriminator:this.item.discriminator||"",extension:this.item.extensionNumber||this.item.displayNumber||"",trunk:"",crmConnectName:this.data.crmConnectName}}},{key:"isExternal",get:function(){return this.data.contact.discriminator===it.v.EXTERNAL}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(l.Y36(N.k),l.Y36(O.so),l.Y36(O.WI),l.Y36(rt.$),l.Y36(E.c),l.Y36(L.q),l.Y36(at.J))},e.\u0275cmp=l.Xpm({type:e,selectors:[["contact-info"]],features:[l.qOj],decls:6,vars:5,consts:[["data-e2e","contact-info-modal-fragment"],["class","extended-header","modal-header","",4,"ngIf"],["class","simple-header","modal-header","",4,"ngIf"],["loading-area-indicator","","modal-content","",3,"loadingAreaIndicatorActive"],[4,"ngIf"],["e2e","contact-modal-fragment",3,"cancelFn","errors","item","saveFn",4,"ngIf"],["modal-header","",1,"extended-header"],["e2e","user-modal-fragment",3,"isHiddenBtnDelete","isHiddenBtnEdit","isBusyLampFieldHidden","item","onDeleteClick","onEditClick"],["modal-header","",1,"simple-header"],["e2e","contact-info-modal-fragment",3,"item"],["e2e","contact-modal-fragment",3,"cancelFn","errors","item","saveFn"]],template:function(e,t){1&e&&(l.TgZ(0,"modal-details-container",0),l.YNc(1,St,2,4,"div",1),l.YNc(2,xt,3,3,"header",2),l.TgZ(3,"div",3),l.YNc(4,At,2,1,"section",4),l.YNc(5,wt,1,4,"contact-form",5),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",!t.isEdit&&t.item),l.xp6(1),l.Q6J("ngIf",t.isEdit),l.xp6(1),l.Q6J("loadingAreaIndicatorActive",t.isLoading),l.xp6(1),l.Q6J("ngIf",!t.isEdit&&t.item),l.xp6(1),l.Q6J("ngIf",t.isEdit))},directives:[$,K.O5,X.O,ot.j,lt,kt],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.simple-header[_ngcontent-%COMP%]{align-items:center;background-color:#e5e5e5;display:flex;flex-direction:row;font-size:1.8rem;padding:.8rem 2.4rem}"]}),e}(),Tt=n(66698),Pt=n(78023);function It(e,t){if(1&e&&l._UZ(0,"svg-avatar-drag-target",6),2&e){var n=l.oxw().$implicit;l.Q6J("displayName",n.name)}}function Ot(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",2),l.NdJ("cdkDragMoved",function(){return l.CHM(n),l.oxw().onDragStart()})("cdkDragDropped",function(){return l.CHM(n),l.oxw().onDragEnd()}),l.YNc(1,It,1,1,"svg-avatar-drag-target",3),l.TgZ(2,"call-item-container",4),l.TgZ(3,"app-button",5),l.NdJ("appButtonClick",function(){var e=l.CHM(n).$implicit;return l.oxw().openCrmConnectInfoDialog(e)}),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw();l.Q6J("cdkDragData",i),l.xp6(2),l.Q6J("callItem",i)("callItemConfigKey",r.crmConnectConfigKey)}}var jt=function(){var e=function(){function e(t,n,i){_classCallCheck2(this,e),this.dialog=t,this.crmConnectService=n,this.dropZoneService=i,this.type=P.V.CRM_CONNECT,this.ngUnsubscribe=new A.xQ,this.loadMore=!1,this.loaded=new l.vpe(!0),this.loadedMore=new l.vpe,this.searchString="",this.dragIcons=[],this.crmConnectCallItems=[],this.isLoading=!1,this.isLoadingMore=!1,this.page=1,this.pageInitValue=1,this.hasMoreData=!1,this.dropZoneNames=this.dropZoneService.getDropZones(),this.crmConnectConfigKey=me.CRM_CONNECT}return _createClass2(e,[{key:"ngOnChanges",value:function(e){var t="loadMore"in e,n="search"in e,i="selectedType"in e;e.selectedType&&(this.selectedType=e.selectedType.currentValue),n&&(this.searchString=e.search.currentValue),t&&e.loadMore.currentValue?this.onLoadMore():this.searchString&&(n||i)&&(this.reset(t),this.loadCrmConnectSearchResults())}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"onLoadMore",value:function(){this.isLoadingMore||(this.loadedMore.emit(this.type),this.isLoadingMore=!0,this.page=this.pageInitValue,this.loadCrmConnectSearchResults())}},{key:"onDragStart",value:function(){this.dropZoneService.onDragStart()}},{key:"onDragEnd",value:function(){this.dropZoneService.onDragEnd()}},{key:"dragIconElementByDisplayName",value:function(e){var t=this,n=this.dragIconElements.find(function(n){return n.nativeElement.innerText===t.displayNameShortened(e).replace(/\s/g,"")});return n&&n.nativeElement}},{key:"dragIconElementByIconName",value:function(e){var t=this.dragIconElements.find(function(t){return t.nativeElement.classList.contains(e)});return t&&t.nativeElement}},{key:"openCrmConnectInfoDialog",value:function(e){this.dialog.open(Mt,{autoFocus:!1,data:{contact:e,type:e.isPrivate,crmConnectName:e.crmConnectName}})}},{key:"reset",value:function(e){e&&(this.isLoadingMore=!1),this.crmConnectCallItems=[],this.isLoading=!1,this.hasMoreData=!1,this.page=this.pageInitValue,this.loadRequest&&this.loadRequest.unsubscribe()}},{key:"loadCrmConnectSearchResults",value:function(){var e=this;this.crmConnectService.getCurrentAvailableStatus()&&this.crmConnectService.searchInCrm(this.searchString).pipe((0,Xe.K)(function(t){return e.isLoading=t}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.crmConnectCallItems=e.filterAndMapCrmConnectSearchResults(t),e.setDragIcons()})}},{key:"setDragIcons",value:function(){this.dragIcons=this.getUniqueInitials(this.crmConnectCallItems)}},{key:"getUniqueInitials",value:function(e){var t=this;return _toConsumableArray2(new Set((e||[]).map(function(e){return e.name&&t.displayNameShortened(e.name)})))}},{key:"filterAndMapCrmConnectSearchResults",value:function(e){var t=this;return e.filter(function(e){return e.crmConnectName===t.selectedType.toString().split("_")[1]}).map(function(e){return e.results.map(function(e){return t.getMappedCallItem(e,t.selectedType.toString())})})[0]}},{key:"displayNameShortened",value:function(e){var t=(0,et.Cx)(e)||"";return t.length>1&&(t="".concat(t[0]," ").concat(t[1])),t}},{key:"getMappedCallItem",value:function(e,t){return{id:"",number:e.phoneNumber.phone,crmConnectName:t.split("_")[1],crmConnectLink:e.actionId,name:this.formatContactName(e),itemSubTitle:"",timestamp:0,duration:0}}},{key:"formatContactName",value:function(e){var t=e.name,n=e.phoneNumber.type;return n=(n=(n||"").replace(/[_$!<>]/g,""))?" (".concat(n,")"):"","".concat(t).concat(n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(O.uw),l.Y36(Tt.a),l.Y36(ke.b))},e.\u0275cmp=l.Xpm({type:e,selectors:[["crm-connect-group"]],viewQuery:function(e,t){var n;(1&e&&l.Gf(He.g,5,l.SBq),2&e)&&(l.iGM(n=l.CRH())&&(t.dragIconElements=n))},inputs:{dndEnabled:"dndEnabled",scrollContainerSelector:"scrollContainerSelector",search:"search",loadMore:"loadMore",selectedType:"selectedType"},outputs:{loaded:"loaded",loadedMore:"loadedMore"},features:[l.TTD],decls:2,vars:8,consts:[["loading-area-indicator","","infinite-scroll","","cdkDropList","",1,"flexible-list","call-history__items",3,"loadingAreaIndicatorActive","infiniteScrollContainer","infiniteScrollThrottle","infiniteScrollDisabled","scrollWindow","cdkDropListData","cdkDropListConnectedTo"],["cdkDrag","","class","flexible-list__item","itemHoverbox","",3,"cdkDragData","cdkDragMoved","cdkDragDropped",4,"ngFor","ngForOf"],["cdkDrag","","itemHoverbox","",1,"flexible-list__item",3,"cdkDragData","cdkDragMoved","cdkDragDropped"],[3,"displayName",4,"cdkDragPreview"],["e2e","search-result-fragment__extension-list-element",1,"crm-connect-group__item-container",3,"callItem","callItemConfigKey"],["iconName","info","data-e2e","search-result-fragment__extension-list-element-info",1,"crm-connect-group__info-button",3,"appButtonClick"],[3,"displayName"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,Ot,4,3,"div",1),l.qZA()),2&e&&(l.Q6J("loadingAreaIndicatorActive",t.isLoading)("infiniteScrollContainer",t.scrollContainerSelector)("infiniteScrollThrottle",50)("infiniteScrollDisabled",!t.hasMoreData||t.isLoading)("scrollWindow",!1)("cdkDropListData",t.crmConnectCallItems)("cdkDropListConnectedTo",t.dropZoneNames),l.xp6(1),l.Q6J("ngForOf",t.crmConnectCallItems))},directives:[X.O,a.R,xe.Wj,K.sg,xe.Zt,te.h,xe.pV,qe,Pt.V,He.g],styles:[".crm-connect-group__item-container[_ngcontent-%COMP%]{width:100%}.crm-connect-group__item-container[_ngcontent-%COMP%]:hover   .crm-connect-group__info-button[_ngcontent-%COMP%]{display:block}.crm-connect-group__info-button[_ngcontent-%COMP%]{display:none}"]}),e}(),Et=n(88002),Lt=n(9941);function Nt(e,t){if(1&e&&l._UZ(0,"svg-avatar-drag-target",6),2&e){var n=l.oxw().$implicit;l.Q6J("displayName",n.name)}}function Rt(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",2),l.NdJ("cdkDragMoved",function(){return l.CHM(n),l.oxw().onDragStart()})("cdkDragDropped",function(){return l.CHM(n),l.oxw().onDragEnd()}),l.YNc(1,Nt,1,1,"svg-avatar-drag-target",3),l.TgZ(2,"call-item-container",4),l.TgZ(3,"app-button",5),l.NdJ("appButtonClick",function(){var e=l.CHM(n).$implicit;return l.oxw().openInfoDialog(e)}),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw();l.Q6J("cdkDragData",i),l.xp6(2),l.Q6J("callItem",i)("callItemConfigKey",r.callItemConfigKey)}}var Dt=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.dropZoneService=t,this.dialog=n,this.callItems=[],this.dropZoneNames=this.dropZoneService.getDropZones(),this.callItemConfigKey=me.SEARCH}return _createClass2(e,[{key:"onDragStart",value:function(){this.dropZoneService.onDragStart()}},{key:"onDragEnd",value:function(){this.dropZoneService.onDragEnd()}},{key:"openInfoDialog",value:function(e){this.dialog.open(Mt,{autoFocus:!1,data:{contact:e,type:e.isPrivate}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(ke.b),l.Y36(O.uw))},e.\u0275cmp=l.Xpm({type:e,selectors:[["call-items"]],inputs:{callItems:"callItems",e2e:"e2e"},decls:2,vars:3,consts:[["cdkDropList","",3,"cdkDropListData","cdkDropListConnectedTo"],["cdkDrag","","class","flexible-list__item","itemHoverbox","",3,"cdkDragData","cdkDragMoved","cdkDragDropped",4,"ngFor","ngForOf"],["cdkDrag","","itemHoverbox","",1,"flexible-list__item",3,"cdkDragData","cdkDragMoved","cdkDragDropped"],[3,"displayName",4,"cdkDragPreview"],["e2e","search-result-fragment",1,"call-items__item-container",3,"callItem","callItemConfigKey"],["iconName","info","e2e","search-result-fragment__info",1,"call-items__info-button",3,"appButtonClick"],[3,"displayName"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,Rt,4,3,"div",1),l.qZA()),2&e&&(l.Q6J("cdkDropListData",t.callItems)("cdkDropListConnectedTo",t.dropZoneNames),l.xp6(1),l.Q6J("ngForOf",t.callItems))},directives:[xe.Wj,K.sg,xe.Zt,te.h,xe.pV,qe,Pt.V,He.g],styles:[".call-items__item-container[_ngcontent-%COMP%]:hover   .call-items__info-button[_ngcontent-%COMP%]{display:block}.call-items__info-button[_ngcontent-%COMP%]{display:none}"]}),e}(),Zt=function(){var e=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.extensionsService=t,this.dialog=n,this.phoneBookService=i,this.dropZoneService=r,this.pageSize=25,this.type=P.V.EXTENSION,this.ngUnsubscribe=new A.xQ,this.loadMore=!1,this.loaded=new l.vpe(!0),this.loadedMore=new l.vpe,this.searchString="",this.callItems=[],this.isGroupTabSelected=!1,this.isLoading=!1,this.isLoadMore=!1,this.page=1,this.pageInitValue=1,this.hasMoreData=!1,this.dropZoneNames=this.dropZoneService.getDropZones()}return _createClass2(e,[{key:"ngOnChanges",value:function(e){var t="loadMore"in e,n="search"in e,i="selectedType"in e;e.selectedType&&(this.selectedType=e.selectedType.currentValue,this.checkIsGroupTabSelected()),n&&(this.searchString=e.search.currentValue),t&&e.loadMore.currentValue?this.onLoadMore():this.searchString&&(n||i)&&(this.reset(t),this.loadCallItems())}},{key:"onDragStart",value:function(){this.dropZoneService.onDragStart()}},{key:"onDragEnd",value:function(){this.dropZoneService.onDragEnd()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"mapData",value:function(e){return this.mapItem(e)}},{key:"onLoadMore",value:function(){this.isLoadMore||(this.loadedMore.emit(this.type),this.isLoadMore=!0,this.page=this.pageInitValue,this.loadCallItems())}},{key:"openDetails",value:function(e){this.dialog.open(Mt,{autoFocus:!1,data:{contact:e,type:e.isPrivate}})}},{key:"reset",value:function(e){e&&(this.isLoadMore=!1),this.callItems=[],this.isLoading=!1,this.hasMoreData=!1,this.page=this.pageInitValue,this.loadRequest&&this.loadRequest.unsubscribe()}},{key:"loadCallItems",value:function(){this.isLoading=!0,this.selectedType===P.V.EXTENSION||this.selectedType===P.V.GROUP?this.loadExtensionGroup():this.loadContacts()}},{key:"checkIsGroupTabSelected",value:function(){this.isGroupTabSelected=this.selectedType===P.V.GROUP}},{key:"loadExtensionGroup",value:function(){var e=this;this.loadRequest=this.extensionsService.getCallItemResult(this.searchString,this.page,this.pageSize,this.selectedType).pipe((0,Et.U)(function(t){return t.map(function(t){return e.getMappedExtensionGroupCallItem(t)})}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.processCallItemsDataOnSubscribe(t)},function(){e.loaded.emit(0),e.isLoading=!1},function(){e.isLoading=!1})}},{key:"loadContacts",value:function(){var e=this;this.loadRequest=this.phoneBookService.get(tt.n.GLOBAL,this.page,this.pageSize,this.searchString).pipe((0,Et.U)(function(t){return t.data.map(function(t){return e.getMappedContactCallItem(t)})}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.processCallItemsDataOnSubscribe(t)},function(){e.loaded.emit(0),e.isLoading=!1},function(){e.isLoading=!1})}},{key:"processCallItemsDataOnSubscribe",value:function(e){this.processCallItems(e),this.updatePaginationAndLoadingState(e.length)}},{key:"updatePaginationAndLoadingState",value:function(e){this.updateHasMoreData(e),this.isLoading=!1,this.page++}},{key:"emitCallItemAmount",value:function(e){this.loaded.emit(e)}},{key:"appendCallItems",value:function(e){Array.prototype.push.apply(this.callItems,e)}},{key:"processCallItems",value:function(e){this.isLoadMore&&this.page===this.pageInitValue?this.callItems=e:this.appendCallItems(e),this.emitCallItemAmount(e.length)}},{key:"updateHasMoreData",value:function(e){this.hasMoreData="number"==typeof e?e>=this.pageSize:e}},{key:"mapItem",value:function(e){return Object.assign(Object.assign({},e),{type:I.i.PHONE_EXTENSION})}},{key:"getMappedContactCallItem",value:function(e){return{id:e.id||"",name:e.displayName||e.extensionNumber||"",number:e.displayNumber||"",timestamp:0,duration:0,discriminator:e.discriminator||"",itemSubTitle:e.extensionNumber||"",isPrivate:tt.n.GLOBAL}}},{key:"getMappedExtensionGroupCallItem",value:function(e){return{id:e.id||"",name:e.displayName||e.extensionNumber||"",number:e.extensionNumber||"",timestamp:0,duration:0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Lt.X),l.Y36(O.uw),l.Y36(rt.$),l.Y36(ke.b))},e.\u0275cmp=l.Xpm({type:e,selectors:[["extension-group"]],inputs:{dndEnabled:"dndEnabled",scrollContainerSelector:"scrollContainerSelector",search:"search",loadMore:"loadMore",selectedType:"selectedType"},outputs:{loaded:"loaded",loadedMore:"loadedMore"},features:[l.TTD],decls:2,vars:6,consts:[["loading-area-indicator","","infinite-scroll","",1,"flexible-list","call-history__items",3,"loadingAreaIndicatorActive","infiniteScrollContainer","infiniteScrollDisabled","infiniteScrollThrottle","scrollWindow","scrolled"],[3,"callItems"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.NdJ("scrolled",function(){return t.loadCallItems()}),l._UZ(1,"call-items",1),l.qZA()),2&e&&(l.Q6J("loadingAreaIndicatorActive",t.isLoading)("infiniteScrollContainer",t.scrollContainerSelector)("infiniteScrollDisabled",!t.hasMoreData||t.isLoading)("infiniteScrollThrottle",50)("scrollWindow",!1),l.xp6(1),l.Q6J("callItems",t.callItems))},directives:[X.O,a.R,Dt],encapsulation:2}),e}(),Ft=function(){return(e=Ft||(Ft={})).GROUP_SERVICE="GROUPSERVICE",e.SKILL_SERVICE="SKILLSERVICE",e.QUEUE_SERVICE="QUEUESERVICE",Ft;var e}(),Ut=function(){return(e=Ut||(Ut={})).QUEUE="Queue",e.SKILL="Skill",e.GROUP="Group",e.REDIRECTED="Redirected",e.LOCAL_WITHOUT_DISCRIMINATOR="Local",e.NORMAL="Normal",e.MEETING="Meeting",Ut;var e}(),qt=function(){var e=function(){function e(){_classCallCheck2(this,e),this.meetingPrefix="meeting:",this.minValidMeetingIdLength=this.meetingPrefix.length+1}return _createClass2(e,[{key:"transform",value:function(e){if(this.isMeeting(e))return Ut.MEETING;if(this.isRedirectedCall(e))return Ut.REDIRECTED;if(e.local_discriminator)switch(e.local_discriminator){case Ft.GROUP_SERVICE:return Ut.GROUP;case Ft.SKILL_SERVICE:return Ut.SKILL;case Ft.QUEUE_SERVICE:return Ut.QUEUE}else if(e.local)return Ut.LOCAL_WITHOUT_DISCRIMINATOR;return Ut.NORMAL}},{key:"isMeeting",value:function(e){var t;return!!(null===(t=null==e?void 0:e.remote)||void 0===t?void 0:t.includes(this.meetingPrefix))&&e.remote.length>=this.minValidMeetingIdLength}},{key:"isRedirectedCall",value:function(e){return!!e.refer}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=l.Yjl({name:"callHistoryCallType",type:e,pure:!0}),e}(),Bt=n(67856);function Ht(e,t){1&e&&(l.TgZ(0,"span",18),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"history.redirected_by"),": "))}function Yt(e,t){if(1&e&&(l.TgZ(0,"li",7),l.TgZ(1,"span",10),l._UZ(2,"svg-wrapper",15),l.YNc(3,Ht,3,3,"span",16),l.TgZ(4,"span",17),l._uU(5),l.ALo(6,"referLocalPipe"),l.ALo(7,"referLocalPipe"),l.qZA(),l.qZA(),l.qZA()),2&e){var n=l.oxw(2);l.xp6(2),l.Q6J("iconName",n.iconName),l.xp6(1),l.Q6J("ngIf",n.isRedirectedCall),l.xp6(1),l.ekj("call-history-info-modal__refer-local-name",n.isRedirectedCall),l.xp6(1),l.hij(" ",l.xi3(6,5,n.callHistoryCallItem,"name")||l.xi3(7,8,n.callHistoryCallItem,"number")," ")}}function Vt(e,t){1&e&&(l.TgZ(0,"span",19),l._UZ(1,"app-svg-icon",20),l.qZA())}function Jt(e,t){if(1&e&&(l.TgZ(0,"span",21),l._uU(1),l.ALo(2,"time"),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.Oqu(l.lcZ(2,1,n.callHistoryCallItem.duration))}}function Qt(e,t){if(1&e&&(l.TgZ(0,"section"),l.TgZ(1,"ul",5),l.YNc(2,Yt,8,11,"li",6),l.ALo(3,"referLocalPipe"),l.TgZ(4,"li",7),l.TgZ(5,"span",8),l._UZ(6,"app-svg-icon",9),l.qZA(),l.TgZ(7,"span",10),l.TgZ(8,"span",11),l._uU(9),l.ALo(10,"date"),l.qZA(),l.YNc(11,Vt,2,0,"span",12),l.YNc(12,Jt,3,3,"span",13),l.qZA(),l.qZA(),l.qZA(),l._UZ(13,"callable-modal-row",14),l.qZA()),2&e){var n=l.oxw();l.xp6(2),l.Q6J("ngIf",l.xi3(3,7,n.callHistoryCallItem,"number")),l.xp6(4),l.Q6J("fill",n.directionIconColorClass)("icon",n.directionIconName),l.xp6(3),l.hij(" ",l.xi3(10,10,1e3*(null==n.callHistoryCallItem?null:n.callHistoryCallItem.timestamp),"dd.MM.yyyy, H:mm")," "),l.xp6(2),l.Q6J("ngIf",null==n.callHistoryCallItem?null:n.callHistoryCallItem.duration),l.xp6(1),l.Q6J("ngIf",null==n.callHistoryCallItem?null:n.callHistoryCallItem.duration),l.xp6(1),l.Q6J("item",n.modalHeaderInfo)}}var zt=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o,s,c){var l;return _classCallCheck2(this,n),(l=t.call(this,a,o,r,s)).callRecordService=e,l.callHistoryCallTypePipe=i,l.dialogRef=r,l.snackBarService=a,l.clickToDialService=o,l.callTrackerService=s,l.callHistoryCallItem=c,l.ngUnsubscribe=new A.xQ,l.directionIconName="call_incoming",l.directionIconColorClass="",l.isRedirectedCall=!1,l}return _createClass2(n,[{key:"ngOnInit",value:function(){this.mapToModalHeaderInfo(),this.setCallDirectionIcon(),this.callHistoryCallType=this.callHistoryCallTypePipe.transform(this.callHistoryCallItem),this.isRedirectedCall=this.callHistoryCallType===Ut.REDIRECTED,this.setIconName(this.callHistoryCallType)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"deleteCallHistoryItemByTimeStamp",value:function(){var e=this,t=this.callHistoryCallItem.timestamp.toString();this.callRecordService.deleteCallHistoryItemByTimeStamp(t).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){_get(_getPrototypeOf(n.prototype),"onSuccess",e).call(e,"history.item_deleted",e.dialogRef)},function(){_get(_getPrototypeOf(n.prototype),"onError",e).call(e,"call.error")})}},{key:"mapToModalHeaderInfo",value:function(){var e;this.modalHeaderInfo={display_name:this.callHistoryCallItem.name||"",extension:this.callHistoryCallItem.number||"",discriminator:this.callHistoryCallItem.local_discriminator||"",trunk:"",meetingLink:st.D.getMeetingLinkForHistoryCallItem(null===(e=this.callHistoryCallItem)||void 0===e?void 0:e.number)}}},{key:"setCallDirectionIcon",value:function(){var e=this.callHistoryCallItem.direction;this.directionIconName=e.name||"",this.directionIconColorClass=(null==e?void 0:e.color)||""}},{key:"setIconName",value:function(e){switch(e){case Ut.GROUP:this.iconName="group";break;case Ut.SKILL:this.iconName="skill";break;case Ut.QUEUE:this.iconName="queue";break;default:this.iconName="contact"}}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(l.Y36(Bt.g),l.Y36(qt),l.Y36(O.so),l.Y36(E.c),l.Y36(L.q),l.Y36(N.k),l.Y36(O.WI))},e.\u0275cmp=l.Xpm({type:e,selectors:[["call-history-info-modal"]],features:[l.qOj],decls:5,vars:3,consts:[["data-e2e","call-history-info-modal-fragment"],["modal-header",""],["e2e","call-history-info-modal-fragment",3,"isHiddenBtnDelete","item","onDeleteClick"],["modal-content",""],[4,"ngIf"],[1,"call-history-info-modal__details","details-list"],["class","item info-item call-info",4,"ngIf"],[1,"item","info-item","call-info"],[1,"item-label"],["size","small",3,"fill","icon"],[1,"item-content"],["data-e2e","call-history-info-modal-fragment__date",1,"item-primary-content"],["class","item-secondary-content",4,"ngIf"],["class","item-secondary-content","data-e2e","call-history-info-modal-fragment__duration",4,"ngIf"],["e2e","call-history-info-modal-fragment",3,"item"],["iconColor","user-info__avatar--color","size","medium",1,"item-label",3,"iconName"],["class","item-additional-content__reason",4,"ngIf"],["data-e2e","call-history-info-modal-fragment__redirected-by-number",1,"item-additional-content__name"],[1,"item-additional-content__reason"],[1,"item-secondary-content"],["fill","main-bg-color","icon","timer","size","small"],["data-e2e","call-history-info-modal-fragment__duration",1,"item-secondary-content"]],template:function(e,t){1&e&&(l.TgZ(0,"modal-details-container",0),l.TgZ(1,"div",1),l.TgZ(2,"user-modal-header",2),l.NdJ("onDeleteClick",function(){return t.deleteCallHistoryItemByTimeStamp()}),l.qZA(),l.qZA(),l.TgZ(3,"div",3),l.YNc(4,Qt,14,13,"section",4),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("isHiddenBtnDelete",!1)("item",t.modalHeaderInfo),l.xp6(2),l.Q6J("ngIf",t.callHistoryCallItem))},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.call-history-info-modal__details[_ngcontent-%COMP%]{border:.1rem solid #e5e5e5;list-style:none;margin:0;padding:.8rem}.call-history-info-modal__avatar[_ngcontent-%COMP%]{margin:0}.call-history-info-modal__refer-local-name[_ngcontent-%COMP%]{margin-left:.5rem}"]}),e}(),Gt=n(7908),Wt=n(28123),$t=n(27663),Kt=n(78345),Xt=n(45435),en=n(87519),tn=n(68307),nn=n(71289),rn=n(43190),an=n(64531),on=n(36853),sn=n(17685),cn=n(11740),ln=n(9112),un=n(28859),fn=n(8225),dn=n(88640),hn=function(){var e=function(){function e(t,n,i,r,a){var o=this;_classCallCheck2(this,e),this.telephonyOfflineService=t,this.userService=n,this.devicesService=i,this.logger=r,this.localUserConfigService=a,(0,ln.aj)([this.localUserConfigService.userConfig$,this.telephonyOfflineService.isOnline$,this.userService.userInfo$]).subscribe(function(e){var t=_slicedToArray2(e,3),n=t[0],i=t[1];t[2]&&n.isWelcomeSound&&i&&o.playWelcomeMelody()})}return _createClass2(e,[{key:"getAudioDestination",value:function(){var e,t;return(null===(t=null===(e=this.devicesService)||void 0===e?void 0:e.loadStoredAudioOutputDevice())||void 0===t?void 0:t.deviceId)||""}},{key:"initWelcomeMelody",value:function(){this.audioElement=new Audio,this.audioElement.src="assets/audio/nFon_Logo.wav",this.audioElement.volume=.25}},{key:"playWelcomeMelody",value:function(){this.initWelcomeMelody(),cn.W.attachSinkId(this.audioElement,this.getAudioDestination(),this.logger),this.audioElement.play()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(un.l),l.LFG(J.K),l.LFG(fn.I),l.LFG(z.Kf),l.LFG(dn.i))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e}(),pn=n(45323),gn=n(16936),mn=n(86363),vn=n(25917),bn=n(92937),yn=function(){return(e=yn||(yn={}))[e.CONNECTING=0]="CONNECTING",e[e.IS_CONNECTED=1]="IS_CONNECTED",e[e.CLOSED=2]="CLOSED",yn;var e}(),_n=function(){var e=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.userService=t,this.digestInterceptor=n,this.tokenService=i,this.liteModeService=r,this.callRecordEventStreamUrl="".concat(F.N.VOICE_CONTROL_URL,"/callrecords/events"),this.eventStreamMessageSource=new A.xQ,this.eventStreamMessage$=this.eventStreamMessageSource.asObservable(),this.listenForLogout()}return _createClass2(e,[{key:"initCallRecordEventStream",value:function(){var e,t;(!(null===(e=this.eventSource)||void 0===e?void 0:e.readyState)||(null===(t=this.eventSource)||void 0===t?void 0:t.readyState)===yn.CLOSED)&&this.reinitializeEventStreamOnUserChange()}},{key:"closeCallRecordEventStream",value:function(){var e;null===(e=this.eventSource)||void 0===e||e.close()}},{key:"listenForLogout",value:function(){var e=this;this.tokenService.token$.pipe((0,Xt.h)(function(e){return!e})).subscribe(function(){e.closeCallRecordEventStream()})}},{key:"getCallRecordEventStream",value:function(){var e,t=this;return(null===(e=this.eventSource)||void 0===e?void 0:e.readyState)===yn.IS_CONNECTED&&this.closeCallRecordEventStream(),this.digestInterceptor.getDigestAuthorizationHeaderValue(this.callRecordEventStreamUrl,"GET").pipe((0,Et.U)(function(e){return t.getCallRecordEventStreamSource(e)}))}},{key:"handleCallRecordStreamEvents",value:function(e){var t=this;e.onmessage=function(e){var n=JSON.parse(e.data);t.eventStreamMessageSource.next(n)},e.onerror=this.closeCallRecordEventStream}},{key:"getCallRecordEventStreamSource",value:function(e){return new D.g(this.callRecordEventStreamUrl,{interval:2e3,headers:{Authorization:e}})}},{key:"reinitializeEventStreamOnUserChange",value:function(){var e=this;this.userService.userInfo$.pipe((0,Xt.h)(function(e){return!!e}),(0,w.P)(),(0,rn.w)(function(){return(0,mn.s)(function(){return!e.liteModeService.isLiteMode()},e.getCallRecordEventStream(),(0,vn.of)(null))})).subscribe(function(t){e.eventSource=t,t?e.handleCallRecordStreamEvents(t):e.closeCallRecordEventStream()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(J.K),l.LFG(U.L),l.LFG(bn.B),l.LFG(B.v))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Cn=n(39075),kn=n(69317),Sn=n(34280),xn=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var a;return _classCallCheck2(this,n),(a=t.call(this,e,i)).translateService=e,a.electronRichCallNotificationService=i,a.logger=r,a.listenForBeforeUnloadEvents(),a}return _createClass2(n,[{key:"showTelephonyOfflineNotification",value:function(){var e=this;if("denied"===Notification.permission)return this.logger.info("Telephony offline notification is not shown, because browser notification permission is denied for this page.");this.telephonyOfflineNotification=this.getTelephonyOfflineNotification(),this.telephonyOfflineNotification.onclick=function(){kn.g.focusWindowAndCloseNotification(e.telephonyOfflineNotification)}}},{key:"closeTelephonyOfflineNotification",value:function(){this.telephonyOfflineNotification&&this.closeNotification()}},{key:"closeNotification",value:function(){kn.g.closeNotification(this.telephonyOfflineNotification)}},{key:"getTelephonyOfflineNotification",value:function(){var e={body:_get(_getPrototypeOf(n.prototype),"getInstantTranslation",this).call(this,"notification.telephony_offline.body"),requireInteraction:!0};return new Notification(_get(_getPrototypeOf(n.prototype),"getInstantTranslation",this).call(this,"notification.telephony_offline.title"),e)}},{key:"listenForBeforeUnloadEvents",value:function(){var e=this;window.onbeforeunload=function(){e.telephonyOfflineNotification&&e.closeTelephonyOfflineNotification()}}}]),n}(kn.g);return e.\u0275fac=function(t){return new(t||e)(l.LFG(_.sK),l.LFG(Sn.I),l.LFG(z.Kf))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e}(),An=n(51948),wn=n(86900),Mn=n(75282),Tn=n(96987),Pn=n(64300),In=n(27355),On=n(725),jn=n(90780),En=n(43982),Ln=n(26411),Nn=n(26215),Rn=n(39761),Dn=n(47349),Zn=n(49090),Fn=n(72413),Un=function(){var e=function(){function e(t,n,i,r,a,o,s,c,l,u){var f=this;_classCallCheck2(this,e),this.snackBarService=t,this.sipService=n,this.router=i,this.userService=r,this.preferredDeviceService=a,this.electronService=o,this.clickToDialService=s,this.callStreamService=c,this.emergencyCountryModalService=l,this.callTrackerService=u,this.clickToDialProgressSource=new Nn.X({}),this.crmConnectCallNumberSource=new A.xQ,this.outgoingCallData=null,this.eventUuid="",this.currentOutgoingNumber="",this.assertedIdentity$=this.sipService.receivedUserNameFromSipSubscriber$.pipe((0,Rn.O)(null),(0,en.x)(function(e,t){return(null==e?void 0:e.number)===(null==t?void 0:t.number)})),this.isTelephonyOnline$=(0,ln.aj)([this.sipService.telephonyOffline$,this.electronService.onDesktopAppMicrophonePermissionChange$.pipe((0,Rn.O)(!1))]).pipe((0,Et.U)(function(e){var t=_slicedToArray2(e,2),n=t[0],i=t[1];return!(n||i)})),this.outgoingCall$=(0,ln.aj)([this.callTrackerService.outgoingCall$,this.isTelephonyOnline$]).pipe((0,Et.U)(function(e){var t=_slicedToArray2(e,2),n=t[0],i=t[1];return!f.userService.isMobilityOptionEnabled()&&n?n:n&&!i?(f.snackBarService.openInfo("telephony_offline.error_call_title"),null):n}),(0,Dn.d)(1)),this.showOutgoingCall$=(0,ln.aj)([this.isTelephonyOnline$,this.outgoingCall$]).pipe((0,Et.U)(function(e){var t=_slicedToArray2(e,2),n=t[0],i=t[1];return!!i&&!f.userService.isMobilityOptionEnabled()||n&&!!i}),(0,en.x)()),this.outgoingCallInitializer$=this.outgoingCall$.pipe((0,tn.b)(function(e){var t;f.outgoingCallData=e,f.currentOutgoingNumber=null===(t=null==e?void 0:e.details)||void 0===t?void 0:t.number}),(0,en.x)(function(e,t){return!!e==!!t}),(0,Et.U)(function(e){return!!e}),(0,Kt.B)()),this.outgoingCallEnds$=this.outgoingCallInitializer$.pipe((0,Xt.h)(function(e){return!e})),this.clickToDialProgress$=this.clickToDialProgressSource.asObservable(),this.crmConnectCallNumber$=this.crmConnectCallNumberSource.asObservable(),this.addObservers(),this.outgoingCallInitializer$.subscribe(function(e){e&&(f.router.navigate(["/main/telephone"]),f.initializeOutgoingCall())})}return _createClass2(e,[{key:"endOutgoingCall",value:function(){this.endCall()}},{key:"setCrmConnectCallNumber",value:function(e){this.crmConnectCallNumberSource.next(e)}},{key:"initializeOutgoingCall",value:function(){var e,t,n,i,r,a,o=this;if(this.eventUuid=(0,et.lY)(),this.userService.userInfo$.pipe((0,Xt.h)(function(e){return!!e}),(0,w.P)()).subscribe(function(e){var t,n,i,r,a;if(null===(t=null==e?void 0:e.modules)||void 0===t?void 0:t.includes("phone")){if(!o.sipService.isSIPInitialized()&&!(null===(n=o.outgoingCallData)||void 0===n?void 0:n.isClickToDial))return void setTimeout(function(){o.onClose()})}else if((null===(r=null===(i=o.outgoingCallData)||void 0===i?void 0:i.details)||void 0===r?void 0:r.number)&&o.emergencyCountryModalService.isEmergencyNumber(null===(a=o.outgoingCallData.details)||void 0===a?void 0:a.number))return o.onClose(),o.emergencyCountryModalService.emitNotAllowedToCallEmergencyNumbers()}),null===(e=this.outgoingCallData)||void 0===e?void 0:e.isClickToDial){if(!this.outgoingCallData.isPreferred)return void this.startProgress();this.preferredDeviceService.preferredDevice$.pipe((0,w.P)()).subscribe(function(e){var t,n,i,r,a,s;o.preferredDevice=e,o.setPreferredDevice(),(null===(t=o.outgoingCallData)||void 0===t?void 0:t.isClickToDial)?o.startProgress():o.sipCallId=o.sipService.initSIPCall(null===(i=null===(n=o.outgoingCallData)||void 0===n?void 0:n.details)||void 0===i?void 0:i.number,null===(a=null===(r=o.outgoingCallData)||void 0===r?void 0:r.details)||void 0===a?void 0:a.name,null===(s=o.outgoingCallData)||void 0===s?void 0:s.extraHeaders)})}else this.sipCallId=this.sipService.initSIPCall(null===(n=null===(t=this.outgoingCallData)||void 0===t?void 0:t.details)||void 0===n?void 0:n.number,null===(r=null===(i=this.outgoingCallData)||void 0===i?void 0:i.details)||void 0===r?void 0:r.name,null===(a=this.outgoingCallData)||void 0===a?void 0:a.extraHeaders)}},{key:"onClose",value:function(){this.callTrackerService.endOutgoingCall()}},{key:"endCall",value:function(){this.initializeCallRequest&&this.initializeCallRequest.unsubscribe(),this.outgoingCallData&&!this.outgoingCallData.isClickToDial?this.callTrackerService.terminateCall(this.sipCallId):this.cancelClickToDialOutgoingCall(),this.callTrackerService.endOutgoingCall(),this.outgoingCallData=null,this.currentOutgoingNumber=""}},{key:"cancelClickToDialOutgoingCall",value:function(){this.updateClickToDialProgress({isWaitingForCaller:!1}),this.clickToDialService.cancelCall(this.eventUuid).subscribe()}},{key:"startProgress",value:function(){var e,t,n,i,r,a,o,s,c,l=this;this.updateClickToDialProgress({isWaitingForCaller:!0}),(null===(t=null===(e=this.outgoingCallData)||void 0===e?void 0:e.caller)||void 0===t?void 0:t.number)&&(null===(i=null===(n=this.outgoingCallData)||void 0===n?void 0:n.details)||void 0===i?void 0:i.number)&&(this.updateClickToDialProgress({isWaitingForCaller:!0}),this.callStreamService.initCallStream().pipe((0,M.R)(this.outgoingCallEnds$)).subscribe(),this.initializeCallRequest=this.clickToDialService.initializeCall(null===(a=null===(r=this.outgoingCallData)||void 0===r?void 0:r.caller)||void 0===a?void 0:a.number,null===(s=null===(o=this.outgoingCallData)||void 0===o?void 0:o.details)||void 0===s?void 0:s.number,this.eventUuid,null===(c=this.outgoingCallData)||void 0===c?void 0:c.role).subscribe(function(e){if("success"!==e.response)return l.callTrackerService.endOutgoingCall(),void l.showCallEndSnackBar()},function(){l.callTrackerService.endOutgoingCall(),l.showCallEndSnackBar()}))}},{key:"setPreferredDevice",value:function(){!this.outgoingCallData||(this.outgoingCallData.isClickToDial=this.preferredDevice.type!==Gt.Y.UC_CLIENT&&this.preferredDevice.type!==Gt.Y.CALL_THROUGH,this.outgoingCallData.caller={name:this.preferredDevice.name||null,number:this.preferredDevice.number||null},this.callTrackerService.makeCall(this.outgoingCallData))}},{key:"addObservers",value:function(){var e=this;this.callStreamService.proceeding$.subscribe(function(t){!e.isValidEvent(t)||e.updateClickToDialProgress({isWaitingForCallee:!0})}),this.callStreamService.hangup$.subscribe(function(t){!e.isValidEvent(t)||(e.updateClickToDialProgress({isWaitingForCallee:!1,hasCalleeAnswer:!1}),e.callTrackerService.endOutgoingCall(),e.showCallEndSnackBar())}),this.callStreamService.connected$.subscribe(function(t){!e.isValidEvent(t)||(e.updateClickToDialProgress({isWaitingForCallee:!1,hasCalleeAnswer:!0}),e.callTrackerService.endOutgoingCall())}),this.callStreamService.originateProceeding$.subscribe(function(t){e.callTrackerService.endOutgoingCall(),e.isValidEvent(t)&&e.updateClickToDialProgress({isWaitingForCaller:!1,hasCallerAnswer:!0})}),this.callStreamService.originateFailed$.subscribe(function(){e.endCall()})}},{key:"isValidEvent",value:function(e){return this.eventUuid===e["call-originate-uuid"]}},{key:"showCallEndSnackBar",value:function(){this.snackBarService.openInfo("call-modal.call-ended")}},{key:"updateClickToDialProgress",value:function(e){this.clickToDialProgressSource.next(Object.assign(Object.assign({},this.clickToDialProgressSource.value),e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(E.c),l.LFG(be.y),l.LFG(i.F0),l.LFG(J.K),l.LFG(Q._),l.LFG(On.d),l.LFG(L.q),l.LFG(Zn.s),l.LFG(Fn.F),l.LFG(N.k))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),qn=n(15666),Bn=n(1933),Hn=n(86752),Yn=n(68513),Vn=n(86970),Jn=function(){var e=function(){function e(t,n,i,r,a,o,s,c,l){_classCallCheck2(this,e),this.electronService=t,this.callForwardingService=n,this.headerButtonService=i,this.functionKeysService=r,this.electronHelperService=a,this.electronFixSnackBarService=o,this.callTrackerService=s,this.tokenService=c,this.busyLampFieldService=l,this.profiles=[],this.initObservables()}return _createClass2(e,[{key:"updateTrayMenuOnAppStart",value:function(){var e=this;!this.electronService.desktop||(0,ln.aj)([this.callForwardingService.profiles$.pipe((0,Xt.h)(function(e){return!!e})),this.functionKeysService.favouritesList$]).subscribe(function(t){var n=_slicedToArray2(t,2),i=n[0],r=n[1];e.trayMenuChanged({isDndActive:e.headerButtonService.isDndActive(),isRingerActive:e.headerButtonService.isRingerActive(),profiles:e.electronHelperService.prepareCFColors(i),functionKeys:r}),e.updateCFProfiles(i)})}},{key:"onAppLogout",value:function(){this.trayMenuChanged({})}},{key:"trayMenuChanged",value:function(e){this.electronService.isOldApi?this.electronService.ipcRenderer.send("tray-menu-changed",e):this.electronService.electronApi&&this.electronService.electronApi.send("tray-menu-changed",e)}},{key:"initObservables",value:function(){var e=this;!this.electronService.desktop||(this.electronHelperService.initObservables(),this.headerButtonService.onDndStatusChange$.subscribe(function(t){e.trackTrayDnd(t)}),this.headerButtonService.onRingerStatusChange$.subscribe(function(t){e.trackTrayRingerActive(t)}),this.callForwardingService.profiles$.subscribe(function(t){t&&(e.profiles.length&&e.electronHelperService.isProfilesListChanged(e.profiles,t)&&e.onCallForwardingListTrayMenuChange(t),e.updateCFProfiles(t))}),(0,ln.aj)([this.busyLampFieldService.isSecondaryDeviceInUse$,this.callTrackerService.activeCall$]).subscribe(function(t){var n=_slicedToArray2(t,2),i=n[0],r=n[1];e.trackCallPullStatus(i&&!r)}),this.functionKeysService.favouritesList$.subscribe(function(t){e.updateFavouritesList(t)}),this.tokenService.token$.pipe((0,Xt.h)(function(e){return!e})).subscribe(function(){e.onAppLogout()}))}},{key:"updateFavouritesList",value:function(e){!(null==e?void 0:e.length)||(this.electronService.isOldApi?this.electronService.ipcRenderer.send("update-favourites-list",e):this.electronService.electronApi&&this.electronService.electronApi.send("update-favourites-list",e))}},{key:"trackTrayDnd",value:function(e){this.electronService.isOldApi?this.electronService.ipcRenderer.send("change-dnd-status",e):this.electronService.electronApi&&this.electronService.electronApi.send("change-dnd-status",e)}},{key:"trackTrayRingerActive",value:function(e){this.electronService.isOldApi?this.electronService.ipcRenderer.send("change-ringer-status",e):this.electronService.electronApi&&this.electronService.electronApi.send("change-ringer-status",e)}},{key:"trackCallPullStatus",value:function(e){this.showCallPullIcon!==e&&(this.showCallPullIcon=e,this.electronService.isOldApi?this.electronService.ipcRenderer.send("call-pull-available",e):this.electronService.electronApi&&this.electronService.electronApi.send("call-pull-available",e))}},{key:"onCallForwardingListTrayMenuChange",value:function(e){this.electronService.isOldApi?this.electronService.ipcRenderer.send("update-cf-profiles-list",e):this.electronService.electronApi&&this.electronService.electronApi.send("update-cf-profiles-list",e)}},{key:"updateCFProfiles",value:function(e){this.profiles=e,this.electronFixSnackBarService.updateCFList(this.profiles)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(On.d),l.LFG(wn.V),l.LFG(we.d),l.LFG(Hn.f),l.LFG(Yn.t),l.LFG(Vn.l),l.LFG(N.k),l.LFG(bn.B),l.LFG(an.H))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e}(),Qn=n(11569),zn=function(){return(e=zn||(zn={})).WEB="WEB",e.DESKTOP="DESKTOP",zn;var e}(),Gn=n(89973);function Wn(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"li"),l._uU(1),l.ALo(2,"translate"),l.TgZ(3,"a",1),l.NdJ("click",function(){l.CHM(n);var e=l.oxw();return e.openLink(e.noteDescription)}),l._uU(4),l.ALo(5,"translate"),l.qZA(),l._UZ(6,"br"),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.hij(" - ",l.lcZ(2,2,i.noteDescription.description)," "),l.xp6(3),l.hij(" ",l.lcZ(5,4,i.noteDescription.linkText)," ")}}function $n(e,t){if(1&e&&(l.TgZ(0,"li"),l._uU(1),l.ALo(2,"translate"),l._UZ(3,"br"),l.qZA()),2&e){var n=l.oxw();l.xp6(1),l.hij(" - ",l.lcZ(2,1,n.noteDescription.description),"")}}var Kn=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.router=t,this.closeModal=new l.vpe}return _createClass2(e,[{key:"openLink",value:function(e){e.isRouterLink?(this.closeModal.emit(!1),this.router.navigate([e.link])):window.open(e.link,"_blank")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(i.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["release-note-item-description"]],inputs:{noteDescription:"noteDescription"},outputs:{closeModal:"closeModal"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"release-note-item-description__link",3,"click"]],template:function(e,t){1&e&&(l.YNc(0,Wn,7,6,"li",0),l.YNc(1,$n,4,3,"li",0)),2&e&&(l.Q6J("ngIf",t.noteDescription.link),l.xp6(1),l.Q6J("ngIf",!t.noteDescription.link))},directives:[K.O5],pipes:[_.X$],styles:[".release-note-item-description__link[_ngcontent-%COMP%]{color:-webkit-link;cursor:pointer;text-decoration:underline}"]}),e}();function Xn(e,t){if(1&e){var n=l.EpF();l.ynx(0),l.TgZ(1,"release-note-item-description",8),l.NdJ("closeModal",function(e){return l.CHM(n),l.oxw(2).close(e)}),l.qZA(),l.BQk()}if(2&e){var i=t.$implicit;l.xp6(1),l.Q6J("noteDescription",i)}}function ei(e,t){if(1&e&&(l.ynx(0),l.TgZ(1,"ul"),l.TgZ(2,"span",6),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.TgZ(5,"div",7),l.YNc(6,Xn,2,1,"ng-container",4),l.qZA(),l.qZA(),l.BQk()),2&e){var n=t.$implicit;l.xp6(3),l.hij("",l.lcZ(4,2,n.title),":"),l.xp6(3),l.Q6J("ngForOf",n.descriptions)}}var ti=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.dialogRef=t,this.data=n}return _createClass2(e,[{key:"ngOnInit",value:function(){this.data.releaseNotes&&(this.releaseNotes=this.data.releaseNotes,this.releaseNoteTitle=this.data.releaseNoteTitle,this.appVersion=this.data.version,this.appType=this.data.releaseNotes.appType===zn.WEB?"release_note.web_app":"release_note.desktop_app")}},{key:"close",value:function(e){this.dialogRef.close(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(O.so),l.Y36(O.WI))},e.\u0275cmp=l.Xpm({type:e,selectors:[["release-note-modal"]],decls:11,vars:9,consts:[["data-e2e","release-notes-modal-fragment",1,"pickup-call-info__header",3,"title"],[1,"release-note-info-modal__body"],[1,"release-note-info-modal__version-title"],[1,"release-note-info-modal__version"],[4,"ngFor","ngForOf"],["cancelButtonIsHidden","false","btnSaveCaption","release_note.release_note_modal_button","e2e","release-notes-modal-fragment",3,"saveClick"],[1,"release-note-info-modal__description-title"],[1,"release-note-info-modal__description-content"],[3,"noteDescription","closeModal"]],template:function(e,t){1&e&&(l.TgZ(0,"modal-container",0),l.TgZ(1,"div",1),l.TgZ(2,"ul",2),l._uU(3),l.ALo(4,"translate"),l.TgZ(5,"li",3),l._uU(6),l.ALo(7,"translate"),l.qZA(),l._uU(8),l.qZA(),l.YNc(9,ei,7,4,"ng-container",4),l.qZA(),l.TgZ(10,"footer-actions",5),l.NdJ("saveClick",function(){return t.close(!0)}),l.qZA(),l.qZA()),2&e&&(l.Q6J("title",t.releaseNoteTitle),l.xp6(3),l.hij(" ",l.lcZ(4,5,t.appType)," "),l.xp6(3),l.hij("",l.lcZ(7,7,"release_note.current_version"),": "),l.xp6(2),l.hij(" - ",t.appVersion," "),l.xp6(1),l.Q6J("ngForOf",t.releaseNotes.notes))},directives:[Gn.O,K.sg,gt.c,Kn],pipes:[_.X$],styles:["footer-actions[_ngcontent-%COMP%]{margin:2.4rem;padding:0}[_nghost-%COMP%]     header{font-family:Pangram Sans bold,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:3.2rem;margin-left:1.5rem}modal-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{line-height:2.3rem;list-style-type:none}modal-container[_ngcontent-%COMP%]   .release-note-info-modal__body[_ngcontent-%COMP%]{height:35rem;overflow:auto;width:53rem}.release-note-info-modal__version-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:bold}.release-note-info-modal__version[_ngcontent-%COMP%]{line-height:4.5rem;margin-top:1rem}.release-note-info-modal__description-title[_ngcontent-%COMP%]{margin-bottom:2.5rem}.release-note-info-modal__description-content[_ngcontent-%COMP%]{margin:2rem 2rem 2rem 0}"]}),e}(),ni=n(12286),ii=[{releaseTitle:"New Features",description:"I have new feature",notes:[{title:"release_note.web_app_version_1.notes.title_1.title",descriptions:[{description:"release_note.web_app_version_1.notes.title_1.description_1",isRouterLink:!0,linkText:"release_note.linkText",link:""},{description:"release_note.web_app_version_1.notes.title_1.description_2",isRouterLink:!1,linkText:"release_note.linkText",link:""},{description:"release_note.web_app_version_1.notes.title_1.description_3",isRouterLink:!1,link:""},{description:"release_note.web_app_version_1.notes.title_1.description_4",isRouterLink:!1},{description:"release_note.web_app_version_1.notes.title_1.description_5",isRouterLink:!1}],images:["../../../../assets/theme-images/cloudya/logo/mail-logo.png","../../../../assets/theme-images/cloudya/logo/nfon-logo.svg"]}],appType:zn.WEB,appVersion:"1.5.0",appReleaseDate:new Date(2022,8,13).toDateString()},{releaseTitle:"New Features",description:"I have new feature",notes:[],appType:zn.WEB,appVersion:"1.4.22",appReleaseDate:Date()},{releaseTitle:"bug fix",description:"I have new feature",notes:[],appType:zn.DESKTOP,appVersion:"1.2.9",appReleaseDate:Date()},{releaseTitle:"bug fix",description:"I have new feature",notes:[],appType:zn.DESKTOP,appVersion:"1.2.8",appReleaseDate:Date()},{releaseTitle:"bug fix",description:"I have new feature",notes:[{title:"release_note.desktop_app_version_1.notes.title_1.title",descriptions:[{description:"release_note.desktop_app_version_1.notes.title_1.description_1",isRouterLink:!0,linkText:"release_note.linkText",link:""},{description:"release_note.desktop_app_version_1.notes.title_1.description_2",isRouterLink:!1,linkText:"release_note.linkText",link:""},{description:"release_note.desktop_app_version_1.notes.title_1.description_3",isRouterLink:!1,link:""},{description:"release_note.desktop_app_version_1.notes.title_1.description_4",isRouterLink:!1},{description:"release_note.desktop_app_version_1.notes.title_1.description_5",isRouterLink:!1},{description:"release_note.desktop_app_version_1.notes.title_1.description_6",isRouterLink:!1},{description:"release_note.desktop_app_version_1.notes.title_1.description_7",isRouterLink:!1},{description:"release_note.desktop_app_version_1.notes.title_1.description_8",isRouterLink:!1},{description:"release_note.desktop_app_version_1.notes.title_1.description_9",isRouterLink:!1}],images:["../../../../assets/theme-images/cloudya/logo/mail-logo.png","../../../../assets/theme-images/cloudya/logo/nfon-logo.svg"]}],appType:zn.DESKTOP,appVersion:"1.5.0",appReleaseDate:new Date(2022,8,13).toDateString()}],ri=function(){var e=function(){function e(t,n,i,r){var a=this;_classCallCheck2(this,e),this.dialog=t,this.electronService=n,this.translateService=i,this.logger=r,this.isModalOpen=!1,this.isDesktopApp=this.electronService.desktop,this.installedWebApp=ni.k.VERSION.split("-")[0],this.isLocalesLanguageFileLoaded=!1,this.canShowReleaseNoteSource=new Nn.X(!1),this.canShowReleaseNote$=this.canShowReleaseNoteSource.asObservable(),this.canShowReleaseNote$.pipe((0,Xt.h)(function(e){return e})).subscribe(function(){a.toggleReleaseNoteModal()})}return _createClass2(e,[{key:"checkReleaseNotesForApp",value:function(){var e=this;this.loadLocalesFiles().then(function(){e.isDesktopApp?e.checkDesktopAppLastSeenReleaseNote():e.checkWebAppLastSeenReleaseNote()})}},{key:"loadLocalesFiles",value:function(){return function(e,t,n,i){return new(n||(n=Promise))(function(t,r){function a(e){try{s(i.next(e))}catch(t){r(t)}}function o(e){try{s(i.throw(e))}catch(t){r(t)}}function s(e){e.done?t(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,o)}s((i=i.apply(e,[])).next())})}(this,0,void 0,_regeneratorRuntime().mark(function e(){var t,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.translateService.currentLang,e.next=4,n(36896)("./"+t+".js");case 4:i=e.sent,(0,K.qS)(i.default),this.isLocalesLanguageFileLoaded=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.logger.info("Translation file error found for Angular pipes."),this.isLocalesLanguageFileLoaded=!1;case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"filterReleaseNotes",value:function(){if(window.e2e)return ii[0];var e=this.isDesktopApp?zn.DESKTOP:zn.WEB,t=this.getAppVersion();return ii.filter(function(n){return n.appType===e&&t===n.appVersion})[0]}},{key:"checkDesktopAppLastSeenReleaseNote",value:function(){var e=this;this.electronService.getAppVersion().subscribe(function(t){e.installedDesktopApp=t.split("-")[0],e.logger.info("desktop currentVersion: ",e.installedDesktopApp),e.logger.info("desktop notes version: ",e.getLastSeenReleaseNoteVersion()),t!==e.getLastSeenReleaseNoteVersion()&&e.canShowReleaseNoteSource.next(!0)})}},{key:"checkWebAppLastSeenReleaseNote",value:function(){var e=this.installedWebApp;this.logger.info("web currentVersion: ",e),this.logger.info("web notes version: ",this.getLastSeenReleaseNoteVersion()),e!==this.getLastSeenReleaseNoteVersion()&&this.canShowReleaseNoteSource.next(!0)}},{key:"toggleReleaseNoteModal",value:function(){var e=this;if(!this.isModalOpen&&(this.isModalOpen=!0,this.filterReleaseNotes()&&this.filterReleaseNotes().notes.length>0)){var t="".concat(this.translateService.instant("release_note.release_note_modal_title")," ").concat(this.getLocalizedDate(this.filterReleaseNotes().appReleaseDate.toString()));this.logger.info("modal open: ",this.filterReleaseNotes()),this.dialog.open(ti,{autoFocus:!1,data:{releaseNotes:this.filterReleaseNotes(),version:this.getAppVersion(),releaseNoteTitle:t}}).afterClosed().subscribe(function(t){e.isModalOpen=!1,t&&e.cacheLastSeenReleaseNoteVersion()})}}},{key:"cacheLastSeenReleaseNoteVersion",value:function(){localStorage.setItem("lastSeenReleaseNoteVersion",this.getAppVersion())}},{key:"getLastSeenReleaseNoteVersion",value:function(){return localStorage.getItem("lastSeenReleaseNoteVersion")}},{key:"getAppVersion",value:function(){return this.isDesktopApp?this.installedDesktopApp:this.installedWebApp}},{key:"getLocalizedDate",value:function(e){return new K.uU(this.isLocalesLanguageFileLoaded?this.translateService.currentLang:"en").transform(e,"longDate")||""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(O.uw),l.LFG(On.d),l.LFG(_.sK),l.LFG(z.Kf))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e}(),ai=n(27912),oi=n(62782),si=n(20626),ci=n(28235),li=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.callTrackerService=t,this.audioService=n,this.callNotificationSource=new Nn.X({callState:ci.O.IDLE,callDetails:null}),this.callNotification$=this.callNotificationSource.asObservable(),this.userExtension="",this.initSubscriptions()}return _createClass2(e,[{key:"ngOnInit",value:function(){this.audioService.closeAudioContext();var e=this.callNotificationSource.getValue().callState;(e===ci.O.INCOMING||e===ci.O.IDLE)&&this.audioService.ringtone&&this.audioService.ringtone.pause()}},{key:"setCurrentCallNotification",value:function(e,t){this.callNotificationSource.next({callState:e,callDetails:t||null}),this.addRingtone(e)}},{key:"initSubscriptions",value:function(){var e=this;this.callTrackerService.incomingCalls$.subscribe(function(t){t.length?e.setCurrentCallNotification(ci.O.INCOMING):e.addRingtone(ci.O.IDLE)}),this.callTrackerService.endedCall$.subscribe(function(t){e.callNotificationSource.getValue().callState===ci.O.BUSY?setTimeout(function(){return e.callNotificationSource.next({callState:ci.O.IDLE,callDetails:null})},5e3):e.callNotificationSource.next({callState:ci.O.IDLE,callDetails:null}),t&&e.addRingtone(ci.O.IDLE)}),this.callTrackerService.busyCall$.pipe((0,Xt.h)(function(e){return!!e})).subscribe(function(t){e.setCurrentCallNotification(ci.O.BUSY,t)}),this.callTrackerService.failureCall$.pipe((0,Xt.h)(function(e){return!!e})).subscribe(function(t){e.setCurrentCallNotification(ci.O.FAILURE,t)})}},{key:"addRingtone",value:function(e){switch(e){case ci.O.IDLE:this.audioService.ringtone&&this.audioService.ringtone.pause();break;case ci.O.BUSY:this.audioService.initBusy(this.userExtension);break;case ci.O.FAILURE:var t=this.callNotificationSource.getValue();this.audioService.initFailure(t.callDetails,this.userExtension);break;case ci.O.INCOMING:this.audioService.initIncoming();break;default:this.audioService.closeAudioContext()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(N.k),l.LFG(En.Q))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ui=n(54395),fi=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.callNotificationsService=t,this.callTrackerService=n,this.failureCallDataSource=new Nn.X(null),this.failureCallData$=this.failureCallDataSource.asObservable(),this.onCallNotificationChange()}return _createClass2(e,[{key:"closeFailureModal",value:function(){this.failureCallDataSource.next(null)}},{key:"makeCall",value:function(e){this.closeFailureModal(),this.callTrackerService.makeCall(e)}},{key:"onCallNotificationChange",value:function(){var e=this;this.callNotificationsService.callNotification$.pipe((0,Xt.h)(function(e){return e.callState===ci.O.FAILURE}),(0,Et.U)(function(e){return e.callDetails}),(0,tn.b)(function(t){return e.failureCallDataSource.next(t)}),(0,ui.b)(5e3)).subscribe(function(){return e.closeFailureModal()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(li),l.LFG(N.k))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),di=n(14074),hi=function(){var e=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.audioService=t,this.setCallbackOnBusyService=n,this.callNotificationsService=i,this.callTrackerService=r,this.busyCallData$=this.callNotificationsService.callNotification$.pipe((0,Et.U)(function(e){return e.callDetails}))}return _createClass2(e,[{key:"endCall",value:function(){this.audioService.resetBusyTone(),this.callNotificationsService.setCurrentCallNotification(ci.O.IDLE)}},{key:"setCallbackCall",value:function(e){this.audioService.resetBusyTone(),this.callTrackerService.makeCall("*5"),this.setCallbackOnBusyService.setCallbackOnBusy(e),this.callNotificationsService.setCurrentCallNotification(ci.O.IDLE)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(En.Q),l.LFG(di.q),l.LFG(li),l.LFG(N.k))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),pi=["callNotificationItemHeader"],gi=["callNotificationItemContent"],mi=["callNotificationItemFooter"];function vi(e,t){1&e&&(l.TgZ(0,"div",4),l.Hsn(1),l.qZA())}function bi(e,t){1&e&&(l.TgZ(0,"div",5),l.Hsn(1,1),l.qZA())}function yi(e,t){1&e&&(l.TgZ(0,"div",6),l.Hsn(1,2),l.qZA())}var _i=[[["callNotificationItemHeader"]],[["callNotificationItemContent"]],[["callNotificationItemFooter"]]],Ci=["callNotificationItemHeader","callNotificationItemContent","callNotificationItemFooter"],ki=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ngOnInit",value:function(){this.calculateContainerCssClass()}},{key:"calculateContainerCssClass",value:function(){this.classes="call-notification-item--".concat(this.contentLayout)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["call-notification-item"]],contentQueries:function(e,t,n){var i;(1&e&&(l.Suo(n,pi,5),l.Suo(n,gi,5),l.Suo(n,mi,5)),2&e)&&(l.iGM(i=l.CRH())&&(t.header=i.first),l.iGM(i=l.CRH())&&(t.content=i.first),l.iGM(i=l.CRH())&&(t.footer=i.first))},inputs:{contentLayout:"contentLayout"},ngContentSelectors:Ci,decls:4,vars:4,consts:[[1,"call-notification-item",3,"ngClass"],["class","call-notification-item-header",4,"ngIf"],["class","call-notification-item-content","data-e2e","call-notification-fragment",4,"ngIf"],["class","call-notification-item-footer",4,"ngIf"],[1,"call-notification-item-header"],["data-e2e","call-notification-fragment",1,"call-notification-item-content"],[1,"call-notification-item-footer"]],template:function(e,t){1&e&&(l.F$t(_i),l.TgZ(0,"div",0),l.YNc(1,vi,2,0,"div",1),l.YNc(2,bi,2,0,"div",2),l.YNc(3,yi,2,0,"div",3),l.qZA()),2&e&&(l.Q6J("ngClass",t.classes),l.xp6(1),l.Q6J("ngIf",t.header),l.xp6(1),l.Q6J("ngIf",t.content),l.xp6(1),l.Q6J("ngIf",t.footer))},directives:[K.mk,K.O5],styles:[".call-notification-item[_ngcontent-%COMP%]{border-radius:.4rem;box-shadow:0 .3rem .6rem #00000029;margin:.5rem;width:44rem}.call-notification-item-header[_ngcontent-%COMP%]{align-items:center;border-radius:.4rem .4rem 0 0;display:flex;justify-content:center;line-height:1;padding:0;text-align:center}.call-notification-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:2.4rem 1.6rem}.call-notification-item-footer[_ngcontent-%COMP%]{padding:0 1.5rem .5rem}"]}),e}(),Si=n(83897);function xi(e,t){if(1&e&&(l.TgZ(0,"div",17),l._uU(1),l.qZA()),2&e){var n=l.oxw().ngIf;l.xp6(1),l.hij(" ",n.number," ")}}function Ai(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"call-notification-item",1),l.ynx(1,2,3),l.TgZ(3,"div",4),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.BQk(),l.ynx(6,5,6),l.TgZ(8,"div",7),l._UZ(9,"svg-avatar",8),l.qZA(),l.TgZ(10,"div",9),l.TgZ(11,"div",10),l._uU(12),l.qZA(),l.YNc(13,xi,2,1,"div",11),l.qZA(),l.TgZ(14,"div",12),l.TgZ(15,"div",13),l.TgZ(16,"app-button-end-call",14),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().endCall()}),l.qZA(),l.qZA(),l.TgZ(17,"div",15),l.TgZ(18,"app-button",16),l.NdJ("appButtonClick",function(){var e=l.CHM(n).ngIf;return l.oxw().setCallbackCall(e)}),l.qZA(),l.qZA(),l.qZA(),l.BQk(),l.qZA()}if(2&e){var i=t.ngIf;l.xp6(4),l.hij(" ",l.lcZ(5,5,"Busy")," "),l.xp6(8),l.hij(" ",i.name," "),l.xp6(1),l.Q6J("ngIf",i.number),l.xp6(3),l.Q6J("isBackgroundFilled",!0)("isRounded",!0)}}var wi=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.busyCallService=t}return _createClass2(e,[{key:"ngOnInit",value:function(){this.busyCallData$=this.busyCallService.busyCallData$}},{key:"endCall",value:function(){this.busyCallService.endCall()}},{key:"setCallbackCall",value:function(e){this.busyCallService.setCallbackCall(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(hi))},e.\u0275cmp=l.Xpm({type:e,selectors:[["busy-call-notification"]],decls:2,vars:3,consts:[["contentLayout","busy","data-e2e","call-notification-fragment__busy-item",4,"ngIf"],["contentLayout","busy","data-e2e","call-notification-fragment__busy-item"],["ngProjectAs","callNotificationItemHeader",5,["callNotificationItemHeader"]],["callNotificationItemHeader",""],["data-e2e","call-notification-fragment__header",1,"call-notification-header"],["ngProjectAs","callNotificationItemContent",5,["callNotificationItemContent"]],["callNotificationItemContent",""],[1,"call-notification-icon"],["bgColor","call-modal__avatar--background-color","iconColor","call-modal__avatar--color","wrapperSize","medium"],[1,"call-notification-info"],["data-e2e","call-notification-fragment__name",1,"call-notification-info__name"],["class","call-notification-info__number","data-e2e","call-notification-fragment__number",4,"ngIf"],[1,"call-notification-info__actions"],[1,"call-notification-action","call-notification-action--end-call"],["iconSize","small","data-e2e","call-notification-fragment__end-call",1,"call-notification-action__button","call-notification-action__button--end-call",3,"isBackgroundFilled","isRounded","appButtonClick"],[1,"call-notification-action","call-notification-action--callback"],["iconFill","call-modal-actions__forwarding-icon--color","iconName","call_forwarding","iconSize","small","data-e2e","call-notification-fragment__call-back",1,"call-notification-action__button","call-notification-action__button--callback",3,"appButtonClick"],["data-e2e","call-notification-fragment__number",1,"call-notification-info__number"]],template:function(e,t){1&e&&(l.YNc(0,Ai,19,7,"call-notification-item",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,t.busyCallData$))},directives:[K.O5,ki,Ie.T,Si.Q,Pt.V],pipes:[K.Ov,_.X$],styles:[".call-notification-header[_ngcontent-%COMP%]{padding:.6rem 2.5rem}.call-notification-icon[_ngcontent-%COMP%]{align-items:center;display:flex;height:5rem;justify-content:center;width:5rem}.call-notification-info[_ngcontent-%COMP%]{min-width:0;padding:0 .4rem;white-space:nowrap}.call-notification-info__name[_ngcontent-%COMP%]{font-weight:bold;margin-right:.5rem;overflow:hidden;text-overflow:ellipsis}.call-notification-info__actions[_ngcontent-%COMP%]{display:flex;height:5rem;margin-left:auto}.call-notification-action[_ngcontent-%COMP%]{align-items:center;display:flex;margin-left:1.6rem}.call-notification-action--forward-call[_ngcontent-%COMP%]{margin-left:.6rem}.call-notification-action__button[_ngcontent-%COMP%]{border-radius:50%;display:block;overflow:hidden}  .call-notification-action--end-call .app-button-end-call{height:4rem!important;width:4rem!important}  .call-notification-action__button .app-button__button{height:4rem;width:4rem}"]}),e}(),Mi=n(68260),Ti=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.failureCallService=t,this.audioService=n}return _createClass2(e,[{key:"endCall",value:function(){this.stopPlayingTone(),this.failureCallService.closeFailureModal()}},{key:"makeCall",value:function(e){this.stopPlayingTone(),this.failureCallService.makeCall(e)}},{key:"stopPlayingTone",value:function(){var e;(null===(e=this.failureCallData)||void 0===e?void 0:e.statusCode)===Mi.i.TEMPORARILY_UNAVAILABLE?this.audioService.resetBusyTone():this.audioService.stopPlayingSitTone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(fi),l.Y36(En.Q))},e.\u0275cmp=l.Xpm({type:e,selectors:[["failure-call-notification"]],inputs:{failureCallData:"failureCallData"},decls:20,vars:6,consts:[["ngProjectAs","callNotificationItemHeader",5,["callNotificationItemHeader"]],["callNotificationItemHeader",""],["data-e2e","call-notification-fragment__header",1,"call-notification-header"],["ngProjectAs","callNotificationItemContent",5,["callNotificationItemContent"]],["callNotificationItemContent",""],[1,"call-notification-icon"],["bgColor","call-modal__avatar--background-color","iconColor","call-modal__avatar--color","wrapperSize","medium","iconName","attention"],[1,"call-notification-info"],["data-e2e","call-notification-fragment__name",1,"call-notification-info__name"],["data-e2e","call-notification-fragment__number",1,"call-notification-info__number"],[1,"call-notification-info__actions"],[1,"call-notification-action","call-notification-action--end-call"],["iconFill","white","iconName","close","iconSize","small","data-e2e","call-notification-fragment__end-call",1,"call-notification-action__button","call-notification-action__button--end-call",3,"appButtonClick"],[1,"call-notification-action","call-notification-action--start-call"],["iconFill","white","iconName","call","iconSize","small","data-e2e","call-notification-fragment__call-again",1,"call-notification-action__button","call-notification-action__button--make-call",3,"appButtonClick"]],template:function(e,t){1&e&&(l.TgZ(0,"call-notification-item"),l.ynx(1,0,1),l.TgZ(3,"div",2),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.BQk(),l.ynx(6,3,4),l.TgZ(8,"div",5),l._UZ(9,"svg-avatar",6),l.qZA(),l.TgZ(10,"div",7),l.TgZ(11,"div",8),l._uU(12),l.qZA(),l.TgZ(13,"div",9),l._uU(14),l.qZA(),l.qZA(),l.TgZ(15,"div",10),l.TgZ(16,"div",11),l.TgZ(17,"app-button",12),l.NdJ("appButtonClick",function(){return t.endCall()}),l.qZA(),l.qZA(),l.TgZ(18,"div",13),l.TgZ(19,"app-button",14),l.NdJ("appButtonClick",function(){return t.makeCall(t.failureCallData)}),l.qZA(),l.qZA(),l.qZA(),l.BQk(),l.qZA()),2&e&&(l.xp6(4),l.hij(" ",l.lcZ(5,4,"Failure")," "),l.xp6(8),l.hij(" ",t.failureCallData.name," "),l.xp6(2),l.AsE(" ",t.failureCallData.statusCode,": ",t.failureCallData.reasonPhrase," "))},directives:[ki,Ie.T,Pt.V],pipes:[_.X$],styles:[".call-notification-header[_ngcontent-%COMP%]{padding:.6rem 2.5rem}.call-notification-icon[_ngcontent-%COMP%]{align-items:center;display:flex;height:5rem;justify-content:center;width:5rem}.call-notification-info[_ngcontent-%COMP%]{min-width:0;padding:0 .4rem;white-space:nowrap}.call-notification-info__name[_ngcontent-%COMP%]{font-weight:bold;margin-right:.5rem;overflow:hidden;text-overflow:ellipsis}.call-notification-info__actions[_ngcontent-%COMP%]{display:flex;height:5rem;margin-left:auto}.call-notification-action[_ngcontent-%COMP%]{align-items:center;display:flex;margin-left:1.6rem}.call-notification-action--forward-call[_ngcontent-%COMP%]{margin-left:.6rem}.call-notification-action__button[_ngcontent-%COMP%]{border-radius:50%;display:block;overflow:hidden}  .call-notification-action--end-call .app-button-end-call{height:4rem!important;width:4rem!important}  .call-notification-action__button .app-button__button{height:4rem;width:4rem}"],changeDetection:0}),e}(),Pi=function(){var e=function(){function e(t,n){var i=this;_classCallCheck2(this,e),this.crmOutgoingCallService=t,this.crmConnectService=n,this.ngUnsubscribe=new A.xQ,this.callData$=(0,ln.aj)([this.crmOutgoingCallService.outgoingCall$,this.crmOutgoingCallService.clickToDialProgress$,this.crmOutgoingCallService.assertedIdentity$]).pipe((0,Et.U)(function(e){var t,n,r,a,o,s,c=_slicedToArray2(e,3),l=c[0],u=c[1],f=c[2];return l?(l.sipSession||((null===(t=l.details)||void 0===t?void 0:t.crmConnectName)?i.crmCallData={calleeName:l.details.name,crmName:l.details.crmConnectName}:l.isCrmConnectCall?i.crmOutgoingCallService.setCrmConnectCallNumber((null===(n=l.details)||void 0===n?void 0:n.number)||""):(i.crmOutgoingCallService.setCrmConnectCallNumber(""),i.crmCallData=null)),{callerPhone:(null===(r=l.caller)||void 0===r?void 0:r.number)||"",callerName:(null===(a=l.caller)||void 0===a?void 0:a.name)||"",calleePhone:(i.crmCallData?"":null==f?void 0:f.number)||(null===(o=l.details)||void 0===o?void 0:o.number)||"",calleeName:(i.crmCallData?"":null==f?void 0:f.name)||(null===(s=l.details)||void 0===s?void 0:s.name)||"",isRinging:l.isRinging,isClickToDial:l.isClickToDial,isWaitingForCaller:u.isWaitingForCaller,isWaitingForCallee:u.isWaitingForCallee}):null})),this.crmCallData$=this.crmOutgoingCallService.crmConnectCallNumber$.pipe((0,en.x)(),(0,rn.w)(function(e){return i.crmConnectService.findCrmContacts(e)}),(0,Et.U)(function(e){if(!e)return null;var t=e[0];return{calleeName:t.results[0].name,crmName:t.crmConnectName}})),this.crmCallData$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){i.crmCallData=e}),this.callData$.pipe((0,Et.U)(function(e){return i.mapToComponentData(e)}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(e){i.callData=e})}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"endCall",value:function(){this.crmOutgoingCallService.endOutgoingCall()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Un),l.Y36(Tt.a))},e.\u0275dir=l.lG2({type:e}),e}();function Ii(e,t){if(1&e&&(l.ynx(0,3,4),l.TgZ(2,"div",5),l._uU(3),l.qZA(),l.BQk()),2&e){var n=l.oxw();l.xp6(3),l.hij(" ",n.crmCallData.crmName," ")}}function Oi(e,t){if(1&e&&(l.TgZ(0,"div",16),l._uU(1),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.hij(" ",(null==n.crmCallData?null:n.crmCallData.calleeName)||n.callData.name," ")}}function ji(e,t){if(1&e){var n=l.EpF();l.ynx(0,6,7),l.TgZ(2,"div",8),l._UZ(3,"svg-avatar",9),l.qZA(),l.TgZ(4,"div",10),l.YNc(5,Oi,2,1,"div",11),l.TgZ(6,"div",12),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"div",13),l.TgZ(9,"div",14),l.TgZ(10,"app-button-end-call",15),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().endCall()}),l.qZA(),l.qZA(),l.qZA(),l.BQk()}if(2&e){var i=l.oxw();l.xp6(3),l.Q6J("displayName",null==i.callData?null:i.callData.name),l.xp6(2),l.Q6J("ngIf",i.callData.name||(null==i.crmCallData?null:i.crmCallData.calleeName)),l.xp6(2),l.hij(" ",i.callData.number," "),l.xp6(3),l.Q6J("isBackgroundFilled",!0)("isRounded",!0)}}var Ei=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck2(this,n),(r=t.call(this,e,i)).outgoingCallService=e,r.crmConnectService=i,r}return _createClass2(n,[{key:"mapToComponentData",value:function(e){if(!e)return null;if(e.isWaitingForCaller){var t=e.callerName||"",n=e.callerPhone||"";return{name:t!==n?t:"",number:n}}var i=e.calleeName||"",r=e.calleePhone||"";return{name:i!==r?i:"",number:r}}}]),n}(Pi);return e.\u0275fac=function(t){return new(t||e)(l.Y36(Un),l.Y36(Tt.a))},e.\u0275cmp=l.Xpm({type:e,selectors:[["outgoing-call-notification"]],features:[l.qOj],decls:3,vars:2,consts:[["contentLayout","outgoing","data-e2e","call-notification-fragment"],["ngProjectAs","callNotificationItemHeader",5,["callNotificationItemHeader"],4,"ngIf"],["ngProjectAs","callNotificationItemContent",5,["callNotificationItemContent"],4,"ngIf"],["ngProjectAs","callNotificationItemHeader",5,["callNotificationItemHeader"]],["callNotificationItemHeader",""],["data-e2e","call-notification-fragment__header",1,"call-notification-header"],["ngProjectAs","callNotificationItemContent",5,["callNotificationItemContent"]],["callNotificationItemContent",""],[1,"call-notification-icon"],["bgColor","call-modal__avatar--background-color","iconColor","call-modal__avatar--color",3,"displayName"],[1,"call-notification-info"],["class","call-notification-info__name","data-e2e","call-notification-fragment__name",4,"ngIf"],["ellipsisTitle","","data-e2e","call-notification-fragment__number",1,"call-notification-info__number"],[1,"call-notification-info__actions"],[1,"call-notification-action","call-notification-action--end-call"],["iconSize","small","data-e2e","call-notification-fragment__end-call",3,"isBackgroundFilled","isRounded","appButtonClick"],["data-e2e","call-notification-fragment__name",1,"call-notification-info__name"]],template:function(e,t){1&e&&(l.TgZ(0,"call-notification-item",0),l.YNc(1,Ii,4,1,"ng-container",1),l.YNc(2,ji,11,5,"ng-container",2),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",t.crmCallData),l.xp6(1),l.Q6J("ngIf",t.callData))},directives:[ki,K.O5,Ie.T,Oe.w,Si.Q],styles:[".call-notification-header[_ngcontent-%COMP%]{padding:.6rem 2.5rem}.call-notification-icon[_ngcontent-%COMP%]{align-items:center;display:flex;height:5rem;justify-content:center;width:5rem}.call-notification-info[_ngcontent-%COMP%]{min-width:0;padding:0 .4rem;white-space:nowrap}.call-notification-info__name[_ngcontent-%COMP%]{font-weight:bold;margin-right:.5rem;overflow:hidden;text-overflow:ellipsis}.call-notification-info__actions[_ngcontent-%COMP%]{display:flex;height:5rem;margin-left:auto}.call-notification-action[_ngcontent-%COMP%]{align-items:center;display:flex;margin-left:1.6rem}.call-notification-action--forward-call[_ngcontent-%COMP%]{margin-left:.6rem}.call-notification-action__button[_ngcontent-%COMP%]{border-radius:50%;display:block;overflow:hidden}  .call-notification-action--end-call .app-button-end-call{height:4rem!important;width:4rem!important}  .call-notification-action__button .app-button__button{height:4rem;width:4rem}"]}),e}(),Li=n(59594),Ni=n(98613),Ri=function(){var e=function(){function e(t,n,i,r,a,o,s,c){var l=this;_classCallCheck2(this,e),this.sipService=t,this.crmConnectService=n,this.notificationService=i,this.overlayContainerService=r,this.router=a,this.userService=o,this.callTrackerService=s,this.incomingCallHelperService=c,this.callTrackerService.incomingCalls$.pipe((0,Et.U)(function(e){return e.map(function(e){return e.callItem})})).subscribe(function(e){l.incomingSetting(e)})}return _createClass2(e,[{key:"openContact",value:function(e){this.incomingCallHelperService.openContact(e)}},{key:"endCall",value:function(e){this.callTrackerService.terminateCall(e)}},{key:"answerCall",value:function(e){this.callTrackerService.answerCall(e)}},{key:"transferCall",value:function(e,t){this.callTrackerService.redirectIncomingCall(e,t)}},{key:"parseCallItem",value:function(e){var t,n=(this.userService.userInfo.phoneExtensions||[])[0].trunkscount;if(!n||!this.crmConnectService.getCurrentAvailableStatus())return e;var i=new RegExp("^#(\\d{".concat(n,"})(.*)")),r=null===(t=e.number)||void 0===t?void 0:t.match(i);return r?(e.name.startsWith("L"+r[1])&&(e.name="",e.displayNumber=e.number),Object.assign(Object.assign({},e),{number:r[2]})):e}},{key:"incomingSetting",value:function(t){this.notificationService.clearNotifications(t),t.length?(this.router.navigate(["/main/telephone"]),this.overlayContainerService.addClass(e.overlayNotificationDropdownClass)):this.overlayContainerService.removeClass(e.overlayNotificationDropdownClass)}}]),e}();return e.overlayNotificationDropdownClass="cdk-overlay-container--notification-dropdown",e.\u0275fac=function(t){return new(t||e)(l.LFG(be.y),l.LFG(Tt.a),l.LFG(kn.g),l.LFG(Li.c),l.LFG(i.F0),l.LFG(J.K),l.LFG(N.k),l.LFG(Ni.D))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Di=n(90971),Zi=n(91512),Fi=n(67441),Ui=n(72458),qi=n(30234);function Bi(e,t){if(1&e&&(l.TgZ(0,"div"),l._UZ(1,"svg-avatar",15),l.qZA()),2&e){var n=l.oxw().$implicit;l.xp6(1),l.Q6J("displayName",n.displayName||n.name)}}function Hi(e,t){1&e&&l._UZ(0,"svg-avatar")}function Yi(e,t){if(1&e&&l._UZ(0,"busy-lamp-field",16),2&e){var n=l.oxw().$implicit;l.Q6J("isConferenceActive",(null==n?null:n.memberCount)>0)}}function Vi(e,t){if(1&e&&l._UZ(0,"busy-lamp-field",17),2&e){var n=l.oxw().$implicit;l.Q6J("extension",n.extensionNumber||n.EXTENSION_NUMBER||n.DISPLAY_NUMBER)}}function Ji(e,t){if(1&e&&(l.TgZ(0,"mat-option",7),l.TgZ(1,"div",8),l.YNc(2,Bi,2,1,"div",9),l.YNc(3,Hi,1,0,"ng-template",null,10,l.W1O),l.TgZ(5,"div",11),l.YNc(6,Yi,1,1,"busy-lamp-field",12),l.YNc(7,Vi,1,1,"ng-template",null,13,l.W1O),l.TgZ(9,"span",14),l._uU(10),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var n=t.$implicit,i=l.MAs(4),r=l.MAs(8);l.Q6J("value",n),l.xp6(2),l.Q6J("ngIf",n.nameAbbreviation)("ngIfElse",i),l.xp6(4),l.Q6J("ngIf","CONFERENCESERVICE"===n.type)("ngIfElse",r),l.xp6(4),l.hij(" ",n.name||n.displayName||n.DISPLAY_NAME," ")}}var Qi=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.incomingCallHelperService=t,this.ngUnsubscribe=new A.xQ,this.callForwardingTargets=new ut.NI("")}return _createClass2(e,[{key:"ngOnInit",value:function(){this.subscribeToCallForwardingFormChanging()}},{key:"ngOnChanges",value:function(){this.callForwardingTargets.setValue("")}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"displayFn",value:function(e){return this.incomingCallHelperService.getCallForwardingTargetName(e)||""}},{key:"forwardCallTo",value:function(e){this.incomingCallHelperService.forwardCallTo(this.incomingCallData.callId,e)}},{key:"subscribeToCallForwardingFormChanging",value:function(){var e=this;this.callForwardingTargetsFormGroup=new ut.cw({callForwardingTargets:this.callForwardingTargets}),this.callForwardingTargets.valueChanges.pipe((0,ui.b)(300),(0,rn.w)(function(t){return e.incomingCallHelperService.retrieveCallForwardingTargets(t)}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.callForwardingTargets$=(0,vn.of)(_toConsumableArray2(t))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Ni.D))},e.\u0275cmp=l.Xpm({type:e,selectors:[["call-forwarding-autocomplete"]],inputs:{incomingCallData:"incomingCallData",selectedCrmConnectSearchResultItem:"selectedCrmConnectSearchResultItem"},features:[l.TTD],decls:9,vars:9,consts:[[3,"formGroup"],[1,"call-forwarding-autocomplete"],["dynamicAutofocus","","formControlName","callForwardingTargets","matInput","","type","text","data-e2e","call-transfer-notification__target-input",3,"matAutocomplete","placeholder"],["fill","forward-incoming-call-search-icon--color","icon","search","size","small","data-e2e","call-transfer-notification__search-icon",1,"call-forwarding-autocomplete__search-icon"],["panelWidth","440px",1,"call-forwarding-autocomplete__panel",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","call-forwarding-autocomplete__item",3,"value",4,"ngFor","ngForOf"],[1,"call-forwarding-autocomplete__item",3,"value"],[1,"call-forwarding-autocomplete__item-container"],[4,"ngIf","ngIfElse"],["showIcon",""],[1,"call-forwarding-autocomplete__item-border"],["entityPresenceStateType","conference",3,"isConferenceActive",4,"ngIf","ngIfElse"],["extensionPresenceState",""],["ellipsisTitle","","mat-line","","data-e2e","call-transfer-notification__target-selector",1,"call-forwarding-autocomplete__item-name"],[3,"displayName"],["entityPresenceStateType","conference",3,"isConferenceActive"],[3,"extension"]],template:function(e,t){if(1&e&&(l.TgZ(0,"form",0),l.TgZ(1,"mat-form-field",1),l._UZ(2,"input",2),l.ALo(3,"translate"),l._UZ(4,"app-svg-icon",3),l.TgZ(5,"mat-autocomplete",4,5),l.NdJ("optionSelected",function(e){return t.forwardCallTo(e)}),l.YNc(7,Ji,11,6,"mat-option",6),l.ALo(8,"async"),l.qZA(),l.qZA(),l.qZA()),2&e){var n=l.MAs(6);l.Q6J("formGroup",t.callForwardingTargetsFormGroup),l.xp6(2),l.s9C("placeholder",l.lcZ(3,5,"notification.forward_call_to_title")),l.Q6J("matAutocomplete",n),l.xp6(3),l.Q6J("displayWith",t.displayFn.bind(t)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(8,7,t.callForwardingTargets$))}},directives:[ut._Y,ut.JL,ut.sg,dt.KE,ut.Fj,ht.Nt,o.ZL,qi.C,ut.JJ,ut.u,ne.u,o.XC,K.sg,Ui.ey,K.O5,Oe.w,Ui.X2,Ie.T,Re.K],pipes:[_.X$,K.Ov],styles:['.call-forwarding-autocomplete__search-icon[_ngcontent-%COMP%]{bottom:.5rem;cursor:pointer;position:absolute;right:.5rem}.call-forwarding-autocomplete__item[_ngcontent-%COMP%]{height:5.6rem}.call-forwarding-autocomplete__item-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;padding-right:3rem}.call-forwarding-autocomplete__item-border[_ngcontent-%COMP%]{border-bottom:.2rem solid #e5e5e5;display:flex;width:100%}.call-forwarding-autocomplete__item-name[_ngcontent-%COMP%]{font-size:1.8rem;margin-left:.8rem;width:30rem}  .cdk-overlay-pane[style*="width: 440px;"]{left:calc(100% - 453px)!important}  .cdk-overlay-pane[style*="width: 440px;"] .call-forwarding-autocomplete__panel:not([class*=mat-elevation-z]){box-shadow:0 .6rem .6rem #00000029;max-height:45rem;padding:3rem 0 1.2rem}']}),e}();function zi(e,t){if(1&e&&(l.ynx(0,23,24),l.TgZ(2,"div",25),l._uU(3),l.qZA(),l.BQk()),2&e){var n=l.oxw(2);l.xp6(3),l.AsE(" ",null==n.incomingCallData?null:n.incomingCallData.callForwardingInfo.type,": ",null==n.incomingCallData?null:n.incomingCallData.callForwardingInfo.name," ")}}function Gi(e,t){if(1&e&&(l.TgZ(0,"div",26),l._uU(1),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.hij(" ",n.incomingCallData.name||n.incomingCallData.number," ")}}function Wi(e,t){if(1&e&&(l.TgZ(0,"div",26),l._uU(1),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.hij(" ",n.selectedCrmConnectSearchResultItem.results[0].name," ")}}function $i(e,t){if(1&e&&(l.TgZ(0,"div",27),l._uU(1),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.hij(" ",n.incomingCallData.number," ")}}function Ki(e,t){1&e&&(l.TgZ(0,"mat-label"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"crm_connect.call_notification.no_crm")," "))}function Xi(e,t){if(1&e&&(l.TgZ(0,"mat-option",32),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n),l.xp6(1),l.hij(" ",n.crmConnectName," ")}}function er(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",28),l.TgZ(1,"mat-form-field"),l.YNc(2,Ki,3,3,"mat-label",29),l.TgZ(3,"mat-select",30),l.NdJ("ngModelChange",function(e){return l.CHM(n),l.oxw(2).selectedCrmConnectSearchResultItem=e})("selectionChange",function(){return l.CHM(n),l.oxw(2).openContact()}),l.ALo(4,"translate"),l.TgZ(5,"mat-option"),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.YNc(8,Xi,2,2,"mat-option",31),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=l.oxw(2);l.xp6(2),l.Q6J("ngIf",!i.selectedCrmConnectSearchResultItem),l.xp6(1),l.s9C("placeholder",l.lcZ(4,7,"crm_connect.call_notification.crm_list")),l.Q6J("disableOptionCentering",!0)("ngModel",i.selectedCrmConnectSearchResultItem)("compareWith",i.compareSearchItems),l.xp6(3),l.hij(" ",l.lcZ(7,9,"crm_connect.call_notification.no_crm")," "),l.xp6(2),l.Q6J("ngForOf",i.incomingSearchData)}}function tr(e,t){if(1&e&&l._UZ(0,"call-forwarding-autocomplete",33),2&e){var n=l.oxw(2);l.Q6J("incomingCallData",n.incomingCallData)("selectedCrmConnectSearchResultItem",n.selectedCrmConnectSearchResultItem)}}function nr(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"call-notification-item",1),l.YNc(1,zi,4,2,"ng-container",2),l.ynx(2,3,4),l.TgZ(4,"div",5),l._UZ(5,"svg-avatar",6),l.qZA(),l.TgZ(6,"div",7),l.YNc(7,Gi,2,1,"div",8),l.YNc(8,Wi,2,1,"div",8),l.YNc(9,$i,2,1,"div",9),l.qZA(),l.TgZ(10,"div",10),l.TgZ(11,"div",11),l.TgZ(12,"app-button-end-call",12),l.NdJ("appButtonClick",function(){l.CHM(n);var e=l.oxw();return e.endCall(e.incomingCallData.callId)}),l.qZA(),l.qZA(),l.TgZ(13,"div",13),l.TgZ(14,"app-button",14),l.NdJ("appButtonClick",function(){l.CHM(n);var e=l.oxw();return e.transferCall(e.incomingCallData.callId)}),l.qZA(),l.qZA(),l.TgZ(15,"div",15),l.TgZ(16,"app-button",16),l.NdJ("preventDblClick",function(){l.CHM(n);var e=l.oxw();return e.answerCall(e.incomingCallData.callId)}),l.qZA(),l.qZA(),l.TgZ(17,"div",17),l.TgZ(18,"app-button",18),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().showCallForwardingDropDown()}),l.qZA(),l.qZA(),l.qZA(),l.BQk(),l.ynx(19,19,20),l.YNc(21,er,9,11,"div",21),l.YNc(22,tr,1,2,"call-forwarding-autocomplete",22),l.BQk(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("ngIf",(null==i.incomingCallData?null:i.incomingCallData.callForwardingInfo)&&""!==(null==i.incomingCallData?null:i.incomingCallData.callForwardingInfo.type)),l.xp6(4),l.Q6J("displayName",null==i.incomingCallData?null:i.incomingCallData.name),l.xp6(2),l.Q6J("ngIf",i.incomingCallData.name&&!i.selectedCrmConnectSearchResultItem),l.xp6(1),l.Q6J("ngIf",i.selectedCrmConnectSearchResultItem),l.xp6(1),l.Q6J("ngIf",i.incomingCallData.number),l.xp6(3),l.Q6J("isBackgroundFilled",!0)("isRounded",!0),l.xp6(4),l.Q6J("iconName",(null==i.incomingCallModal?null:i.incomingCallModal.iconName)||"call"),l.xp6(5),l.Q6J("ngIf",i.incomingSearchData),l.xp6(1),l.Q6J("ngIf",i.isVisibleCallForwardingDropDown)}}var ir=function(){var e=function(){function e(t,n,i,r,a){var o,s;_classCallCheck2(this,e),this.incomingCallService=t,this.crmConnectService=n,this.notificationService=i,this.electronService=r,this.whiteLabelService=a,this.ngUnsubscribe=new A.xQ,this.isVisibleCallForwardingDropDown=!1,this.incomingCallModal=null===(s=null===(o=this.whiteLabelService.data)||void 0===o?void 0:o.iconInfos)||void 0===s?void 0:s.find(function(e){return"callModal"===e.key})}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.incomingCallData=this.incomingCallService.parseCallItem(this.incomingCallData),this.defaultIncomingCallName=this.incomingCallData.name,this.electronService.desktop&&this.showBrowserNotification(),this.crmConnectService.findCrmContacts(this.incomingCallData.number).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.incomingSearchData=t,!e.defaultIncomingCallName&&t&&(e.selectedCrmConnectSearchResultItem=t[0],e.openContact()),e.electronService.desktop?e.notificationService.updateNotificationOnCrmCallback({callId:e.incomingCallData.callId,name:e.getCallerName(),crmConnectSearchResult:t}):e.showBrowserNotification()})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"compareSearchItems",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"openContact",value:function(){this.incomingCallService.openContact(this.selectedCrmConnectSearchResultItem)}},{key:"endCall",value:function(e){this.incomingCallService.endCall(e)}},{key:"answerCall",value:function(e){this.incomingCallService.answerCall(e)}},{key:"transferCall",value:function(e){this.incomingCallService.transferCall(e)}},{key:"showCallForwardingDropDown",value:function(){this.isVisibleCallForwardingDropDown=!this.isVisibleCallForwardingDropDown}},{key:"showBrowserNotification",value:function(){!this.incomingCallData.callId||this.notificationService.isAlreadyShowNotification(this.incomingCallData.callId)||this.notificationService.showIncomingCall(this.getCallerName(),this.incomingCallData.number,this.incomingCallData.callId,this.crmConnectService.getCurrentAvailableStatus(),this.incomingCallData.callForwardingInfo)}},{key:"getCallerName",value:function(){return this.selectedCrmConnectSearchResultItem?this.selectedCrmConnectSearchResultItem.results[0].name:this.incomingCallData.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Ri),l.Y36(Tt.a),l.Y36(kn.g),l.Y36(On.d),l.Y36(Di.D))},e.\u0275cmp=l.Xpm({type:e,selectors:[["incoming-call-notification"]],inputs:{incomingCallData:"incomingCallData"},decls:1,vars:1,consts:[["contentLayout","incoming","data-e2e","call-notification-fragment",4,"ngIf"],["contentLayout","incoming","data-e2e","call-notification-fragment"],["ngProjectAs","callNotificationItemHeader",5,["callNotificationItemHeader"],4,"ngIf"],["ngProjectAs","callNotificationItemContent",5,["callNotificationItemContent"]],["callNotificationItemContent",""],[1,"call-notification-icon"],["bgColor","call-modal__avatar--background-color","iconColor","call-modal__avatar--color","wrapperSize","medium","data-e2e","call-modal-fragment__avatar",3,"displayName"],[1,"call-notification-info"],["class","call-notification-info__name","data-e2e","call-notification-fragment__name",4,"ngIf"],["class","call-notification-info__number","data-e2e","call-notification-fragment__number",4,"ngIf"],[1,"call-notification-info__actions"],[1,"call-notification-action","call-notification-action--end-call"],["iconSize","small","data-e2e","call-notification-fragment__end-call",1,"call-notification-action__button","call-notification-action__button--end-call",3,"isBackgroundFilled","isRounded","appButtonClick"],[1,"call-notification-action","call-notification-action--transfer-call"],["iconFill","call-modal__transfer-button--color","iconName","voicemail","iconSize","small","data-e2e","call-notification-fragment__to-voicemail",1,"call-notification-action__button","call-notification-action__button--transfer-call",3,"appButtonClick"],[1,"call-notification-action","call-notification-action--start-call"],["iconFill","white","iconSize","small","data-e2e","call-notification-fragment__answer-call",1,"call-notification-action__button","call-notification-action__button--start-call",3,"iconName","preventDblClick"],[1,"call-notification-action","call-notification-action--forward-call"],["iconFill","color-black","iconName","transfer","iconSize","small","data-e2e","call-notification-fragment__transfer-call",1,"call-notification-action__button","call-notification-action__button--forward-call",3,"appButtonClick"],["ngProjectAs","callNotificationItemFooter",5,["callNotificationItemFooter"]],["callNotificationItemFooter",""],["class","call-notification-crm-list",4,"ngIf"],[3,"incomingCallData","selectedCrmConnectSearchResultItem",4,"ngIf"],["ngProjectAs","callNotificationItemHeader",5,["callNotificationItemHeader"]],["callNotificationItemHeader",""],["data-e2e","call-notification-fragment__header",1,"call-notification-header"],["data-e2e","call-notification-fragment__name",1,"call-notification-info__name"],["data-e2e","call-notification-fragment__number",1,"call-notification-info__number"],[1,"call-notification-crm-list"],[4,"ngIf"],[3,"placeholder","disableOptionCentering","ngModel","compareWith","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"incomingCallData","selectedCrmConnectSearchResultItem"]],template:function(e,t){1&e&&l.YNc(0,nr,23,10,"call-notification-item",0),2&e&&l.Q6J("ngIf",t.incomingCallData)},directives:[K.O5,ki,Ie.T,Si.Q,Pt.V,Zi.j,dt.KE,Fi.gD,ut.JJ,ut.On,Ui.ey,K.sg,dt.hX,Qi],pipes:[_.X$],styles:[".call-notification-header[_ngcontent-%COMP%]{padding:.6rem 2.5rem}.call-notification-icon[_ngcontent-%COMP%]{align-items:center;display:flex;height:5rem;justify-content:center;width:5rem}.call-notification-info[_ngcontent-%COMP%]{min-width:0;padding:0 .4rem;white-space:nowrap}.call-notification-info__name[_ngcontent-%COMP%]{font-weight:bold;margin-right:.5rem;overflow:hidden;text-overflow:ellipsis}.call-notification-info__actions[_ngcontent-%COMP%]{display:flex;height:5rem;margin-left:auto}.call-notification-action[_ngcontent-%COMP%]{align-items:center;display:flex;margin-left:1.6rem}.call-notification-action--forward-call[_ngcontent-%COMP%]{margin-left:.6rem}.call-notification-action__button[_ngcontent-%COMP%]{border-radius:50%;display:block;overflow:hidden}  .call-notification-action--end-call .app-button-end-call{height:4rem!important;width:4rem!important}  .call-notification-action__button .app-button__button{height:4rem;width:4rem}"]}),e}();function rr(e,t){1&e&&l._UZ(0,"busy-call-notification")}function ar(e,t){1&e&&l._UZ(0,"failure-call-notification",4),2&e&&l.Q6J("failureCallData",t.ngIf)}function or(e,t){1&e&&l._UZ(0,"outgoing-call-notification")}function sr(e,t){1&e&&l._UZ(0,"incoming-call-notification",5),2&e&&l.Q6J("incomingCallData",t.$implicit.callItem)}var cr=function(){var e=_createClass2(function e(t,n,i,r){_classCallCheck2(this,e),this.callNotificationsService=t,this.failureCallService=n,this.callTrackerService=i,this.outgoingCallService=r,this.CallNotificationStatus=ci.O,this.incomingCalls$=this.callTrackerService.incomingCalls$,this.failureCallData$=this.failureCallService.failureCallData$,this.showOutgoingCallNotification$=this.outgoingCallService.showOutgoingCall$,this.callNotificationStatus$=this.callNotificationsService.callNotification$.pipe((0,Et.U)(function(e){return e.callState}))});return e.\u0275fac=function(t){return new(t||e)(l.Y36(li),l.Y36(fi),l.Y36(N.k),l.Y36(Un))},e.\u0275cmp=l.Xpm({type:e,selectors:[["call-notifications"]],decls:9,vars:12,consts:[[1,"call-notifications"],[4,"ngIf"],["data-e2e","call-notification-fragment__failure-item",3,"failureCallData",4,"ngIf"],[3,"incomingCallData",4,"ngFor","ngForOf"],["data-e2e","call-notification-fragment__failure-item",3,"failureCallData"],[3,"incomingCallData"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,rr,1,0,"busy-call-notification",1),l.ALo(2,"async"),l.YNc(3,ar,1,1,"failure-call-notification",2),l.ALo(4,"async"),l.YNc(5,or,1,0,"outgoing-call-notification",1),l.ALo(6,"async"),l.YNc(7,sr,1,1,"incoming-call-notification",3),l.ALo(8,"async"),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",l.lcZ(2,4,t.callNotificationStatus$)===t.CallNotificationStatus.BUSY),l.xp6(2),l.Q6J("ngIf",l.lcZ(4,6,t.failureCallData$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(6,8,t.showOutgoingCallNotification$)),l.xp6(2),l.Q6J("ngForOf",l.lcZ(8,10,t.incomingCalls$)))},directives:[K.O5,K.sg,wi,Ti,Ei,ir],pipes:[K.Ov],styles:[".call-notifications[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;position:fixed;right:.8rem;top:6.8rem;z-index:2000}.call-notifications[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]}),e}(),lr=n(94935),ur=n(45342),fr=function(){return(e=fr||(fr={})).Telephone="/main/telephone",e.History="/main/history",e.Contacts="/main/contacts",e.Conference="/main/conference",e.Meetings="/main/meetings",e.Fax="/main/fax",e.Settings="/main/settings",e.SettingsUser="/main/settings/user",e.SettingsCallForwarding="/main/settings/call-forwarding",e.SettingsQueues="/main/settings/queues",e.SettingsFunctionKeys="/main/settings/function-keys",e.SettingsFax="/main/settings/fax",e.SettingsCrmConnect="/main/settings/crm-connect",e.SettingsDownload="/main/settings/download",e.SettingsInfo="/main/settings/info",e.SettingsHotkeys="/main/settings/hotkeys",fr;var e}(),dr=function(){return(e=dr||(dr={})).CALLHISTORY="callhistory",e.VOICEMAIL="voicemail",e.TOTAL="total",dr;var e}(),hr=n(97574),pr=n(39249),gr=n(74688),mr=function(){return(e=mr||(mr={})).CANCEL="CANCEL",e.ANSWER="ANSWER",mr;var e}(),vr=n(32722),br=n(37444),yr=n(66682),_r=n(91841),Cr=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.http=t,this.callRecordEventStreamService=n,this.deleteItemSource=new A.xQ,this.heardVoiceMailSource=new A.xQ,this.voiceToken="",this.userName="",this.userExtension="",this.deleteItem$=this.deleteItemSource.asObservable(),this.heardVoiceMail$=this.heardVoiceMailSource.asObservable()}return _createClass2(e,[{key:"getVoiceMailByEvent",value:function(){return this.callRecordEventStreamService.eventStreamMessage$.pipe((0,Xt.h)(function(e){return"VOICEMAIL"===e.source}),(0,Xt.h)(function(e){return e.duration>10}),(0,Et.U)(function(){return 1}))}},{key:"deleteItem",value:function(e,t){this.deleteItemSource.next({id:e,key:t})}},{key:"getCredentials",value:function(){return{headers:{Authorization:"Bearer ".concat(this.voiceToken)}}}},{key:"getList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,i="".concat(this.apiEndpointVoicemail,"/").concat(this.userName,"/").concat(this.userExtension,"/messages"),r=[];return e&&r.push("search=".concat(e)),t&&r.push("offset=".concat(t)),n&&r.push("limit=".concat(n)),i+="?".concat(r.join("&")),this.http.get(i,this.getCredentials())}},{key:"get",value:function(e){return this.http.get("".concat(this.apiEndpointVoicemail,"/").concat(this.userName,"/").concat(this.userExtension,"/messages/").concat(e),this.getCredentials())}},{key:"getVoicemailFile",value:function(e){return this.http.get("".concat(this.apiEndpointVoicemail,"/").concat(this.userName,"/").concat(this.userExtension,"/messages/").concat(e),{responseType:"blob",headers:{Authorization:"Bearer ".concat(this.voiceToken),Accept:"audio/wav"}})}},{key:"remove",value:function(e){return this.deleteAction("".concat(this.apiEndpointVoicemail,"/").concat(this.userName,"/").concat(this.userExtension,"/messages/").concat(e))}},{key:"setVoicemailAsHeard",value:function(e){return this.http.patch("".concat(this.apiEndpointVoicemail,"/").concat(this.userName,"/").concat(this.userExtension,"/messages/").concat(e),{new:!1},this.getCredentials()).toPromise()}},{key:"forward",value:function(e,t){return this.http.post("".concat(F.N.API_URL,"/history/voicemail/").concat(e,"/forward"),t)}},{key:"deleteAll",value:function(){return this.deleteAction("".concat(this.apiEndpointVoicemail,"/").concat(this.userName,"/").concat(this.userExtension,"/messages"))}},{key:"getNewVoiceMails",value:function(e){return this.setVoiceToken(e.voiceToken,e.activePhoneExtension.name,e.activePhoneExtension.extensionNumber),this.getList(null,0,20).pipe((0,Et.U)(function(e){return e.filter(function(e){return e.new}).length}))}},{key:"batchDelete",value:function(e){var t="".concat(this.apiEndpointVoicemail,"/").concat(this.userName,"/").concat(this.userExtension,"/messages?id=").concat(e.join("&id="));return this.deleteAction(t)}},{key:"setVoiceToken",value:function(e,t,n){this.voiceToken=e,this.userName=t,this.userExtension=n}},{key:"loadVoiceMailItems",value:function(e){return(0,yr.T)(this.getNewVoiceMails(e),this.getVoiceMailByEvent())}},{key:"sendVoiceMailId",value:function(e){this.heardVoiceMailSource.next(e)}},{key:"generateContactNumber",value:function(e){var t=this.getCallerIdNumber(e);return t&&"global"===e.caller_id_context?"+".concat(t):t}},{key:"getCallerIdNumber",value:function(e){var t;return(null===(t=null==e?void 0:e.caller_id_num)||void 0===t?void 0:t.trim())||""}},{key:"deleteAction",value:function(e){return this.http.delete(e,this.getCredentials())}},{key:"apiEndpointVoicemail",get:function(){return"https://".concat(F.N.DOMAIN,"/api/voicemail")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(_r.eN),l.LFG(_n))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),kr=function(){var e=function(){function e(t,n,i,r,a){var o=this;_classCallCheck2(this,e),this.callRecordService=t,this.voicemailService=n,this.userService=i,this.callRecordEventStreamService=r,this.router=a,this.amountMissedCallsSource=new Nn.X(0),this.amountUnheardVoiceMailsSource=new Nn.X(0),this.amountMissedCalls$=this.amountMissedCallsSource.asObservable(),this.amountMissedVoiceMails$=this.amountUnheardVoiceMailsSource.asObservable(),this.callRecordEventStreamService.eventStreamMessage$.pipe((0,Xt.h)(function(e){return e.hasOwnProperty("uuid")}),(0,Xt.h)(function(e){return o.hasIncomingCallBeenMissed(e)})).subscribe(function(){o.setAmountMissedCalls(o.amountMissedCallsSource.getValue()+1)}),this.totalAmountMissedNotifications$=this.getTotalAmountMissedNotifications().pipe((0,Kt.B)()),this.voicemailService.heardVoiceMail$.subscribe(function(){o.reduceUnheardVoiceMailAmount()}),this.userService.userInfo$.pipe((0,Xt.h)(function(e){var t;return!!(null==e?void 0:e.activePhoneExtension)&&!!(null===(t=null==e?void 0:e.phoneExtensions)||void 0===t?void 0:t.length)}),(0,rn.w)(function(e){return(0,ln.aj)([o.voicemailService.getNewVoiceMails(e),o.getCurrentAmountOfMissedCalls()])})).subscribe(function(e){var t=_slicedToArray2(e,2),n=t[0],i=t[1];o.setAmountMissedCalls(i),o.setAmountUnheardVoiceMails(n)})}return _createClass2(e,[{key:"getTotalAmountMissedNotifications",value:function(){return(0,ln.aj)([this.amountMissedCalls$,this.amountMissedVoiceMails$]).pipe((0,Et.U)(function(e){var t=_slicedToArray2(e,2);return t[0]+t[1]}))}},{key:"cacheTimeStampOfLastHistoryPageVisit",value:function(){Wt.Q.store("lastHistorySeen",Date.now(),!1)}},{key:"resetAmountMissedCalls",value:function(){this.setAmountMissedCalls(0)}},{key:"setAmountUnheardVoiceMails",value:function(e){this.amountUnheardVoiceMailsSource.next(e)}},{key:"hasIncomingCallBeenMissed",value:function(e){return e.status===mr.CANCEL&&"IN"===(null==e?void 0:e.direction)}},{key:"getCurrentAmountOfMissedCalls",value:function(){var e=this;return this.router.url.includes(vr.h.CallHistory)?(0,vn.of)(0):this.callRecordService.getCallHistoryItems("",br.J.MISSED).pipe((0,Et.U)(function(t){return e.filterAlreadySeenCallHistoryItems(t)}),(0,Et.U)(function(e){return e.length}))}},{key:"filterAlreadySeenCallHistoryItems",value:function(e){var t=this;return e.filter(function(e){return t.getTimestampDifference(e.timestamp)<=1e3})}},{key:"getTimestampDifference",value:function(e){return Wt.Q.getCached("lastHistorySeen",0)-Math.round(1e3*e)}},{key:"reduceUnheardVoiceMailAmount",value:function(){var e=this.amountUnheardVoiceMailsSource.getValue();e&&this.setAmountUnheardVoiceMails(e-1)}},{key:"setAmountMissedCalls",value:function(e){this.amountMissedCallsSource.next(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(Bt.g),l.LFG(Cr),l.LFG(J.K),l.LFG(_n),l.LFG(i.F0))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e}(),Sr=n(3088),xr=n(82332),Ar=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.historyNotificationCounterService=t,this.electronService=n,this.ngUnsubscribe=new A.xQ}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.totalMissedCallsAmountSubscription(),this.electronService.requestTotalAmountMissedNotifications$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){e.onTotalAmountRequest()})}},{key:"ngOnChanges",value:function(e){this.setNotificationType(e)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"setNotificationType",value:function(e){var t;switch(null===(t=e.notificationType)||void 0===t?void 0:t.currentValue){case dr.TOTAL:this.notificationCounter$=this.historyNotificationCounterService.totalAmountMissedNotifications$;break;case dr.CALLHISTORY:this.notificationCounter$=this.historyNotificationCounterService.amountMissedCalls$;break;case dr.VOICEMAIL:this.notificationCounter$=this.historyNotificationCounterService.amountMissedVoiceMails$}}},{key:"totalMissedCallsAmountSubscription",value:function(){var e=this;this.historyNotificationCounterService.totalAmountMissedNotifications$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.electronService.updateDockInfoBadge(t)})}},{key:"onTotalAmountRequest",value:function(){var e=this;this.historyNotificationCounterService.getTotalAmountMissedNotifications().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.electronService.updateDockInfoBadge(t)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(kr),l.Y36(On.d))},e.\u0275cmp=l.Xpm({type:e,selectors:[["history-notification-counter"]],inputs:{notificationType:"notificationType",tabTitle:"tabTitle"},features:[l.TTD],decls:2,vars:4,consts:[[3,"tabTitle","counter"]],template:function(e,t){1&e&&(l._UZ(0,"app-notification-counter",0),l.ALo(1,"async")),2&e&&l.Q6J("tabTitle",t.tabTitle)("counter",l.lcZ(1,2,t.notificationCounter$))},directives:[xr.Y],pipes:[K.Ov],encapsulation:2}),e}(),wr=function(){var e=function(){function e(){_classCallCheck2(this,e),this.itemClicked=new l.vpe}return _createClass2(e,[{key:"sideNavSubMenuItemClicked",value:function(){this.itemClicked.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["sidenav-submenu-item"]],inputs:{linkTitle:"linkTitle",itemRouterLink:"itemRouterLink",e2e:"e2e"},outputs:{itemClicked:"itemClicked"},decls:4,vars:3,consts:[[1,"sidenav-submenu-item"],["routerLinkActive","sidenav-submenu-item__link--active",1,"sidenav-submenu-item__link",3,"routerLink","click"]],template:function(e,t){1&e&&(l.TgZ(0,"li",0),l.TgZ(1,"a",1),l.NdJ("click",function(){return t.sideNavSubMenuItemClicked()}),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("routerLink",t.itemRouterLink),l.uIk("data-e2e",t.e2e),l.xp6(2),l.Oqu(t.linkTitle))},directives:[i.yS,i.Od],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.sidenav-submenu-item[_ngcontent-%COMP%]{font-size:1.7rem;padding:1rem 0}.sidenav-submenu-item__link[_ngcontent-%COMP%]{text-decoration:none}"]}),e}(),Mr=n(56869);function Tr(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"sidenav-item",12),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw(2).sideNavItemClicked(!1)}),l.ALo(1,"translate"),l.qZA()}if(2&e){var i=l.oxw(2);l.Q6J("itemTitle",l.lcZ(1,2,"navigation.conference.title"))("itemRouterLink",i.SidenavPath.Conference)}}function Pr(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"sidenav-item",13),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw(2).sideNavItemClicked(!1)}),l.ALo(1,"translate"),l.qZA()}if(2&e){var i=l.oxw(2);l.Q6J("itemTitle",l.lcZ(1,2,"navigation.meetings.title"))("itemRouterLink",i.SidenavPath.Meetings)}}var Ir=function(){return{exact:!1}};function Or(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"sidenav-item",14),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw(2).sideNavItemClicked(!1)}),l.ALo(1,"translate"),l.qZA()}if(2&e){var i=l.oxw(2);l.Q6J("itemRouterLinkActiveOptions",l.DdM(5,Ir))("itemTitle",l.lcZ(1,3,"navigation.fax.title"))("itemRouterLink",i.SidenavPath.Fax)}}function jr(e,t){if(1&e){var n=l.EpF();l.ynx(0),l.TgZ(1,"sidenav-item",5),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw().sideNavItemClicked(!1)}),l.ALo(2,"translate"),l.qZA(),l.TgZ(3,"sidenav-item",6),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw().sideNavItemClicked(!1)}),l.ALo(4,"translate"),l._UZ(5,"history-notification-counter",7),l.qZA(),l.TgZ(6,"sidenav-item",8),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw().sideNavItemClicked(!1)}),l.ALo(7,"translate"),l.qZA(),l.YNc(8,Tr,2,4,"sidenav-item",9),l.ALo(9,"async"),l.YNc(10,Pr,2,4,"sidenav-item",10),l.ALo(11,"async"),l.YNc(12,Or,2,6,"sidenav-item",11),l.ALo(13,"async"),l.BQk()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("itemTitle",l.lcZ(2,11,"navigation.telephone.title"))("itemRouterLink",i.SidenavPath.Telephone),l.xp6(2),l.Q6J("itemRouterLinkActiveOptions",l.DdM(23,Ir))("itemTitle",l.lcZ(4,13,"navigation.history.title"))("itemRouterLink",i.SidenavPath.History),l.xp6(2),l.Q6J("notificationType",i.historyNotificationType),l.xp6(1),l.Q6J("itemTitle",l.lcZ(7,15,"navigation.contacts.title"))("itemRouterLink",i.SidenavPath.Contacts),l.xp6(2),l.Q6J("ngIf",l.lcZ(9,17,i.hasConferenceAccess$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(11,19,i.hasUserModuleMeeting$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(13,21,i.hasFaxAccess$))}}function Er(e,t){if(1&e){var n=l.EpF();l.ynx(0),l.TgZ(1,"sidenav-submenu-item",21),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw(2).sideNavItemClicked(!1)}),l.ALo(2,"translate"),l.qZA(),l.TgZ(3,"sidenav-submenu-item",22),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw(2).sideNavItemClicked(!1)}),l.ALo(4,"translate"),l.qZA(),l.TgZ(5,"sidenav-submenu-item",23),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw(2).sideNavItemClicked(!1)}),l.ALo(6,"translate"),l.qZA(),l.TgZ(7,"sidenav-submenu-item",24),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw(2).sideNavItemClicked(!1)}),l.ALo(8,"translate"),l.qZA(),l.BQk()}if(2&e){var i=l.oxw(2);l.xp6(1),l.Q6J("linkTitle",l.lcZ(2,8,"navigation.settings.call-forwarding.title"))("itemRouterLink",i.SidenavPath.SettingsCallForwarding),l.xp6(2),l.Q6J("linkTitle",l.lcZ(4,10,"navigation.settings.queues.title"))("itemRouterLink",i.SidenavPath.SettingsQueues),l.xp6(2),l.Q6J("linkTitle",l.lcZ(6,12,"navigation.settings.function-keys.title"))("itemRouterLink",i.SidenavPath.SettingsFunctionKeys),l.xp6(2),l.Q6J("linkTitle",l.lcZ(8,14,"navigation.settings.fax.title"))("itemRouterLink",i.SidenavPath.SettingsFax)}}function Lr(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"sidenav-submenu-item",25),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw(2).sideNavItemClicked(!1)}),l.ALo(1,"translate"),l.qZA()}if(2&e){var i=l.oxw(2);l.Q6J("linkTitle",l.lcZ(1,2,"navigation.settings.crm_connect.title"))("itemRouterLink",i.SidenavPath.SettingsCrmConnect)}}function Nr(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"sidenav-submenu-item",20),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw(2).sideNavItemClicked(!1)}),l.ALo(1,"translate"),l.qZA()}if(2&e){var i=l.oxw(2);l.Q6J("linkTitle",l.lcZ(1,2,"navigation.settings.hotkeys.title"))("itemRouterLink",i.SidenavPath.SettingsHotkeys)}}function Rr(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"ul",15),l.TgZ(1,"sidenav-submenu-item",16),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw().sideNavItemClicked(!1)}),l.ALo(2,"translate"),l.qZA(),l.YNc(3,Er,9,16,"ng-container",1),l.ALo(4,"async"),l.YNc(5,Lr,2,4,"sidenav-submenu-item",17),l.ALo(6,"async"),l.YNc(7,Nr,2,4,"sidenav-submenu-item",18),l.TgZ(8,"sidenav-submenu-item",19),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw().sideNavItemClicked(!1)}),l.ALo(9,"translate"),l.qZA(),l.TgZ(10,"sidenav-submenu-item",20),l.NdJ("itemClicked",function(){return l.CHM(n),l.oxw().sideNavItemClicked(!1)}),l.ALo(11,"translate"),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("linkTitle",l.lcZ(2,9,"navigation.settings.user-settings.title"))("itemRouterLink",i.SidenavPath.SettingsUser),l.xp6(2),l.Q6J("ngIf",l.lcZ(4,11,i.hasUserExtension$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(6,13,i.hasCrmConnectAccess$)),l.xp6(2),l.Q6J("ngIf",i.showHotkeys),l.xp6(1),l.Q6J("linkTitle",l.lcZ(9,15,"navigation.settings.download.title"))("itemRouterLink",i.SidenavPath.SettingsDownload),l.xp6(2),l.Q6J("linkTitle",l.lcZ(11,17,"navigation.settings.info.title"))("itemRouterLink",i.SidenavPath.SettingsInfo)}}function Dr(e,t){1&e&&l._UZ(0,"logo",26),2&e&&l.Q6J("hasLink",!1)}var Zr=function(){var e=function(){function e(t,n,i,r,a,o){_classCallCheck2(this,e),this.helpersService=t,this.themeService=n,this.featureAccessService=i,this.router=r,this.historyNotificationCounterService=a,this.electronService=o,this.itemClicked=new l.vpe,this.historyNotificationType=dr.TOTAL,this.SidenavPath=fr,this.isLogoShown=!1,this.hasUserExtension$=this.featureAccessService.hasUserExtension$,this.hasFaxAccess$=this.featureAccessService.hasFaxAccess$,this.hasConferenceAccess$=this.featureAccessService.hasConferenceAccess$,this.hasUserModuleMeeting$=this.featureAccessService.hasUserModuleMeeting$,this.hasCrmConnectAccess$=this.featureAccessService.hasCrmConnectAccess$,this.showHotkeys=this.electronService.desktop}return _createClass2(e,[{key:"ngOnInit",value:function(){this.isLogoShown=!this.helpersService.getDeepProperty(ur.n[this.themeService.getTheme()],"sidenav.logoHidden"),this.isSettingsPageActive$=this.router.events.pipe((0,Xt.h)(function(e){return e instanceof i.m2}),(0,Et.U)(function(t){return e.setIsSettingsPageActive(t.url)}),(0,Rn.O)(e.setIsSettingsPageActive(this.router.url)))}},{key:"ngOnDestroy",value:function(){this.historyNotificationCounterService.setAmountUnheardVoiceMails(0)}},{key:"sideNavItemClicked",value:function(e){this.itemClicked.emit(e)}}],[{key:"setIsSettingsPageActive",value:function(e){return e.includes("settings")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(hr.$),l.Y36(pr.f),l.Y36(gr.q),l.Y36(i.F0),l.Y36(kr),l.Y36(On.d))},e.\u0275cmp=l.Xpm({type:e,selectors:[["sidenav"]],outputs:{itemClicked:"itemClicked"},decls:8,vars:13,consts:[["data-e2e","navigator-fragment",1,"sidenav"],[4,"ngIf"],["e2e","navigator-fragment__settings--a","icon","settings_outline",3,"itemRouterLinkActiveOptions","itemTitle","itemRouterLink","itemClicked"],["class","sidenav__submenu",4,"ngIf"],["class","sidenav__footer","e2e","navigator-fragment","location","sidenav__footer",3,"hasLink",4,"ngIf"],["e2e","navigator-fragment__phone--a","icon","call_round",3,"itemTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__history--a","icon","time",3,"itemRouterLinkActiveOptions","itemTitle","itemRouterLink","itemClicked"],[1,"sidenav__history-notification-counter",3,"notificationType"],["e2e","navigator-fragment__contacts--a","icon","address_book",3,"itemTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__conference--a","icon","conference_call_outline",3,"itemTitle","itemRouterLink","itemClicked",4,"ngIf"],["e2e","navigator-fragment__meetings--a","icon","calendar_outline",3,"itemTitle","itemRouterLink","itemClicked",4,"ngIf"],["e2e","navigator-fragment__fax--a","icon","fax_outline",3,"itemRouterLinkActiveOptions","itemTitle","itemRouterLink","itemClicked",4,"ngIf"],["e2e","navigator-fragment__conference--a","icon","conference_call_outline",3,"itemTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__meetings--a","icon","calendar_outline",3,"itemTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__fax--a","icon","fax_outline",3,"itemRouterLinkActiveOptions","itemTitle","itemRouterLink","itemClicked"],[1,"sidenav__submenu"],["e2e","navigator-fragment__settings-user--a",3,"linkTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__settings-crm-connect--a",3,"linkTitle","itemRouterLink","itemClicked",4,"ngIf"],["e2e","navigator-fragment__settings-info--a",3,"linkTitle","itemRouterLink","itemClicked",4,"ngIf"],["e2e","navigator-fragment__settings-download--a",3,"linkTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__settings-info--a",3,"linkTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__settings-call-forwarding--a",3,"linkTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__settings-queues--a",3,"linkTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__settings-function-keys--a",3,"linkTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__settings-fax--a",3,"linkTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment__settings-crm-connect--a",3,"linkTitle","itemRouterLink","itemClicked"],["e2e","navigator-fragment","location","sidenav__footer",1,"sidenav__footer",3,"hasLink"]],template:function(e,t){1&e&&(l.TgZ(0,"nav",0),l.YNc(1,jr,14,24,"ng-container",1),l.ALo(2,"async"),l.TgZ(3,"sidenav-item",2),l.NdJ("itemClicked",function(){return t.sideNavItemClicked(!0)}),l.ALo(4,"translate"),l.YNc(5,Rr,12,19,"ul",3),l.ALo(6,"async"),l.qZA(),l.qZA(),l.YNc(7,Dr,1,1,"logo",4)),2&e&&(l.xp6(1),l.Q6J("ngIf",l.lcZ(2,6,t.hasUserExtension$)),l.xp6(2),l.Q6J("itemRouterLinkActiveOptions",l.DdM(12,Ir))("itemTitle",l.lcZ(4,8,"navigation.settings.title"))("itemRouterLink",t.SidenavPath.Settings),l.xp6(2),l.Q6J("ngIf",l.lcZ(6,10,t.isSettingsPageActive$)),l.xp6(2),l.Q6J("ngIf",t.isLogoShown))},directives:[K.O5,Sr.t,Ar,wr,Mr.R],pipes:[K.Ov,_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.hide-module[_ngcontent-%COMP%]{display:none!important}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;margin-top:1.6rem;overflow:hidden;padding-top:.8rem}.mat-drawer-over[_nghost-%COMP%], .mat-drawer-over   [_nghost-%COMP%]{margin-top:0;padding-top:0}.sidenav[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.sidenav__footer[_ngcontent-%COMP%]{display:flex;justify-content:center;max-height:7.5rem;padding:1.6rem}.sidenav__submenu[_ngcontent-%COMP%]{border-left:.8rem solid;list-style:none;margin-top:-1.4rem;overflow:visible;padding-bottom:1rem;padding-left:8.4rem}.sidenav__history-notification-counter[_ngcontent-%COMP%]{left:21rem;position:relative;top:-3rem}"],changeDetection:0}),e}(),Fr=n(11538),Ur=n(96566),qr=n(92543),Br=n(56765),Hr=n(50501),Yr=n(89670),Vr=n(54278),Jr=n(3052),Qr=n(44895),zr=n(79098);function Gr(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"app-button",4),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().previousPage()}),l.ALo(2,"async"),l.qZA(),l.TgZ(3,"app-button",5),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().nextPage()}),l.ALo(4,"async"),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("disabled",!l.lcZ(2,2,i.hasPreviousPage$)),l.xp6(2),l.Q6J("disabled",!l.lcZ(4,4,i.hasNextPage$))}}function Wr(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",6),l._UZ(1,"microphone"),l._UZ(2,"video-camera-toggle"),l._UZ(3,"video-screenshare-menu"),l.TgZ(4,"app-button",7),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().enterCinemaMode()}),l.qZA(),l.qZA()}}var $r=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.cinemaModeService=t,this.videoPaginationService=n,this.ngUnsubscribe=new A.xQ,this.isPhonePanelView=!1,this.hasPreviousPage$=this.videoPaginationService.hasPreviousPage$,this.hasNextPage$=this.videoPaginationService.hasNextPage$}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.videoPaginationService.isPaginationAvailable$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){return e.isPaginationAvailable=e.isPhonePanelView&&t})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"previousPage",value:function(){this.videoPaginationService.previousPage()}},{key:"nextPage",value:function(){this.videoPaginationService.nextPage()}},{key:"enterCinemaMode",value:function(){this.cinemaModeService.enterCinemaMode()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Bn.H),l.Y36(Yr.H))},e.\u0275cmp=l.Xpm({type:e,selectors:[["mini-video"]],hostVars:2,hostBindings:function(e,t){2&e&&l.ekj("mini-video--shows-pagination",t.isPaginationAvailable)},inputs:{isPhonePanelView:"isPhonePanelView"},decls:3,vars:2,consts:[[1,"mini-video__video-member"],["class","mini-video__pagination",4,"ngIf"],["class","mini-video__overlay",4,"ngIf"],[1,"mini-video__pagination"],["color","primary","iconName","arrow_left","size","small",3,"disabled","appButtonClick"],["color","primary","iconName","arrow_right","size","small",3,"disabled","appButtonClick"],[1,"mini-video__overlay"],["hoverTextTranslationKey","telephone.cinema_mode_on","iconName","cinema_mode_on",3,"appButtonClick"]],template:function(e,t){1&e&&(l._UZ(0,"video-member-page",0),l.YNc(1,Gr,5,6,"div",1),l.YNc(2,Wr,5,0,"div",2)),2&e&&(l.xp6(1),l.Q6J("ngIf",t.isPaginationAvailable),l.xp6(1),l.Q6J("ngIf",!t.isPhonePanelView))},directives:[Vr.z,K.O5,Pt.V,Jr.B,Qr.p,zr.J],pipes:[K.Ov],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{align-items:center;background-color:#343434;display:flex;height:20rem;justify-content:center;overflow-y:hidden;position:relative}.mini-video--shows-pagination[_nghost-%COMP%]{flex-direction:column;height:25rem;min-height:25rem;overflow-y:visible}.mini-video--shows-pagination[_nghost-%COMP%]   .mini-video__video-member[_ngcontent-%COMP%]{height:20rem}[_nghost-%COMP%]:hover   .mini-video__overlay[_ngcontent-%COMP%]{bottom:0}.mini-video__video-member[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:100%;justify-content:center;width:100%}.mini-video__video-off[_ngcontent-%COMP%]   app-svg-icon[_ngcontent-%COMP%]{max-height:20rem}.mini-video__status-note-floating[_ngcontent-%COMP%]{background-color:#000000bf;border-radius:.4rem;color:#fff;padding:1.6rem;position:absolute;z-index:2}.mini-video__overlay[_ngcontent-%COMP%]{align-content:center;background-color:#0006;bottom:-5rem;color:#fff;display:flex;flex-direction:row;height:5rem;justify-content:flex-end;left:0;position:absolute;right:0;transition:.3s ease-in-out all;z-index:200}.mini-video__overlay[_ngcontent-%COMP%]     svg{fill:#fff}.mini-video__overlay[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{margin:0 .3rem}.mini-video__pagination[_ngcontent-%COMP%]{align-items:center;background-color:#fff;display:flex;height:5rem;justify-content:flex-end;width:100%}"]}),e}();function Kr(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"button",4),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw(2).videoPosition=e}),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw(2);l.ekj("active",r.videoPosition==i)}}function Xr(e,t){if(1&e&&(l.TgZ(0,"div"),l._UZ(1,"mini-video",1),l.TgZ(2,"div",2),l.YNc(3,Kr,1,2,"button",3),l.qZA(),l.qZA()),2&e){var n=l.oxw();l.Gre("mini-video-overlay__video ",n.videoPosition,""),l.xp6(3),l.Q6J("ngForOf",n.edgeDirections)}}var ea=function(){var e=function(){function e(t,n,r){var a=this;_classCallCheck2(this,e),this.cinemaModeService=t,this.apiAvFeedService=n,this.router=r,this.ngUnsubscribe=new A.xQ,this.videoPosition="topright",this.edgeDirections=["topleft","topright","bottomleft","bottomright"],this.isMiniVideoVisible$=(0,ln.aj)([this.cinemaModeService.isInCinemaMode$,this.apiAvFeedService.isAnyFeedPresent$,this.router.events.pipe((0,Xt.h)(function(e){return e instanceof i.m2}),(0,Et.U)(function(){return a.router.url.includes("telephone")}))]).pipe((0,Et.U)(function(e){var t=_slicedToArray2(e,3),n=t[0],i=t[1],r=t[2];return!n&&i&&!r}))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Bn.H),l.Y36(Hr.D),l.Y36(i.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["mini-video-overlay"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"mini-video-overlay__mini-video"],[1,"mini-video-overlay__video__positioning-buttons"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,t){1&e&&(l.YNc(0,Xr,4,4,"div",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,t.isMiniVideoVisible$))},directives:[K.O5,$r,K.sg],pipes:[K.Ov],styles:[".mini-video-overlay__video[_ngcontent-%COMP%]{border:.2rem solid #fff;border-radius:.2rem;box-shadow:0 0 .4rem #0006;display:flex;position:absolute;transition:all .3s ease-in-out;width:30rem;z-index:200}.mini-video-overlay__video[_ngcontent-%COMP%]   mini-video[_ngcontent-%COMP%]{width:100%}.mini-video-overlay__video.topleft[_ngcontent-%COMP%]{left:2.4rem;top:8rem}.mini-video-overlay__video.topright[_ngcontent-%COMP%]{right:2.4rem;top:8rem}.mini-video-overlay__video.bottomleft[_ngcontent-%COMP%]{bottom:8rem;left:2.4rem}.mini-video-overlay__video.bottomright[_ngcontent-%COMP%]{bottom:8rem;right:2.4rem}.mini-video-overlay__video[_ngcontent-%COMP%]:hover   .mini-video-overlay__video__positioning-buttons[_ngcontent-%COMP%]{opacity:1}.mini-video-overlay__video__positioning-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;left:1.2rem;opacity:0;position:absolute;top:1.2rem;transition:opacity .3s ease-in-out;width:4rem;z-index:200}.mini-video-overlay__video__positioning-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:0;border-radius:.6rem;cursor:pointer;height:1.8rem;margin:.1rem;outline:none;width:1.8rem}.mini-video-overlay__video__positioning-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){border-bottom-right-radius:0}.mini-video-overlay__video__positioning-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){border-bottom-left-radius:0}.mini-video-overlay__video__positioning-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3){border-top-right-radius:0}.mini-video-overlay__video__positioning-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(4){border-top-left-radius:0}"]}),e}(),ta=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.userService=t,this.original="",this.mobility="",this.ngUnsubscribe=new A.xQ,this.text=""}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.userService.userInfo$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&(e.text=e.userService.isMobilityOptionEnabled()?e.original:e.mobility)})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(J.K))},e.\u0275cmp=l.Xpm({type:e,selectors:[["info-message"]],inputs:{original:"original",mobility:"mobility"},decls:2,vars:3,template:function(e,t){1&e&&(l._uU(0),l.ALo(1,"translate")),2&e&&l.Oqu(l.lcZ(1,1,t.text))},pipes:[_.X$],encapsulation:2}),e}(),na=n(61734),ia=n(66356),ra=n(98910),aa=n(12522),oa=n(59588),sa=n(8774),ca=n(14142);function la(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button",1),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().pickupCall()}),l.qZA()}}var ua=function(){var e=function(){function e(t,n,i){_classCallCheck2(this,e),this.sipService=t,this.pickupCallService=n,this.callTrackerService=i,this.ngUnsubscribe=new A.xQ,this.isRinging=!1,this.isCallModalActive=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.incomingCalls$=this.callTrackerService.incomingCalls$,this.getPickableCallList(),this.pickupCallService.onFunctionKey$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.isRinging=t&&t.length>0})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"pickupCall",value:function(){this.pickupCallService.pickupCallRandomly()}},{key:"getPickableCallList",value:function(){var e=this;this.pickupCallService.onPickableChangeStatus$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.activePickupCall=t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(be.y),l.Y36(sa.I),l.Y36(N.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["pickup-call-menu-button"]],decls:2,vars:3,consts:[["hideCall","","buttonTextTranslationKey","pickup.pickup_call","color","primary","size","telephone__pickup--style","type","basic-button","class","exclude-app-button-style",3,"appButtonClick",4,"ngIf"],["hideCall","","buttonTextTranslationKey","pickup.pickup_call","color","primary","size","telephone__pickup--style","type","basic-button",1,"exclude-app-button-style",3,"appButtonClick"]],template:function(e,t){1&e&&(l.YNc(0,la,1,0,"app-button",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",!!l.lcZ(1,1,t.incomingCalls$)&&t.isRinging)},directives:[K.O5,Pt.V,ca.N],pipes:[K.Ov],encapsulation:2}),e}(),fa=n(66853),da=n(30606),ha=n(4008),pa=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.dtmfService=t}return _createClass2(e,[{key:"ngOnInit",value:function(){this.enteredDtmfCharacters$=this.dtmfService.enteredDtmfCharacters$}},{key:"onKeypress",value:function(e){var t=e.target instanceof HTMLInputElement;"Enter"!==e.key&&!t&&this.dtmfService.setDtmf(e.key)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(pn.y))},e.\u0275cmp=l.Xpm({type:e,selectors:[["dtmf"]],hostBindings:function(e,t){1&e&&l.NdJ("keypress",function(e){return t.onKeypress(e)},!1,l.evT)},decls:6,vars:5,consts:[[1,"dtmf"],["fill","search-icon--color","icon","dialpad","size","small",1,"dtmf__dialpad-icon"],[1,"dtmf__text"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"app-svg-icon",1),l.TgZ(2,"span",2),l._uU(3),l.ALo(4,"translate"),l.ALo(5,"async"),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.hij(" ",l.lcZ(4,1,l.lcZ(5,3,t.enteredDtmfCharacters$)||"dtmf.dtmf-placeholder")," "))},directives:[ne.u],pipes:[_.X$,K.Ov],styles:[".dtmf[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;font-size:1.8rem;height:3.8rem;position:relative}.dtmf__dialpad-icon[_ngcontent-%COMP%]{margin:0 2.4rem 0 1rem}.dtmf__text[_ngcontent-%COMP%]{flex:1}"]}),e}(),ga=n(33935);function ma(e,t){if(1&e&&(l.TgZ(0,"span",9),l._uU(1),l.qZA()),2&e){var n=l.oxw().$implicit;l.Q6J("ngClass","c"+n.color_index),l.xp6(1),l.hij(" ",n.name," ")}}function va(e,t){1&e&&(l.TgZ(0,"span",10),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"settings.profiles.metadata.basic_name")," "))}function ba(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw(2).setProfile(e)}),l.YNc(1,ma,2,2,"span",7),l.YNc(2,va,3,3,"span",8),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw(2);l.Q6J("ngClass",r.profileClasses(i)),l.xp6(1),l.Q6J("ngIf",!i.immutable),l.xp6(1),l.Q6J("ngIf",i.immutable)}}function ya(e,t){if(1&e&&(l.TgZ(0,"div",1),l._UZ(1,"app-button",2),l.ALo(2,"async"),l.TgZ(3,"mat-menu",3,4),l.YNc(5,ba,3,3,"button",5),l.ALo(6,"async"),l.qZA(),l.qZA()),2&e){var n,i=l.MAs(4),r=l.oxw();l.xp6(1),l.Q6J("iconUnderlinedColor",null==(n=l.lcZ(2,4,r.activeProfile$))?null:n.color_index)("matMenuTriggerFor",i),l.xp6(2),l.Q6J("overlapTrigger",!1),l.xp6(2),l.Q6J("ngForOf",l.lcZ(6,6,r.profiles$))}}var _a=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.callForwardingService=t,this.snackBar=n,this.ngUnsubscribe=new A.xQ,this.profiles$=this.callForwardingService.profiles$,this.activeProfile$=this.callForwardingService.activeProfile$,this.profilesLength$=this.callForwardingService.profilesLength$}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"profileClasses",value:function(e){return{default:!!e.immutable,"forwarding-profiles__profile--active":!!e.active,"no-color":!e.color_index}}},{key:"setProfile",value:function(e){var t=this;this.callForwardingService.activateProfile(e).pipe((0,Xe.K)(function(e){e?t.snackBar.open("call-forwarding-profiles.activating-profile"):t.snackBar.openInfo("call-forwarding-profiles.activated-profile",!0)}),(0,M.R)(this.ngUnsubscribe)).subscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(wn.V),l.Y36(E.c))},e.\u0275cmp=l.Xpm({type:e,selectors:[["forwarding-profiles"]],decls:2,vars:3,consts:[["class","forwarding-profiles",4,"ngIf"],[1,"forwarding-profiles"],["hoverTextTranslationKey","toolbar.buttons.call_forwarding_profiles.tooltip","iconFillClass","header-button","iconName","call_forwarding","type","","e2e","toolbar-fragment__forwarding",1,"forwarding-profiles__btn",3,"iconUnderlinedColor","matMenuTriggerFor"],[3,"overlapTrigger"],["forwardingMenu","matMenu"],["class","forwarding-profiles__profile","mat-menu-item","",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"forwarding-profiles__profile",3,"ngClass","click"],["class","forwarding-profiles__profile__name",3,"ngClass",4,"ngIf"],["class","forwarding-profiles__profile__default-name",4,"ngIf"],[1,"forwarding-profiles__profile__name",3,"ngClass"],[1,"forwarding-profiles__profile__default-name"]],template:function(e,t){1&e&&(l.YNc(0,ya,7,8,"div",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,t.profilesLength$)>1)},directives:[K.O5,Pt.V,ga.p6,ga.VK,K.sg,ga.OP,K.mk],pipes:[K.Ov,_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.forwarding-profiles[_ngcontent-%COMP%]{align-items:center;display:flex}.forwarding-profiles__profile[_ngcontent-%COMP%]{font-size:1.6rem}.forwarding-profiles__profile__name[_ngcontent-%COMP%]{border-left:.3rem solid;padding:0 0 0 .7rem}.forwarding-profiles__profile__name.c1[_ngcontent-%COMP%]{border-color:#9a9a9a}.forwarding-profiles__profile__name.c2[_ngcontent-%COMP%]{border-color:#f33}.forwarding-profiles__profile__name.c3[_ngcontent-%COMP%]{border-color:#ffb366}.forwarding-profiles__profile__name.c4[_ngcontent-%COMP%]{border-color:#ff3}.forwarding-profiles__profile__name.c5[_ngcontent-%COMP%]{border-color:#d6d65c}.forwarding-profiles__profile__name.c6[_ngcontent-%COMP%]{border-color:#660}.forwarding-profiles__profile__name.c7[_ngcontent-%COMP%]{border-color:#adff33}.forwarding-profiles__profile__name.c8[_ngcontent-%COMP%]{border-color:#4c0}.forwarding-profiles__profile__name.c9[_ngcontent-%COMP%]{border-color:#0cc}.forwarding-profiles__profile__name.c10[_ngcontent-%COMP%]{border-color:#9df}.forwarding-profiles__profile__name.c11[_ngcontent-%COMP%]{border-color:#335cff}.forwarding-profiles__profile__name.c12[_ngcontent-%COMP%]{border-color:#8533ff}.forwarding-profiles__profile__name.c13[_ngcontent-%COMP%]{border-color:#e6ccff}.forwarding-profiles__profile__name.c14[_ngcontent-%COMP%]{border-color:#f0f}.forwarding-profiles__profile__name.c15[_ngcontent-%COMP%]{border-color:#99004d}.forwarding-profiles__profile__name.c16[_ngcontent-%COMP%]{border-color:#d98cb3}.forwarding-profiles__profile__default-name[_ngcontent-%COMP%]{padding:0 0 0 1rem}"]}),e}(),Ca=n(6555),ka=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.checkDesktopAppUpdateService=t}return _createClass2(e,[{key:"toggleNewDesktopAppInfo",value:function(){this.checkDesktopAppUpdateService.checkDesktopAppVersion()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(gn.M))},e.\u0275cmp=l.Xpm({type:e,selectors:[["desktop-app-update-button"]],decls:1,vars:0,consts:[["isHoverboxVisible","true","hoverTextTranslationKey","settings.download.update_button_info","buttonTextTranslationKey","settings.download.update","type","basic-button",1,"exclude-app-button-style",3,"appButtonClick"]],template:function(e,t){1&e&&(l.TgZ(0,"app-button",0),l.NdJ("appButtonClick",function(){return t.toggleNewDesktopAppInfo()}),l.qZA())},directives:[Pt.V],styles:["[_nghost-%COMP%]{margin:1.5rem}"]}),e}(),Sa=n(80181),xa=function(){var e=function(){function e(t,n,i){_classCallCheck2(this,e),this.router=t,this.phoneBookService=n,this.snackBarService=i,this.reloadItems=!1,this.item=new nt.e,this.isSaving=!1,this.reloadGlobal=!0,this.bind()}return _createClass2(e,[{key:"save",value:function(e,t){var n=this;this.isSaving=!0,this.snackBarService.open("contacts.saving"),this.reloadGlobal=t,this.phoneBookService.createContact(e).subscribe(function(){return n.handleSuccess()},function(e){return n.handleError(e)})}},{key:"cancel",value:function(){this.router.navigate(["/main/contacts"])}},{key:"handleSuccess",value:function(){this.isSaving=!1,this.snackBarService.openInfo("contacts.saved",!0),this.reloadItems&&this.phoneBookService.reloadItems(this.reloadGlobal)}},{key:"handleError",value:function(e){this.isSaving=!1,this.snackBarService.openErrorInfo("contacts.error"),e&&e.errors&&(this.errors=e.errors)}},{key:"bind",value:function(){this.cancel=this.cancel.bind(this),this.save=this.save.bind(this)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(i.F0),l.Y36(rt.$),l.Y36(E.c))},e.\u0275dir=l.lG2({type:e}),e}(),Aa=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o){var s;return _classCallCheck2(this,n),(s=t.call(this,i,r,a)).data=e,s.router=i,s.phoneBookService=r,s.snackBarService=a,s.dialogRef=o,s.item=s.data.contact,r.activeItem("-1"),s.reloadItems=!0,s}return _createClass2(n,[{key:"save",value:function(e){var t=this.data.type===tt.n.GLOBAL;this.cancel(),_get(_getPrototypeOf(n.prototype),"save",this).call(this,e,t)}},{key:"cancel",value:function(){this.dialogRef.close()}}]),n}(xa);return e.\u0275fac=function(t){return new(t||e)(l.Y36(O.WI),l.Y36(i.F0),l.Y36(rt.$),l.Y36(E.c),l.Y36(O.so))},e.\u0275cmp=l.Xpm({type:e,selectors:[["phone-book-new-contact"]],features:[l.qOj],decls:5,vars:5,consts:[["data-e2e","contact-modal-fragment"],["modal-header","",1,"extended-header"],["modalTitle","contacts.add-contact","data-e2e","contact-modal-fragment__header",3,"isBusyLampFieldHidden"],["modal-content",""],["e2e","contact-modal-fragment",3,"cancelFn","errors","item","saveFn"]],template:function(e,t){1&e&&(l.TgZ(0,"modal-details-container",0),l.TgZ(1,"div",1),l._UZ(2,"user-modal-header",2),l.qZA(),l.TgZ(3,"div",3),l._UZ(4,"contact-form",4),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("isBusyLampFieldHidden",!0),l.xp6(2),l.Q6J("cancelFn",t.cancel)("errors",t.errors)("item",t.item)("saveFn",t.save))},directives:[$,ot.j,kt],styles:[""]}),e}(),wa=n(82676),Ma=n(77746),Ta=n(44163),Pa=function(e){return{ext:e}};function Ia(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"mat-list-item"),l.TgZ(1,"button",9),l.NdJ("click",function(){return l.CHM(n),l.oxw(3).onSelectExtension()}),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()}if(2&e){var i=l.oxw(3);l.xp6(2),l.hij(" ",l.xi3(3,1,"context-menu.call-via-ext{ ext }",l.VKq(4,Pa,i.extension))," ")}}function Oa(e,t){1&e&&(l.TgZ(0,"mat-list-item"),l._UZ(1,"app-spinner"),l.qZA())}var ja=function(e){return{profileName:e}};function Ea(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"mat-list-item"),l.TgZ(1,"button",10),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw(3).onSelectProfile(e)}),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit;l.xp6(2),l.hij(" ",l.xi3(3,1,"context-menu.call-via{ profileName }",l.VKq(4,ja,i.name))," ")}}function La(e,t){if(1&e){var n=l.EpF();l.ynx(0),l.YNc(1,Ia,4,6,"mat-list-item",1),l.YNc(2,Oa,2,0,"mat-list-item",1),l.YNc(3,Ea,4,6,"mat-list-item",6),l.TgZ(4,"mat-list-item",7),l.TgZ(5,"button",8),l.NdJ("click",function(){return l.CHM(n),l.oxw(2).addFunctionKey()}),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.qZA(),l.BQk()}if(2&e){var i=l.oxw(2);l.xp6(1),l.Q6J("ngIf",i.extension),l.xp6(1),l.Q6J("ngIf",i.isLoading),l.xp6(1),l.Q6J("ngForOf",i.profiles),l.xp6(3),l.hij(" ",l.lcZ(7,4,"context-menu.add-to-function-key")," ")}}function Na(e,t){if(1&e){var n=l.EpF();l.ynx(0),l.TgZ(1,"mat-list-item"),l.TgZ(2,"button",3),l.NdJ("click",function(){return l.CHM(n),l.oxw().onSelectPreferred()}),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.qZA(),l.TgZ(5,"mat-list-item",4),l.TgZ(6,"button",5),l.NdJ("click",function(){return l.CHM(n),l.oxw().onSelectUC()}),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.qZA(),l.YNc(9,La,8,6,"ng-container",1),l.BQk()}if(2&e){var i=l.oxw();l.xp6(3),l.hij(" ",l.lcZ(4,4,"call")," "),l.xp6(2),l.Q6J("modules","phone"),l.xp6(2),l.hij(" ",l.lcZ(8,6,"context-menu.call-via-uc-client")," "),l.xp6(2),l.Q6J("ngIf",!(null!=i.callLocation&&i.callLocation.emergency))}}function Ra(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"mat-list-item",7),l.TgZ(1,"button",11),l.NdJ("click",function(){return l.CHM(n),l.oxw().callModalAddToContacts()}),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()}2&e&&(l.xp6(2),l.hij(" ",l.lcZ(3,1,"context-menu.add-to-contacts")," "))}var Da=function(e){return{crmConnectName:e}};function Za(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"mat-list-item",7),l.TgZ(1,"button",12),l.NdJ("click",function(){return l.CHM(n),l.oxw().openContactInCrm()}),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(2),l.hij(" ",l.xi3(3,1,"context-menu.open-{ crmConnectName }-contact",l.VKq(4,Da,i.item.crmConnectName))," ")}}var Fa=function(e){return{"has-profiles":e}},Ua=function(){var e=function(){function e(t,n,i,r,a,o,s,c,l,u,f){_classCallCheck2(this,e),this.userService=t,this.clickToDialService=n,this.profileService=i,this.router=r,this.functionKeysService=a,this.elementRef=o,this.dialog=s,this.snackBarService=c,this.conferenceSubscriptionsService=l,this.crmConnectService=u,this.callService=f,this.ngUnsubscribe=new A.xQ,this.isLoading=!0}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.getProfiles(),this.getExtensionNumber(),this.conferenceSubscriptionsService.conferenceSubscriptions$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.conferenceSubscriptions=t})}},{key:"handleEscape",value:function(e){e.stopPropagation(),this.hide()}},{key:"handleClick",value:function(e){this.elementRef.nativeElement.contains(e.target)||this.hide()}},{key:"onSelectUC",value:function(){this.startOutgoingCall({isClickToDial:!1})}},{key:"onSelectPreferred",value:function(){var e,t=!(null===(e=this.callLocation)||void 0===e?void 0:e.emergency);this.startOutgoingCall({isClickToDial:t,isPreferred:!0})}},{key:"onSelectProfile",value:function(e){this.startOutgoingCall({isClickToDial:!0,caller:{name:e.name,number:e.attributes.CLICKTODIAL_SOURCE.attribute_value}})}},{key:"onSelectExtension",value:function(){this.startOutgoingCall({isClickToDial:!0,caller:{name:"Ext. ".concat(this.extension),number:this.extension}})}},{key:"addFunctionKey",value:function(){this.functionKeysService.openFunctionKeysForm=!0,this.functionKeysService.functionKeyItem=this.item,this.router.navigate(["/main/settings/function-keys"])}},{key:"callModalAddToContacts",value:function(){var e=new nt.e;e.displayNumber=this.item.number,this.dialog.open(Aa,{autoFocus:!1,data:{contact:e,type:tt.n.PRIVATE}})}},{key:"openContactInCrm",value:function(){this.crmConnectService.openContact(this.item.crmConnectLink)}},{key:"setContextMenuItemClicked",value:function(){this.clickToDialService.callContextMenu({menuItemClicked:!0})}},{key:"hide",value:function(){this.clickToDialService.callContextMenu({isShown:!1})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"startOutgoingCall",value:function(e){this.item.name||this.item.number?this.callService.makeCall(this.item.number,Object.assign(Object.assign({},this.item),{config:e})):this.snackBarService.openInfo("Failure")}},{key:"getProfiles",value:function(){var e=this;this.profileService.getProfiles().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.isLoading=!1,e.profiles=t.data})}},{key:"getExtensionNumber",value:function(){var e=this;this.userService.userInfo$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&(e.extension=t.activePhoneExtension.extensionNumber)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(J.K),l.Y36(L.q),l.Y36(wa.H),l.Y36(i.F0),l.Y36(Hn.f),l.Y36(l.SBq),l.Y36(O.uw),l.Y36(E.c),l.Y36(V.H),l.Y36(Tt.a),l.Y36(Me.M))},e.\u0275cmp=l.Xpm({type:e,selectors:[["call-context-menu"]],hostBindings:function(e,t){1&e&&l.NdJ("keydown.escape",function(e){return t.handleEscape(e)},!1,l.evT)("click",function(e){return t.handleClick(e)},!1,l.evT)},inputs:{positionY:"positionY",positionX:"positionX",item:"item",clipped:"clipped",callLocation:"callLocation"},decls:4,vars:10,consts:[["data-e2e","contact-context-menu-fragment",1,"call-context-menu__list",3,"ngClass","click"],[4,"ngIf"],["class","has-border",4,"ngIf"],["mat-menu-item","","data-e2e","contact-context-menu-fragment__call--button",3,"click"],[1,"hide-module",3,"modules"],["mat-menu-item","","data-e2e","contact-context-menu-fragment__call-via-uc-client--button",3,"click"],[4,"ngFor","ngForOf"],[1,"has-border"],["mat-menu-item","","data-e2e","contact-context-menu-fragment__add-to-function-key--button",3,"click"],["mat-menu-item","","data-e2e","contact-context-menu-fragment__call-via-extension--button",3,"click"],["mat-menu-item","","data-e2e","contact-context-menu-fragment__call-via-profile-option--button",3,"click"],["mat-menu-item","","data-e2e","contact-context-menu-fragment__add-to-contacts--button",3,"click"],["mat-menu-item","",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"mat-list",0),l.NdJ("click",function(){return t.setContextMenuItemClicked()}),l.YNc(1,Na,10,8,"ng-container",1),l.YNc(2,Ra,4,3,"mat-list-item",2),l.YNc(3,Za,4,6,"mat-list-item",2),l.qZA()),2&e&&(l.Udp("left",t.positionX+"px")("top",t.positionY+"px"),l.Q6J("ngClass",l.VKq(8,Fa,t.profiles&&t.profiles.length&&t.clipped||t.clipped&&t.isLoading)),l.xp6(1),l.Q6J("ngIf",!(null!=t.callLocation&&t.callLocation.fax)),l.xp6(1),l.Q6J("ngIf",!(null!=t.callLocation&&t.callLocation.contacts||null!=t.callLocation&&t.callLocation.emergency)),l.xp6(1),l.Q6J("ngIf",null==t.callLocation?null:t.callLocation.crmConnect))},directives:[Ma.i$,K.mk,K.O5,Ma.Tg,ga.OP,Ca.y,K.sg,Ta.S],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]     .mat-list .mat-list-item .mat-list-item-content, [_nghost-%COMP%]     .mat-nav-list .mat-list-item .mat-list-item-content{padding:0}.overlay-disabled[_nghost-%COMP%]{pointer-events:none}.call-context-menu__list[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 .5rem .5rem -.3rem #0003,0 .8rem 1rem .1rem #00000024,0 .3rem 1.4rem .2rem #0000001f;max-height:calc(4.8rem * 7 + .3rem);max-width:30rem;overflow:auto;padding-top:0;pointer-events:auto;position:relative;z-index:2}.call-context-menu__list.has-profiles[_ngcontent-%COMP%]{margin-top:-4.8rem}.call-context-menu__list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:first-child{border-bottom:.1rem solid #e5e5e5}.has-border[_ngcontent-%COMP%]{border-top:.1rem solid #e5e5e5}"]}),e}(),qa=n(79108),Ba=n(94079),Ha=["sidenav"];function Ya(e,t){if(1&e&&(l.TgZ(0,"div",23),l._UZ(1,"info-message",24),l.qZA()),2&e){var n=l.oxw();l.ekj("active",!n.isAppOnline)}}function Va(e,t){1&e&&(l.TgZ(0,"hoverbox"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"telephony_offline.hover_title")," "))}function Ja(e,t){1&e&&(l.ynx(0),l._uU(1),l.ALo(2,"translate"),l.TgZ(3,"u"),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.BQk()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,2,"crm_connect.unsupported_app")," "),l.xp6(3),l.Oqu(l.lcZ(5,4,"navigation.settings.download.title")))}function Qa(e,t){1&e&&(l.ynx(0),l._uU(1),l.ALo(2,"translate"),l.TgZ(3,"u"),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.BQk()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,2,"crm_connect.update_required")," "),l.xp6(3),l.Oqu(l.lcZ(5,4,"navigation.settings.download.title")))}function za(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",31),l.NdJ("click",function(){return l.CHM(n),l.oxw(2).goToCrmDownloads()}),l.YNc(1,Ja,6,6,"ng-container",22),l.YNc(2,Qa,6,6,"ng-container",22),l.qZA()}if(2&e){var i=t.ngIf;l.ekj("active",i),l.xp6(1),l.Q6J("ngIf","app"===i),l.xp6(1),l.Q6J("ngIf","crm"===i)}}function Ga(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"phone-status",25),l.NdJ("click",function(){return l.CHM(n),l.oxw().goToTelephone()})("outgoingCallStarted",function(){return l.CHM(n),l.oxw().goToTelephone()}),l.ALo(1,"async"),l.ALo(2,"async"),l.ALo(3,"async"),l.qZA(),l.TgZ(4,"div",26),l.NdJ("click",function(){return l.CHM(n),l.oxw().goToCallForwarding()}),l.ALo(5,"async"),l.ALo(6,"async"),l.ALo(7,"async"),l._uU(8),l.ALo(9,"translate"),l.qZA(),l.TgZ(10,"div",27),l.ALo(11,"async"),l.ALo(12,"async"),l.ALo(13,"async"),l.ALo(14,"async"),l._uU(15),l.ALo(16,"translate"),l.qZA(),l.TgZ(17,"div",28),l.NdJ("click",function(){return l.CHM(n),l.oxw().tryToRegisterAgain()}),l.ALo(18,"async"),l._UZ(19,"info-message",29),l.YNc(20,Va,3,3,"hoverbox",22),l.ALo(21,"async"),l.qZA(),l.YNc(22,za,3,4,"div",30),l.ALo(23,"async")}if(2&e){var i,r,a,o=l.oxw();l.ekj("active",l.lcZ(1,13,o.activeCall$)||(null==(i=l.lcZ(2,15,o.onHoldCalls$))?null:i.length)),l.Q6J("outgoingCustomCall",l.lcZ(3,17,o.outgoingCall$)),l.xp6(4),l.ekj("active",l.lcZ(5,19,o.isCallForwardingActive$)&&!(l.lcZ(6,21,o.activeCall$)||null!=(r=l.lcZ(7,23,o.onHoldCalls$))&&r.length)),l.xp6(4),l.hij(" ",l.lcZ(9,25,"call_forwarding_active")," "),l.xp6(2),l.ekj("active",o.doNotDisturb&&!o.isTelephonyOffline&&!(l.lcZ(11,27,o.activeCall$)||null!=(a=l.lcZ(12,29,o.onHoldCalls$))&&a.length||!l.lcZ(13,31,o.isOnline$)||l.lcZ(14,33,o.isCallForwardingActive$))),l.xp6(5),l.hij(" ",l.lcZ(16,35,"do_not_disturb.bar_label")," "),l.xp6(2),l.ekj("active",o.isTelephonyOffline||!l.lcZ(18,37,o.hasProvidedAudioPermission$)),l.xp6(3),l.Q6J("ngIf",o.desktopMicrophonePermissionDenied||!l.lcZ(21,39,o.hasProvidedAudioPermission$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(23,41,o.isCrmConnectOldAndInsecure$))}}function Wa(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"user-info",32),l.NdJ("click",function(){return l.CHM(n),l.oxw().toggleUserSettings()}),l.qZA()}}function $a(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"span",33),l._UZ(1,"vertical-divider",34),l.TgZ(2,"app-button",35),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().toggleEditMode(!1)}),l.qZA(),l._UZ(3,"span",36),l.qZA()}}function Ka(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"button",37),l.NdJ("click",function(){return l.CHM(n),l.oxw().toggleSidenav()}),l._UZ(1,"app-svg-icon",38),l.qZA()}}function Xa(e,t){1&e&&l.GkF(0)}function eo(e,t){if(1&e&&(l.TgZ(0,"mat-toolbar",39),l.YNc(1,Xa,1,0,"ng-container",40),l.qZA()),2&e){l.oxw();var n=l.MAs(27);l.xp6(1),l.Q6J("ngTemplateOutlet",n)}}function to(e,t){1&e&&l.GkF(0)}function no(e,t){if(1&e&&(l.ynx(0),l.YNc(1,to,1,0,"ng-container",40),l.BQk()),2&e){l.oxw(2);var n=l.MAs(27);l.xp6(1),l.Q6J("ngTemplateOutlet",n)}}function io(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"search-component",54),l.NdJ("pressedEnterBtn",function(e){return l.CHM(n),l.oxw(2).callSearchString(e)}),l.qZA()}if(2&e){var i=l.oxw(2);l.Q6J("mainHeaderAction",i.headerAction)("showSearchTooltip",i.isSearchTooltipShown)("showSearch",i.isForceSearchShown)}}function ro(e,t){1&e&&l._UZ(0,"dtmf")}function ao(e,t){1&e&&l._UZ(0,"vertical-divider",55)}function oo(e,t){1&e&&l._UZ(0,"forwarding-profiles")}function so(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button",56),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw(2).handover()}),l.qZA()}}function co(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"button",57),l.NdJ("click",function(){return l.CHM(n),l.oxw(2).toggleDnD()}),l._UZ(1,"app-svg-icon",58),l.TgZ(2,"hoverbox"),l._uU(3),l.ALo(4,"translate"),l.ALo(5,"translate"),l.qZA(),l.qZA()}if(2&e){var i=l.oxw(2);l.Q6J("modules","phone"),l.xp6(1),l.ekj("active",i.doNotDisturb),l.xp6(2),l.hij(" ",i.doNotDisturb?l.lcZ(4,4,"toolbar.buttons.dnd_on.tooltip"):l.lcZ(5,6,"toolbar.buttons.dnd_off.tooltip")," ")}}function lo(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button",59),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw(2).toggleRinger()}),l.qZA()}if(2&e){var i=l.oxw(2);l.Q6J("hoverTextTranslationKey",i.ringerActive?"toolbar.buttons.ringer_on.tooltip":"toolbar.buttons.ringer_off.tooltip")("iconName",i.ringerActive?"ringing_on":"ringing_off")}}function uo(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button",60),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw(2).openDeviceSettingsDialog(!1)}),l.qZA()}}function fo(e,t){1&e&&l._UZ(0,"desktop-app-update-button")}function ho(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"mat-toolbar",39),l.YNc(1,no,2,1,"ng-container",41),l.ALo(2,"async"),l.TgZ(3,"div",42),l.ALo(4,"async"),l.YNc(5,io,1,3,"search-component",43),l.ALo(6,"async"),l.ALo(7,"async"),l.YNc(8,ro,1,0,"ng-template",null,44,l.W1O),l.qZA(),l.TgZ(10,"header-action",45),l.NdJ("isForceSearchClicked",function(e){return l.CHM(n),l.oxw().toggleForceSearch(e)}),l.ALo(11,"async"),l.ALo(12,"async"),l.qZA(),l.YNc(13,ao,1,0,"vertical-divider",46),l.ALo(14,"async"),l._UZ(15,"pickup-call-menu-button",47),l.YNc(16,oo,1,0,"forwarding-profiles",22),l.ALo(17,"async"),l.YNc(18,so,1,0,"app-button",48),l.ALo(19,"async"),l.ALo(20,"async"),l.ALo(21,"async"),l.ALo(22,"async"),l.YNc(23,co,6,8,"button",49),l.ALo(24,"async"),l.YNc(25,lo,1,2,"app-button",50),l.ALo(26,"async"),l.YNc(27,uo,1,0,"app-button",51),l.ALo(28,"async"),l._UZ(29,"audio-devices",52),l._UZ(30,"vertical-divider",53),l.YNc(31,fo,1,0,"desktop-app-update-button",22),l.ALo(32,"async"),l.qZA()}if(2&e){var i,r=l.MAs(9),a=l.oxw(),o=l.MAs(23);l.ekj("main__toolbar--hidden",!a.hasExtension),l.xp6(1),l.Q6J("ngIf",!l.lcZ(2,17,a.isEditMode$))("ngIfElse",o),l.xp6(2),l.Q6J("hidden",!l.lcZ(4,19,a.isSearchShown$)),l.xp6(2),l.Q6J("ngIf",(!l.lcZ(6,21,a.activeCall$)||a.isForceSearchShown)&&!l.lcZ(7,23,a.isEditMode$))("ngIfElse",r),l.xp6(5),l.Q6J("ngClass",l.lcZ(11,25,a.isEditMode$)||!l.lcZ(12,27,a.isSearchShown$)?"main__header__action-edit":"")("isForceSearchShown",a.isForceSearchShown),l.xp6(3),l.Q6J("ngIf",!l.lcZ(14,29,a.isEditMode$)),l.xp6(3),l.Q6J("ngIf",!l.lcZ(17,31,a.isEditMode$)),l.xp6(2),l.Q6J("ngIf",!l.lcZ(19,33,a.isEditMode$)&&l.lcZ(20,35,a.isSecondaryDeviceInUse$)&&!l.lcZ(21,37,a.activeCall$)&&!(null!=(i=l.lcZ(22,39,a.onHoldCalls$))&&i.length)),l.xp6(5),l.Q6J("ngIf",!l.lcZ(24,41,a.isEditMode$)),l.xp6(2),l.Q6J("ngIf",!l.lcZ(26,43,a.isEditMode$)),l.xp6(2),l.Q6J("ngIf",!l.lcZ(28,45,a.isEditMode$)&&(null==a.userInfo||null==a.userInfo.modules?null:a.userInfo.modules.includes("phone"))),l.xp6(2),l.Q6J("userExtension",a.userExtension),l.xp6(2),l.Q6J("ngIf",l.lcZ(32,47,a.checkDesktopAppUpdateService.isShowUpdateButton&&a.checkDesktopAppUpdateService.isNewDesktopAppAvailable$))}}function po(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"user-settings-drawer",61),l.NdJ("click",function(){return l.CHM(n),l.oxw().toggleUserSettings()})("onClose",function(){return l.CHM(n),l.oxw().toggleUserSettings()}),l.qZA()}}function go(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"call-context-menu",62),l.NdJ("click",function(){return l.CHM(n),l.oxw().toggleCallContextMenu()}),l.qZA()}if(2&e){var i=l.oxw();l.ekj("overlay-disabled",i.callContextMenuData.isOverlayDisabled),l.Q6J("callLocation",i.callContextMenuData.callLocation)("clipped",i.callContextMenuData.clipped)("item",i.callContextMenuData.item)("positionX",i.callContextMenuData.positionX)("positionY",i.callContextMenuData.positionY)}}function mo(e,t){1&e&&l._UZ(0,"cinema-mode")}function vo(e,t){1&e&&l._UZ(0,"electron-fix-snack-bar")}var bo=function(){var e=function(){function e(t,n,r,a,o,s,c,l,u,f,d,h,p,g,m,v,b,y,_,C,k,S,x,w,T,P,I,O,j,E,L,N,R,D,Z,F,U,q,B,H,Y,V,J,Q){var z=this;_classCallCheck2(this,e),this.dtmfService=t,this.headerButtonService=n,this.clickToDialService=r,this.mainService=a,this.sipService=o,this.checkDesktopAppUpdateService=s,this.callTrackerService=c,this.callRecordEventStreamService=l,this.conferenceService=u,this.eventManager=f,this.notificationService=d,this.notificationTelephonyOfflineService=h,this.busyLampEventStreamService=p,this.busyLampFieldService=g,this.router=m,this.userService=v,this.searchService=b,this.preferredDeviceService=y,this.callForwardingService=_,this.conferenceHelper=C,this.userSettingsService=k,this.languageService=S,this.snackBarService=x,this.translateService=w,this.tokenService=T,this.extensionService=P,this.liteModeService=I,this.electronService=O,this.plantronicsService=j,this.conferencesEventStreamService=E,this.audioService=L,this.callSearchService=N,this.crmOutgoingCallService=R,this.devicesService=D,this.audioPermissionService=Z,this.crmConnectService=F,this.cinemaModeService=U,this.telephonyOfflineService=q,this.electronTrayMenuService=B,this.hotkeysStorageService=H,this.injector=Y,this.releaseNoteService=V,this.localUserConfigService=J,this.emergencyCountryService=Q,this.ngUnsubscribe=new A.xQ,this.conferencesStreamActivatedRoutes=["/main/conference","/main/telephone","/main/history/call"],this.callContextMenuData={isShown:!1},this.doNotDisturb=this.headerButtonService.isDndActive(),this.isForceSearchShown=!1,this.hasExtension=!1,this.isAppOnline=!0,this.isSearchTooltipShown=!0,this.isTelephonyOffline=!1,this.isTelephoneView=!0,this.preferredDeviceTypes=Gt.Y,this.ringerActive=this.headerButtonService.isRingerActive(),this.userExtension="",this.desktopMicrophonePermissionDenied=!1,this.isOnline$=this.telephonyOfflineService.isOnline$,this.isCallForwardingActive$=this.callForwardingService.isCallForwardingActive$,this.telephonyOfflineNotificationAudio=new Audio("assets/audio/nfon_error_telephony_offline.wav"),this.hasProvidedAudioPermission$=this.audioPermissionService.hasProvidedAudioPermission$,this.isCrmConnectOldAndInsecure$=this.crmConnectService.isCrmConnectOldAndInsecure$.pipe((0,Kt.B)()),this.selectedEditItemsCount=0,this.enableCounter="disabled",this.activeCallCount=0,this.filter="",this.isSearchActive=!1,this.sidenavMode="side",this.isUserSettingsShown=!1,this.isIncomingCall=!1,this.desktopApp=this.electronService.desktop,this.localUserConfigService.userConfig$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){e.isWelcomeSound&&Y.get(hn)}),Y.get(sn.f),this.releaseNoteService.checkReleaseNotesForApp(),Y.get(an.H),this.activeCall$=this.callTrackerService.activeCall$,this.onHoldCalls$=this.callTrackerService.onHoldCalls$,this.addObservers(),this.getCurrentUser(),this.setInitialCallState(),this.checkSidenav(),this.outgoingCall$=this.crmOutgoingCallService.outgoingCall$,this.updateSelectedEditItemsCount$=this.headerButtonService.updateSelectedEditItemsCount$,this.isEditMode$=this.headerButtonService.isEditMode$,this.isSearchShown$=this.headerButtonService.isSearchShown$,this.isSecondaryDeviceInUse$=this.busyLampFieldService.isSecondaryDeviceInUse$,this.headerButtonService.headerButtonClicked$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){z.headerAction=e,z.checkIsTelephoneViewActivated()}),this.headerButtonService.updateSelectedEditItemsCount$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){z.enableCounter=e>0?"enabled":"disabled"}),this.isInCinemaMode$=this.cinemaModeService.isInCinemaMode$,on.init(),this.desktopApp&&(on.init(),this.audioService.preloadAudio()),this.tokenService.token$.pipe((0,Xt.h)(function(e){return!e}),(0,en.x)(),(0,M.R)(this.ngUnsubscribe)).subscribe(function(){z.goToLogin()}),Wt.Q.removeItem("function-key"),this.initUser(),this.sipService.telephonyOffline$.pipe((0,en.x)(),(0,tn.b)(function(e){z.isTelephonyOffline=e,z.desktopMicrophonePermissionDenied&&(z.isTelephonyOffline=!0),e||z.notificationTelephonyOfflineService.closeTelephonyOfflineNotification()}),(0,Xt.h)(function(e){return e}),(0,nn.g)(1e4),(0,M.R)(this.ngUnsubscribe)).subscribe(function(){z.isTelephonyOffline&&(z.telephonyOfflineNotificationAudio.play(),z.notificationTelephonyOfflineService.showTelephonyOfflineNotification())}),this.attachExtensionEvent(),this.router.events.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){e instanceof i.m2&&z.checkConditionForInitCloseConferencesStream(e.url)}),this.deRegisterSipOnPageClose(),this.observeConferenceEvents(),this.checkUserSettings(),this.observeDesktopAppMicrophonePermissionChange(),this.headerButtonService.onDndStatusChange$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){z.doNotDisturb=e}),this.headerButtonService.onRingerStatusChange$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){z.ringerActive=e}),this.electronTrayMenuService.updateTrayMenuOnAppStart(),this.hotkeysStorageService.registerHotkeys()}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.isOnline$.pipe((0,tn.b)(function(t){e.isAppOnline=t}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&(e.sipService.unregister(),e.sipService.register(),e.callRecordEventStreamService.initCallRecordEventStream())}),this.emergencyCountryService.initEmergencyNumbers()}},{key:"initComponentCalls",value:function(e){this.hasExtension=!0,this.notificationService.requestPermission(),this.userExtension=e.activePhoneExtension.extensionNumber,this.getPreferredDevice()}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){e.checkSidenav()}),window.addEventListener("resize",function(){e.checkSidenav()}),this.eventManager.addGlobalEventListener("window","resize",function(){e.checkSidenav()})}},{key:"openSettingsSetupIfNeeded",value:function(){var e,t,n,i,r=Wt.Q.getCached("hasDoneSettingsSetup-"+(null===(t=null===(e=this.userInfo)||void 0===e?void 0:e.activePhoneExtension)||void 0===t?void 0:t.extensionNumber),!1);!r&&(null===(i=null===(n=this.userInfo)||void 0===n?void 0:n.modules)||void 0===i?void 0:i.includes("phone"))?this.openDeviceSettingsDialog(!r):this.devicesService.checkAudioPermission()}},{key:"openDeviceSettingsDialog",value:function(e){this.headerButtonService.openDeviceSettingsDialog(e)}},{key:"toggleEditMode",value:function(e){this.headerButtonService.toggleEditMode(e)}},{key:"ngOnDestroy",value:function(){this.busyLampEventStreamService.close(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"setInitialCallState",value:function(){this.activeCallCount=this.sipService.activeCallsCount}},{key:"toggleUserSettings",value:function(){this.isUserSettingsShown=!this.isUserSettingsShown}},{key:"toggleSidenav",value:function(){this.sidenav.toggle()}},{key:"toggleForceSearch",value:function(e){this.isForceSearchShown=e,this.isSearchActive=e,this.dtmfService.setDtmfVisibility(!e)}},{key:"toggleDnD",value:function(){this.headerButtonService.toggleDnd()}},{key:"toggleRinger",value:function(){this.headerButtonService.toggleRinger()}},{key:"handover",value:function(){this.headerButtonService.handover()}},{key:"toggleCallContextMenu",value:function(){this.clickToDialService.callContextMenu({isShown:!1})}},{key:"goToTelephone",value:function(){this.router.navigate(["/main/telephone"])}},{key:"goToCallForwarding",value:function(){this.router.navigate(["/main/settings/call-forwarding"])}},{key:"goToCrmDownloads",value:function(){this.router.navigate(["/main/settings/download"]),this.crmConnectService.disableCrmOldStatus()}},{key:"goToLogin",value:function(){this.router.navigate(["/auth/login"])}},{key:"callSearchString",value:function(e){this.callSearchService.callSearchString(e)}},{key:"closeSideNav",value:function(e){window.innerWidth<1280&&!e&&this.toggleSidenav()}},{key:"tryToRegisterAgain",value:function(){this.sipService.resetAttemptAndTryToRegisterAgain()}},{key:"isDeleteButtonDisabled",value:function(){return 0===this.selectedEditItemsCount}},{key:"iconFillClass",value:function(){return this.isDeleteButtonDisabled()?"disabled":"header-button"}},{key:"addObservers",value:function(){var e=this;this.activeCall$.pipe((0,Xt.h)(function(e){return!!e}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.activeCall=t}),this.clickToDialService.callContextMenu$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.callContextMenuData=t}),this.dtmfService.isDTMFMode$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.isForceSearchShown=!t}),this.preferredDeviceService.preferredDevice$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.preferredDevice=t}),this.mainService.updateSelectedEditItemsCount$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.selectedEditItemsCount=t}),this.sipService.outgoingCallStarted$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){e.activeCallCount=e.sipService.activeCallsCount,e.dtmfService.setDtmfVisibility(!0),e.conferenceService.setConference(void 0),e.sipService.activeMuted&&e.sipService.muteAudio(e.activeCall.callId)}),this.sipService.callEnded$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){var n=t.callId;e.snackBarService.openInfo("call-modal.call-ended"),e.activeCall&&e.activeCall.callId===n&&(e.dtmfService.clearDtmfCharacters(),e.dtmfService.setDtmfVisibility(!1)),e.activeCallCount=e.sipService.activeCallsCount,e.isIncomingCall=!1,e.snackBarService.openInfo("call-modal.call-ended")})}},{key:"checkSidenav",value:function(){window.innerWidth>=1280?(this.sidenavMode="side",this.isSidenavOpen=!0,this.disableSidenavClose=!0):(this.sidenavMode="over",this.isSidenavOpen=!1,this.disableSidenavClose=!1)}},{key:"getCurrentUser",value:function(){var e=this;this.userService.userInfo$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.userInfo=t})}},{key:"getPreferredDevice",value:function(){var e=this;this.preferredDeviceService.preferredDevice$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.preferredDevice=t})}},{key:"synchronizeLanguage",value:function(e){var t=this;this.userSettingsService.getUserSettings().pipe((0,Xt.h)(function(e){return e.user.language!==t.languageService.getCurrentLanguage()}),(0,rn.w)(function(){return t.userSettingsService.updateUserLanguageEndpoint({id:e,language:t.languageService.getCurrentLanguage()})}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(){t.languageService.updateLanguage(t.languageService.getCurrentLanguage())})}},{key:"attachExtensionEvent",value:function(){var e=this;document.addEventListener("nfonCallEvent",function(t){e.callNumber(t.detail.number)})}},{key:"callNumber",value:function(e){this.callTrackerService.makeCall(e)}},{key:"deRegisterSipOnPageClose",value:function(){var e=this;window.addEventListener("unload",function(){return e.sipService.unregister(),!1})}},{key:"observeConferenceEvents",value:function(){var e=this;this.conferenceHelper.joinConferenceWithAPI$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){var n="",i="",r={duration:3e3},a=t.payload.preferredDevice.name,o=t.payload.preferredDevice.number;switch(null===a&&t.payload.preferredDevice.type===e.preferredDeviceTypes.EXTENSION&&(i=e.translateService.instant("settings.user.ext_{value}",{value:o})),t.type){case"init":n="conference.join_with_api.inviting",r=void 0;break;case"success":n="conference.join_with_api.success";break;case"error":n="conference.join_with_api.error"}var s=e.translateService.instant(n,{name:a||i,number:o});e.snackBarService.open(s,"",r)})}},{key:"initUser",value:function(){var e=this;this.userService.userInfo$.pipe((0,Xt.h)(function(e){return!!e}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.userInfo=t,e.electronService.checkDesktopMicrophonePermission(),Wt.Q.store("userinfo",t),t.activePhoneExtension&&(e.initComponentCalls(t),e.synchronizeLanguage(t.user.id),e.openSettingsSetupIfNeeded())})}},{key:"checkUserSettings",value:function(){var e=this;this.router.url.includes("settings/user")||this.extensionService.getSettings().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(),this.extensionService.settings$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.sipService.callWaiting=!!t.CALL_WAITING_INDICATION})}},{key:"observeDesktopAppMicrophonePermissionChange",value:function(){var e=this;this.electronService.onDesktopAppMicrophonePermissionChange$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.desktopMicrophonePermissionDenied=t})}},{key:"checkConditionForInitCloseConferencesStream",value:function(e){this.conferencesStreamActivatedRoutes.includes(e)?this.conferencesEventStreamService.init():this.closeConferencesStream()}},{key:"closeConferencesStream",value:function(){var e=this;setTimeout(function(){e.sipService.activeCalls.size||e.conferencesEventStreamService.close()},1e3)}},{key:"checkIsTelephoneViewActivated",value:function(){var e;if(this.activeCallCount){var t=(null===(e=this.headerAction)||void 0===e?void 0:e.actionComponent)===$t.I.TELEPHONE;this.isTelephoneView=t,this.isForceSearchShown=!t}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(pn.y),l.Y36(we.d),l.Y36(L.q),l.Y36(at.J),l.Y36(be.y),l.Y36(gn.M),l.Y36(N.k),l.Y36(_n),l.Y36(j.Z),l.Y36(Cn.Qz),l.Y36(kn.g),l.Y36(xn),l.Y36(An.s),l.Y36(an.H),l.Y36(i.F0),l.Y36(J.K),l.Y36(Ce.o),l.Y36(Q._),l.Y36(wn.V),l.Y36(Mn.c),l.Y36(Tn.s),l.Y36(Pn.T),l.Y36(E.c),l.Y36(_.sK),l.Y36(bn.B),l.Y36(In.b),l.Y36(B.v),l.Y36(On.d),l.Y36(jn.z),l.Y36(_e.i),l.Y36(En.Q),l.Y36(Ln.f),l.Y36(Un),l.Y36(fn.I),l.Y36(qn.W),l.Y36(Tt.a),l.Y36(Bn.H),l.Y36(un.l),l.Y36(Jn),l.Y36(Qn.T),l.Y36(l.zs3),l.Y36(ri),l.Y36(dn.i),l.Y36(ai.X))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-main"]],viewQuery:function(e,t){var n;(1&e&&l.Gf(Ha,5),2&e)&&(l.iGM(n=l.CRH())&&(t.sidenav=n.first))},decls:44,vars:42,consts:[["class","offline",3,"active",4,"ngIf","ngIfElse"],["online",""],["autoReload",""],[1,"main__content"],[1,"main__header__background","header__background"],[1,"main__sidenav"],[3,"disableClose","mode","opened"],["sidenav",""],["data-e2e","user-info-fragment",3,"click",4,"ngIf","ngIfElse"],["backButton",""],[3,"itemClicked"],[1,"my-content"],["toggleSidenavBtn",""],["class","main__toolbar",4,"ngIf"],["class","main__toolbar",3,"main__toolbar--hidden",4,"ngIf"],[1,"page-content"],[1,"main__footer"],[1,"main__footer__content"],[3,"click","onClose",4,"ngIf"],[3,"overlay-disabled","callLocation","clipped","item","positionX","positionY","click",4,"ngIf"],["id","local-video",1,"main__local-video",3,"hidden"],["muted","muted",1,"main__local-video--component"],[4,"ngIf"],[1,"offline"],["original","offline","mobility","status_bar.business_standard_no_internet"],[3,"outgoingCustomCall","click","outgoingCallStarted"],["data-e2e","call-forwarding-notification-fragment",1,"forwarding-status",3,"click"],["data-e2e","status-do-not-disturb-fragment",1,"dnd-status"],["appHoverbox","","data-e2e","status-telephony-offline-fragment",1,"telephony-offline",3,"click"],["original","telephony_offline.bar_title","mobility","status_bar.no_mobility_option"],["class","main__status-notification",3,"active","click",4,"ngIf"],[1,"main__status-notification",3,"click"],["data-e2e","user-info-fragment",3,"click"],[1,"header__back-button--edit-mode"],[1,"divider--left"],["data-e2e","toolbar-fragment__back--button","iconFill","header-button","iconName","arrow_left","iconSize","medium",3,"appButtonClick"],[1,"main__flex-spacer"],["mat-icon-button","",1,"toggle-sidenav-btn",3,"click"],["fill","header-button","icon","nav","size","small"],[1,"main__toolbar"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[1,"main__search",3,"hidden"],["e2e","toolbar-fragment","placeholder","main.search_label",3,"mainHeaderAction","showSearchTooltip","showSearch","pressedEnterBtn",4,"ngIf","ngIfElse"],["DTMF",""],[3,"ngClass","isForceSearchShown","isForceSearchClicked"],["class","divider--right divider--left",4,"ngIf"],["hideIf",""],["e2e","toolbar-fragment__handover","hoverTextTranslationKey","toolbar.buttons.call_pull.tooltip","iconFillClass","header-button","iconName","call_pull_desktop",3,"appButtonClick",4,"ngIf"],["class","hide-module","appHoverbox","","data-e2e","toolbar-fragment__do-not-disturb--button","mat-icon-button","","type","button",3,"modules","click",4,"ngIf"],["e2e","toolbar-fragment__ringtone","iconFillClass","header-button",3,"hoverTextTranslationKey","iconName","appButtonClick",4,"ngIf"],["e2e","toolbar-fragment__devices","hoverTextTranslationKey","toolbar.buttons.device_settings.tooltip","iconFillClass","header-button","iconName","tune",3,"appButtonClick",4,"ngIf"],[3,"userExtension"],[1,"divider--right"],["e2e","toolbar-fragment","placeholder","main.search_label",3,"mainHeaderAction","showSearchTooltip","showSearch","pressedEnterBtn"],[1,"divider--right","divider--left"],["e2e","toolbar-fragment__handover","hoverTextTranslationKey","toolbar.buttons.call_pull.tooltip","iconFillClass","header-button","iconName","call_pull_desktop",3,"appButtonClick"],["appHoverbox","","data-e2e","toolbar-fragment__do-not-disturb--button","mat-icon-button","","type","button",1,"hide-module",3,"modules","click"],["fill","dnd-button header-button","icon","disabled","size","small"],["e2e","toolbar-fragment__ringtone","iconFillClass","header-button",3,"hoverTextTranslationKey","iconName","appButtonClick"],["e2e","toolbar-fragment__devices","hoverTextTranslationKey","toolbar.buttons.device_settings.tooltip","iconFillClass","header-button","iconName","tune",3,"appButtonClick"],[3,"click","onClose"],[3,"callLocation","clipped","item","positionX","positionY","click"]],template:function(e,t){if(1&e&&(l.YNc(0,Ya,2,2,"div",0),l.YNc(1,Ga,24,43,"ng-template",null,1,l.W1O),l._UZ(3,"auto-reload",null,2),l.TgZ(5,"main-container"),l.ALo(6,"async"),l.ALo(7,"async"),l.ALo(8,"async"),l.ALo(9,"async"),l.ALo(10,"async"),l.ALo(11,"async"),l._UZ(12,"call-notifications"),l.TgZ(13,"div",3),l.TgZ(14,"div",4),l.ALo(15,"async"),l.qZA(),l.TgZ(16,"mat-sidenav-container",5),l.ALo(17,"async"),l.TgZ(18,"mat-sidenav",6,7),l.YNc(20,Wa,1,0,"user-info",8),l.ALo(21,"async"),l.YNc(22,$a,4,0,"ng-template",null,9,l.W1O),l.TgZ(24,"sidenav",10),l.NdJ("itemClicked",function(e){return t.closeSideNav(e)}),l.qZA(),l.qZA(),l.TgZ(25,"div",11),l.YNc(26,Ka,2,0,"ng-template",null,12,l.W1O),l.YNc(28,eo,2,1,"mat-toolbar",13),l.YNc(29,ho,33,49,"mat-toolbar",14),l.TgZ(30,"page-content",15),l._UZ(31,"router-outlet"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",16),l._UZ(33,"app-footer",17),l.qZA(),l.qZA(),l.YNc(34,po,1,0,"user-settings-drawer",18),l.YNc(35,go,1,7,"call-context-menu",19),l._UZ(36,"overlay-container"),l.TgZ(37,"div",20),l._UZ(38,"video",21),l.qZA(),l._UZ(39,"audio-player"),l._UZ(40,"mini-video-overlay"),l.YNc(41,mo,1,0,"cinema-mode",22),l.ALo(42,"async"),l.YNc(43,vo,1,0,"electron-fix-snack-bar",22)),2&e){var n,i=l.MAs(2),r=l.MAs(4),a=l.MAs(23);l.Q6J("ngIf",!t.isAppOnline)("ngIfElse",i),l.xp6(5),l.ekj("main-container--has-status",l.lcZ(6,22,t.activeCall$)||(null==(n=l.lcZ(7,24,t.onHoldCalls$))?null:n.length)||!l.lcZ(8,26,t.isOnline$)||l.lcZ(9,28,t.isCallForwardingActive$)||t.doNotDisturb||!l.lcZ(10,30,t.hasProvidedAudioPermission$)||t.isTelephonyOffline||r.updateAvailable)("main-container--has-crm-status",l.lcZ(11,32,t.isCrmConnectOldAndInsecure$)),l.xp6(9),l.ekj("is-edit-mode",l.lcZ(15,34,t.isEditMode$)),l.xp6(2),l.ekj("is-edit-mode",l.lcZ(17,36,t.isEditMode$)),l.xp6(2),l.Q6J("disableClose",t.disableSidenavClose)("mode",t.sidenavMode)("opened",t.isSidenavOpen),l.xp6(2),l.Q6J("ngIf",!l.lcZ(21,38,t.isEditMode$))("ngIfElse",a),l.xp6(8),l.Q6J("ngIf",!t.hasExtension),l.xp6(1),l.Q6J("ngIf",t.userInfo),l.xp6(5),l.Q6J("ngIf",t.isUserSettingsShown),l.xp6(1),l.Q6J("ngIf",t.callContextMenuData.isShown),l.xp6(2),l.Q6J("hidden",!0),l.xp6(4),l.Q6J("ngIf",l.lcZ(42,40,t.isInCinemaMode$)),l.xp6(2),l.Q6J("ngIf",t.desktopApp)}},directives:[K.O5,oi.a,si.t,cr,lr.TM,lr.JX,Zr,Fr.Y,i.lC,Ur.q,qr.l,Br.N,ea,ta,na.u,Ye.r,Ve.B,ia.M,ra.y,Pt.V,Be.lW,ne.u,aa.Ye,K.tP,oa.G,K.mk,ua,fa.B,da.Z,ha.g,pa,_a,Ca.y,ka,Sa.N,Ua,qa.L,Ba.D],pipes:[K.Ov,_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]   .main__toolbar[_ngcontent-%COMP%]{background:transparent;min-height:6.4rem;padding:0}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}[_nghost-%COMP%]     .flexible-list__item{cursor:pointer}[_nghost-%COMP%]     .flexible-list{list-style:none;margin:0;padding:0}[_nghost-%COMP%]     .flexible-list>.flexible-list__item{align-items:center;display:flex;flex-direction:row;height:5rem;margin-bottom:.1rem;margin-top:.1rem;padding:1.1rem 0}[_nghost-%COMP%]     .flexible-list>.flexible-list__item>app-svg-icon, [_nghost-%COMP%]     .flexible-list>.flexible-list__item .column-container>app-svg-icon{margin-left:1rem}[_nghost-%COMP%]     .flexible-list>.flexible-list__item:hover .flexible-list__item__info-button, [_nghost-%COMP%]     .flexible-list>.flexible-list__item.active .flexible-list__item__info-button{display:block}[_nghost-%COMP%]     .flexible-list>.flexible-list__item>.flexible-list__item__initials{border-radius:50%;flex-shrink:0;font-size:1.8rem;height:4rem;line-height:4rem;margin-left:.8rem;margin-right:.8rem;text-align:center;vertical-align:middle;width:4rem}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__content{display:grid;flex:1;flex-direction:column;margin-left:.8rem;margin-right:1.6rem;padding:1.1rem 0}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__content .flexible-list__item__title{display:inline-block;font-size:1.8rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__content .flexible-list__item__sub-title{color:#666;font-size:1.6rem}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__info-button{display:none;height:4.8rem;margin-right:.8rem;width:4.8rem}[_nghost-%COMP%]     .flexible-list .horizontal-divider{align-items:center;border-bottom:.1rem solid #e5e5e5;display:flex;height:5rem;padding:1.1rem 0;width:calc(100% - 8rem)}@-webkit-keyframes ringing{0%{opacity:1}49%{opacity:1}50%{opacity:0}to{opacity:0}}@keyframes ringing{0%{opacity:1}49%{opacity:1}50%{opacity:0}to{opacity:0}}[_nghost-%COMP%]     mat-sidenav-container .mat-sidenav-content{bottom:0;display:flex;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:2}[_nghost-%COMP%]     mat-sidenav-container .mat-sidenav-focus-trap{display:flex}[_nghost-%COMP%]     mat-sidenav-container .cdk-focus-trap-content{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]     .my-content{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper, [_nghost-%COMP%]     .my-content .page-content{display:flex;flex:1;flex-direction:column;overflow:hidden}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*{display:flex;flex:1;min-height:0;min-width:0;overflow-y:auto}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container{display:flex;flex:1;overflow:hidden}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container>*, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container>*{flex:0 0 auto;overflow-y:auto}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container>.left, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container>.left{flex:1}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container>.right, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container>.right{width:32.2rem}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%], [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%]{width:32rem}@media screen and (min-width: 768px) and (max-width: 1023px){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%], [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%]{width:33.33vw}}@media screen and (max-width: 767px){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%], [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%]{width:25.6rem}}@media screen and (max-width: 895px){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left, [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left{margin-left:0;margin-right:0}}@media screen and (min-width: 896px) and (max-width: 179rem){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left, [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left{margin-left:0}}forward-details-modal[_ngcontent-%COMP%], categorized-modal[_ngcontent-%COMP%], subscribe-conference-modal[_ngcontent-%COMP%], delete-all-modal[_ngcontent-%COMP%], admin-session-ended-modal[_ngcontent-%COMP%], admin-switch-modal[_ngcontent-%COMP%], call-context-menu[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:0;z-index:2000}.main__footer[_ngcontent-%COMP%]{width:100%}@media (min-width: 1280px){.main__footer[_ngcontent-%COMP%]{width:128rem}}.main__content[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]{background-color:transparent;margin-left:auto;margin-right:auto;z-index:2}@media (min-width: 1280px){.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]{width:128rem}}@media (min-width: 1024px) and (max-width: 1279px){.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%]     .mat-sidenav-content, .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]     .mat-sidenav-content{margin-left:auto!important;margin-right:auto!important;width:1024px}}@media (max-width: 1280px){.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]{width:100%}}.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{background-color:transparent;border-right:0;display:flex;flex-direction:column;overflow-x:hidden;width:25.6rem}.main__content[_ngcontent-%COMP%]   .admin__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{background-color:transparent}.main__content[_ngcontent-%COMP%]   .admin__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.8rem;margin-left:.4rem;margin-right:.4rem}.main__content[_ngcontent-%COMP%]   .admin__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.8rem}.main__content[_ngcontent-%COMP%]   .header__back-button--edit-mode[_ngcontent-%COMP%]{align-items:center;display:flex;height:6.4rem}@media (min-width: 1280px){.main__content[_ngcontent-%COMP%]   .toggle-sidenav-btn[_ngcontent-%COMP%]{display:none}.main__content[_ngcontent-%COMP%]   .my-content[_ngcontent-%COMP%]   .header__back-button--edit-mode[_ngcontent-%COMP%]{display:none}}.main__search[_ngcontent-%COMP%]{flex-grow:1}.main__header__action-edit[_ngcontent-%COMP%]{width:100%}.main__flex-spacer[_ngcontent-%COMP%]{flex-grow:1}.main__header__background[_ngcontent-%COMP%]{height:6.4rem;left:0;min-width:76.8rem;position:absolute;right:0;z-index:1}[_nghost-%COMP%]     .my-content .page-content .left.contacts-list-container, [_nghost-%COMP%]     .my-content .page-content .left.conference-list-container, [_nghost-%COMP%]     .my-content .page-content .left.fax-list-container{border-right:.1rem solid #e5e5e5}[_nghost-%COMP%]     .my-content .ng-invalid.ng-dirty:not(.ng-untouched) .mat-input-underline{background-color:#b31a3e}[_nghost-%COMP%]     .my-content .ng-invalid.ng-dirty:not(.ng-untouched) .mat-input-placeholder-wrapper, [_nghost-%COMP%]     .my-content .ng-invalid.ng-dirty:not(.ng-untouched) .mat-hint--error{color:#b31a3e}[_nghost-%COMP%]     .dnd-status, [_nghost-%COMP%]     .offline, [_nghost-%COMP%]     .forwarding-status, [_nghost-%COMP%]     .telephony-offline, [_nghost-%COMP%]     .main__status-notification{background-color:#b30000;color:#fff;font-size:1.6rem;height:2.4rem;line-height:2.4rem;position:absolute;text-align:center;top:-2.4rem;transition:top .3s ease-in-out;width:100%}@media screen and (max-width: 767px){[_nghost-%COMP%]     .dnd-status, [_nghost-%COMP%]     .offline, [_nghost-%COMP%]     .forwarding-status, [_nghost-%COMP%]     .telephony-offline, [_nghost-%COMP%]     .main__status-notification{width:76.8rem}}[_nghost-%COMP%]     .dnd-status.active, [_nghost-%COMP%]     .offline.active, [_nghost-%COMP%]     .forwarding-status.active, [_nghost-%COMP%]     .telephony-offline.active, [_nghost-%COMP%]     .main__status-notification.active{top:0;z-index:3}[_nghost-%COMP%]     .dnd-status, [_nghost-%COMP%]     .forwarding-status, [_nghost-%COMP%]     .main__status-notification--warning{background:#ffd900;color:#000}[_nghost-%COMP%]     .forwarding-status, [_nghost-%COMP%]     .telephony-offline, [_nghost-%COMP%]     .main__status-notification{cursor:pointer}@media (min-width: 1280px){[_nghost-%COMP%]     .main__content .toggle-sidenav-btn, [_nghost-%COMP%]     .main__content .small-screen{display:none}}.main__toolbar--hidden[_ngcontent-%COMP%]{left:-9999px;position:absolute;top:-9999px}"]}),e}();function yo(e,t){1&e&&l._UZ(0,"svg-avatar-drag-target",7)}var _o=function(e,t){return{number:e,type:t}},Co=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o,s,c){var l;return _classCallCheck2(this,n),(l=t.call(this,e,i,a,o)).clickToDialService=e,l.sipService=i,l.mainService=r,l.logger=a,l.callTrackerService=o,l.searchService=s,l.dropZoneService=c,l.ngUnsubscribe=new A.xQ,l.searchItemTypes=I.i,l.phoneValidatorAssistance=et.Lm,l.dropZoneNames=l.dropZoneService.getDropZones(),l}return _createClass2(n,[{key:"ngOnInit",value:function(){var e=this;this.searchService.searchResponseEmptyButValidPhoneNumber$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&(e.number=e.phoneValidatorAssistance.generateNumber(t))})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"mapData",value:function(e){return e}},{key:"callSearchNumber",value:function(e){e=this.phoneValidatorAssistance.generateNumber(e.toString()),this.callTrackerService.makeCall("".concat(e))}},{key:"onDragStart",value:function(){this.dropZoneService.onDragStart()}},{key:"onDragEnd",value:function(){this.dropZoneService.onDragEnd()}},{key:"ngOnChanges",value:function(e){this.searchString=e.search.currentValue,this.number=this.phoneValidatorAssistance.generateNumber(this.searchString)}}]),n}(T.g);return e.\u0275fac=function(t){return new(t||e)(l.Y36(L.q),l.Y36(be.y),l.Y36(at.J),l.Y36(z.Kf),l.Y36(N.k),l.Y36(Ce.o),l.Y36(ke.b))},e.\u0275cmp=l.Xpm({type:e,selectors:[["not-found-group"]],inputs:{search:"search"},features:[l.qOj,l.TTD],decls:8,vars:6,consts:[["cdkDropList","",1,"flexible-list",3,"cdkDropListConnectedTo"],["cdkDrag","",1,"flexible-list__item",3,"cdkDragData","contextmenu","dblclick","cdkDragMoved","cdkDragDropped"],["iconName","speed_dial",4,"cdkDragPreview"],["fill","black","icon","speed_dial","size","medium"],[1,"horizontal-divider"],["data-e2e","search-result-fragment__phone-number",1,"flexible-list__item__content"],[1,"flexible-list__item__title"],["iconName","speed_dial"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.NdJ("contextmenu",function(e){return t.onContextMenu({search:t.number,type:t.searchItemTypes.SEARCH},e)})("dblclick",function(){return t.callSearchNumber(t.number)})("cdkDragMoved",function(){return t.onDragStart()})("cdkDragDropped",function(){return t.onDragEnd()}),l.YNc(2,yo,1,0,"svg-avatar-drag-target",2),l._UZ(3,"app-svg-icon",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"div",6),l._uU(7),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("cdkDropListConnectedTo",t.dropZoneNames),l.xp6(1),l.Q6J("cdkDragData",l.WLB(3,_o,t.number,t.searchItemTypes.SEARCH)),l.xp6(6),l.hij(" ",t.number," "))},directives:[xe.Wj,xe.Zt,xe.pV,ne.u,He.g],encapsulation:2}),e}(),ko=n(51800),So=n(71188);function xo(e,t){if(1&e&&l._UZ(0,"search-result",5),2&e){var n=l.oxw();l.ekj("telephone__contacts-list--narrow",n.dialpadVisible),l.Q6J("dndEnabled",!0)("searchString",n.searchString)("selectedType",n.searchType)("showHistorySection",!1)}}function Ao(e,t){if(1&e&&(l.TgZ(0,"div",6),l._UZ(1,"telephone-function-keys",7),l.TgZ(2,"div",8),l._UZ(3,"app-button",9),l.qZA(),l.qZA()),2&e){var n=l.oxw();l.xp6(1),l.Q6J("isDialpadVisible",n.dialpadVisible)}}var wo=function(){var e=function(){function e(t,n,i,r,a,o){_classCallCheck2(this,e),this.route=t,this.location=n,this.searchService=i,this.dropZoneService=r,this.meetingService=a,this.callTrackerService=o,this.ngUnsubscribe=new A.xQ,this.functionKeys=[],this.filters={string:""},this.searchType=P.V.CONTACT,this.dialpadVisible=So.V.dialpadVisible,this.iconName="contact",this.searchItem$=this.searchService.searchItem$,this.attachExtensionEvent(),this.searchService.setSearchItem({searchString:""})}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.searchService.searchItem$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.searchService.isSearchable(t.searchString)&&(e.searchString=t.searchString)})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"search",value:function(e){this.filters.string=e}},{key:"attachExtensionEvent",value:function(){var e=this;this.route.params.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&t.number&&(e.location.replaceState("/main/telephone"),e.callTrackerService.makeCall((0,et.oc)(t.number)))})}}],[{key:"getCallObjectFromSearchItem",value:function(e){if(!e)return null;var t=ko.B.getCallObject(e);return null!==t?t:e.hasOwnProperty("callId")&&e.callId?e:null}},{key:"splitList",value:function(e){if(!e.length)return[];var t=Math.ceil(e.length/2);return[e.slice(0,t),e.slice(t)]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(i.gz),l.Y36(K.Ye),l.Y36(Ce.o),l.Y36(ke.b),l.Y36(st.D),l.Y36(N.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["telephone"]],viewQuery:function(e,t){var n;(1&e&&l.Gf(He.g,5,l.SBq),2&e)&&(l.iGM(n=l.CRH())&&(t.dragIconElements=n))},inputs:{isDragging:"isDragging"},decls:8,vars:7,consts:[["data-e2e","main-telephone-page",1,"scrollable-container"],[1,"left","telephone__wrapper"],["searchResults",""],["class","telephone__container",4,"ngIf","ngIfElse"],[1,"right","telephone__details",3,"isSearching","showDialPadChange"],["data-e2e","search-result-fragment",3,"dndEnabled","searchString","selectedType","showHistorySection"],[1,"telephone__container"],[3,"isDialpadVisible"],[1,"telephone__fav"],["color","primary","e2e","main-telephone-page__favorite-element-edit","routerLink","/main/settings/function-keys","size","telephone__fav--style","buttonTextTranslationKey","telephone.edit_favorite_list","type","basic-button"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.YNc(2,xo,1,6,"ng-template",null,2,l.W1O),l.YNc(4,Ao,4,1,"div",3),l.ALo(5,"async"),l.qZA(),l.TgZ(6,"phone-panel",4),l.NdJ("showDialPadChange",function(e){return t.dialpadVisible=e}),l.ALo(7,"async"),l.qZA(),l.qZA()),2&e){var n,i,r=l.MAs(3);l.xp6(4),l.Q6J("ngIf",!(null!=(n=l.lcZ(5,3,t.searchItem$))&&n.searchString))("ngIfElse",r),l.xp6(2),l.Q6J("isSearching",!(null==(i=l.lcZ(7,5,t.searchItem$))||!i.searchString))}},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]     #video-container{background-color:#000;margin-bottom:-.8rem;margin-top:.8rem;min-height:20rem;position:relative}[_nghost-%COMP%]     #video-container .fullscreen{color:#fff;cursor:pointer;position:absolute;right:0;top:0}[_nghost-%COMP%]     #video-container .fullscreen i{font-size:2.8rem}[_nghost-%COMP%]     .main__local-video--component, [_nghost-%COMP%]     .main__remote-video--component{width:100%}[_nghost-%COMP%]     #local-screen, [_nghost-%COMP%]     .main__local-video{bottom:1rem;position:absolute;right:1rem;width:9rem}.flexible-list[_ngcontent-%COMP%] > .flexible-list__item[_ngcontent-%COMP%]{height:3.4rem;margin-top:0}.telephone__container[_ngcontent-%COMP%]{flex:1;height:100%;overflow-x:hidden}.telephone__fav[_ngcontent-%COMP%]{align-items:center;display:flex;height:8rem;justify-content:center}@media screen and (min-width: 1921px){.telephone__fav[_ngcontent-%COMP%]{height:auto}}.telephone__details[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),e}(),Mo=n(35019),To=n(89900),Po=n(21677),Io=function(){var e=function(){function e(t,n,i,r){var a=this;_classCallCheck2(this,e),this.conferenceService=t,this.digestAuthInterceptor=n,this.liteModeService=i,this.logger=r,this.unsubscribeEvents=new A.xQ,this.conferenceService.conferenceData$.subscribe(function(e){(null==e?void 0:e.created)&&(a.conference=e)}),this.conferenceService.serviceNumber$.subscribe(function(e){a.serviceNumber=e})}return _createClass2(e,[{key:"initConferenceEventStream",value:function(e,t){var n=j.Z.getConferenceIdentifier(e.activePhoneExtension.name,t);this.initEventStream(n)}},{key:"initEventStream",value:function(e){var t=this;this.conferenceEventStreamService||(this.conferenceEventStreamService=new q(e,this.digestAuthInterceptor,this.logger,this.liteModeService,this.conferenceService),this.conferenceEventStreamService.createConference$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(){return t.conferenceService.setConferenceData()}),this.conferenceEventStreamService.addMember$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){var n=new Po.U;n.fromJSON(e),t.addMember(n)}),this.conferenceEventStreamService.deleteMember$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.removeMember(e)}),this.conferenceEventStreamService.kickMember$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.removeMember(e)}),this.conferenceEventStreamService.muteMember$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.setSpeakValueForMember(e.member_id,!1)}),this.conferenceEventStreamService.unmuteMember$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.setSpeakValueForMember(e.member_id,!0)}),this.conferenceEventStreamService.deafMember$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.setHearValueForMember(e.member_id,!1)}),this.conferenceEventStreamService.undeafMember$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.setHearValueForMember(e.member_id,!0)}),this.conferenceEventStreamService.muteConference$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(){t.setMuteConferenceValue(!0)}),this.conferenceEventStreamService.unmuteConference$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(){t.setMuteConferenceValue(!1)}),this.conferenceEventStreamService.isLockedConference$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.conference.flags.lock=e,t.conferenceService.updateConferenceData(t.conference)}),this.conferenceEventStreamService.startTalking$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.setTalkingForMember(e.member_id,!0,e.energy_level)}),this.conferenceEventStreamService.stopTalking$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.setTalkingForMember(e.member_id,!1,e.energy_level)}),this.conferenceEventStreamService.destroyConference$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(){t.conferenceService.updateAdHocConferenceState(!1),t.conferenceService.resetConference()}),this.conferenceEventStreamService.raiseHand$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.setRaisedHandValueForMember(!0,e.member_id)}),this.conferenceEventStreamService.lowerHand$.pipe((0,M.R)(this.unsubscribeEvents)).subscribe(function(e){t.setRaisedHandValueForMember(!1,e.member_id)}))}},{key:"closeStream",value:function(){this.unsubscribeEvents.next(),this.unsubscribeEvents.complete(),this.conferenceEventStreamService&&(this.conferenceEventStreamService.close(),this.conferenceEventStreamService=void 0,this.conferenceService.resetConference(),this.conference=void 0,this.serviceNumber=void 0)}},{key:"addMember",value:function(e){if(this.conferenceService.isActiveUser(e.caller_id_number))return this.conferenceService.updateActiveUserJoined(e),void(this.conference&&!this.conference.isActive&&this.conferenceService.setConferenceData());this.conference&&this.conference.isActive&&this.conference.members&&(this.conference.members.find(function(t){return t.member_id===e.member_id})||(this.conference.members.push(e),this.conference.memberCount+=1,this.conferenceService.setConference(this.conference)))}},{key:"removeMember",value:function(e){var t=this.conferenceService.getMemberIndex(e.member_id),n=this.conference.members;-1!==t&&(this.conferenceService.isActiveUser(n[t].caller_id_number)&&(this.closeStream(),this.conferenceService.updateActiveUserJoined(null)),n.splice(t,1),this.conferenceService.setConference(this.conference))}},{key:"setSpeakValueForMember",value:function(e,t){var n,i=this.conferenceService.getMemberIndex(e);(null===(n=this.conference)||void 0===n?void 0:n.members[i])&&(this.conference.members[i].flags.speak=t)}},{key:"setHearValueForMember",value:function(e,t){var n,i=this.conferenceService.getMemberIndex(e);(null===(n=this.conference)||void 0===n?void 0:n.members[i])&&(this.conference.members[i].flags.hear=t)}},{key:"setMuteConferenceValue",value:function(e){this.conference.flags.mute=e}},{key:"setTalkingForMember",value:function(e,t,n){var i,r=this.conferenceService.getMemberIndex(e);(null===(i=this.conference)||void 0===i?void 0:i.members[r])&&(this.conference.members[r].flags.isSpeaking=t,this.conference.members[r].flags.energyLevel=n)}},{key:"setRaisedHandValueForMember",value:function(e,t){var n,i=this.conferenceService.getMemberIndex(t);(null===(n=this.conference)||void 0===n?void 0:n.members[i])&&(this.conference.members[i].flags.signal=e,this.conferenceService.updateConferenceData(this.conference))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(j.Z),l.LFG(U.L),l.LFG(B.v),l.LFG(z.Kf))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Oo=n(83017),jo=n(64209);function Eo(e,t){1&e&&(l.TgZ(0,"header"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"dialpad-telephone.dtmf_label"),"\n"))}function Lo(e,t){1&e&&(l.TgZ(0,"header"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"dialpad-telephone.start-new-call_label"),"\n"))}function No(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"button",23),l.NdJ("mousedown",function(){return l.CHM(n),l.oxw(2).startMouseDeleteTimer()})("mouseup",function(){return l.CHM(n),l.oxw(2).stopMousePressedTimer()}),l._UZ(1,"app-svg-icon",24),l.qZA()}}function Ro(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",19),l.TgZ(1,"button",20),l.NdJ("click",function(){return l.CHM(n),l.oxw().onCall()}),l._UZ(2,"app-svg-icon",21),l.qZA(),l.YNc(3,No,2,0,"button",22),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("disabled",i.isDisabled),l.xp6(1),l.Q6J("fill",i.callButtonColor(i.isDisabled))("icon",(null==i.contactCallIcon?null:i.contactCallIcon.iconName)||"call")("size",(null==i.contactCallIcon?null:i.contactCallIcon.size)||"large"),l.xp6(1),l.Q6J("ngIf",i.isBackButtonShown)}}var Do=function(e,t){return{t9:e,invisible:t}},Zo=function(){var e=function(){function e(t,n,i,r,a,o,s,c,l,u){var f,d,h=this;_classCallCheck2(this,e),this.mainService=t,this.dtmfService=n,this.sipService=i,this.searchService=r,this.callSearchService=a,this.userService=o,this.telephonyOfflineService=s,this.callTrackerService=c,this.whiteLabelService=l,this.dialPadService=u,this.ngUnsubscribe=new A.xQ,this.mouseDown=!1,this.contactCallIcon=null===(d=null===(f=this.whiteLabelService.data)||void 0===f?void 0:f.iconInfos)||void 0===d?void 0:d.find(function(e){return"dialCallButton"===e.key}),this.activeCall$=this.callTrackerService.activeCall$,this.searchService.searchItem$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){h.mainService.searchString=e.searchString,h.isBackButtonShown=!!e.searchString}),this.dtmfService.isDTMFMode$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){h.isDTMFMode=e}),this.activeCall$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){h.isDTMFMode=!!e})}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"callButtonColor",value:function(e){return e?"grey-color":""}},{key:"onMousedown",value:function(){this.mouseDown=!0}},{key:"onMouseup",value:function(){this.mouseDown=!1}},{key:"addCharacter",value:function(e){this.dialPadService.addCharacter(e),this.isDTMFMode||this.searchService.searchViaDialpad(e)}},{key:"replaceZeroWithPlus",value:function(){var e="".concat(this.searchService.searchItem.searchString.substring(0,this.searchService.searchItem.searchString.length-1),"+");this.searchService.searchViaDialpad(e,!0)}},{key:"deleteLastCharacter",value:function(){var e=this.searchService.searchItem.searchString.slice(0,-1);this.searchService.searchViaDialpad(e,!0)}},{key:"clear",value:function(){this.searchService.clearSearch()}},{key:"startMouseDeleteTimer",value:function(){var e=this;this.deleteLastCharacter(),this.timer=setTimeout(function(){e.mouseDown&&e.clear()},1500)}},{key:"startMouseZeroTimer",value:function(){var e=this;this.addCharacter("0"),!this.isDTMFMode&&(this.timer=setTimeout(function(){e.mouseDown&&e.replaceZeroWithPlus()},1500))}},{key:"stopMousePressedTimer",value:function(){clearTimeout(this.timer)}},{key:"onCall",value:function(){this.isDTMFMode||this.callSearchService.onSearchSubmit()}},{key:"isDisabled",get:function(){return!this.telephonyOfflineService.isOnline||this.sipService.telephonyOfflineValue&&this.userService.isMobilityOptionEnabled()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(at.J),l.Y36(pn.y),l.Y36(be.y),l.Y36(Ce.o),l.Y36(Ln.f),l.Y36(J.K),l.Y36(un.l),l.Y36(N.k),l.Y36(Di.D),l.Y36(jo.z))},e.\u0275cmp=l.Xpm({type:e,selectors:[["dial-pad-telephone"]],hostBindings:function(e,t){1&e&&l.NdJ("mousedown",function(e){return t.onMousedown(e)})("mouseup",function(e){return t.onMouseup(e)})},inputs:{transferItem:"transferItem"},decls:69,vars:41,consts:[[4,"ngIf"],["data-e2e","main-telephone-page__dial-pad",1,"dialpad"],[1,"dialpad__row"],["mat-button","","data-e2e","main-telephone-page__number-1--button",1,"dialpad__button",3,"mousedown"],[1,"number"],[1,"invisible"],["mat-button","","data-e2e","main-telephone-page__number-2--button",1,"dialpad__button",3,"mousedown"],[3,"ngClass"],["mat-button","","data-e2e","main-telephone-page__number-3--button",1,"dialpad__button",3,"mousedown"],["mat-button","","data-e2e","main-telephone-page__number-4--button",1,"dialpad__button",3,"mousedown"],["mat-button","","data-e2e","main-telephone-page__number-5--button",1,"dialpad__button",3,"mousedown"],["mat-button","","data-e2e","main-telephone-page__number-6--button",1,"dialpad__button",3,"mousedown"],["mat-button","","data-e2e","main-telephone-page__number-7--button",1,"dialpad__button",3,"mousedown"],["mat-button","","data-e2e","main-telephone-page__number-8--button",1,"dialpad__button",3,"mousedown"],["mat-button","","data-e2e","main-telephone-page__number-9--button",1,"dialpad__button",3,"mousedown"],["mat-button","","data-e2e","main-telephone-page__star--button",1,"dialpad__button",3,"mousedown"],["mat-button","","data-e2e","main-telephone-page__number-0--button",1,"dialpad__button",3,"mousedown","mouseup"],["mat-button","","data-e2e","main-telephone-page__number-sign--button",1,"dialpad__button",3,"mousedown"],["class","dialpad__actions",4,"ngIf"],[1,"dialpad__actions"],["mat-icon-button","","data-e2e","main-telephone-page__call--button",1,"dialpad__call-button",3,"disabled","click"],[3,"fill","icon","size"],["class","dialpad__delete-button","mat-icon-button","","data-e2e","main-telephone-page__delete--button",3,"mousedown","mouseup",4,"ngIf"],["mat-icon-button","","data-e2e","main-telephone-page__delete--button",1,"dialpad__delete-button",3,"mousedown","mouseup"],["fill","dialpad__delete-button--fill","icon","backspace","size","medium"]],template:function(e,t){1&e&&(l.YNc(0,Eo,3,3,"header",0),l.YNc(1,Lo,3,3,"header",0),l.ALo(2,"async"),l.TgZ(3,"div",1),l.TgZ(4,"div",2),l.TgZ(5,"button",3),l.NdJ("mousedown",function(){return t.addCharacter("1")}),l.TgZ(6,"span",4),l._uU(7,"1"),l.qZA(),l.TgZ(8,"span",5),l._uU(9,"ABC"),l.qZA(),l.qZA(),l.TgZ(10,"button",6),l.NdJ("mousedown",function(){return t.addCharacter("2")}),l.TgZ(11,"span",4),l._uU(12,"2"),l.qZA(),l.TgZ(13,"span",7),l._uU(14,"ABC"),l.qZA(),l.qZA(),l.TgZ(15,"button",8),l.NdJ("mousedown",function(){return t.addCharacter("3")}),l.TgZ(16,"span",4),l._uU(17,"3"),l.qZA(),l.TgZ(18,"span",7),l._uU(19,"DEF"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"div",2),l.TgZ(21,"button",9),l.NdJ("mousedown",function(){return t.addCharacter("4")}),l.TgZ(22,"span",4),l._uU(23,"4"),l.qZA(),l.TgZ(24,"span",7),l._uU(25,"GHI"),l.qZA(),l.qZA(),l.TgZ(26,"button",10),l.NdJ("mousedown",function(){return t.addCharacter("5")}),l.TgZ(27,"span",4),l._uU(28,"5"),l.qZA(),l.TgZ(29,"span",7),l._uU(30,"JKL"),l.qZA(),l.qZA(),l.TgZ(31,"button",11),l.NdJ("mousedown",function(){return t.addCharacter("6")}),l.TgZ(32,"span",4),l._uU(33,"6"),l.qZA(),l.TgZ(34,"span",7),l._uU(35,"MNO"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(36,"div",2),l.TgZ(37,"button",12),l.NdJ("mousedown",function(){return t.addCharacter("7")}),l.TgZ(38,"span",4),l._uU(39,"7"),l.qZA(),l.TgZ(40,"span",7),l._uU(41,"PQRS"),l.qZA(),l.qZA(),l.TgZ(42,"button",13),l.NdJ("mousedown",function(){return t.addCharacter("8")}),l.TgZ(43,"span",4),l._uU(44,"8"),l.qZA(),l.TgZ(45,"span",7),l._uU(46,"TUV"),l.qZA(),l.qZA(),l.TgZ(47,"button",14),l.NdJ("mousedown",function(){return t.addCharacter("9")}),l.TgZ(48,"span",4),l._uU(49,"9"),l.qZA(),l.TgZ(50,"span",7),l._uU(51,"WXYZ"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(52,"div",2),l.TgZ(53,"button",15),l.NdJ("mousedown",function(){return t.addCharacter("*")}),l.TgZ(54,"span",4),l._uU(55,"*"),l.qZA(),l.TgZ(56,"span",5),l._uU(57,"ABC"),l.qZA(),l.qZA(),l.TgZ(58,"button",16),l.NdJ("mousedown",function(){return t.startMouseZeroTimer()})("mouseup",function(){return t.stopMousePressedTimer()}),l.TgZ(59,"span",4),l._uU(60,"0"),l.qZA(),l.TgZ(61,"span",7),l._uU(62,"+"),l.qZA(),l.qZA(),l.TgZ(63,"button",17),l.NdJ("mousedown",function(){return t.addCharacter("#")}),l.TgZ(64,"span",4),l._uU(65,"#"),l.qZA(),l.TgZ(66,"span",5),l._uU(67,"ABC"),l.qZA(),l.qZA(),l.qZA(),l.YNc(68,Ro,4,5,"div",18),l.qZA()),2&e&&(l.Q6J("ngIf",t.isDTMFMode),l.xp6(1),l.Q6J("ngIf",!t.isDTMFMode&&l.lcZ(2,12,t.activeCall$)),l.xp6(12),l.Q6J("ngClass",l.WLB(14,Do,!t.isDTMFMode,t.isDTMFMode)),l.xp6(5),l.Q6J("ngClass",l.WLB(17,Do,!t.isDTMFMode,t.isDTMFMode)),l.xp6(6),l.Q6J("ngClass",l.WLB(20,Do,!t.isDTMFMode,t.isDTMFMode)),l.xp6(5),l.Q6J("ngClass",l.WLB(23,Do,!t.isDTMFMode,t.isDTMFMode)),l.xp6(5),l.Q6J("ngClass",l.WLB(26,Do,!t.isDTMFMode,t.isDTMFMode)),l.xp6(6),l.Q6J("ngClass",l.WLB(29,Do,!t.isDTMFMode,t.isDTMFMode)),l.xp6(5),l.Q6J("ngClass",l.WLB(32,Do,!t.isDTMFMode,t.isDTMFMode)),l.xp6(5),l.Q6J("ngClass",l.WLB(35,Do,!t.isDTMFMode,t.isDTMFMode)),l.xp6(11),l.Q6J("ngClass",l.WLB(38,Do,!t.isDTMFMode,t.isDTMFMode)),l.xp6(7),l.Q6J("ngIf",!t.isDTMFMode))},directives:[K.O5,Be.lW,K.mk,ne.u],pipes:[K.Ov,_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]     .mat-button, [_nghost-%COMP%]     .mat-icon-button{border-radius:50%;margin:.4rem 0;min-height:6.4rem;min-width:6.4rem;padding:0}[_nghost-%COMP%]     .mat-button .number, [_nghost-%COMP%]     .mat-icon-button .number{display:block;font-size:4rem;line-height:4.4rem}[_nghost-%COMP%]     .mat-button .t9, [_nghost-%COMP%]     .mat-icon-button .t9{font-size:1.4rem;position:relative;top:-1.6rem}[_nghost-%COMP%]     .mat-button .invisible, [_nghost-%COMP%]     .mat-icon-button .invisible{visibility:hidden}.dialpad[_ngcontent-%COMP%]{height:39.2rem;padding:2rem 2.4rem;width:30.2rem}@media screen and (min-width: 768px) and (max-width: 1023px){.dialpad[_ngcontent-%COMP%]{padding:2rem .5rem;width:31vw}}@media screen and (max-width: 767px){.dialpad[_ngcontent-%COMP%]{padding:2rem .5rem;width:24rem}}.dialpad[_ngcontent-%COMP%], .dialpad[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}header[_ngcontent-%COMP%]{font-size:1.6rem;height:5.6rem;line-height:5.6rem;margin:0 .5rem;position:relative;text-align:center;top:0;vertical-align:middle}.dialpad__row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.dialpad__button[_ngcontent-%COMP%]{height:4.8rem}.dialpad__actions[_ngcontent-%COMP%]{margin-top:2rem;position:relative;text-align:center}.dialpad__call-button[_ngcontent-%COMP%]{fill:#fff}.dialpad__call-button[disabled][_ngcontent-%COMP%]{background:#fff}.dialpad__delete-button[_ngcontent-%COMP%]{position:absolute;right:0}"]}),e}(),Fo=n(11827);function Uo(e,t){1&e&&(l.TgZ(0,"header",4),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"telephone.on_hold")," "))}function qo(e,t){if(1&e&&l._UZ(0,"svg-avatar-drag-target",11),2&e){var n=l.oxw().$implicit;l.Q6J("displayName",null==n?null:n.name)}}function Bo(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",5),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw().resumeCall(e.callId)})("cdkDragMoved",function(){return l.CHM(n),l.oxw().onDragStart()})("cdkDragDropped",function(){return l.CHM(n),l.oxw().onDragEnd()}),l.YNc(1,qo,1,1,"svg-avatar-drag-target",6),l._UZ(2,"call-item-container",7),l.TgZ(3,"div",8),l.ALo(4,"async"),l._UZ(5,"drop-zone-call-item",9),l._UZ(6,"drop-zone-call-item",10),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw();l.Q6J("cdkDragData",i),l.xp6(2),l.Q6J("callItem",i)("callItemConfigKey",r.callOnHoldConfigKey),l.xp6(1),l.Q6J("ngClass",l.lcZ(4,6,r.isDragging$)?"call-on-hold__is-dragged":"call-on-hold__is-not-dragged"),l.xp6(2),l.Q6J("activeCall",i),l.xp6(1),l.Q6J("activeCall",i)}}var Ho=function(){var e=function(){function e(t,n,i){var r=this;_classCallCheck2(this,e),this.conferenceService=t,this.dropZoneService=n,this.callTrackerService=i,this.ngUnsubscribe=new A.xQ,this.onHoldCalls=[],this.callOnHoldConfigKey=me.ACTIVE,this.dropZoneNames=this.dropZoneService.getDropZones(),this.hasOnHoldCall=!1,this.isDragging$=this.dropZoneService.isDragging$,this.onHoldCalls$=this.callTrackerService.onHoldCalls$.pipe((0,tn.b)(function(e){r.hasOnHoldCall=!!(null==e?void 0:e.length)}),(0,Et.U)(function(e){return r.getMappedCallItem(e)}))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"resumeCall",value:function(e){var t=this;this.tryToFindDynamicConferenceInOnHoldCalls(e,function(){t.callTrackerService.resumeCall(e)})}},{key:"onDragStart",value:function(){this.dropZoneService.onDragStart()}},{key:"onDragEnd",value:function(){this.dropZoneService.onDragEnd()}},{key:"getAdHocConferenceData",value:function(e){this.conferenceService.updateConferenceServiceData(void 0),this.conferenceService.updateAdHocConferenceName(e)}},{key:"tryToFindDynamicConferenceInOnHoldCalls",value:function(e,t){var n=this.onHoldCalls.filter(function(t){return t.callItem.id===e&&t.callItem.hasOwnProperty("name")});this.removeOnHoldIndex(this.onHoldCalls.indexOf(n[0])),n.length&&(this.conferenceCallId=e,this.getAdHocConferenceData(n[0].callItem.name)),t&&t()}},{key:"removeOnHoldIndex",value:function(e){this.onHoldCalls.splice(e,1)}},{key:"getMappedCallItem",value:function(e){return null==e?void 0:e.map(function(e){return{id:"",callId:e.callItem.callId,name:e.callItem.name,number:e.callItem.number,timestamp:0,isContextMenuDisabled:!0,isDebounceDblClickDisabled:!0}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(j.Z),l.Y36(ke.b),l.Y36(N.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["call-on-hold"]],inputs:{activeCall:"activeCall"},decls:6,vars:8,consts:[[1,"call-on-hold"],["class","call-on-hold__header",4,"ngIf"],["cdkDropList","",3,"cdkDropListData","cdkDropListConnectedTo"],["class","call-on-hold__call-items","cdkDrag","","data-e2e","main-telephone-page__on-hold-list-element","itemHoverbox","",3,"cdkDragData","click","cdkDragMoved","cdkDragDropped",4,"ngFor","ngForOf"],[1,"call-on-hold__header"],["cdkDrag","","data-e2e","main-telephone-page__on-hold-list-element","itemHoverbox","",1,"call-on-hold__call-items",3,"cdkDragData","click","cdkDragMoved","cdkDragDropped"],[3,"displayName",4,"cdkDragPreview"],[3,"callItem","callItemConfigKey"],[1,"call-on-hold__zones",3,"ngClass"],["dropZoneName","DynamicConferenceZoneHold","iconName","conference_call_solid",3,"activeCall"],["dropZoneName","TransferZoneHold","iconName","transfer",3,"activeCall"],[3,"displayName"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,Uo,3,3,"header",1),l.TgZ(2,"div",2),l.ALo(3,"async"),l.YNc(4,Bo,7,8,"div",3),l.ALo(5,"async"),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",t.hasOnHoldCall),l.xp6(1),l.Q6J("cdkDropListData",l.lcZ(3,4,t.onHoldCalls$))("cdkDropListConnectedTo",t.dropZoneNames),l.xp6(2),l.Q6J("ngForOf",l.lcZ(5,6,t.onHoldCalls$)))},directives:[K.O5,xe.Wj,K.sg,xe.Zt,te.h,xe.pV,qe,K.mk,Fo.Q,He.g],pipes:[K.Ov,_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.call-on-hold[_ngcontent-%COMP%]{cursor:pointer;flex-grow:0;max-height:25rem;overflow-y:scroll;position:relative}.call-on-hold__header[_ngcontent-%COMP%]{border-bottom:.1rem solid #f5f5f5;border-top:.1rem solid #f5f5f5;font-size:1.6rem;padding:1rem}.call-on-hold__item[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row}.call-on-hold__zones[_ngcontent-%COMP%]{display:flex;flex-direction:row;left:6.5rem;position:relative;top:-6.1rem;width:21rem}.call-on-hold__call-items[_ngcontent-%COMP%]{height:7.6rem}.call-on-hold__is-dragged[_ngcontent-%COMP%]{z-index:999}.call-on-hold__is-not-dragged[_ngcontent-%COMP%]{z-index:-999}"]}),e}(),Yo=n(64676),Vo=n(8106),Jo=n(53264),Qo=n(11495),zo=["#screensharingMenu"],Go=["addParticipant"];function Wo(e,t){if(1&e&&(l._UZ(0,"raise-hand-button",6),l.ALo(1,"async")),2&e){var n=l.oxw();l.Q6J("conferenceState",l.lcZ(1,2,n.activeCallConferenceState$))("conferenceMember",n.activeCallConferenceSelfMember)}}function $o(e,t){1&e&&(l.ynx(0),l._UZ(1,"video-camera-toggle",3),l._UZ(2,"video-screenshare-menu",3),l.BQk())}function Ko(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button",7),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().startCinemaMode()}),l.qZA()}}var Xo=function(){var e=function(){function e(t,n,i,r,a,o,s,c,l,u){var f=this;_classCallCheck2(this,e),this.mainService=t,this.videoPinnedMemberService=n,this.renderer2=i,this.sipService=r,this.conferenceService=a,this.conferenceConnectionService=o,this.cinemaModeService=s,this.featureAccessService=c,this.featureAccessVideoService=l,this.dtmfService=u,this.hasPinnedMember=!1,this.ngUnsubscribe=new A.xQ,this.active=!1,this.isDialPadDTMFMode=!0,this.active=!!this.sipService.onGoingCall,this.videoPinnedMemberService.pinnedMemberId$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){f.hasPinnedMember=!!e}),this.conferenceConnectionService.connectUntil(this.ngUnsubscribe),this.activeCallConferenceState$=this.conferenceService.activeCallConferenceState$,this.conferenceService.activeCallConferenceState$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){f.activeCallConferenceSelfMember=Mo.a.getSelf(e)}),this.isVideoAvailable$=this.featureAccessService.isVideoAvailable$,this.isCinemaModeAvailable$=this.featureAccessVideoService.isCinemaModeAvailable$}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"toggleDialPadDTMFMode",value:function(){this.dtmfService.setDtmfVisibility(this.isDialPadDTMFMode=!this.isDialPadDTMFMode)}},{key:"startCinemaMode",value:function(){this.cinemaModeService.enterCinemaMode()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(at.J),l.Y36(Yo.G),l.Y36(l.Qsj),l.Y36(be.y),l.Y36(Mo.a),l.Y36(Vo.Q),l.Y36(Bn.H),l.Y36(gr.q),l.Y36(Jo.x),l.Y36(pn.y))},e.\u0275cmp=l.Xpm({type:e,selectors:[["phone-panel-actions"]],viewQuery:function(e,t){var n;(1&e&&(l.Gf(zo,5,ga.p6),l.Gf(Go,5,l.SBq)),2&e)&&(l.iGM(n=l.CRH())&&(t.screensharingMenu=n.first),l.iGM(n=l.CRH())&&(t.addParticipant=n.first))},inputs:{activeCall:"activeCall",isOneOnOneCall:"isOneOnOneCall"},decls:9,vars:9,consts:[["hoverTextTranslationKey","telephone.new_call","iconName","add","e2e","call-actions-fragment__dial-pad-dtmf-mode",3,"appButtonClick"],[1,"phone-panel-actions__call-action"],["e2e","call-actions-fragment",3,"conferenceState","conferenceMember",4,"ngIf"],["e2e","call-actions-fragment"],[4,"ngIf"],["hoverTextTranslationKey","telephone.cinema_mode_on","iconName","cinema_mode_on","data-e2e","call-actions-fragment__cinema-mode--svg-icon","e2e","call-actions-fragment__cinema-mode",3,"appButtonClick",4,"ngIf"],["e2e","call-actions-fragment",3,"conferenceState","conferenceMember"],["hoverTextTranslationKey","telephone.cinema_mode_on","iconName","cinema_mode_on","data-e2e","call-actions-fragment__cinema-mode--svg-icon","e2e","call-actions-fragment__cinema-mode",3,"appButtonClick"]],template:function(e,t){1&e&&(l.TgZ(0,"app-button",0),l.NdJ("appButtonClick",function(){return t.toggleDialPadDTMFMode()}),l.qZA(),l.TgZ(1,"div",1),l.YNc(2,Wo,2,4,"raise-hand-button",2),l.ALo(3,"async"),l._UZ(4,"microphone",3),l.YNc(5,$o,3,0,"ng-container",4),l.ALo(6,"async"),l.YNc(7,Ko,1,0,"app-button",5),l.ALo(8,"async"),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngIf",l.lcZ(3,3,t.activeCallConferenceState$)&&!t.isOneOnOneCall),l.xp6(3),l.Q6J("ngIf",l.lcZ(6,5,t.isVideoAvailable$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(8,7,t.isCinemaModeAvailable$)))},directives:[Pt.V,K.O5,Jr.B,Qo.g,Qr.p,zr.J],pipes:[K.Ov],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;flex-direction:row;padding:.3rem 0}@media screen and (min-width: 768px) and (max-width: 840px){[_nghost-%COMP%]     .mat-icon-button{height:4.2rem;width:4.2rem}}@media screen and (max-width: 767px){[_nghost-%COMP%]     .mat-icon-button{height:4rem;width:4rem}}.phone-panel-actions__call-action[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}@media screen and (min-width: 840px){.phone-panel-actions__call-action[_ngcontent-%COMP%]{flex:1}}.phone-panel-actions__call-action__button[_ngcontent-%COMP%]{margin:0 .3rem}"]}),e}(),es=n(5197),ts=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.callTrackerService=t,this.ngUnsubscribe=new A.xQ,this.onHoldCalls=[]}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"setActiveCallOnHold",value:function(){this.callTrackerService.hold()}},{key:"hangupActiveCall",value:function(){this.callTrackerService.hangupCall(this.activeCall.callId)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(N.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["phone-actions"]],inputs:{activeCall:"activeCall"},decls:7,vars:3,consts:[[1,"phone-actions__title"],[1,"phone-actions__buttons"],["hoverTextTranslationKey","telephone.hold","iconName","call_hold","e2e","call-actions-fragment__hold",1,"phone-actions__button","phone-actions__onhold-button",3,"appButtonClick"],["hoverTextTranslationKey","telephone.hang_up","e2e","call-actions-fragment__single-hang-up",1,"phone-actions__button",3,"appButtonClick"]],template:function(e,t){1&e&&(l.TgZ(0,"section-title",0),l.TgZ(1,"span"),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA(),l.TgZ(4,"div",1),l.TgZ(5,"app-button",2),l.NdJ("appButtonClick",function(){return t.setActiveCallOnHold()}),l.qZA(),l.TgZ(6,"app-button-end-call",3),l.NdJ("appButtonClick",function(){return t.hangupActiveCall()}),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.hij(" ",l.lcZ(3,1,"telephone.in_call")," "))},directives:[es.D,Pt.V,Si.Q],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{align-items:center;border:.1rem solid #f5f5f5;display:flex;justify-content:space-between}.phone-actions__title[_ngcontent-%COMP%]{padding-left:1.6rem}.phone-actions__buttons[_ngcontent-%COMP%]{display:flex}.phone-actions__button[_ngcontent-%COMP%]{font-size:3rem;margin:.3rem}"]}),e}(),ns=n(8359),is=n(63327),rs=n(56247),as=function(){var e=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.conferenceSubscriptionsService=t,this.dialog=n,this.featureAccessService=i,this.meetingService=r,this.ngUnsubscribe=new A.xQ,this.hasMeetingAccess=!1,this.isInfoButtonDisabled=!1,this.hoverTextTranslationKey=""}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.featureAccessService.hasUserModuleMeeting$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.hasMeetingAccess=t}),this.setHoverTextTranslationKey()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"showInfoDialog",value:function(){var e;switch(null===(e=this.conferenceState)||void 0===e?void 0:e.kind){case ns.VW.Meeting:this.showMeetingInfo();break;case ns.VW.Dynamic:this.showDynamicConferenceInfo();break;default:this.showConferenceInfo()}}},{key:"showMeetingInfo",value:function(){this.meeting&&this.openMeetingDialog(this.meeting)}},{key:"showDynamicConferenceInfo",value:function(){var e=this;this.conferenceState&&this.meetingService.getDynamicConferenceMeeting(this.conferenceState).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){return e.openMeetingDialog(t)})}},{key:"setHoverTextTranslationKey",value:function(){var e;switch(null===(e=this.conferenceState)||void 0===e?void 0:e.kind){case ns.VW.Meeting:this.hoverTextTranslationKey="conference.meeting_details",this.isInfoButtonDisabled=!this.meeting;break;case ns.VW.Dynamic:this.hoverTextTranslationKey="conference.meeting_details",this.isInfoButtonDisabled=!this.hasMeetingAccess;break;default:this.hoverTextTranslationKey="conference.information",this.isInfoButtonDisabled=!this.conferenceSubscription}}},{key:"showConferenceInfo",value:function(){this.dialog.open(fe,{autoFocus:!1,data:this.conferenceSubscription})}},{key:"openMeetingDialog",value:function(e){this.dialog.open(rs.Y,{autoFocus:!1,width:"56rem",height:"52rem",panelClass:"meetings__info-dialog-container",data:{meeting:e}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(V.H),l.Y36(O.uw),l.Y36(gr.q),l.Y36(st.D))},e.\u0275cmp=l.Xpm({type:e,selectors:[["conference-info-button"]],inputs:{conferenceState:"conferenceState",conferenceSubscription:"conferenceSubscription",meeting:"meeting",e2e:"e2e"},decls:1,vars:3,consts:[["iconName","info",3,"hoverTextTranslationKey","e2e","disabled","appButtonClick"]],template:function(e,t){1&e&&(l.TgZ(0,"app-button",0),l.NdJ("appButtonClick",function(){return t.showInfoDialog()}),l.qZA()),2&e&&l.Q6J("hoverTextTranslationKey",t.hoverTextTranslationKey)("e2e",t.e2e?t.e2e+"__info":null)("disabled",t.isInfoButtonDisabled)},directives:[Pt.V],encapsulation:2}),e}(),os=n(12794),ss=n(36969);function cs(e,t){if(1&e&&l._UZ(0,"conference-lock-button",12),2&e){var n=l.oxw(2).ngIf;l.Q6J("conferenceState",n)}}function ls(e,t){if(1&e&&(l.ynx(0),l.YNc(1,cs,1,1,"conference-lock-button",11),l._UZ(2,"raise-hand-button",12),l._UZ(3,"microphone",12),l.BQk()),2&e){var n=l.oxw().ngIf,i=l.oxw();l.xp6(1),l.Q6J("ngIf",i.conferenceKind!==i.APIConferenceKind.Dynamic),l.xp6(1),l.Q6J("conferenceState",n),l.xp6(1),l.Q6J("conferenceState",n)}}function us(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button-end-call",13),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw(2).hangupConference()}),l.qZA()}2&e&&l.Q6J("isRounded",!0)}function fs(e,t){1&e&&(l.TgZ(0,"span",14),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"conference.dynamic_conference")," "))}function ds(e,t){if(1&e&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&e){var n=l.oxw().ngIf;l.xp6(1),l.Oqu(null==n?null:n.description)}}function hs(e,t){if(1&e&&l._UZ(0,"member-list",15),2&e){var n=l.oxw().ngIf;l.Q6J("isSmallView",!0)("conferenceState",n)}}function ps(e,t){if(1&e){var n=l.EpF();l.ynx(0),l.TgZ(1,"div",1),l._UZ(2,"conference-info-button",2),l.ALo(3,"async"),l.YNc(4,ls,4,3,"ng-container",0),l.ALo(5,"async"),l.TgZ(6,"app-button",3),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().setConferenceOnHold()}),l.qZA(),l.YNc(7,us,1,1,"app-button-end-call",4),l.qZA(),l.TgZ(8,"div",5),l.YNc(9,fs,3,3,"span",6),l.YNc(10,ds,2,1,"ng-template",null,7,l.W1O),l.TgZ(12,"span",8),l._uU(13),l.qZA(),l.qZA(),l.TgZ(14,"div",9),l.YNc(15,hs,1,2,"member-list",10),l.qZA(),l.BQk()}if(2&e){var i=t.ngIf,r=l.MAs(11),a=l.oxw();l.xp6(2),l.Q6J("conferenceState",i)("conferenceSubscription",a.conferenceSubscription)("meeting",l.lcZ(3,9,a.meetingService.activeMeetingConference$)),l.xp6(2),l.Q6J("ngIf",a.isModerator&&!l.lcZ(5,11,a.isLiteMode$)),l.xp6(3),l.Q6J("ngIf",i),l.xp6(2),l.Q6J("ngIf",a.conferenceKind===a.APIConferenceKind.Dynamic)("ngIfElse",r),l.xp6(4),l.hij(" (",null==a.activeConferenceState?null:a.activeConferenceState.size,")"),l.xp6(2),l.Q6J("ngIf",i)}}var gs=function(){var e=function(){function e(t,n,i,r,a,o,s,c){var l=this;_classCallCheck2(this,e),this.meetingService=t,this.apiConferenceV2Service=n,this.conferenceConnectionService=i,this.conferenceV2Service=r,this.liteModeService=a,this.logger=o,this.sipService=s,this.callTrackerService=c,this.ngUnsubscribe=new A.xQ,this.APIConferenceKind=ns.VW,this.isLiteMode$=this.liteModeService.isLiteMode$,this.conferenceV2Service.activeCallConferenceState$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){var t;l.activeConferenceState=e,l.isModerator=!!e&&l.conferenceV2Service.isModerator(e),(null===(t=l.activeConferenceState)||void 0===t?void 0:t.kind)&&(l.conferenceKind=l.activeConferenceState.kind)}),this.conferenceConnectionService.connectUntil(this.ngUnsubscribe),this.activeCallConferenceState$=this.conferenceV2Service.activeCallConferenceState$}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"setConferenceOnHold",value:function(){this.callTrackerService.hold()}},{key:"hangupConference",value:function(){var e;if(this.isModerator){if(!this.activeConferenceState)return this.logger.warn("Failed to delete conference. No active conference state present.");this.apiConferenceV2Service.deleteConference(this.activeConferenceState.uuid)}else this.sipService.hangupCall(null===(e=this.sipService.onGoingCall)||void 0===e?void 0:e.callId)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(st.D),l.Y36(is.y),l.Y36(Vo.Q),l.Y36(Mo.a),l.Y36(B.v),l.Y36(z.Kf),l.Y36(be.y),l.Y36(N.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["conference-panel-control"]],inputs:{conferenceSubscription:"conferenceSubscription"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"conference-panel-control__buttons"],["e2e","call-actions-fragment",1,"conference-panel-control__button",3,"conferenceState","conferenceSubscription","meeting"],["hoverTextTranslationKey","conference.on_hold","iconName","call_hold","e2e","call-actions-fragment__hold",1,"conference-panel-control__button",3,"appButtonClick"],["hoverTextTranslationKey","conference.end_conference","iconSize","small","e2e","call-actions-fragment__end-conference",3,"isRounded","appButtonClick",4,"ngIf"],["e2e","call-actions-fragment__title",1,"conference-panel-control__title"],["data-e2e","call-actions-fragment__conference-title",4,"ngIf","ngIfElse"],["isNotDynamicConference",""],["data-e2e","call-actions-fragment__conference-members-count","hideIf",""],["hideIf","",1,"conference-panel-control__participants-wrapper"],["class","conference-panel-control__participants","data-e2e","participant-fragment",3,"isSmallView","conferenceState",4,"ngIf"],["class","conference-panel-control__button","e2e","call-actions-fragment",3,"conferenceState",4,"ngIf"],["e2e","call-actions-fragment",1,"conference-panel-control__button",3,"conferenceState"],["hoverTextTranslationKey","conference.end_conference","iconSize","small","e2e","call-actions-fragment__end-conference",3,"isRounded","appButtonClick"],["data-e2e","call-actions-fragment__conference-title"],["data-e2e","participant-fragment",1,"conference-panel-control__participants",3,"isSmallView","conferenceState"]],template:function(e,t){1&e&&(l.YNc(0,ps,16,13,"ng-container",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,t.activeCallConferenceState$))},directives:[K.O5,as,Pt.V,fa.B,Qo.g,Jr.B,os.K,Si.Q,ss.U],pipes:[K.Ov,_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;z-index:0}@media screen and (min-width: 768px) and (max-width: 840px){[_nghost-%COMP%]     .mat-icon-button{height:4.2rem;width:4.2rem}}@media screen and (max-width: 767px){[_nghost-%COMP%]     .mat-icon-button{height:4rem;width:4rem}}.conference-panel-control__participants-wrapper[_ngcontent-%COMP%]{height:100%;overflow-y:scroll;position:relative}.conference-panel-control__buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.conference-panel-control__title[_ngcontent-%COMP%]{padding:1rem 0 1rem 1.6rem}.conference-panel-control__title[_ngcontent-%COMP%] + participants[_ngcontent-%COMP%]{margin-top:-1rem}"]}),e}(),ms=n(56506),vs=n(81825);function bs(e,t){if(1&e&&(l.ynx(0),l._UZ(1,"call-item-container",1),l.ALo(2,"async"),l.TgZ(3,"div",2),l.ALo(4,"async"),l._UZ(5,"drop-zone-call-item",3),l.ALo(6,"async"),l._UZ(7,"drop-zone-call-item",4),l.ALo(8,"async"),l.qZA(),l.BQk()),2&e){var n=l.oxw();l.xp6(1),l.Q6J("callItem",l.lcZ(2,6,n.activeCall$))("callItemConfigKey",n.activeCallConfigKey),l.xp6(2),l.ekj("active-call__zones--dragging",l.lcZ(4,8,n.isDragging$)),l.xp6(2),l.Q6J("activeCall",l.lcZ(6,10,n.activeCall$)),l.xp6(2),l.Q6J("activeCall",l.lcZ(8,12,n.activeCall$))}}var ys=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.dropZoneService=t,this.callTrackerService=n,this.activeCallConfigKey=me.ACTIVE}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.isDragging$=this.dropZoneService.isDragging$,this.activeCall$=this.callTrackerService.activeCall$.pipe((0,Et.U)(function(t){return t&&e.getMappedCallItem(t)}))}},{key:"getMappedCallItem",value:function(e){return{id:"",callId:null==e?void 0:e.callId,name:null==e?void 0:e.name,number:null==e?void 0:e.number,timestamp:0,isContextMenuDisabled:!0,isDebounceDblClickDisabled:!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(ke.b),l.Y36(N.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["active-call"]],decls:2,vars:3,consts:[[4,"ngIf"],["e2e","main-telephone-page__active-call-list-item",3,"callItem","callItemConfigKey"],[1,"active-call__zones"],["dropZoneName","DynamicConferenceZoneHold","iconName","conference_call_solid",3,"activeCall"],["dropZoneName","TransferZoneHold","iconName","transfer",3,"activeCall"]],template:function(e,t){1&e&&(l.YNc(0,bs,9,14,"ng-container",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,t.activeCall$))},directives:[K.O5,qe,Fo.Q],pipes:[K.Ov],styles:[".call-on-hold[_ngcontent-%COMP%]{cursor:pointer;flex-grow:0;max-height:25rem;overflow-y:scroll;position:relative}.call-on-hold__item[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row}.call-on-hold__call-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:row}.active-call__call-items[_ngcontent-%COMP%]{height:7.6rem}.active-call__zones[_ngcontent-%COMP%]{display:flex;flex-direction:row;left:6.5rem;position:relative;top:-6.1rem;width:21rem;z-index:-999}.active-call__zones--dragging[_ngcontent-%COMP%]{z-index:999}"]}),e}(),_s=n(61918);function Cs(e,t){if(1&e&&(l._UZ(0,"phone-panel-actions",13),l.ALo(1,"async"),l.ALo(2,"async")),2&e){var n=l.oxw();l.Q6J("activeCall",l.lcZ(1,2,n.activeCall$))("isOneOnOneCall",l.lcZ(2,4,n.isOneOnOneCall$))}}function ks(e,t){1&e&&l._UZ(0,"mini-video",14),2&e&&l.Q6J("isPhonePanelView",!0)}function Ss(e,t){if(1&e&&(l._UZ(0,"phone-actions",11),l.ALo(1,"async")),2&e){var n=l.oxw();l.Q6J("activeCall",l.lcZ(1,1,n.activeCall$))}}function xs(e,t){if(1&e&&l._UZ(0,"conference-panel-control",15),2&e){var n=l.oxw();l.Q6J("conferenceSubscription",n.conferenceSubscription)}}function As(e,t){if(1&e&&l._UZ(0,"drop-zone-invite-conference",5),2&e){var n=l.oxw();l.Q6J("ngClass",n.isDragging?"phone-panel__is-dragged":"phone-panel__is-not-dragged")}}function ws(e,t){1&e&&l._UZ(0,"drop-zone-contact")}function Ms(e,t){1&e&&l._UZ(0,"active-call")}function Ts(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button-end-call",18),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw(2).hangupAll()}),l.qZA()}2&e&&l.Q6J("isBackgroundFilled",!0)}function Ps(e,t){if(1&e&&(l.TgZ(0,"footer",16),l._UZ(1,"drop-zone-call-footer",5),l.YNc(2,Ts,1,1,"app-button-end-call",17),l.qZA()),2&e){var n=l.oxw();l.xp6(1),l.ekj("hidden",!n.isDragging),l.Q6J("ngClass",n.isDragging?"phone-panel__is-dragged":"phone-panel__is-not-dragged"),l.xp6(1),l.Q6J("ngIf",!n.isDragging)}}var Is=function(e){return[e]},Os=function(){var e=function(){function e(t,n,i,r,a,o,s,c,u,f,d,h,p,g,m,v,b){_classCallCheck2(this,e),this.sipService=t,this.conferenceEventsService=n,this.conferenceService=i,this.route=r,this.router=a,this.snackbarService=o,this.userService=s,this.apiAvEventStateService=c,this.conferenceHelperService=u,this.conferencesEventStreamService=f,this.mainService=d,this.headsetService=h,this.conferenceSubscriptionsService=p,this.dropZoneService=g,this.cinemaModeService=m,this.apiAvFeedService=v,this.callTrackerService=b,this.conferenceCallId="",this.ngUnsubscribe=new A.xQ,this.showDialPadValue=!1,this.isSearching=!1,this.isDraggingChange=new l.vpe,this.showDialPadChange=new l.vpe,this.hasIncomingScreen=!1,this.isActiveCallDrag=!1,this.isScreenSharingActive=!1,this.conferenceSubscriptionList=[],this.STATUS_WAITING_FOR_ANSWER=4,this.isModerator=!1,this.isDynamicConference=!1,this.isConferenceAdmin=!1,this.isLoading=!1,this.isMiniVideoVisible$=(0,ln.aj)([this.cinemaModeService.isInCinemaMode$,this.apiAvFeedService.isAnyFeedPresent$]).pipe((0,Et.U)(function(e){var t=_slicedToArray2(e,2),n=t[0],i=t[1];return!n&&i})),this.isOneOnOneCall$=this.apiAvEventStateService.activeCallConferenceState$.pipe((0,Et.U)(function(e){return Mo.a.isOneOnOneState(e)})),this.activeCallConferenceState$=this.apiAvEventStateService.activeCallConferenceState$,this.addObservables(),this.setup()}return _createClass2(e,[{key:"ngOnInit",value:function(){var t=this;this.activeCall$=this.callTrackerService.activeCall$,this.onHoldCalls$=this.callTrackerService.onHoldCalls$,this.isDragging$=this.dropZoneService.isDragging$,this.conferenceService.conferenceUserRole$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.role=e}),this.conferenceService.isConferenceAdmin$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.isConferenceAdmin=e}),this.conferenceService.conferenceServiceData$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.conferenceServiceData=e}),this.conferenceService.activeUserJoined$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.activeUserJoined=e}),this.conferenceService.isAdHocConference$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.isDynamicConference=e}),this.conferenceService.adHocConferenceName$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.dynamicConferenceName=e}),this.userService.userInfo$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.userInfo=e}),this.conferenceService.conferenceData$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.conference=e,(null==e?void 0:e.isActive)&&t.conferenceService.findActiveUser()}),this.onHoldCalls$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){t.refreshConferenceData()}),this.isDragging=!1,this.dropZoneService.isDragging$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.isDragging=e}),this.activeCall&&e.callIsDynamicConferenceType(this.activeCall)&&(this.conferenceCallId=this.activeCall.callId,this.getDynamicConferenceData(this.activeCall.extensionName)),this.conferenceSubscriptionsService.conferenceSubscriptions$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.conferenceSubscriptionList=e,e.length&&t.processConferences()}),this.conferenceService.isModerator$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.isModerator=e}),this.dropZoneService.dropped$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){switch(e.dropZone){case"TransferZone":case"TransferZoneHold":e.item.hasOwnProperty("callItem")&&(e.item=e.item.callItem),t.transferOnDragAndDrop(e);break;case"DynamicConferenceZone":case"DynamicConferenceZoneHold":t.conferenceOnDragAndDrop(e);break;case"ConferenceInviteZone":t.addMemberToConference(e.item,e.item.callItem.number);break;case"CallFooterZone":t.callFunctionKey(e.item)}})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"getConferenceData",value:function(e){this.conferenceService.updateServiceNumber(e),this.conferenceService.getConferenceRole(e)}},{key:"getDynamicConferenceData",value:function(e){var t=this;this.conferenceService.updateConferenceServiceData(void 0),this.conferenceService.updateAdHocConferenceName(e),this.userService.userInfo$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(n){n&&(t.conferenceEventsService.initEventStream(e),t.getDynamicConference(e))})}},{key:"getDynamicConference",value:function(e){var t=this;this.conferenceService.getAdHocConferenceData(e).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){e.isActive=!0,t.conferenceService.setConference(e),t.conferenceService.findActiveUser(),t.conferenceService.updateAdHocConferenceState(!0)})}},{key:"onDragStart",value:function(){this.dropZoneService.onDragStart()}},{key:"onDragEnd",value:function(){this.dropZoneService.onDragEnd()}},{key:"processConferences",value:function(){this.conferenceSubscription=void 0;var e,t=_createForOfIteratorHelper2(this.conferenceSubscriptionList);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.activeCall&&n.number===this.activeCall.number&&(this.conferenceSubscription=n,this.conferenceCallId=this.activeCall.callId,this.getConferenceData(n.serviceNumber.toString()))}}catch(i){t.e(i)}finally{t.f()}}},{key:"toggleDialPad",value:function(){this.showDialPad=!this.showDialPad,So.V.dialpadVisible=this.showDialPad}},{key:"hangupAll",value:function(){this.callTrackerService.hangupAll(),this.conferenceService.resetConference(),this.sipService.activeMuted&&(this.sipService.activeMuted=!this.sipService.activeMuted)}},{key:"refreshConferenceData",value:function(){this.activeUserJoined=null,this.conferenceCallId="",this.conferenceEventsService.closeStream(),this.processConferences()}},{key:"addObservables",value:function(){var e=this;this.callTrackerService.callStarted$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.activeCall=t,e.processConferences()}),this.sipService.callEnded$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){var n=t.callId;e.activeCall&&e.activeCall.callId===n&&(e.activeCall=null,e.sipService.activeMuted=!1),n===e.conferenceCallId&&(e.activeUserJoined=null,e.conferenceCallId="",e.conferenceEventsService.closeStream(),e.conferenceService.removeServiceNumberFromCalls(n))}),this.conferenceService.serviceNumber$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&e.activeCall&&e.conferenceService.setServiceNumberForCall(e.activeCall.callId,t)}),this.headsetService.triggerDynamicConference$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&e.getDynamicConferenceData(t)})}},{key:"callFunctionKey",value:function(e){e.conferenceSubscription instanceof pe.i?this.conferenceHelperService.callByPreferredDevice(e.conferenceSubscription):this.callTrackerService.makeCall(e)}},{key:"transferOnDragAndDrop",value:function(e,t){var n,i,r,a;this.showTransferState();var o=(null===(n=null==e?void 0:e.activeCall)||void 0===n?void 0:n.callId)?null===(i=null==e?void 0:e.activeCall)||void 0===i?void 0:i.callId:null===(r=null==e?void 0:e.activeCall)||void 0===r?void 0:r.id;if(o)if("callId"in e.item&&e.item.callId&&e.item.callId.length>20)this.sipService.attendedTransfer(null===(a=null==e?void 0:e.item)||void 0===a?void 0:a.callId,o);else{var s=this.getNumberForBlindTransfer(e.item);if(!s)return;t?this.sipService.redirectIncomingCall(o,s):this.sipService.blindTransfer(o,s)}}},{key:"conferenceOnDragAndDrop",value:function(e){var t,n,i,r=(null===(t=null==e?void 0:e.activeCall)||void 0===t?void 0:t.callId)?null===(n=null==e?void 0:e.activeCall)||void 0===n?void 0:n.callId:null===(i=null==e?void 0:e.activeCall)||void 0===i?void 0:i.id;this.dndExtensionNumber=this.getNumberFromDndObject(e.item),this.sipService.dynamicConference(r)}},{key:"showTransferState",value:function(){var e=this;this.sipService.transferState$.pipe((0,w.P)(),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.snackbarService.openInfo("telephone.transfer."+(t?"successful":"error"),!0)})}},{key:"isPhonePanelActionsHidden",value:function(){return this.isAdminDraggingMember()?"phone-panel__actions--hidden":""}},{key:"getNumberFromDndObject",value:function(e){e.hasOwnProperty("callItem")&&(e=e.callItem);var t=["EXTENSION_NUMBER","extensionNumber","FORMAT_PLAIN","search","remote","displayNumber","contact"].find(function(t){return e.hasOwnProperty(t)&&e[t]});return t?e[t]:""}},{key:"addMemberToConference",value:function(e,t){var n,i=this;if(this.isModerator){var r=this.getNumberForBlindTransfer(e);if(r)if(this.apiAvEventStateService.isPhoneNumberInActiveCallConference(r))this.snackbarService.openErrorInfo("conference.invite_participant.failure");else{var a=this.isDynamicConference?this.dynamicConferenceName:To.K.normalizeServiceNumber(this.conferenceSubscription.serviceNumber),o=this.isDynamicConference?"":null===(n=this.conferenceSubscription)||void 0===n?void 0:n.adminPIN;this.conferenceService.addMember(t,"user",o,a,this.userInfo.activePhoneExtension).pipe((0,tn.b)({error:function(){i.snackbarService.openErrorInfo("conference.invite_participant.failure")}}),(0,M.R)(this.ngUnsubscribe)).subscribe()}}}},{key:"getNumberForBlindTransfer",value:function(e){if(e.hasOwnProperty("DISPLAY_NAME"))return e.FORMAT_PLAIN||e.EXTENSION_NUMBER;if(e.hasOwnProperty("contact"))return e.contact;var t=wo.getCallObjectFromSearchItem(e);return t?t.number.toString():null}},{key:"setup",value:function(){this.hasIncomingScreen=this.sipService.hasIncomingScreenValue,this.isScreenSharingActive=this.sipService.isScreenSharingActive,this.showDialPad=So.V.dialpadVisible}},{key:"isAdminDraggingMember",value:function(){return!!this.activeUserJoined&&(this.isConferenceAdmin||this.isDynamicConference&&this.isModerator)&&this.isDragging}},{key:"callDropZoneActive",get:function(){return this.isDragging}},{key:"showDialPad",get:function(){return this.showDialPadValue},set:function(e){this.showDialPadValue=e,this.showDialPadChange.next(e)}}],[{key:"callIsDynamicConferenceType",value:function(e){return e&&e.hasOwnProperty("extensionName")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(be.y),l.Y36(Io),l.Y36(j.Z),l.Y36(i.gz),l.Y36(i.F0),l.Y36(E.c),l.Y36(J.K),l.Y36(Mo.a),l.Y36(Y._),l.Y36(_e.i),l.Y36(at.J),l.Y36(Oo.Y),l.Y36(V.H),l.Y36(ke.b),l.Y36(Bn.H),l.Y36(Hr.D),l.Y36(N.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["phone-panel"]],inputs:{isSearching:"isSearching"},outputs:{isDraggingChange:"isDraggingChange",showDialPadChange:"showDialPadChange"},decls:29,vars:48,consts:[["data-e2e","main-telephone-page__dial-pad-toggle",1,"phone-panel__dialpad-toggle",3,"click"],[1,"phone-panel__dial-pad"],["data-e2e","main-telephone-page__contact-drop-area",1,"telephone-details"],["data-e2e","call-actions-fragment",3,"activeCall","isOneOnOneCall",4,"ngIf"],["class","phone-panel__video","data-e2e","call-actions-fragment__mini-video",3,"isPhonePanelView",4,"ngIf"],[3,"ngClass"],[3,"activeCall",4,"ngIf"],[3,"conferenceSubscription",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"phone-panel__participants","phone-panel__telephone-details"],[4,"ngIf"],[3,"activeCall"],["class","phone-panel__footer",4,"ngIf"],["data-e2e","call-actions-fragment",3,"activeCall","isOneOnOneCall"],["data-e2e","call-actions-fragment__mini-video",1,"phone-panel__video",3,"isPhonePanelView"],[3,"conferenceSubscription"],[1,"phone-panel__footer"],["class","phone-panel__footer__button","e2e","call-actions-fragment__hang-up-all","iconSize","large",3,"isBackgroundFilled","appButtonClick",4,"ngIf"],["e2e","call-actions-fragment__hang-up-all","iconSize","large",1,"phone-panel__footer__button",3,"isBackgroundFilled","appButtonClick"]],template:function(e,t){var n;(1&e&&(l.TgZ(0,"div",0),l.NdJ("click",function(){return t.toggleDialPad()}),l.qZA(),l._UZ(1,"dial-pad-telephone",1),l.TgZ(2,"div",2),l.YNc(3,Cs,3,6,"phone-panel-actions",3),l.ALo(4,"async"),l.YNc(5,ks,1,1,"mini-video",4),l.ALo(6,"async"),l.TgZ(7,"div",5),l.ALo(8,"async"),l.ALo(9,"async"),l.YNc(10,Ss,2,3,"phone-actions",6),l.ALo(11,"async"),l.ALo(12,"async"),l.YNc(13,xs,1,1,"conference-panel-control",7),l.ALo(14,"async"),l.ALo(15,"async"),l.qZA(),l.YNc(16,As,1,1,"drop-zone-invite-conference",8),l.ALo(17,"async"),l.TgZ(18,"section",9),l.YNc(19,ws,1,0,"drop-zone-contact",10),l.ALo(20,"async"),l.YNc(21,Ms,1,0,"active-call",10),l.ALo(22,"async"),l.qZA(),l._UZ(23,"call-on-hold",11),l.ALo(24,"async"),l.YNc(25,Ps,3,4,"footer",12),l.ALo(26,"async"),l.ALo(27,"async"),l.ALo(28,"async"),l.qZA()),2&e)&&(l.xp6(1),l.ekj("is-hidden",!t.showDialPad||t.callDropZoneActive),l.xp6(1),l.ekj("has-drag",t.isDragging),l.xp6(1),l.Q6J("ngIf",l.lcZ(4,16,t.activeCall$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(6,18,t.isMiniVideoVisible$)),l.xp6(2),l.ekj("phone-panel__conference-participants--active",l.lcZ(8,20,t.activeCallConferenceState$)&&!l.lcZ(9,22,t.isOneOnOneCall$)),l.Q6J("ngClass",l.VKq(46,Is,t.isPhonePanelActionsHidden())),l.xp6(3),l.Q6J("ngIf",l.lcZ(11,24,t.activeCall$)&&l.lcZ(12,26,t.isOneOnOneCall$)),l.xp6(3),l.Q6J("ngIf",l.lcZ(14,28,t.activeCallConferenceState$)&&!l.lcZ(15,30,t.isOneOnOneCall$)),l.xp6(3),l.Q6J("ngIf",l.lcZ(17,32,t.activeCallConferenceState$)),l.xp6(3),l.Q6J("ngIf",!l.lcZ(20,34,t.activeCall$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(22,36,t.isOneOnOneCall$)),l.xp6(2),l.Q6J("activeCall",l.lcZ(24,38,t.activeCall$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(26,40,t.activeCall$)||(null==(n=l.lcZ(27,42,t.onHoldCalls$))?null:n.length)||l.lcZ(28,44,t.activeCallConferenceState$)))},directives:[Zo,K.O5,K.mk,Ho,Xo,$r,ts,gs,ms.e,vs.K,ys,_s.C,Si.Q],pipes:[K.Ov],styles:['.hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]    {display:flex;flex-direction:row!important;overflow:visible!important;overflow:initial!important;position:relative;width:auto!important;width:initial!important}[_nghost-%COMP%]     .call-item__actions, [_nghost-%COMP%]     .flexible-list__item__actions{fill:#fff}[_nghost-%COMP%]     .call-item__actions.on-hover, [_nghost-%COMP%]     .flexible-list__item__actions.on-hover{align-items:center;bottom:0;display:none;right:0;top:0}[_nghost-%COMP%]     .call-item__actions.on-hover .btn-kick, [_nghost-%COMP%]     .call-item__actions.on-hover .mute-btn, [_nghost-%COMP%]     .flexible-list__item__actions.on-hover .btn-kick, [_nghost-%COMP%]     .flexible-list__item__actions.on-hover .mute-btn{fill:#b30000}[_nghost-%COMP%]     .phone-panel__participants{overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]     .conference-participants-list .flexible-list__item__actions.on-hover button{margin:0}[_nghost-%COMP%]     .call-item:hover .call-item__actions.on-hover, [_nghost-%COMP%]     .flexible-list__item:hover .flexible-list__item__actions.on-hover{display:flex}.phone-panel__incoming[_ngcontent-%COMP%]{padding-left:1rem}.phone-panel__dial-pad[_ngcontent-%COMP%]{border-left-style:solid;border-left-width:.1rem;overflow-x:hidden;overflow-y:auto;transition:all .5s;width:30.2rem}@media screen and (min-width: 768px) and (max-width: 1023px){.phone-panel__dial-pad[_ngcontent-%COMP%]{width:31vw}}@media screen and (max-width: 767px){.phone-panel__dial-pad[_ngcontent-%COMP%]{width:24rem}}.phone-panel__dial-pad.is-hidden[_ngcontent-%COMP%]{border-left-width:0;width:0}.telephone-details[_ngcontent-%COMP%]{border-left-style:solid;border-left-width:.1rem;display:flex;flex-direction:column;width:32.2rem}@media screen and (min-width: 768px) and (max-width: 1023px){.telephone-details[_ngcontent-%COMP%]{width:32.33vw}}@media screen and (max-width: 767px){.telephone-details[_ngcontent-%COMP%]{width:24rem}}.telephone-details[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{align-items:center;border-bottom:.1rem solid #f5f5f5;color:#fff;display:flex;padding:1rem 1.6rem}.telephone-details[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:0}.telephone-details[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{fill:#ffffff80}.telephone-details[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .arrow__back[_ngcontent-%COMP%]{fill:#fff}.telephone-details[_ngcontent-%COMP%] > .phone-panel__telephone-details[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;margin:0;position:relative}.telephone-details[_ngcontent-%COMP%] > .phone-panel__telephone-details[_ngcontent-%COMP%]   .active-call-container[_ngcontent-%COMP%]   .call-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.telephone-details[_ngcontent-%COMP%] > .phone-panel__telephone-details[_ngcontent-%COMP%]   .active-call-container[_ngcontent-%COMP%]   .call-list[_ngcontent-%COMP%]   .flexible-list__item[_ngcontent-%COMP%]{margin-bottom:.8rem;margin-top:.8rem}.telephone-details[_ngcontent-%COMP%] > .phone-panel__telephone-details[_ngcontent-%COMP%]   .active-call-container[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]{align-items:center;display:flex;height:6.4rem;position:relative}.telephone-details[_ngcontent-%COMP%] > .phone-panel__telephone-details[_ngcontent-%COMP%]   .active-call-container[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;height:4rem;margin:0 .8rem;pointer-events:none;width:4rem}.telephone-details[_ngcontent-%COMP%] > .phone-panel__telephone-details[_ngcontent-%COMP%]   .active-call-container[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;justify-content:center;overflow:hidden;padding-left:.8rem;position:relative;-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important;width:24.5rem}.telephone-details[_ngcontent-%COMP%] > .phone-panel__telephone-details[_ngcontent-%COMP%]   .active-call-container[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .phone-panel__details-item[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.telephone-details[_ngcontent-%COMP%] > .phone-panel__telephone-details[_ngcontent-%COMP%]   .active-call-container[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .phone-panel__details-item.name[_ngcontent-%COMP%]{font-size:1.8rem}.telephone-details[_ngcontent-%COMP%] > .phone-panel__telephone-details[_ngcontent-%COMP%]   .active-call-container[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .phone-panel__details-item.number[_ngcontent-%COMP%]{font-size:1.6rem}.telephone-details[_ngcontent-%COMP%] > .phone-panel__telephone-details[_ngcontent-%COMP%]   .active-call-container[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .remove-callback-icon[_ngcontent-%COMP%]{position:absolute;right:2.5rem;top:.2rem}.telephone-details.has-drag[_ngcontent-%COMP%]   .active-call-container[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%], .telephone-details.has-drag[_ngcontent-%COMP%]   .incoming-calls-container[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{border:.1rem dashed #fff;padding-left:.7rem;position:relative}.telephone-details.dnd-drag-over[_ngcontent-%COMP%]   .add-conference-member.admin-user[_ngcontent-%COMP%]{background-color:#00b300}.conference-participants-list[_ngcontent-%COMP%]{overflow-y:auto}.conference-participants-list[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]:hover   .name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:pre-line;width:10rem}.conference-participants-list[_ngcontent-%COMP%]   .call-item[_ngcontent-%COMP%]:hover   .participant-muted[_ngcontent-%COMP%]{display:none}.conference-participants-list[_ngcontent-%COMP%]   .flexible-list__item[_ngcontent-%COMP%]{position:relative}.call-start[_ngcontent-%COMP%]{fill:#00b300}.call-end[_ngcontent-%COMP%]{fill:#b30000}.phone-panel__actions[_ngcontent-%COMP%]{overflow:hidden}.phone-panel__actions--hidden[_ngcontent-%COMP%]{display:none}.phone-panel__conference[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.phone-panel__conference-participants--active[_ngcontent-%COMP%]{overflow:hidden}.phone-panel__dialpad-toggle[_ngcontent-%COMP%]{cursor:pointer;display:flex;z-index:1}.phone-panel__dialpad-toggle[_ngcontent-%COMP%]:after{border-radius:.3rem;content:"";height:3.8rem;margin:auto .8rem;width:.4rem}.phone-panel__footer[_ngcontent-%COMP%]{padding:.8rem}.phone-panel__footer__button[_ngcontent-%COMP%]{display:flex;flex-grow:1}.phone-panel__footer__dropzone[_ngcontent-%COMP%]{height:10.6rem}.hidden[_ngcontent-%COMP%]{display:none}.phone-panel__video-stats[_ngcontent-%COMP%]{background-color:#000000b3}.phone-panel__caller-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:relative;z-index:1}.phone-panel__drop-zone[_ngcontent-%COMP%]{display:flex;left:9rem;position:absolute;z-index:0}.phone-panel__active-call[_ngcontent-%COMP%]{height:100%}.phone-panel__footer-on-hold[_ngcontent-%COMP%]{display:flex;flex-direction:column}.phone-panel__on-hold-item[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex}.phone-panel__on-hold-item-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.phone-panel__on-hold-item-drop-zone[_ngcontent-%COMP%]{display:flex;left:6rem;position:absolute}.phone-panel__is-dragged[_ngcontent-%COMP%]{z-index:999}.phone-panel__is-not-dragged[_ngcontent-%COMP%]{z-index:-999}']}),e}(),js=n(11923),Es=n(95973);function Ls(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button",2),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().pickupCall()}),l.qZA()}}function Ns(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button",3),l.NdJ("appButtonClick",function(){l.CHM(n);var e=l.oxw();return e.openDetails(e.functionKey)}),l.qZA()}if(2&e){var i=l.oxw();l.Q6J("hoverTextTranslationKey",i.infoHoverText)}}var Rs=function(){var e=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.dialog=t,this.busyLampFieldService=n,this.pickupCallService=i,this.callTrackerService=r,this.ngUnsubscribe=new A.xQ,this.infoTranslationKey=this.pickupCallService.infoTranslationKey}return _createClass2(e,[{key:"ngOnInit",value:function(){var e;this.incomingCalls$=this.callTrackerService.incomingCalls$,this.infoHoverText={translationKey:this.infoTranslationKey,translateParams:{username:null===(e=this.functionKey)||void 0===e?void 0:e.targetName}}}},{key:"ngOnChanges",value:function(e){this.functionKey=e.functionKey.currentValue}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"pickupCall",value:function(){this.pickupCallService.pickupCall(this.functionKey.callItem.number)}},{key:"openDetails",value:function(e){this.dialog.open(Es.Y,{autoFocus:!1,data:{functionKey:e}})}},{key:"isActivatedPickupCall",value:function(){return this.busyLampFieldService.getBusyLampFieldState(this.functionKey.callItem.number)===ge.x.RINGING}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(O.uw),l.Y36(an.H),l.Y36(sa.I),l.Y36(N.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["pickup-call-button"]],inputs:{functionKey:"functionKey"},features:[l.TTD],decls:4,vars:4,consts:[["hideCall","","color","primary","size","telephone__pickup--style","buttonTextTranslationKey","pickup.pickup_call","type","basic-button","class","exclude-app-button-style",3,"appButtonClick",4,"ngIf","ngIfElse"],["notActivatedPickupCall",""],["hideCall","","color","primary","size","telephone__pickup--style","buttonTextTranslationKey","pickup.pickup_call","type","basic-button",1,"exclude-app-button-style",3,"appButtonClick"],["iconName","pickup","iconSize","xs",1,"telephone__pickup--icon",3,"hoverTextTranslationKey","appButtonClick"]],template:function(e,t){if(1&e&&(l.YNc(0,Ls,1,0,"app-button",0),l.ALo(1,"async"),l.YNc(2,Ns,1,1,"ng-template",null,1,l.W1O)),2&e){var n=l.MAs(3);l.Q6J("ngIf",!!l.lcZ(1,2,t.incomingCalls$)&&t.isActivatedPickupCall())("ngIfElse",n)}},directives:[K.O5,Pt.V,ca.N],pipes:[K.Ov],styles:["[_nghost-%COMP%]{margin-right:1.6rem}"]}),e}();function Ds(e,t){if(1&e&&l._UZ(0,"svg-avatar-drag-target",9),2&e){var n=l.oxw().$implicit;l.Q6J("iconName",null==n||null==n.callItem||null==n.callItem.avatarIcon?null:n.callItem.avatarIcon.iconName)("displayName",null==n||null==n.callItem?null:n.callItem.name)("isInitialsHidden",null==n||null==n.callItem||null==n.callItem.avatarIcon?null:n.callItem.avatarIcon.isInitialsHidden)}}function Zs(e,t){if(1&e&&l._UZ(0,"pickup-call-button",10),2&e){var n=l.oxw().$implicit;l.Q6J("functionKey",n)}}var Fs=function(e){return{active:e}};function Us(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"li",5),l.NdJ("cdkDragDropped",function(){return l.CHM(n),l.oxw(3).onDragEnd()})("cdkDragMoved",function(){return l.CHM(n),l.oxw(3).onDragStart()}),l.YNc(1,Ds,1,3,"svg-avatar-drag-target",6),l.TgZ(2,"call-item-container",7),l.YNc(3,Zs,1,1,"pickup-call-button",8),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw(3);l.Q6J("ngClass",l.VKq(5,Fs,i.functionKeyNumber.FUNCTIONKEY_NUMBER===r.activeId))("cdkDragData",i),l.xp6(2),l.Q6J("callItem",null==i?null:i.callItem)("callItemConfigKey",r.functionKeyConfigKey),l.xp6(1),l.Q6J("ngIf",i.pickable)}}function qs(e,t){if(1&e&&(l.TgZ(0,"ul",3),l.YNc(1,Us,4,7,"li",4),l.qZA()),2&e){var n=t.$implicit,i=l.oxw(2);l.Q6J("cdkDropListData",n)("cdkDropListConnectedTo",i.dropZoneNames),l.xp6(1),l.Q6J("ngForOf",n)("ngForTrackBy",i.functionKeyById)}}function Bs(e,t){if(1&e&&(l.TgZ(0,"div",1),l.YNc(1,qs,2,4,"ul",2),l.qZA()),2&e){var n=l.oxw();l.ekj("telephone-function-keys__dialpad-visible",n.isDialpadVisible),l.Q6J("loadingAreaIndicatorActive",n.isLoadingTelephoneList),l.xp6(1),l.Q6J("ngForOf",n.functionKeysGroup)}}var Hs=function(){var e=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.dropZoneService=t,this.functionKeysService=n,this.pickupCallService=i,this.functionKeyIconPipe=r,this.ngUnsubscribe=new A.xQ,this.isLoadingTelephoneList=!0,this.dragIcons=[],this.dropZoneNames=this.dropZoneService.getDropZones(),this.functionKeyConfigKey=me.FUNCTIONKEY,this.getFunctionKeyList()}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"onDragStart",value:function(){this.dropZoneService.onDragStart()}},{key:"onDragEnd",value:function(){this.dropZoneService.onDragEnd()}},{key:"functionKeyById",value:function(e,t){return t.functionKeyNumber}},{key:"getFunctionKeyList",value:function(){var e=this;this.functionKeysService.getList().pipe((0,Xe.K)(function(t){return e.isLoadingTelephoneList=t}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){var n;if(null===(n=t.data)||void 0===n?void 0:n.length){var i=t.data.map(function(e){return e.FUNCTIONKEY_TYPE}),r=t.data.map(function(t){return e.getMappedFunctionKey(t)});e.functionKeysGroup=e.splitList(r),e.pickupCallService.emitFunctionkey(t.data),e.dragIcons=hr.$.getArrayWithUniqueValues(i)}})}},{key:"getMappedFunctionKey",value:function(e){var t={id:"",name:e.DISPLAY_NAME||e.TARGET_NAME,timestamp:0,number:e.EXTENSION_NUMBER||e.FORMAT_PLAIN||e.FUNCTION_CODE,avatarIcon:{displayName:"",iconName:this.functionKeyIconPipe.transform(e.FUNCTIONKEY_TYPE),isInitialsHidden:!["MONITOR","INTERCOM"].includes(e.FUNCTIONKEY_TYPE)}};return{pickable:e.PICKABLE,pickupGroups:e.PICKUPGROUPS,targetName:e.TARGET_NAME,functionKeyNumber:e.FUNCTIONKEY_NUMBER,callItem:t}}},{key:"splitList",value:function(e){var t=Math.ceil(e.length/2);return[e.slice(0,t),e.slice(t)]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(ke.b),l.Y36(Hn.f),l.Y36(sa.I),l.Y36(js.W))},e.\u0275cmp=l.Xpm({type:e,selectors:[["telephone-function-keys"]],inputs:{isDialpadVisible:"isDialpadVisible"},decls:1,vars:1,consts:[["class","telephone-function-keys","loading-area-indicator","","id","functionKeys",3,"telephone-function-keys__dialpad-visible","loadingAreaIndicatorActive",4,"ngIf"],["loading-area-indicator","","id","functionKeys",1,"telephone-function-keys",3,"loadingAreaIndicatorActive"],["class","telephone-function-keys__contacts-list-control flexible-list","cdkDropList","",3,"cdkDropListData","cdkDropListConnectedTo",4,"ngFor","ngForOf"],["cdkDropList","",1,"telephone-function-keys__contacts-list-control","flexible-list",3,"cdkDropListData","cdkDropListConnectedTo"],["class","telephone-function-keys__item flexible-list","cdkDrag","","data-e2e","main-telephone-page__favorite-list-element","itemHoverbox","",3,"ngClass","cdkDragData","cdkDragDropped","cdkDragMoved",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","data-e2e","main-telephone-page__favorite-list-element","itemHoverbox","",1,"telephone-function-keys__item","flexible-list",3,"ngClass","cdkDragData","cdkDragDropped","cdkDragMoved"],[3,"iconName","displayName","isInitialsHidden",4,"cdkDragPreview"],[3,"callItem","callItemConfigKey"],["data-e2e","main-telephone-page__favorite-pickup-call-info-icon","hideIf","",3,"functionKey",4,"ngIf"],[3,"iconName","displayName","isInitialsHidden"],["data-e2e","main-telephone-page__favorite-pickup-call-info-icon","hideIf","",3,"functionKey"]],template:function(e,t){1&e&&l.YNc(0,Bs,2,4,"div",0),2&e&&l.Q6J("ngIf",null==t.functionKeysGroup?null:t.functionKeysGroup.length)},directives:[K.O5,X.O,K.sg,xe.Wj,xe.Zt,te.h,K.mk,xe.pV,qe,He.g,Rs,fa.B],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.telephone-function-keys[_ngcontent-%COMP%]{display:flex;min-height:calc(100% - 8rem - .1rem)}.telephone-function-keys.telephone-function-keys__dialpad-visible[_ngcontent-%COMP%]{display:block}.telephone-function-keys.telephone-function-keys__dialpad-visible[_ngcontent-%COMP%]   .telephone-function-keys__contacts-list-control[_ngcontent-%COMP%]{border:0}.telephone-function-keys__item[_ngcontent-%COMP%]{border:0;cursor:pointer}.telephone-function-keys__contacts-list-control[_ngcontent-%COMP%]{flex:1}.telephone-function-keys__contacts-list-control[_ngcontent-%COMP%]:first-child{border-right:.1rem solid #e5e5e5}"]}),e}(),Ys=n(51169),Vs=n(96902),Js=n(91856),Qs=n(25304),zs=n(50614),Gs=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.conferenceSubscriptionsService=t}return _createClass2(e,[{key:"ngOnInit",value:function(){this.conferenceSubscriptionsService.getConferenceSubscriptions(),this.conferenceSubscriptionsService.subscribeToConferenceEvents()}},{key:"ngOnDestroy",value:function(){this.conferenceSubscriptionsService.unsubscribeToConferenceEvents()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(V.H))},e.\u0275cmp=l.Xpm({type:e,selectors:[["conference"]],decls:1,vars:0,template:function(e,t){1&e&&l._UZ(0,"router-outlet")},directives:[i.lC],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.conference-list-container[_ngcontent-%COMP%]   .flexible-list__item__content[_ngcontent-%COMP%]{display:inline-block}"]}),e}(),Ws=n(46797),$s=function(){var e=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.digestAuthInterceptor=t,this.liteModeService=n,this.conferenceService=i,this.logger=r,this.ngUnsubscribe=new A.xQ}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.closeStream()}},{key:"initConferenceEventStream",value:function(e,t){var n=this,i=t||j.Z.getConferenceIdentifier(e.activePhoneExtension.name,this.serviceNumber);this.conferenceEventStreamService=new q(i,this.digestAuthInterceptor,this.logger,this.liteModeService,this.conferenceService),this.conferenceEventStreamService.createConference$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){return n.createConference()}),this.conferenceEventStreamService.addMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.addMember.bind(this)),this.conferenceEventStreamService.deleteMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.removeMember.bind(this)),this.conferenceEventStreamService.kickMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.removeMember.bind(this)),this.conferenceEventStreamService.muteMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.setSpeakValueForMember.bind(this,!1)),this.conferenceEventStreamService.unmuteMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.setSpeakValueForMember.bind(this,!0)),this.conferenceEventStreamService.deafMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.setHearValueForMember.bind(this,!1)),this.conferenceEventStreamService.undeafMember$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.setHearValueForMember.bind(this,!0)),this.conferenceEventStreamService.muteConference$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){return n.setMuteConferenceValue(!0)}),this.conferenceEventStreamService.unmuteConference$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){return n.setMuteConferenceValue(!1)}),this.conferenceEventStreamService.isLockedConference$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.setLockedConference.bind(this)),this.conferenceEventStreamService.startTalking$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.setTalkingForMember.bind(this,!0)),this.conferenceEventStreamService.stopTalking$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.setTalkingForMember.bind(this,!1)),this.conferenceEventStreamService.raiseHand$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.setRaisedHandValueForMember.bind(this,!0)),this.conferenceEventStreamService.lowerHand$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.setRaisedHandValueForMember.bind(this,!1)),this.conferenceEventStreamService.destroyConference$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){return n.destroyConference()})}},{key:"closeStream",value:function(){this.conferenceEventStreamService&&(this.conferenceEventStreamService.close(),this.conferenceEventStreamService=void 0)}},{key:"addMember",value:function(e){}},{key:"createConference",value:function(){}},{key:"destroyConference",value:function(){}},{key:"setLockedConference",value:function(e){}},{key:"removeMember",value:function(e){}},{key:"setHearValueForMember",value:function(e,t){}},{key:"setMuteConferenceValue",value:function(e){}},{key:"setSpeakValueForMember",value:function(e,t){}},{key:"setTalkingForMember",value:function(e,t){}},{key:"setRaisedHandValueForMember",value:function(e,t){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(U.L),l.Y36(B.v),l.Y36(j.Z),l.Y36(z.Kf))},e.\u0275dir=l.lG2({type:e}),e}(),Ks=n(1046),Xs=n(68409),ec=n(18882),tc=n(82613),nc=n(51111),ic=function(){var e=_createClass2(function e(){_classCallCheck2(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["autocomplete-result"]],inputs:{result:"result",discriminatorType:"discriminatorType"},decls:8,vars:6,consts:[[1,"autocomplete-result__infos"],["wrapperSize","medium",3,"displayName","iconName"],[1,"autocomplete-result__entry-name"],[1,"autocomplete-result__entry-detail"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"svg-avatar",1),l.ALo(2,"discriminatorIcon"),l.TgZ(3,"div",2),l.TgZ(4,"span"),l._uU(5),l.qZA(),l.TgZ(6,"span",3),l._uU(7),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("displayName",t.result.displayName)("iconName",l.lcZ(2,4,t.discriminatorType)),l.xp6(4),l.hij(" ",t.result.displayName," "),l.xp6(2),l.hij(" ",t.result.extensionNumber," "))},directives:[Ie.T],pipes:[nc.O],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.autocomplete-result__infos[_ngcontent-%COMP%]{align-items:center;display:flex;font-size:1.8rem}.autocomplete-result__infos[_ngcontent-%COMP%]   .autocomplete-result__entry-name[_ngcontent-%COMP%]{font-weight:bold;margin-left:1rem}.autocomplete-result__infos[_ngcontent-%COMP%]   .autocomplete-result__entry-detail[_ngcontent-%COMP%]{color:#b5b5b5;display:block;font-size:1.4rem;text-transform:uppercase}"]}),e}();function rc(e,t){1&e&&(l.TgZ(0,"div",16),l.TgZ(1,"p"),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Oqu(l.lcZ(3,1,"conference.invite_participant.success")))}function ac(e,t){1&e&&(l.TgZ(0,"div",16),l.TgZ(1,"p"),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Oqu(l.lcZ(3,1,"conference.invite_participant.failure")))}function oc(e,t){1&e&&l._UZ(0,"app-spinner",17)}function sc(e,t){if(1&e&&(l.TgZ(0,"mat-option",18),l._UZ(1,"autocomplete-result",19),l.qZA()),2&e){var n=t.$implicit,i=l.oxw();l.Q6J("value",n),l.xp6(1),l.Q6J("result",n)("discriminatorType",i.PHONEEXTENSION)}}var cc=function(){var e=function(){function e(t,n,i,r,a,o,s){_classCallCheck2(this,e),this.dialogRef=t,this.conferenceInviteData=n,this.userService=i,this.conferenceService=r,this.snackbarService=a,this.formBuilder=o,this.extensionsService=s,this.ngUnsubscribe=new A.xQ,this.role="user",this.isSending=!1,this.isSuccess=!1,this.isFailure=!1,this.page=1,this.pageSize=25,this.searchString="",this.filteredExtensions=[],this.hasMoreExtensions=!1,this.isLoadingExtensions=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.buildForm(),this.observeSearchString()}},{key:"onLazyLoading",value:function(){this.hasMoreExtensions&&!this.isLoadingExtensions&&this.loadExtensions()}},{key:"displayExtension",value:function(e){return null==e?void 0:e.displayName}},{key:"invite",value:function(){var e,t,n=this,i=null===(e=this.memberForm.get("extension"))||void 0===e?void 0:e.value;this.number="string"==typeof i?i:i.extensionNumber,this.role=null===(t=this.memberForm.get("role"))||void 0===t?void 0:t.value,this.isSending=!0,this.dialogRef.disableClose=!0,this.userService.userInfo$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){n.addMember(n.number,n.role,e)},function(){n.isSending=!1,n.failure()})}},{key:"success",value:function(){var t=this;this.isSuccess=!0,this.dialogRef.disableClose=!1,setTimeout(function(){t.isSuccess=!1,t.close()},e.ANSWER_TIMEOUT)}},{key:"failure",value:function(){var t=this;this.isFailure=!0,this.dialogRef.disableClose=!1,setTimeout(function(){t.isFailure=!1},e.ANSWER_TIMEOUT)}},{key:"close",value:function(){this.isSending=!1,this.dialogRef.close()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"searchExtensions",value:function(e){this.searchString=e,this.page=1,this.filteredExtensions=[],this.loadExtensions()}},{key:"loadExtensions",value:function(){var e=this;this.isLoadingExtensions||this.extensionsService.getCallItemResult(this.searchString,this.page,this.pageSize,P.V.EXTENSION).pipe((0,Xe.K)(function(t){return e.isLoadingExtensions=t}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.filteredExtensions=[].concat(_toConsumableArray2(1===e.page?[]:e.filteredExtensions),_toConsumableArray2(t)),e.page++,e.hasMoreExtensions=t.length>=e.pageSize})}},{key:"observeSearchString",value:function(){var e=this;this.memberForm.get("extension").valueChanges.pipe((0,Rn.O)(""),(0,ui.b)(300),(0,en.x)(),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.searchExtensions(t)})}},{key:"buildForm",value:function(){this.memberForm=this.formBuilder.group({extension:["",[ut.kI.required,Xs.m.either(ft.b.international(),Ks.C.autocompleteIsItemSelected())]],role:"user"})}},{key:"addMember",value:function(e,t,n){var i,r=this;if(null===(i=this.conferenceInviteData.conferenceMembers)||void 0===i?void 0:i.find(function(t){return t.caller_id_number===e}))return this.close(),void this.snackbarService.openErrorInfo("conference.invite_participant.failure");this.response=this.conferenceService.addMember(e,t,this.conferenceInviteData.conferenceServiceData.adminPIN,this.getServiceNumber(),n.activePhoneExtension).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){r.isSending=!1,"success"===e.response?r.success():r.failure()},function(){r.close(),r.snackbarService.openErrorInfo("conference.invite_participant.failure")})}},{key:"getServiceNumber",value:function(){return To.K.normalizeServiceNumber(this.conferenceInviteData.serviceNumber)}}]),e}();return e.ANSWER_TIMEOUT=2e3,e.\u0275fac=function(t){return new(t||e)(l.Y36(O.so),l.Y36(O.WI),l.Y36(J.K),l.Y36(j.Z),l.Y36(E.c),l.Y36(ut.qu),l.Y36(Lt.X))},e.\u0275cmp=l.Xpm({type:e,selectors:[["conference-invite"]],decls:25,vars:25,consts:[["data-e2e","conference-invite-modal-fragment",1,"conference-details__invite"],[1,"conference-details__invite__modal",3,"title"],["class","conference-invite__modal--notification",4,"ngIf"],[3,"formGroup","hidden"],["loading-area-indicator","",3,"loadingAreaIndicatorActive"],[1,"conference-invite__modal__content"],["fill","grey-color","icon","call","size","small",1,"conference-invite__member--icon"],["aria-label","Number","formControlName","extension","matInput","","tabindex","-1","type","text","data-e2e","conference-invite-modal-fragment__number--input",3,"matAutocomplete","placeholder"],["matSuffix","","size","small",4,"ngIf"],[3,"displayWith","listboxScrolled"],["auto","matAutocomplete"],["class","conference-invite__row-container","data-e2e","conference-invite-modal-fragment__autocomplete-option",3,"value",4,"ngFor","ngForOf"],["formControlName","role"],["color","primary","value","admin","data-e2e","conference-invite-modal-fragment__moderator-option"],["color","primary","value","user","data-e2e","conference-invite-modal-fragment__participant-option"],["e2e","conference-invite-modal-fragment",3,"btnCancelCaption","btnSaveCaption","saveDisabled","isBtnSaveHidden","cancelClick","saveClick"],[1,"conference-invite__modal--notification"],["matSuffix","","size","small"],["data-e2e","conference-invite-modal-fragment__autocomplete-option",1,"conference-invite__row-container",3,"value"],[3,"result","discriminatorType"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"modal-container",1),l.ALo(2,"translate"),l.YNc(3,rc,4,3,"div",2),l.YNc(4,ac,4,3,"div",2),l.TgZ(5,"form",3),l.TgZ(6,"div",4),l.TgZ(7,"div",5),l._UZ(8,"app-svg-icon",6),l.TgZ(9,"mat-form-field"),l._UZ(10,"input",7),l.ALo(11,"translate"),l.YNc(12,oc,1,0,"app-spinner",8),l.TgZ(13,"mat-autocomplete",9,10),l.NdJ("listboxScrolled",function(){return t.onLazyLoading()}),l.YNc(15,sc,2,3,"mat-option",11),l.qZA(),l.qZA(),l.qZA(),l.TgZ(16,"div",5),l.TgZ(17,"mat-radio-group",12),l.TgZ(18,"mat-radio-button",13),l._uU(19),l.ALo(20,"translate"),l.qZA(),l.TgZ(21,"mat-radio-button",14),l._uU(22),l.ALo(23,"translate"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(24,"footer-actions",15),l.NdJ("cancelClick",function(){return t.close()})("saveClick",function(){return t.invite()}),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){var n=l.MAs(14);l.xp6(1),l.Q6J("title",l.lcZ(2,17,"conference.invite_participant.label")),l.xp6(2),l.Q6J("ngIf",t.isSuccess),l.xp6(1),l.Q6J("ngIf",t.isFailure),l.xp6(1),l.Q6J("formGroup",t.memberForm)("hidden",t.isSuccess||t.isFailure),l.xp6(1),l.Q6J("loadingAreaIndicatorActive",t.isSending),l.xp6(4),l.Q6J("matAutocomplete",n)("placeholder",l.lcZ(11,19,"conference.invite_participant.phone_number")),l.xp6(2),l.Q6J("ngIf",t.isLoadingExtensions),l.xp6(1),l.Q6J("displayWith",t.displayExtension),l.xp6(2),l.Q6J("ngForOf",t.filteredExtensions),l.xp6(4),l.hij(" ",l.lcZ(20,21,"conference.invite_participant.moderator")," "),l.xp6(3),l.hij(" ",l.lcZ(23,23,"conference.invite_participant.participant")," "),l.xp6(2),l.Q6J("btnCancelCaption","conference.invite_participant.cancel")("btnSaveCaption","conference.invite_participant.invite")("saveDisabled",!t.memberForm.valid)("isBtnSaveHidden",t.isSending||t.isSuccess||t.isFailure)}},directives:[Gn.O,K.O5,ut._Y,ut.JL,ut.sg,X.O,ne.u,dt.KE,ut.Fj,ht.Nt,o.ZL,ut.JJ,ut.u,o.XC,ec.X,K.sg,tc.VQ,tc.U0,gt.c,Ta.S,dt.R9,Ui.ey,ic],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.conference-details__invite[_ngcontent-%COMP%]{display:flex}.conference-details__invite[_ngcontent-%COMP%]   .conference-invite__modal--notification[_ngcontent-%COMP%], .conference-details__invite[_ngcontent-%COMP%]   .conference-invite__modal__content[_ngcontent-%COMP%]{display:flex;min-width:48rem;padding:.8rem 2.4rem}.conference-details__invite__modal[_ngcontent-%COMP%]   .conference-invite__modal__content[_ngcontent-%COMP%]{padding:.8rem 2.4rem}.conference-details__invite__modal[_ngcontent-%COMP%]   .conference-invite__modal__content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.conference-details__invite__modal[_ngcontent-%COMP%]   .conference-invite__modal__content[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{display:block}.conference-invite__member--icon[_ngcontent-%COMP%]{align-self:center;margin-right:1rem}.conference-invite__row-container[_ngcontent-%COMP%]{height:6rem;line-height:2.4rem}"]}),e}(),lc=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.conferenceService=t,this.matDialog=n,this.conferenceMembers=[],this.conferenceRole="user"}return _createClass2(e,[{key:"sendConferenceInvite",value:function(){this.matDialog.open(cc,{data:{conferenceServiceData:this.conferenceServiceData,role:this.conferenceRole,serviceNumber:this.serviceNumber,conferenceMembers:this.conferenceMembers}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(j.Z),l.Y36(O.uw))},e.\u0275cmp=l.Xpm({type:e,selectors:[["conference-invite-button"]],inputs:{conferenceServiceData:"conferenceServiceData",conferenceState:"conferenceState",conferenceMembers:"conferenceMembers",conferenceRole:"conferenceRole",serviceNumber:"serviceNumber",e2e:"e2e"},decls:1,vars:1,consts:[["e2e","conference-details-page__invite","iconName","add","hoverTextTranslationKey","telephone.add_participant",3,"disabled","appButtonClick"]],template:function(e,t){1&e&&(l.TgZ(0,"app-button",0),l.NdJ("appButtonClick",function(){return t.sendConferenceInvite()}),l.qZA()),2&e&&l.Q6J("disabled",!t.conferenceState)},directives:[Pt.V],encapsulation:2}),e}();function uc(e,t){if(1&e&&(l.ynx(0),l._UZ(1,"conference-invite-button",11),l._UZ(2,"conference-lock-button",12),l._UZ(3,"raise-hand-button",12),l._UZ(4,"microphone",13),l.BQk()),2&e){var n=l.oxw();l.xp6(1),l.Q6J("conferenceState",n.conferenceState)("conferenceServiceData",n.conferenceServiceData)("pin",null==n.conferenceServiceData?null:n.conferenceServiceData.adminPIN)("serviceNumber",n.serviceNumber),l.xp6(1),l.Q6J("conferenceState",n.conferenceState),l.xp6(1),l.Q6J("conferenceState",n.conferenceState),l.xp6(1),l.Q6J("conferenceState",n.conferenceState)("isDisabled",!n.conferenceState)}}function fc(e,t){if(1&e&&l._UZ(0,"member-list",14),2&e){var n=l.oxw();l.Q6J("conferenceState",n.conferenceState)}}function dc(e,t){if(1&e&&(l.TgZ(0,"span",15),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e){var n=l.oxw();l.xp6(1),l.hij(" ",l.lcZ(2,1,n.message)," ")}}function hc(e,t){1&e&&l._UZ(0,"app-spinner")}var pc=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o,s,c,l,u,f,d,h){var p;return _classCallCheck2(this,n),(p=t.call(this,e,i,r,a)).digestAuthInterceptor=e,p.liteModeService=i,p.conferenceService=r,p.logger=a,p.apiConferenceService=o,p.conferenceSubscriptionsService=s,p.route=c,p.router=l,p.sipService=u,p.userService=f,p.conferenceV2Service=d,p.conferenceConnectionService=h,p.hasRequestedConferenceSubscriptions=!1,p.isJoinedConference=!1,p.conferenceRole="user",p.isConferenceAdmin=!1,p.isConferenceLocked=!1,p.isLoading=!1,p.message="conference.room.empty",p.activeCall=p.sipService.onGoingCall,p}return _createClass2(n,[{key:"ngOnInit",value:function(){var e=this;this.onBootstrap(),this.conferenceConnectionService.connectUntil(this.ngUnsubscribe),this.conferenceV2Service.onBootstrap$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){return e.onBootstrap()})}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.conferenceDataTimerSubscription&&this.conferenceDataTimerSubscription.unsubscribe()}},{key:"goBack",value:function(){this.router.navigate(["main/conference"])}},{key:"getMemberIndex",value:function(e){return this.conference?this.conference.members.findIndex(function(t){return e===t.member_id}):-1}},{key:"createConference",value:function(){this.getConferenceData(this.serviceNumber)}},{key:"destroyConference",value:function(){this.conference=void 0}},{key:"addMember",value:function(e){var t,n=new Po.U;n.fromJSON(e),this.conferenceService.isActiveUser(n.caller_id_number)?this.activeUserJoined=n:(null===(t=this.conference)||void 0===t?void 0:t.isActive)&&this.conference.members.length?this.conference.members.find(function(e){return e.member_id===n.member_id})||this.conference.members.push(n):this.updateMemberCount(n.conferenceMemberCount)}},{key:"setLockedConference",value:function(e){this.conference&&(this.isConferenceLocked=e,this.conference.flags.lock=e)}},{key:"removeMember",value:function(e){var t=this.getMemberIndex(e.member_id);this.updateMemberCount(e.conference_member_count),t>-1&&(this.conferenceService.isActiveUser(this.conference.members[t].caller_id_number)&&(this.activeUserJoined=void 0),this.conference.members.splice(t,1))}},{key:"setHearValueForMember",value:function(e,t){if(this.conference){var n=this.getMemberIndex(t.member_id);this.conference.members[n].flags.hear=e}}},{key:"setMuteConferenceValue",value:function(e){this.conference&&(this.conference.flags.mute=e)}},{key:"setSpeakValueForMember",value:function(e,t){if(this.conference){var n=this.getMemberIndex(t.member_id);this.conference.members[n].flags.speak=e}}},{key:"setTalkingForMember",value:function(e,t){if(this.conference){var n=this.getMemberIndex(t.member_id);this.conference.members[n]&&(this.conference.members[n].flags.isSpeaking=e,this.conference.members[n].flags.energyLevel=t.energy_level)}}},{key:"setRaisedHandValueForMember",value:function(e,t){var n=this.conference.members.find(function(e){return e.member_id===t.member_id});n.flags.signal=e,this.conference=Ys.T.setMemberPosition(this.conference,n)}},{key:"updateMemberCount",value:function(e){this.conferenceSubscriptionsService.updateMemberCount(this.conferenceSubscription,e),this.updateMessage()}},{key:"updateMessage",value:function(){this.message=this.conference?this.conference&&!this.conference.isActive&&this.conference.memberCount>0&&!this.isConferenceAdmin?"conference.room.no_show_participants_rights":void 0:"conference.room.empty"}},{key:"getConferenceSubscription",value:function(){var e=this;this.conferenceSubscriptionsService.conferenceSubscriptions$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.onConferenceSubscriptionUpdate(t)})}},{key:"onConferenceSubscriptionUpdate",value:function(e){if(this.isLoading=!1,!e.length&&!this.hasRequestedConferenceSubscriptions)return this.conferenceSubscriptionsService.getConferenceSubscriptions(),void(this.hasRequestedConferenceSubscriptions=!0);var t=this.conferenceSubscriptionsService.getConferenceSubscriptionByServiceNumber(this.serviceNumber);t?(this.conferenceSubscription=t,this.getConferenceEventStream(),(null==t?void 0:t.memberCount)&&this.getConferenceData(this.serviceNumber)):this.router.navigate(["/main/conference"])}},{key:"getConferenceServiceData",value:function(){var e=this;this.apiConferenceService.getConferenceServiceData(this.serviceNumber).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.conferenceServiceData=t})}},{key:"onConferenceDataUpdate",value:function(e){this.conference=e,this.getConferenceState(e),this.isLoading=!1,this.updateMessage(),(null==e?void 0:e.isActive)&&this.setLockedConference(!!(null==e?void 0:e.flags.lock))}},{key:"getJoinedConferenceData",value:function(){this.conferenceService.conferenceData$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.onConferenceDataUpdate.bind(this))}},{key:"getConferenceData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500;this.apiConferenceService.getConferenceData(e).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(r){r.isActive||r.memberCount||!n?t.onConferenceDataUpdate(r):t.conferenceDataTimerSubscription=(0,Ws.H)(i).pipe((0,M.R)(t.ngUnsubscribe)).subscribe(function(){t.getConferenceData(e,--n,2*i)})})}},{key:"getIsAdmin",value:function(){var e=this;this.apiConferenceService.getConferenceRole(this.serviceNumber).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){var n=t.data.role;e.conferenceRole=n,e.isConferenceAdmin="admin"===n})}},{key:"getConferenceEventStream",value:function(){var e=this;this.userService.userInfo$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&!e.isJoinedConference&&e.initConferenceEventStream(t)})}},{key:"onBootstrap",value:function(){var e=this;this.route.params.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){!t.serviceNumber||(e.serviceNumber=t.serviceNumber.toString(),e.isLoading=!0,e.getConferenceServiceData(),e.getIsAdmin())}),this.conferenceService.serviceNumber$.pipe((0,w.P)(),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.serviceNumber===t&&(e.isJoinedConference=!0),e.getConferenceSubscription()})}},{key:"getConferenceState",value:function(e){var t=this;this.conferenceV2Service.getConferenceStateObservableByUuid(null==e?void 0:e.uuid).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.conferenceState=e})}}]),n}($s);return e.\u0275fac=function(t){return new(t||e)(l.Y36(U.L),l.Y36(B.v),l.Y36(j.Z),l.Y36(z.Kf),l.Y36(H.j),l.Y36(V.H),l.Y36(i.gz),l.Y36(i.F0),l.Y36(be.y),l.Y36(J.K),l.Y36(Mo.a),l.Y36(Vo.Q))},e.\u0275cmp=l.Xpm({type:e,selectors:[["conference-room"]],inputs:{activeCall:"activeCall"},features:[l.qOj],decls:14,vars:7,consts:[["data-e2e","conference-details-page",1,"header"],[1,"conference-room__title"],["e2e","conference-details-page__back","iconName","arrow_left",3,"appButtonClick"],["data-e2e","conference-details-page__title",1,"conference-room__room-name"],["data-e2e","conference-details-page__title-count","hideIf",""],[1,"conference-room__actions"],["e2e","conference-details-page",3,"conferenceSubscription"],[4,"ngIf"],[1,"conference-room__participants"],["hideIf","","data-e2e","participant-fragment",3,"conferenceState",4,"ngIf"],["class","conference-room__message","data-e2e","conference-details-page__message",4,"ngIf"],["e2e","conference-details-page__invite",3,"conferenceState","conferenceServiceData","pin","serviceNumber"],["e2e","conference-details-page",3,"conferenceState"],["e2e","conference-details-page","hideIf","",3,"conferenceState","isDisabled"],["hideIf","","data-e2e","participant-fragment",3,"conferenceState"],["data-e2e","conference-details-page__message",1,"conference-room__message"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"app-button",2),l.NdJ("appButtonClick",function(){return t.goBack()}),l.qZA(),l.TgZ(3,"span",3),l._uU(4),l.qZA(),l.TgZ(5,"span",4),l._uU(6),l.qZA(),l.qZA(),l.TgZ(7,"div",5),l._UZ(8,"conference-info-button",6),l.YNc(9,uc,5,8,"ng-container",7),l.qZA(),l.qZA(),l.TgZ(10,"div",8),l.YNc(11,fc,1,1,"member-list",9),l.YNc(12,dc,3,3,"span",10),l.YNc(13,hc,1,0,"app-spinner",7),l.qZA()),2&e&&(l.xp6(4),l.hij(" ",(null==t.conferenceState?null:t.conferenceState.description)||(null==t.conferenceServiceData?null:t.conferenceServiceData.displayName)," "),l.xp6(2),l.hij(" (",(null==t.conferenceState?null:t.conferenceState.members.length)||0,") "),l.xp6(2),l.Q6J("conferenceSubscription",t.conferenceSubscription),l.xp6(1),l.Q6J("ngIf",t.isConferenceAdmin),l.xp6(2),l.Q6J("ngIf",t.conferenceState),l.xp6(1),l.Q6J("ngIf",t.message),l.xp6(1),l.Q6J("ngIf",t.isLoading))},directives:[Pt.V,fa.B,as,K.O5,lc,os.K,Qo.g,Jr.B,ss.U,Ta.S],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{flex:1;margin-bottom:5.6rem}.header[_ngcontent-%COMP%]{border-bottom:.1rem solid #e5e5e5;display:flex;flex-direction:row}.conference-room__title[_ngcontent-%COMP%]{align-items:center;display:flex;flex-grow:3}.conference-room__room-name[_ngcontent-%COMP%]{white-space:pre-wrap}.conference-room__actions[_ngcontent-%COMP%]{display:flex;flex-grow:.5;justify-content:flex-end}.conference-room__participants[_ngcontent-%COMP%]{height:100%;overflow-y:scroll;position:relative}.conference-room__message[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:center}details-component[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}details-component[_ngcontent-%COMP%]     .details-component__container{display:flex;flex-direction:column}details-component[_ngcontent-%COMP%]     .details__title{flex-shrink:0}details-component[_ngcontent-%COMP%]     [details-content]{overflow-y:auto}.conference-participants-list[_ngcontent-%COMP%]   .flexible-list__item[_ngcontent-%COMP%]{position:relative}.conference-participants-list[_ngcontent-%COMP%]   .flexible-list__item[_ngcontent-%COMP%]:hover.is-speaking{background-color:#e5f7fd}.conference-participants-list[_ngcontent-%COMP%]   .flexible-list__item.is-speaking[_ngcontent-%COMP%]{background-color:#4cca4c}.conference-participants-list[_ngcontent-%COMP%]   .flexible-list__item__actions[_ngcontent-%COMP%]{display:flex;fill:#b31a3e;padding:0 2.2rem 0 0}.conference-participants-list[_ngcontent-%COMP%]   .flexible-list__item__actions.mic-off[_ngcontent-%COMP%]{padding:0 3rem 0 0}.not-participant-message[_ngcontent-%COMP%]{padding:1.6rem}"]}),e}(),gc=n(87636),mc=n(61466),vc=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.router=t,this.serviceNumber=""}return _createClass2(e,[{key:"goToConferenceDetailsPage",value:function(e){e.stopPropagation(),this.router.navigate(["/main/conference/details/".concat(this.serviceNumber)])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(i.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["conference-room-button"]],inputs:{e2e:"e2e",serviceNumber:"serviceNumber"},decls:5,vars:4,consts:[["appHoverbox","","mat-icon-button","",1,"go-to-details",3,"click"],["fill","button-color","icon","group","size","small"]],template:function(e,t){1&e&&(l.TgZ(0,"button",0),l.NdJ("click",function(e){return t.goToConferenceDetailsPage(e)}),l._UZ(1,"app-svg-icon",1),l.TgZ(2,"hoverbox"),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.qZA()),2&e&&(l.uIk("data-e2e",t.e2e?t.e2e+"--button":null),l.xp6(3),l.hij(" ",l.lcZ(4,2,"conference.open_conference")," "))},directives:[Be.lW,Ye.r,ne.u,Ve.B],pipes:[_.X$],encapsulation:2}),e}(),bc=n(7025);function yc(e,t){if(1&e&&l._UZ(0,"search-result",4),2&e){var n=l.oxw();l.Q6J("isSearchFiltersDisabled",!0)("searchString",n.searchString)("selectedType",n.searchType)}}function _c(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"li",9),l.NdJ("debounceDblClick",function(){var e=l.CHM(n).$implicit;return l.oxw(2).callConference(e)}),l.TgZ(1,"call-item-container",10),l.TgZ(2,"div",11),l._UZ(3,"conference-info-button",12),l._UZ(4,"conference-room-button",13),l.qZA(),l.TgZ(5,"div",14),l._uU(6),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw(2);l.Q6J("context-menu",i),l.xp6(1),l.Q6J("callItem",null==i?null:i.callItem)("callItemConfigKey",r.conferenceConfigKey),l.xp6(2),l.Q6J("conferenceSubscription",i),l.xp6(1),l.s9C("serviceNumber",i.serviceNumber),l.xp6(2),l.hij(" ",i.isEmptyPin?0:i.memberCount," ")}}function Cc(e,t){1&e&&(l.TgZ(0,"li"),l.TgZ(1,"p",15),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Oqu(l.lcZ(3,1,"conference.no_conferences")))}function kc(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",5),l.NdJ("scrolled",function(){return l.CHM(n),l.oxw().onLazyLoading()}),l.TgZ(1,"ul",6),l.YNc(2,_c,7,6,"li",7),l.YNc(3,Cc,4,3,"li",8),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.Q6J("infiniteScrollDisabled",!i.hasMoreData)("infiniteScrollThrottle",50)("scrollWindow",!1),l.xp6(2),l.Q6J("ngForOf",i.conferenceSubscriptions),l.xp6(1),l.Q6J("ngIf",!i.isLoading&&!i.conferenceSubscriptions.length)}}function Sc(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"categorized-modal",16),l.NdJ("onFilter",function(e){return l.CHM(n),l.oxw().filterAudioConferences(e)})("onSelect",function(e){return l.CHM(n),l.oxw().onSelectConference(e)})("toggleFn",function(){return l.CHM(n),l.oxw().toggleShowConferences()}),l.qZA()}if(2&e){var i=l.oxw();l.Q6J("items",i.audioConferences)("title","conference.select_conference")}}var xc=function(){var e=function(){function e(t,n,i,r,a,o,s,c,l){var u=this;_classCallCheck2(this,e),this.conferenceHelper=t,this.conferenceService=n,this.conferenceSubscriptionsService=i,this.dialog=r,this.frontendConferenceService=a,this.headerButtonService=o,this.overlayService=s,this.searchService=c,this.telephonyOfflineService=l,this.ngUnsubscribe=new A.xQ,this.page=0,this.pageInitValue=0,this.pageSize=25,this.conferenceSubscriptions=[],this.isLoading=!1,this.isSearching=!1,this.hasMoreData=!1,this.isSelectConferencesShown=!1,this.searchString="",this.isLoadingAudioConferences=!1,this.audioConferences=[],this.searchType=P.V.CONFERENCE_AVAILABLE,this.initConferenceCall=!1,this.conferenceConfigKey=me.CONFERENCE,this.searchService.setSearchItem({searchString:""}),this.headerButtonService.headerButtonClicked$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){u.onHeaderButtonClicked(e)}),this.frontendConferenceService.audioConferenceSubscriber$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){e&&u.reload()}),this.searchService.searchItem$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){u.search(e.searchString)})}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.conferenceSubscriptionsService.conferenceSubscriptions$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.conferenceSubscriptions=e.getMappedConferenceSubscriptions(t)})}},{key:"ngOnDestroy",value:function(){this.headerButtonService.resetActionToInitialState(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"reload",value:function(){this.reset(),this.loadConference()}},{key:"reset",value:function(){this.conferenceSubscriptions=[],this.isLoading=!1,this.hasMoreData=!1,this.page=this.pageInitValue}},{key:"onLazyLoading",value:function(){var e=this;this.isLoading||this.telephonyOfflineService.isOnline$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&(e.page=0,e.conferenceSubscriptions=[],e.loadConference())})}},{key:"callConference",value:function(e){this.initConferenceCall||(this.initConferenceCall=!0,this.conferenceService.updateConfCreatedOnDoubleClick(!0)),this.conferenceHelper.callByPreferredDevice(e)}},{key:"onSelectConference",value:function(e){this.toggleShowConferences(),this.toggleEnterPin(e)}},{key:"toggleEnterPin",value:function(e){var t=this;this.dialog.open(de.b,{data:{conference:e}}).afterClosed().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){e&&t.onSubscribe(e)})}},{key:"onSubscribe",value:function(e){this.conferenceSubscriptions.push(e)}},{key:"unsubscribe",value:function(e){var t=this;this.conferenceService.unsubscribe(e.serviceNumber).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){var n=t.findItemsIndexById(e.serviceNumber);-1!==n&&t.conferenceSubscriptions.splice(n,1)})}},{key:"filterAudioConferences",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadAudioConferences(e)}},{key:"search",value:function(e){this.isSearching=!!e,this.searchString=e}},{key:"findItemsIndexById",value:function(e){for(var t=this.conferenceSubscriptions.length,n=0;n<t;){if(this.conferenceSubscriptions[n].id===e)return n;n++}return-1}},{key:"loadAudioConferences",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.isLoadingAudioConferences=!0,this.conferenceService.getAudioList({page:0,pageSize:25,search:t}).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.isLoadingAudioConferences=!1,e.audioConferences=(0,mc.L)(t.data,"name")})}},{key:"toggleShowConferences",value:function(){this.isSelectConferencesShown=!this.isSelectConferencesShown,this.isSelectConferencesShown?this.overlayService.push(this.$templatePortal):this.overlayService.pop()}},{key:"loadConference",value:function(){var e=this;this.isLoading=!0,this.conferenceService.getSubscriptionList({page:this.page,pageSize:this.pageSize},!0).pipe((0,w.P)(),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){var n=null==t?void 0:t.data;e.isLoading=!1,e.page++,e.hasMoreData=(null==n?void 0:n.length)>=e.pageSize,e.conferenceSubscriptions=e.getMappedConferenceSubscriptions(n),e.conferenceSubscriptions.length&&e.updateConferenceSubscriptionsList(n),So.V.setSubscribedConferencesList(e.conferenceSubscriptions)})}},{key:"updateConferenceSubscriptionsList",value:function(e){var t=this,n=this.getExtensionsOfSubscribedConferences(this.conferenceSubscriptions);this.getExtensionsOfSubscribedConferences(e).forEach(function(i,r){n.indexOf(i)<0&&t.conferenceSubscriptions.push(e[r])})}},{key:"getExtensionsOfSubscribedConferences",value:function(e){return(null==e?void 0:e.length)?e.map(function(e){return e.number}):[]}},{key:"onHeaderButtonClicked",value:function(e){!e||!e.actionName||e.actionComponent!==$t.I.CONFERENCE||e.actionName===$t.O.ADD&&(this.toggleShowConferences(),this.loadAudioConferences())}},{key:"getMappedConferenceSubscriptions",value:function(e){return(null==e?void 0:e.length)?(e.forEach(function(e){e.callItem={id:"",name:e.displayName||"",number:e.number||"",timestamp:0,isPresenceStateActive:!e.isEmptyPin&&e.memberCount>0,isContextMenuDisabled:!0,isDebounceDblClickDisabled:!0,avatarIcon:{iconName:"conference_call_solid",isAdmin:"admin"===e.role}}}),e):[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Y._),l.Y36(j.Z),l.Y36(V.H),l.Y36(O.uw),l.Y36(ye.K),l.Y36(we.d),l.Y36(Li.c),l.Y36(Ce.o),l.Y36(un.l))},e.\u0275cmp=l.Xpm({type:e,selectors:[["conference-user-subscribed-list"]],viewQuery:function(e,t){var n;(1&e&&l.Gf(gc.ig,5),2&e)&&(l.iGM(n=l.CRH())&&(t.$templatePortal=n.first))},decls:4,vars:3,consts:[["data-e2e","main-conference-page","loading-area-indicator","",1,"scrollable-container",3,"loadingAreaIndicatorActive"],["class","conference-user-subscribed-list__item",3,"isSearchFiltersDisabled","searchString","selectedType",4,"ngIf"],["class","conference-user-subscribed-list__item","infinite-scroll","",3,"infiniteScrollDisabled","infiniteScrollThrottle","scrollWindow","scrolled",4,"ngIf"],["searchPlaceholder","conference.search_conference",3,"items","title","onFilter","onSelect","toggleFn",4,"cdk-portal"],[1,"conference-user-subscribed-list__item",3,"isSearchFiltersDisabled","searchString","selectedType"],["infinite-scroll","",1,"conference-user-subscribed-list__item",3,"infiniteScrollDisabled","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"flexible-list"],["class","flexible-list__item","contextMenuSection","conference","itemHoverbox","",3,"context-menu","debounceDblClick",4,"ngFor","ngForOf"],[4,"ngIf"],["contextMenuSection","conference","itemHoverbox","",1,"flexible-list__item",3,"context-menu","debounceDblClick"],["e2e","main-conference-page__list-element",1,"conference-user-subscribed-list__call-item-container",3,"callItem","callItemConfigKey"],[1,"conference-user-subscribed-list__action-buttons"],["data-e2e","main-conference-page__list-element-info--button",1,"conference-user-subscribed-list__info-button",3,"conferenceSubscription"],["e2e","main-conference-page__list-element-participants",3,"serviceNumber"],["data-e2e","main-conference-page__list-element-participants-count","hideIf","",1,"conference-user-subscribed-list__member-count"],[1,"text-center"],["searchPlaceholder","conference.search_conference",3,"items","title","onFilter","onSelect","toggleFn"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,yc,1,3,"search-result",1),l.YNc(2,kc,4,5,"div",2),l.qZA(),l.YNc(3,Sc,1,2,"categorized-modal",3)),2&e&&(l.Q6J("loadingAreaIndicatorActive",t.isLoading),l.xp6(1),l.Q6J("ngIf",t.isSearching),l.xp6(1),l.Q6J("ngIf",!t.isSearching))},directives:[X.O,K.O5,gc.bH,ko.B,a.R,K.sg,te.h,Pe.l,Ae.I,qe,as,vc,fa.B,bc.e],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;flex:1}.conference-user-subscribed-list__item[_ngcontent-%COMP%]{flex:1;width:100%}.flexible-list[_ngcontent-%COMP%]   .flexible-list__item[_ngcontent-%COMP%]{position:relative}.flexible-list[_ngcontent-%COMP%]   .flexible-list__item[_ngcontent-%COMP%]:first-child{margin-top:0}.flexible-list[_ngcontent-%COMP%]   .flexible-list__item[_ngcontent-%COMP%]:hover   .conference-user-subscribed-list__info-button[_ngcontent-%COMP%]{display:block}.conference-user-subscribed-list__member-count[_ngcontent-%COMP%]{color:#00000080;font-size:1.6rem;margin-right:1.6rem}.conference-user-subscribed-list__action-buttons[_ngcontent-%COMP%]{display:flex;margin-right:.8rem}.conference-user-subscribed-list__action-buttons[_ngcontent-%COMP%]   .conference-user-subscribed-list__info-button[_ngcontent-%COMP%]{display:none}.conference-user-subscribed-list__call-item-container[_ngcontent-%COMP%]{padding-right:.8rem;width:100%}"]}),e}(),Ac=n(65860),wc=n(59328),Mc=n(7539);function Tc(e,t){if(1&e&&(l.TgZ(0,"mat-checkbox",7),l.NdJ("click",function(e){return e.preventDefault()}),l.qZA()),2&e){var n=l.oxw(2);l.Q6J("checked",n.selectableCallItem.isSelected),l.uIk("data-e2e",n.e2e?n.e2e+"--checkbox":null)}}function Pc(e,t){1&e&&l._UZ(0,"span",9)}function Ic(e,t){if(1&e&&l.YNc(0,Pc,1,0,"span",8),2&e){var n=l.oxw(2);l.Q6J("ngIf",void 0===n.selectableCallItem.isSelected)}}function Oc(e,t){if(1&e&&(l.ynx(0),l.YNc(1,Tc,1,2,"mat-checkbox",5),l.YNc(2,Ic,1,1,"ng-template",null,6,l.W1O),l.BQk()),2&e){var n=l.MAs(3),i=l.oxw();l.xp6(1),l.Q6J("ngIf",void 0!==i.selectableCallItem.isSelected)("ngIfElse",n)}}function jc(e,t){if(1&e&&l._UZ(0,"app-svg-icon",11),2&e){var n=l.oxw(2);l.Q6J("icon",null==n.selectableCallItem?null:n.selectableCallItem.callItem.direction.name)("fill",(null==n.selectableCallItem||null==n.selectableCallItem.callItem||null==n.selectableCallItem.callItem.direction?null:n.selectableCallItem.callItem.direction.color)||"button-color")("e2e",n.e2e||null)}}function Ec(e,t){if(1&e&&l.YNc(0,jc,1,3,"app-svg-icon",10),2&e){var n=l.oxw();l.Q6J("ngIf",null==n.selectableCallItem||null==n.selectableCallItem.callItem?null:n.selectableCallItem.callItem.direction)}}function Lc(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(e){return e.stopPropagation()}),l.TgZ(1,"app-button",13),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().onInfoButtonClick()}),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("e2e",i.e2e?i.e2e+"-info":null)}}var Nc=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.headerButtonService=t,this.callItemService=n,this.ngUnsubscribe=new A.xQ,this.infoButtonClick=new l.vpe,this.isEditMode$=this.headerButtonService.isEditMode$}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.callItemConfig=this.callItemService.getCallItemByConfigKey(this.callItemConfigKey),this.isEditMode$.pipe((0,wc.G)(),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){var n=_slicedToArray2(t,2),i=n[0],r=n[1];i&&i!==r&&e.resetSelectedCallItem()})}},{key:"onInfoButtonClick",value:function(){this.infoButtonClick.emit()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"resetSelectedCallItem",value:function(){this.selectableCallItem.isSelected&&(this.selectableCallItem.isSelected=!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(we.d),l.Y36(Te))},e.\u0275cmp=l.Xpm({type:e,selectors:[["selectable-call-item"]],inputs:{e2e:"e2e",callItemConfigKey:"callItemConfigKey",selectableCallItem:"selectableCallItem"},outputs:{infoButtonClick:"infoButtonClick"},decls:7,vars:8,consts:[["itemHoverbox","",1,"selectable-call-item"],[4,"ngIf","ngIfElse"],["showIcon",""],[1,"selectable-call-item__call-item-container",3,"callItem","callItemConfigKey","e2e"],["class","selectable-call-item__action-button",3,"click",4,"ngIf"],["class","selectable-call-item__checkbox","color","primary",3,"checked","click",4,"ngIf","ngIfElse"],["emptySpace",""],["color","primary",1,"selectable-call-item__checkbox",3,"checked","click"],["class","selectable-call-item__checkbox-space-filler",4,"ngIf"],[1,"selectable-call-item__checkbox-space-filler"],["class","selectable-call-history__call-item__pre-icon","size","small",3,"icon","fill","e2e",4,"ngIf"],["size","small",1,"selectable-call-history__call-item__pre-icon",3,"icon","fill","e2e"],[1,"selectable-call-item__action-button",3,"click"],["iconName","info",3,"e2e","appButtonClick"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0),l.YNc(1,Oc,4,2,"ng-container",1),l.ALo(2,"async"),l.YNc(3,Ec,1,1,"ng-template",null,2,l.W1O),l.TgZ(5,"call-item-container",3),l.YNc(6,Lc,2,1,"div",4),l.qZA(),l.qZA()),2&e){var n=l.MAs(4);l.xp6(1),l.Q6J("ngIf",l.lcZ(2,6,t.isEditMode$))("ngIfElse",n),l.xp6(4),l.Q6J("callItem",null==t.selectableCallItem?null:t.selectableCallItem.callItem)("callItemConfigKey",t.callItemConfigKey)("e2e",t.e2e||null),l.xp6(1),l.Q6J("ngIf",!(null!=t.callItemConfig&&null!=t.callItemConfig.details&&t.callItemConfig.details.isBtnInfoHidden))}},directives:[te.h,K.O5,qe,Mc.oG,ne.u,Pt.V],pipes:[K.Ov],styles:[".selectable-call-item[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row}.selectable-call-item[_ngcontent-%COMP%]:hover   .selectable-call-item__action-button[_ngcontent-%COMP%]{display:block}.selectable-call-item__checkbox[_ngcontent-%COMP%]{margin:0 .3rem 0 1.3rem}.selectable-call-history__call-item__pre-icon[_ngcontent-%COMP%]{margin-left:1rem}.selectable-call-item__call-item-container[_ngcontent-%COMP%]{flex-grow:1}.selectable-call-item__checkbox-space-filler[_ngcontent-%COMP%]{padding-left:3.2rem}.selectable-call-item__action-button[_ngcontent-%COMP%]{display:none}"]}),e}(),Rc=["searchResultsComponent"];function Dc(e,t){1&e&&l._UZ(0,"app-spinner",4)}function Zc(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"selectable-call-item",7),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw(2).updateSelectedEditItemsCount(e)})("infoButtonClick",function(){var e=l.CHM(n).$implicit;return l.oxw(2).openContactInfoDialog(e.callItem)}),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw(2);l.Q6J("selectableCallItem",i)("callItemConfigKey",r.contactConfigKey)}}function Fc(e,t){if(1&e&&(l.TgZ(0,"div"),l.TgZ(1,"div",5),l._uU(2),l.qZA(),l.YNc(3,Zc,1,2,"selectable-call-item",6),l.qZA()),2&e){var n=t.$implicit;l.xp6(2),l.hij(" ",n.letter," "),l.xp6(1),l.Q6J("ngForOf",n.items)}}function Uc(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"p",8),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Oqu(l.lcZ(3,1,"contacts.no_contacts")))}var qc=function(){var e=function(){function e(t,n,i,r,a,o){var s=this;_classCallCheck2(this,e),this.phoneBookService=t,this.dialog=n,this.searchService=i,this.headerButtonService=r,this.telephonyOfflineService=a,this.callItemService=o,this.contacts=[],this.ngUnsubscribe=new A.xQ,this.isPhoneView=!1,this.contactsCategorized=[],this.hasMoreData=!0,this.isEditMode=!1,this.isLoading=!1,this.isSearching=!1,this.page=1,this.pageSize=25,this.type=tt.n.GLOBAL,this.contactConfigKey=me.CONTACT,t.reloadItems$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){s.type=e?tt.n.GLOBAL:tt.n.PRIVATE,s.clearPageSettings(),s.searchService.setSearchItem({searchString:s.searchString})})}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.searchService.searchItem$.pipe((0,rn.w)(function(t){return e.getPhonebooks(t)}),(0,en.x)(),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.isLoading=!1,e.categorizeContacts(t)}),this.telephonyOfflineService.isOnline$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&!e.isPhoneView&&e.searchService.setSearchItem({searchString:""})}),this.activateHeaderAction()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"openContactInfoDialog",value:function(e){this.dialog.open(Mt,{autoFocus:!1,data:{contact:e,type:this.type}})}},{key:"loadNextPage",value:function(){this.hasMoreData&&(this.page++,this.searchService.setSearchItem({searchString:this.searchString,headerAction:{actionName:$t.O.SCROLL,actionComponent:$t.I.CONTACT}}))}},{key:"clearPageSettings",value:function(){this.page=1,this.contacts=[]}},{key:"addNewItem",value:function(){var e=this,t=new nt.e;this.dialog.open(Aa,{autoFocus:!1,data:{contact:t,type:this.type}}).afterClosed().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){e.headerButtonService.headerAction.actionName=$t.O.CANCEL})}},{key:"updateSelectedEditItemsCount",value:function(e){this.callItemService.updateSelectedEditItemsCount(e)}},{key:"activateHeaderAction",value:function(){var e=this;this.headerButtonService.headerButtonClicked$.pipe((0,rn.w)(function(t){return e.onHeaderButtonClicked(t)}),(0,M.R)(this.ngUnsubscribe)).subscribe()}},{key:"onHeaderButtonClicked",value:function(e){var t=this;if(!e||(null==e?void 0:e.actionName)===$t.O.TOGGLE_EDIT)return(0,vn.of)();if((null==e?void 0:e.actionFilterType)&&e.actionName===$t.O.SEARCHING)return this.type=e.actionFilterType,this.clearPageSettings(),this.searchService.setSearchItem({searchString:this.searchString,headerAction:e}),(0,vn.of)();switch(e.actionName){case $t.O.ADD:this.addNewItem();break;case $t.O.DELETE:this.deleteFromContactItemList().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){t.reset()});break;case $t.O.DELETE_ALL:this.phoneBookService.deleteAllPrivateContacts().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){t.reset()})}return(0,vn.of)()}},{key:"reset",value:function(){this.contacts=[],this.page=1,this.headerButtonService.deactivateEditMode(),this.searchService.setSearchItem({searchString:this.searchString,headerAction:{actionName:$t.O.SEARCHING}})}},{key:"getPhonebooks",value:function(e){var t,n=this;return this.isPhoneView?(0,vn.of)([]):(this.isLoading=!0,(null===(t=e.headerAction)||void 0===t?void 0:t.actionName)!==$t.O.SCROLL&&this.clearPageSettings(),this.phoneBookService.get(this.type,this.page,this.pageSize,this.checkSearchStringModified(e.searchString)).pipe((0,Et.U)(function(e){return n.hasMoreData=e.paginationHasMoreData,e.data})))}},{key:"deleteFromContactItemList",value:function(){var e,t=[];return null===(e=this.contactsCategorized)||void 0===e||e.forEach(function(e){e.items.forEach(function(e){e.isSelected&&t.push(e.callItem.id)})}),this.phoneBookService.deleteItems(t)}},{key:"checkSearchStringModified",value:function(e){return e!==this.searchString&&(this.contacts=[]),this.searchString=e,e}},{key:"categorizeContacts",value:function(e){this.contacts=[].concat(_toConsumableArray2(this.contacts),_toConsumableArray2(e)),this.contactsCategorized=this.setCategorize(this.contacts,"displayName")}},{key:"setCategorize",value:function(e,t){var n=this,i=[];return e.forEach(function(e){if(e.hasOwnProperty(t)){var r=e[t].charAt(0).toUpperCase();r.match(/[^a-zA-Z]/)&&(r="#"),i[r]?i[r].push(n.getMappedSelectableCallItem(e)):i[r]=[n.getMappedSelectableCallItem(e)]}}),Object.keys(i).sort().map(function(e){return{letter:e,items:i[e]}})}},{key:"getMappedSelectableCallItem",value:function(e){var t={id:e.id||"",name:e.displayName||e.extensionNumber||"",number:e.displayNumber||"",timestamp:0,duration:0,discriminator:e.discriminator||"",itemSubTitle:e.extensionNumber||"",isPrivate:e.isPrivate||""};return this.type===tt.n.PRIVATE||this.type===tt.n.GLOBAL&&"1"===e.isPrivate?{callItem:t,isSelected:!1}:{callItem:t}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(rt.$),l.Y36(O.uw),l.Y36(Ce.o),l.Y36(we.d),l.Y36(un.l),l.Y36(Te))},e.\u0275cmp=l.Xpm({type:e,selectors:[["contacts"]],viewQuery:function(e,t){var n;(1&e&&l.Gf(Rc,5),2&e)&&(l.iGM(n=l.CRH())&&(t.searchResultsComponent=n.first))},inputs:{isPhoneView:"isPhoneView"},decls:4,vars:5,consts:[["infiniteScroller","","data-e2e","main-contacts-page",1,"contacts__items",3,"endOfListReached"],["class","contacts__spinner",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"contacts__spinner"],["data-e2e","main-contacts-page__list-category",1,"contacts-category__name"],["e2e","main-contacts-page__list-element",3,"selectableCallItem","callItemConfigKey","click","infoButtonClick",4,"ngFor","ngForOf"],["e2e","main-contacts-page__list-element",3,"selectableCallItem","callItemConfigKey","click","infoButtonClick"],[1,"text-center"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.NdJ("endOfListReached",function(){return t.loadNextPage()}),l.YNc(1,Dc,1,0,"app-spinner",1),l.YNc(2,Fc,4,2,"div",2),l.YNc(3,Uc,4,3,"div",3),l.qZA()),2&e&&(l.ekj("no-selection",t.isEditMode),l.xp6(1),l.Q6J("ngIf",t.isLoading),l.xp6(1),l.Q6J("ngForOf",t.contactsCategorized),l.xp6(1),l.Q6J("ngIf",!t.contactsCategorized.length&&!t.isLoading))},directives:[Ac.A,K.O5,K.sg,Ta.S,Nc],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.contacts__items[_ngcontent-%COMP%]{width:100%}.contacts__spinner[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.contacts-category__name[_ngcontent-%COMP%]{background-color:#fff;border:.1rem solid #e5e5e5;color:#666;font-size:1.8rem;padding:.1rem .8rem .1rem 3.5rem;position:-webkit-sticky;position:sticky;text-align:left;top:-.1rem;z-index:1}"]}),e}(),Bc=n(24832),Hc=function(){return(e=Hc||(Hc={})).QUEUE="QUEUE",e.RECEIVED="RECEIVED",Hc;var e}(),Yc=n(49457),Vc=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"downloadFile",value:function(e,t,n){var i=new Blob([t],{type:n});Yc.saveAs(i,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e}(),Jc=n(7175);function Qc(e,t){if(1&e&&(l.TgZ(0,"span",21),l._uU(1),l.ALo(2,"date"),l.ALo(3,"date"),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.AsE(" ",l.xi3(2,2,1e3*(null==n.item?null:n.item.insert_date),"dd.MM.yyyy")," \xa0\xa0\xa0\xa0",l.xi3(3,5,1e3*(null==n.item?null:n.item.insert_date),"H:mm")," ")}}function zc(e,t){if(1&e&&(l.TgZ(0,"span",22),l._uU(1),l.ALo(2,"date"),l.ALo(3,"date"),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.AsE(" ",l.xi3(2,2,1e3*(null==n.item?null:n.item.received_date),"dd.MM.yyyy")," \xa0\xa0\xa0\xa0",l.xi3(3,5,1e3*(null==n.item?null:n.item.received_date),"H:mm")," ")}}function Gc(e,t){if(1&e&&(l.TgZ(0,"span",23),l._uU(1),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.hij(" ",null==n.item?null:n.item.recipient_number," ")}}function Wc(e,t){if(1&e&&(l.TgZ(0,"span",24),l._uU(1),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.hij(" ",null==n.item?null:n.item.sender_number," ")}}function $c(e,t){if(1&e&&(l.TgZ(0,"span",25),l._uU(1),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.hij(" ",null==n.item?null:n.item.document_name," ")}}function Kc(e,t){if(1&e&&(l.TgZ(0,"span",25),l._uU(1),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.hij(" ",null==n.item?null:n.item.received_pdf," ")}}function Xc(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"section"),l.TgZ(1,"ul",6),l.TgZ(2,"li",7),l.TgZ(3,"span",8),l._UZ(4,"app-svg-icon",9),l.qZA(),l.TgZ(5,"span",10),l.YNc(6,Qc,4,8,"span",11),l.YNc(7,zc,4,8,"span",12),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"ul",6),l.TgZ(9,"li",13),l.NdJ("click",function(){return l.CHM(n),l.oxw().closeModalAndStartCall()})("contextmenu",function(e){return l.CHM(n),l.oxw().showContextMenu(e)}),l.TgZ(10,"span",8),l._UZ(11,"app-svg-icon",14),l.qZA(),l.TgZ(12,"span",10),l.YNc(13,Gc,2,1,"span",15),l.YNc(14,Wc,2,1,"span",16),l.TgZ(15,"span",17),l._uU(16),l.ALo(17,"translate"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(18,"ul",6),l.TgZ(19,"li",18),l.NdJ("click",function(){return l.CHM(n),l.oxw().downloadFax()}),l.TgZ(20,"span",8),l._UZ(21,"app-svg-icon",19),l.qZA(),l.TgZ(22,"span",10),l.YNc(23,$c,2,1,"span",20),l.YNc(24,Kc,2,1,"span",20),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(4),l.Q6J("icon",i.type===i.FaxType.QUEUE?"fax_out":"fax_in"),l.xp6(2),l.Q6J("ngIf",i.type===i.FaxType.QUEUE),l.xp6(1),l.Q6J("ngIf",i.type===i.FaxType.RECEIVED),l.xp6(6),l.Q6J("ngIf",i.type===i.FaxType.QUEUE),l.xp6(1),l.Q6J("ngIf",i.type===i.FaxType.RECEIVED),l.xp6(2),l.hij(" \xa0\u2022 ",l.lcZ(17,10,"contacts.fax")," "),l.xp6(3),l.ekj("call-info",i.isFaxSent||i.isFaxExpired),l.xp6(4),l.Q6J("ngIf",i.type===i.FaxType.QUEUE),l.xp6(1),l.Q6J("ngIf",i.type===i.FaxType.RECEIVED)}}var el=function(e){return{loaded:e}};function tl(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",26),l.TgZ(1,"div",27),l.TgZ(2,"div",28),l.TgZ(3,"pdf-viewer",29),l.NdJ("after-load-complete",function(){return l.CHM(n),l.oxw().afterLoadComplete()})("pageChange",function(e){return l.CHM(n),l.oxw().page=e}),l.qZA(),l.qZA(),l.TgZ(4,"div",30),l.TgZ(5,"button",31),l.NdJ("click",function(){return l.CHM(n),l.oxw().incrementPage(-1)}),l._UZ(6,"app-svg-icon",32),l.qZA(),l.TgZ(7,"span",33),l._uU(8),l.qZA(),l.TgZ(9,"button",31),l.NdJ("click",function(){return l.CHM(n),l.oxw().incrementPage(1)}),l._UZ(10,"app-svg-icon",34),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("ngClass",l.VKq(11,el,i.pdfLoaded)),l.xp6(2),l.Q6J("page",i.page)("autoresize",!0)("original-size",!1)("render-text",!0)("show-all",!1)("src",i.pdfSrc),l.xp6(2),l.Q6J("disabled",1===i.page),l.xp6(3),l.AsE("",i.page," / ",null==i.item?null:i.item.pages_total,""),l.xp6(1),l.Q6J("disabled",i.page===(null==i.item?null:i.item.pages_total))}}var nl=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o,s,c){var l;return _classCallCheck2(this,n),(l=t.call(this,s,a,e,c)).dialogRef=e,l.data=i,l.faxService=r,l.clickToDialService=a,l.profileService=o,l.snackBarService=s,l.callTrackerService=c,l.item=new Bc.w,l.modalHeaderInfo={extension:"",display_name:"",trunk:"",discriminator:""},l.FaxType=Hc,l.page=1,l.pdfLoaded=!1,l}return _createClass2(n,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"loadData",value:function(){void 0!==this.data&&(this.type=this.data.type,this.isLoading=!0,"RECEIVED"===this.type?this.loadReceivedFax():this.loadQueueFax())}},{key:"getPdfUrl",value:function(){this.faxId&&(this.pdfSrc="")}},{key:"deleteFaxQueue",value:function(){this.snackBarService.open("actions.deleting"),this.faxService.deleteFaxQueue(this.faxId).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.handleSuccess.bind(this),this.handleError.bind(this))}},{key:"handleSuccess",value:function(){_get(_getPrototypeOf(n.prototype),"onSuccess",this).call(this,"fax.deleted",this.dialogRef),this.faxService.deleteItem(this.faxId,this.type===Hc.QUEUE?"id_fax_queue":"id_fax_received")}},{key:"handleError",value:function(e){_get(_getPrototypeOf(n.prototype),"onError",this).call(this,"fax.error")}},{key:"downloadFax",value:function(){var e=this;this.isFaxSent||this.isFaxExpired||(this.snackBarService.openInfo("fax.download"),this.faxService.downloadFaxReceived(this.item.id_fax_received).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){Vc.downloadFile(e.item.received_pdf?e.item.received_pdf:"",t,"application/pdf")}))}},{key:"afterLoadComplete",value:function(){var e=this;setTimeout(function(){e.pdfLoaded=!0},300)}},{key:"incrementPage",value:function(e){this.page+=e}},{key:"closeModalAndStartCall",value:function(){var e=this.type===Hc.RECEIVED?this.item.sender_number:this.item.recipient_number;_get(_getPrototypeOf(n.prototype),"closeModalAndStartCall",this).call(this,{name:e,number:e},this.dialogRef)}},{key:"showContextMenu",value:function(e){var t=this.type===Hc.RECEIVED?this.item.sender_number:this.item.recipient_number;_get(_getPrototypeOf(n.prototype),"showContextMenu",this).call(this,{name:t,number:t},e)}},{key:"loadHeaderInfo",value:function(){this.item.recipient_number&&(this.modalHeaderInfo.display_name=this.item.recipient_number.toString()),this.item.sender_number&&(this.modalHeaderInfo.extension=this.item.sender_number.toString())}},{key:"loadReceivedFax",value:function(){var e=this;this.faxService.getReceivedItem(this.data.id).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.item=t,e.loadHeaderInfo(),e.faxId=e.getFaxId(),e.getPdfUrl(),e.isLoading=!1},function(){e.onError("fax.not_retrieved"),e.closeModal(e.dialogRef)})}},{key:"loadQueueFax",value:function(){var e=this;this.faxService.getQueueItem(this.data.id).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.item=t,e.loadHeaderInfo(),e.faxId=e.getFaxId(),e.getPdfUrl(),e.isLoading=!1},function(){e.onError("fax.not_retrieved"),e.closeModal(e.dialogRef)})}},{key:"getFaxId",value:function(){return(this.type===Hc.QUEUE?this.item.id_fax_queue:this.item.id_fax_received)||this.data.id}},{key:"isFaxReceived",get:function(){return this.type===Hc.RECEIVED}},{key:"isFaxSent",get:function(){return this.type===Hc.QUEUE}},{key:"isFaxExpired",get:function(){return!this.item.received_date||Math.ceil((Date.now()-1e3*this.item.received_date)/864e5)>10}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(l.Y36(O.so),l.Y36(O.WI),l.Y36(Jc.e),l.Y36(L.q),l.Y36(wa.H),l.Y36(E.c),l.Y36(N.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["fax-info"]],features:[l.qOj],decls:6,vars:7,consts:[["data-e2e","fax-info-modal-fragment"],["modal-header",""],["editIconName","download","e2e","fax-info-modal-fragment",3,"isHiddenBtnDelete","isHiddenBtnEdit","item","isBusyLampFieldHidden","onDeleteClick","onEditClick"],["loading-area-indicator","","modal-content","",3,"loadingAreaIndicatorActive"],[4,"ngIf"],["class","pdf-area",4,"ngIf"],[1,"details-list"],[1,"item","info-item","call-info"],[1,"item-label"],["fill","black","size","medium",3,"icon"],[1,"item-content"],["class","item-primary-content","data-e2e","fax-info-modal-fragment__queued-date",4,"ngIf"],["class","item-primary-content","data-e2e","fax-info-modal-fragment__received-date",4,"ngIf"],[1,"item",3,"click","contextmenu"],["icon","fax_solid","size","medium"],["class","item-primary-content","data-e2e","fax-info-modal-fragment__recipient-number",4,"ngIf"],["class","item-primary-content","data-e2e","fax-info-modal-fragment__sender-number",4,"ngIf"],[1,"item-secondary-content"],[1,"item","info-item",3,"click"],["icon","document","size","medium"],["class","item-primary-content","data-e2e","fax-info-modal-fragment__document-name",4,"ngIf"],["data-e2e","fax-info-modal-fragment__queued-date",1,"item-primary-content"],["data-e2e","fax-info-modal-fragment__received-date",1,"item-primary-content"],["data-e2e","fax-info-modal-fragment__recipient-number",1,"item-primary-content"],["data-e2e","fax-info-modal-fragment__sender-number",1,"item-primary-content"],["data-e2e","fax-info-modal-fragment__document-name",1,"item-primary-content"],[1,"pdf-area"],[1,"pdf",3,"ngClass"],[1,"pdf-holder"],[3,"page","autoresize","original-size","render-text","show-all","src","after-load-complete","pageChange"],[1,"pagination"],["mat-icon-button","",3,"disabled","click"],["icon","arrow_left","size","medium"],[1,"text"],["icon","arrow_right","size","medium"]],template:function(e,t){1&e&&(l.TgZ(0,"modal-details-container",0),l.TgZ(1,"div",1),l.TgZ(2,"user-modal-header",2),l.NdJ("onDeleteClick",function(){return t.deleteFaxQueue()})("onEditClick",function(){return t.downloadFax()}),l.qZA(),l.qZA(),l.TgZ(3,"div",3),l.YNc(4,Xc,25,12,"section",4),l.YNc(5,tl,11,13,"div",5),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("isHiddenBtnDelete",t.isFaxReceived)("isHiddenBtnEdit",t.isFaxSent||t.isFaxExpired)("item",t.modalHeaderInfo)("isBusyLampFieldHidden",!0),l.xp6(1),l.Q6J("loadingAreaIndicatorActive",t.isLoading),l.xp6(1),l.Q6J("ngIf",t.item&&!t.isLoading),l.xp6(1),l.Q6J("ngIf",t.pdfSrc))},directives:[$,ot.j,X.O,K.O5,ne.u,K.mk,b,Be.lW],pipes:[_.X$,K.uU],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]     pdf-viewer{display:block;flex:1;max-width:35rem}[_nghost-%COMP%]     pdf-viewer canvas{margin:0}.pdf-area[_ngcontent-%COMP%]{border-top:.1rem solid #e5e5e5;position:relative}.pdf[_ngcontent-%COMP%]{height:46.2rem;margin:0 auto;max-width:35rem;opacity:0}.pdf.loaded[_ngcontent-%COMP%]{opacity:1}.pdf-holder[_ngcontent-%COMP%]{height:45.2rem}.pagination[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;position:relative;top:-5.4rem}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;top:-.1rem}.text[_ngcontent-%COMP%]{font-size:1.8rem}"]}),e}(),il=n(65939),rl=n(60424),al=["faxInput"];function ol(e,t){1&e&&(l.TgZ(0,"span",10),l._uU(1),l.ALo(2,"uppercase"),l.ALo(3,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,l.lcZ(3,3,"fax.faxes"))))}function sl(e,t){1&e&&(l.TgZ(0,"li"),l._UZ(1,"app-spinner",11),l.qZA())}function cl(e,t){if(1&e&&(l.TgZ(0,"span",19),l._uU(1),l.qZA()),2&e){var n=l.oxw().$implicit;l.xp6(1),l.hij(" ",null==n?null:n.recipient_number," ")}}function ll(e,t){if(1&e&&(l.TgZ(0,"span",19),l._uU(1),l.qZA()),2&e){var n=l.oxw().$implicit;l.xp6(1),l.hij(" ",null==n?null:n.sender_number," ")}}var ul=function(e){return{active:e}};function fl(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"li",12),l._UZ(1,"app-svg-icon",13),l.TgZ(2,"div",14),l.TgZ(3,"div",15),l.YNc(4,cl,2,1,"span",16),l.YNc(5,ll,2,1,"span",16),l.TgZ(6,"span",17),l._uU(7),l.ALo(8,"date"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"app-button",18),l.NdJ("appButtonClick",function(){var e=l.CHM(n).$implicit;return l.oxw(2).viewFaxInfo(e)}),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw(2);l.Q6J("ngClass",l.VKq(9,ul,i.id===r.activeId))("context-menu",i),l.xp6(1),l.Q6J("icon",r.faxHistoryIcon(i)),l.xp6(3),l.Q6J("ngIf","QUEUE"==i.type),l.xp6(1),l.Q6J("ngIf","RECEIVED"==i.type),l.xp6(2),l.hij(" ",l.xi3(8,6,1e3*(null==i?null:i.insert_date),"dd.MM.yyyy, H:mm")," ")}}function dl(e,t){1&e&&(l.TgZ(0,"li"),l.TgZ(1,"p",20),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.hij(" ",l.lcZ(3,1,"fax.history_is_empty")," "))}function hl(e,t){1&e&&(l.TgZ(0,"span",21),l._uU(1),l.ALo(2,"uppercase"),l.ALo(3,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,l.lcZ(3,3,"fax.send_fax"))))}function pl(e,t){if(1&e&&(l.TgZ(0,"mat-option",37),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.display_name," ")}}function gl(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"fax.sender.error.required")))}function ml(e,t){1&e&&l._UZ(0,"app-spinner",38)}function vl(e,t){1&e&&(l.TgZ(0,"mat-hint",39),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"fax.recipient.error.required")," "))}function bl(e,t){if(1&e&&(l.TgZ(0,"mat-option",40),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n),l.xp6(1),l.hij(" ",n.name," ")}}function yl(e,t){if(1&e&&(l.TgZ(0,"mat-option",44),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function _l(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"mat-select",41),l.NdJ("ngModelChange",function(e){return l.CHM(n),l.oxw(3).coverSheet=e}),l.ALo(1,"translate"),l.YNc(2,yl,2,2,"mat-option",42),l.TgZ(3,"mat-option",43),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.qZA()}if(2&e){var i=l.oxw(3);l.Q6J("ngModel",i.coverSheet)("placeholder",l.lcZ(1,5,"fax.select_cover_sheet")),l.xp6(2),l.Q6J("ngForOf",i.coverSheets),l.xp6(1),l.Q6J("value",i.CUSTOM_COVER),l.xp6(1),l.hij(" ",l.lcZ(5,7,"fax.custom_sheet")," ")}}function Cl(e,t){1&e&&(l.TgZ(0,"mat-hint",39),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"fax.subject.error.required")," "))}var kl=function(e){return{maxlength:e}};function Sl(e,t){if(1&e&&(l.TgZ(0,"mat-hint",39),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e){var n=l.oxw(4);l.xp6(1),l.hij(" ",l.xi3(2,1,"fax.subject.error.maxlength",l.VKq(4,kl,null==n.form.controls.subject.errors||null==n.form.controls.subject.errors.maxlength?null:n.form.controls.subject.errors.maxlength.requiredLength))," ")}}function xl(e,t){1&e&&(l.TgZ(0,"mat-hint",39),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"fax.message.error.required")," "))}function Al(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",45),l.TgZ(1,"div",23),l.TgZ(2,"mat-form-field"),l.TgZ(3,"input",46),l.NdJ("ngModelChange",function(e){return l.CHM(n),l.oxw(3).subject=e}),l.ALo(4,"translate"),l.qZA(),l.YNc(5,Cl,3,3,"mat-hint",28),l.YNc(6,Sl,3,6,"mat-hint",28),l.qZA(),l.TgZ(7,"mat-form-field"),l.TgZ(8,"textarea",47),l.NdJ("ngModelChange",function(e){return l.CHM(n),l.oxw(3).message=e}),l.ALo(9,"translate"),l._uU(10,"                    "),l.qZA(),l.YNc(11,xl,3,3,"mat-hint",28),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=l.oxw(3);l.xp6(3),l.Q6J("ngModel",i.subject)("placeholder",l.lcZ(4,7,"fax.subject.label")),l.xp6(2),l.Q6J("ngIf",i.form.controls.subject.hasError("required")&&i.form.controls.subject.touched),l.xp6(1),l.Q6J("ngIf",i.form.controls.subject.hasError("maxlength")&&i.form.controls.subject.touched),l.xp6(2),l.Q6J("ngModel",i.message)("placeholder",l.lcZ(9,9,"fax.message.label")),l.xp6(3),l.Q6J("ngIf",i.form.controls.message.hasError("required")&&i.form.controls.message.touched)}}function wl(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"form",22),l.NdJ("ngSubmit",function(){l.CHM(n);var e=l.oxw(2);return e.form.valid&&e.submitSendFax()}),l.TgZ(2,"div",23),l.TgZ(3,"mat-form-field"),l.TgZ(4,"mat-select",24),l.NdJ("ngModelChange",function(e){return l.CHM(n),l.oxw(2).sender=e}),l.ALo(5,"translate"),l.YNc(6,pl,2,2,"mat-option",25),l.qZA(),l.YNc(7,gl,3,3,"mat-error",7),l.qZA(),l.TgZ(8,"mat-form-field"),l.TgZ(9,"input",26),l.NdJ("ngModelChange",function(e){return l.CHM(n),l.oxw(2).recipient=e}),l.ALo(10,"translate"),l.qZA(),l.YNc(11,ml,1,0,"app-spinner",27),l.YNc(12,vl,3,3,"mat-hint",28),l.qZA(),l.TgZ(13,"mat-autocomplete",29,30),l.NdJ("listboxScrolled",function(){return l.CHM(n),l.oxw(2).loadMoreItems()}),l.YNc(15,bl,2,2,"mat-option",31),l.qZA(),l.TgZ(16,"div"),l.TgZ(17,"mat-checkbox",32),l.NdJ("ngModelChange",function(e){return l.CHM(n),l.oxw(2).hasCoverSheet=e}),l._uU(18),l.ALo(19,"translate"),l.qZA(),l.qZA(),l.YNc(20,_l,6,9,"mat-select",33),l.qZA(),l.YNc(21,Al,12,11,"div",34),l.TgZ(22,"div",23),l.TgZ(23,"div",35),l._UZ(24,"app-button",36),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=l.MAs(14),r=l.oxw(2);l.xp6(1),l.Q6J("formGroup",r.form),l.xp6(3),l.Q6J("ngModel",r.sender)("placeholder",l.lcZ(5,17,"fax.sender.label")),l.xp6(2),l.Q6J("ngForOf",r.faxSubscriptions),l.xp6(1),l.Q6J("ngIf",!1),l.xp6(2),l.Q6J("ngModel",r.recipient)("matAutocomplete",i)("placeholder",l.lcZ(10,19,"fax.recipient.label")),l.xp6(2),l.Q6J("ngIf",r.loadingRecipients),l.xp6(1),l.Q6J("ngIf",r.form.controls.recipient.hasError("required")&&r.form.controls.recipient.touched),l.xp6(1),l.Q6J("displayWith",r.displayName),l.xp6(2),l.Q6J("ngForOf",r.faxRecipientList),l.xp6(2),l.Q6J("ngModel",r.hasCoverSheet),l.xp6(1),l.hij(" ",l.lcZ(19,21,"fax.send_with_cover_sheet")," "),l.xp6(2),l.Q6J("ngIf",r.hasCoverSheet),l.xp6(1),l.Q6J("ngIf",r.hasCoverSheet&&"custom"===r.coverSheet),l.xp6(3),l.Q6J("disabled",!r.form.valid)}}function Ml(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div"),l._uU(1),l.ALo(2,"translate"),l.TgZ(3,"app-button",48),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw(2).gotoFaxSettings()}),l.qZA(),l.qZA()}2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"fax.no_fax_connected_info")," "))}function Tl(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"mat-tab-group",4),l.NdJ("selectedTabChange",function(e){return l.CHM(n),l.oxw().selectedTabChanged(e)}),l.TgZ(2,"mat-tab"),l.YNc(3,ol,4,5,"ng-template",5),l.TgZ(4,"ul",6),l.NdJ("scrolled",function(){return l.CHM(n),l.oxw().onLazyLoadingHistory()}),l.YNc(5,sl,2,0,"li",7),l.YNc(6,fl,10,11,"li",8),l.YNc(7,dl,4,3,"li",7),l.qZA(),l.qZA(),l.TgZ(8,"mat-tab"),l.YNc(9,hl,4,5,"ng-template",5),l.TgZ(10,"div",9),l.YNc(11,wl,25,23,"div",7),l.YNc(12,Ml,4,3,"div",7),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("selectedIndex",i.isSendingFaxActive?1:0),l.xp6(3),l.Q6J("infiniteScrollDisabled",!i.hasMoreData||i.isLoading)("scrollWindow",!1)("infiniteScrollThrottle",50),l.xp6(1),l.Q6J("ngIf",i.isLoading),l.xp6(1),l.Q6J("ngForOf",i.historyItems),l.xp6(1),l.Q6J("ngIf",!i.isLoading&&!i.historyItems.length),l.xp6(3),l.ekj("active",i.isSendingFaxActive),l.Q6J("loadingAreaIndicatorActive",i.isLoading),l.xp6(1),l.Q6J("ngIf",!i.isLoading&&i.faxSubscriptions.length>0),l.xp6(1),l.Q6J("ngIf",!i.isLoading&&0===i.faxSubscriptions.length)}}function Pl(e,t){if(1&e&&l._UZ(0,"fax-cover-sheet",59),2&e){var n=l.oxw(2);l.Q6J("sender",n.sender)}}function Il(e,t){1&e&&l._UZ(0,"app-spinner")}function Ol(e,t){if(1&e&&(l.TgZ(0,"div",68),l._UZ(1,"pdf-viewer",69),l.qZA()),2&e){var n=l.oxw().index,i=l.oxw(3);l.xp6(1),l.Q6J("original-size",!1)("render-text",!1)("show-all",!1)("src",i.pdfSources[n])}}function jl(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"li",62),l.YNc(1,Ol,2,4,"div",63),l.TgZ(2,"div",64),l.TgZ(3,"span",65),l._uU(4),l.qZA(),l.TgZ(5,"span",66),l._uU(6),l.ALo(7,"number"),l.qZA(),l.TgZ(8,"app-button",67),l.NdJ("appButtonClick",function(){var e=l.CHM(n),t=e.$implicit,i=e.index;return l.oxw(3).deletePdf(t,i)}),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw(3);l.xp6(1),l.Q6J("ngIf",r.pdfSources.length),l.xp6(3),l.hij(" ",i.name," "),l.xp6(2),l.hij(" ",l.xi3(7,3,i.size/1e3,"1.0-0")," kB ")}}function El(e,t){if(1&e&&(l.TgZ(0,"ul",60),l.YNc(1,jl,9,6,"li",61),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",n.pdfList)}}function Ll(e,t){1&e&&(l.TgZ(0,"ul"),l.TgZ(1,"li"),l._UZ(2,"app-spinner"),l.qZA(),l.qZA())}var Nl=function(e){return{"file-over":e}};function Rl(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",49),l.TgZ(1,"div",50),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.TgZ(4,"div",51),l.TgZ(5,"input",52,53),l.NdJ("input",function(e){return l.CHM(n),l.oxw().handleFileInput(e.target.files)}),l.qZA(),l.TgZ(7,"label",54),l.NdJ("dragleave",function(e){return l.CHM(n),l.oxw().handleDragLeave(e)})("dragover",function(e){return l.CHM(n),l.oxw().handleDragOver(e)})("drop",function(e){return l.CHM(n),l.oxw().handleDrop(e)}),l._UZ(8,"app-svg-icon",55),l.TgZ(9,"span",56),l._uU(10),l.ALo(11,"translate"),l.qZA(),l.qZA(),l.YNc(12,Pl,1,1,"fax-cover-sheet",57),l.YNc(13,Il,1,0,"app-spinner",7),l.YNc(14,El,2,1,"ul",58),l.YNc(15,Ll,3,0,"ul",7),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(2),l.hij(" ",l.lcZ(3,10,"fax.preview")," "),l.xp6(5),l.Q6J("ngClass",l.VKq(14,Nl,i.hasBaseDropZoneOver)),l.xp6(1),l.ekj("file-over",i.hasBaseDropZoneOver),l.Q6J("fill","fax-upload__button"),l.xp6(2),l.hij(" ",l.lcZ(11,12,"fax.drag_and_drop_file")," "),l.xp6(2),l.Q6J("ngIf",i.showFaxCover&&!i.isLoadingFaxCover),l.xp6(1),l.Q6J("ngIf",i.isLoadingFaxCover),l.xp6(1),l.Q6J("ngIf",i.pdfList.length),l.xp6(1),l.Q6J("ngIf",!i.pdfSources.length&&i.isLoadingPreview)}}var Dl=function(){var e=function(){function e(t,n,i,r,a,o,s,c,l){var u=this;_classCallCheck2(this,e),this.faxService=t,this.router=n,this.mainService=i,this.phoneBookService=r,this.snackbarService=a,this.dialog=o,this.translateService=s,this.headerButtonService=c,this.searchService=l,this.page=1,this.pageSize=25,this.recipientsPaginationPage=1,this.hasMoreRecipients=!1,this.searchRecipientsString="",this.ngUnsubscribe=new A.xQ,this.hasMoreData=!1,this.CUSTOM_COVER="custom",this.historyItems=[],this.date=new Date,this.isSendingFaxActive=!1,this.isLoading=!1,this.hasCoverSheet=!1,this.coverSheet=null,this.hasBaseDropZoneOver=!1,this.filters={string:""},this.faxRecipientList=[],this.pdfSources=[],this.pdfList=[],this.items=[],this.faxSubscriptions=[],this.coverSheets=[],this.subject="",this.message="",this.isSearching=!1,this.searchResultItems=[],this.searchType=P.V.FAX,this.isLoadingFaxCover=!1,this.showFaxCover=!1,this.loadingRecipients=!1,this.filesToUpload=[],this.load(),t.activeItem$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.setActive.bind(this)),t.deleteItem$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.deleteItem.bind(this)),this.mainService.searchState$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){return u.isSearching=e})}return _createClass2(e,[{key:"ngAfterViewInit",value:function(){this.searchService.setSearchItem({searchString:""})}},{key:"ngOnInit",value:function(){var e=this;this.search(),this.form=new ut.cw({sender:new ut.NI(this.sender,ut.kI.required),recipient:new ut.NI(this.recipient,ut.kI.required),coverSheetCheckbox:new ut.NI(this.hasCoverSheet),coverSheet:new ut.NI(this.coverSheet),subject:new ut.NI(this.subject),message:new ut.NI(this.message)}),this.form.get("coverSheetCheckbox").valueChanges.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.showFaxCover=t,"custom"===e.coverSheet&&t?e.addFormCoverControlsValidators():e.removeFormCoverControlsValidators()}),this.form.get("coverSheet").valueChanges.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){var n=Number(t);n&&e.loadFaxCoverDetails(n),"custom"===t?e.addFormCoverControlsValidators():e.removeFormCoverControlsValidators()}),this.form.get("recipient").valueChanges.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.recipientsPaginationPage=1,t?("object"==typeof t&&(t=t.name),e.getFaxRecipientList(t)):e.faxRecipientList=[]}),this.form.get("subject").valueChanges.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.selectedFaxCover=Object.assign(Object.assign({},e.selectedFaxCover),{subject:t}),e.setFaxCover(Object.assign(Object.assign({},e.selectedFaxCover),{subject:t}))}),this.form.get("message").valueChanges.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.selectedFaxCover=Object.assign(Object.assign({},e.selectedFaxCover),{body:t}),e.setFaxCover(Object.assign(Object.assign({},e.selectedFaxCover),{body:t}))})}},{key:"search",value:function(){var e=this;this.searchService.searchItem$.pipe((0,rn.w)(function(t){return e.getFax(t)}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.isLoading=!1,e.hasMoreData=t.paginationHasMoreData,e.hasMoreData&&e.page++,t.data&&Array.prototype.push.apply(e.historyItems,t.data)})}},{key:"onLazyLoadingHistory",value:function(){this.hasMoreData&&this.searchService.setSearchItem({searchString:this.searchString,headerAction:{actionName:$t.O.SCROLL,actionComponent:$t.I.FAX}})}},{key:"load",value:function(){this.isSendingFaxActive=this.router.isActive("/main/fax/send",!0),this.isSendingFaxActive&&(this.loadSubscriptions(),this.loadCoverSheets())}},{key:"handleFileInput",value:function(e){var t=this,n=Object.assign({},e);this.filesToUpload=[].concat(_toConsumableArray2(this.filesToUpload),[n]),this.faxInput.nativeElement.value="",Object.keys(n).forEach(function(e){t.pdfList.push(n[e]),t.addLocalFile(n[e])})}},{key:"handleDragOver",value:function(e){e.dataTransfer&&!this.haveFiles(e.dataTransfer.types)||(e.preventDefault(),e.stopPropagation(),this.hasBaseDropZoneOver=!0)}},{key:"handleDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.hasBaseDropZoneOver=!1}},{key:"handleDrop",value:function(e){if(e.preventDefault(),e.stopPropagation(),this.hasBaseDropZoneOver=!1,e.dataTransfer){var t=e.dataTransfer.files;t[0].name.match(/\.(pdf)$/i)?this.handleFileInput(t):this.onFaxWrongFileTypeUpload()}}},{key:"loadFaxCoverDetails",value:function(e){var t=this;this.faxService.getCover(e).pipe((0,Xe.K)(function(e){t.isLoadingFaxCover=e}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(e){t.selectedFaxCover=e,t.setFaxCover(e)})}},{key:"selectedTabChanged",value:function(e){0===e.index?(this.router.navigate(["/main/fax/history"]),this.headerButtonService.setActionComponentType($t.I.FAX)):(this.router.navigate(["/main/fax/send"]),this.isSendingFaxActive=!0)}},{key:"displayName",value:function(e){if(null===e||"undefined"===e)return"";switch(typeof e){case"object":return e.name;case"number":case"string":return"".concat(e);default:return""}}},{key:"addFormCoverControlsValidators",value:function(){this.form.get("subject").setValidators(ut.kI.compose([ut.kI.required,ut.kI.maxLength(255)])),this.form.get("message").setValidators(ut.kI.required),this.updateFormValueAndValidity()}},{key:"removeFormCoverControlsValidators",value:function(){this.form.get("subject").setValidators(null),this.form.get("message").setValidators(null),this.updateFormValueAndValidity()}},{key:"resetFormCoverControls",value:function(){this.form.get("subject").setValue(""),this.form.get("message").setValue("")}},{key:"updateFormValueAndValidity",value:function(){this.form.get("subject").updateValueAndValidity(),this.form.get("message").updateValueAndValidity()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"loadMoreItems",value:function(){this.hasMoreRecipients&&!this.loadingRecipients&&this.loadUnassignedRecipients()}},{key:"viewFaxInfo",value:function(e){this.dialog.open(nl,{autoFocus:!1,data:e})}},{key:"setActive",value:function(e){this.activeId=e}},{key:"deleteItem",value:function(e){for(var t=this.historyItems.length,n=0;n<t;n++)if(this.historyItems[n][void 0!==this.historyItems[n][e.key]?e.key:"id"]===e.id)return void this.historyItems.splice(n,1)}},{key:"gotoFaxSettings",value:function(){this.router.navigate(["/main/settings/fax"])}},{key:"loadSubscriptions",value:function(){var e=this;this.faxService.getSubscriptions().pipe((0,Xe.K)(function(t){e.isLoading=t}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.faxSubscriptions=t.data,e.faxSubscriptions.forEach(function(t){1===parseInt(t.favorite,10)&&(e.sender=t.id)})})}},{key:"getFaxRecipientList",value:function(e){var t=this;clearTimeout(this.timer),this.cancelRecipientRequest(),this.timer=setTimeout(function(){t.faxRecipientList=[],e&&(t.filters.string=e,t.searchRecipientsString=e,t.cancelRecipientRequest(),t.recipientRequest=t.phoneBookService.getGlobal(t.searchRecipientsString,t.recipientsPaginationPage).pipe((0,Xe.K)(function(e){t.loadingRecipients=e}),(0,Et.U)(function(e){return e.data}),(0,M.R)(t.ngUnsubscribe)).subscribe(function(e){t.updateFaxRecipients(e)}))},400)}},{key:"cancelRecipientRequest",value:function(){this.recipientRequest&&this.recipientRequest.unsubscribe()}},{key:"loadCoverSheets",value:function(){var e=this;this.faxService.getCovers().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.coverSheets=t.data,e.coverSheets.forEach(function(t){1===parseInt(t.favorite,10)&&(e.coverSheet=t.id)})})}},{key:"deletePdf",value:function(e,t){this.pdfList.splice(t,1),this.pdfSources.splice(t,1),this.filesToUpload.splice(t,1)}},{key:"onFaxWrongFileTypeUpload",value:function(){this.snackbarService.openInfo(this.translateService.instant("fax.upload.invalid_file_format"),!1,void 0,{duration:8e3,panelClass:"multilineSnackbar"})}},{key:"submitSendFax",value:function(){var e=this;0!==this.pdfList.length?this.phoneBookService.getGlobal(this.getRecipientNumber()).pipe((0,Et.U)(function(e){return e.data}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){var n=e.mapToFaxRecipients(t),i=e.getRecipientNumber().replace(/^00/,"+"),r=n.filter(function(e){return e.number===i});e.isValidRecipient(i,r)&&(e.snackbarService.openInfo("fax.sending"),e.sendFax(i,e.selectedFaxCover.subject,e.selectedFaxCover.body,e.sender,e.hasCoverSheet))}):this.snackbarServiceAlerts("fax.empty-file-list",!1,"",{panelClass:"fax-empty-file-list"})}},{key:"isValidRecipient",value:function(e,t){return 0!==t.length||"+"===e.substring(0,1)||(this.snackbarServiceAlerts("fax.invalid-recipient",!1,"",{panelClass:"fax-invalid-recipient"}),!1)}},{key:"sendFax",value:function(e,t,n,i,r){var a=this,o=new FormData;t=this.faxService.processInput(t,i),n=this.faxService.processInput(n,i),o.append("hasCoverSheet",r.toString()),o.append("subject",t),o.append("message",n),o.append("sender",i),o.append("recipient",e),this.filesToUpload.forEach(function(e){Object.keys(e).forEach(function(t){o.append("files[]",e[t])})}),this.faxService.sendFax(o).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){},function(){a.snackbarServiceAlerts("fax.sent-error",!1,"",{panelClass:"fax-sent-error"}),a.form.valid||a.resetForm()},function(){a.snackbarServiceAlerts("fax.sent-successfully",!0,"",{panelClass:"fax-sent-successfully"}),a.resetForm()})}},{key:"snackbarServiceAlerts",value:function(e,t,n,i){this.snackbarService.openInfo(e,t,n,i)}},{key:"resetForm",value:function(){var e=this.sender;this.pdfSources=[],this.pdfList=[],this.items=[],this.filesToUpload=[],this.form.reset(),this.hasCoverSheet=!1,this.form.get("sender").setValue(e),this.form.get("recipient").setErrors(null)}},{key:"faxHistoryIcon",value:function(e){return"QUEUE"===e.type?"fax_out":"fax_in"}},{key:"setFaxCover",value:function(e){this.faxService.coverData=e}},{key:"addLocalFile",value:function(e){var t=this,n=new FileReader;n.onloadend=function(){t.pdfSources.push(n.result)},n.readAsDataURL(e)}},{key:"getRecipientNumber",value:function(){return"object"==typeof this.recipient?this.recipient.number:this.recipient}},{key:"haveFiles",value:function(e){return!!e&&(e.indexOf?-1!==e.indexOf("Files"):!!e.contains&&e.contains("Files"))}},{key:"loadUnassignedRecipients",value:function(){var e=this;this.loadingRecipients||(this.recipientRequest=this.phoneBookService.getGlobal(this.searchRecipientsString,this.recipientsPaginationPage).pipe((0,Xe.K)(function(t){e.loadingRecipients=t}),(0,Et.U)(function(e){return e.data}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.updateFaxRecipients(t)}))}},{key:"updateFaxRecipients",value:function(e){var t;this.recipientsPaginationPage++,this.hasMoreRecipients=e.length>=this.pageSize;var n=this.mapToFaxRecipients(e);(t=this.faxRecipientList).push.apply(t,_toConsumableArray2(n))}},{key:"resetPageIfSearchChanged",value:function(e){this.searchString!==e.searchString&&(this.page=1,this.historyItems=[])}},{key:"getFax",value:function(e){var t;return this.resetPageIfSearchChanged(e),this.searchString=e.searchString,this.isLoading=!0,(null===(t=e.headerAction)||void 0===t?void 0:t.actionName)!==$t.O.SCROLL&&(this.historyItems=[]),this.faxService.getHistory(e.searchString,this.page,this.pageSize)}},{key:"mapToFaxRecipients",value:function(e){return e.map(function(e){return{name:e.displayName,number:e.extensionNumber||e.displayNumber}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Jc.e),l.Y36(i.F0),l.Y36(at.J),l.Y36(rt.$),l.Y36(E.c),l.Y36(O.uw),l.Y36(_.sK),l.Y36(we.d),l.Y36(Ce.o))},e.\u0275cmp=l.Xpm({type:e,selectors:[["main-fax"]],viewQuery:function(e,t){var n;(1&e&&l.Gf(al,5),2&e)&&(l.iGM(n=l.CRH())&&(t.faxInput=n.first))},decls:3,vars:2,consts:[["data-e2e","main-fax-page",1,"scrollable-container"],["class","left fax-list-container",4,"ngIf"],["class","right",4,"ngIf"],[1,"left","fax-list-container"],[3,"selectedIndex","selectedTabChange"],["mat-tab-label",""],["data-e2e","main-fax-history-page","infinite-scroll","",1,"flexible-list","history-list",3,"infiniteScrollDisabled","scrollWindow","infiniteScrollThrottle","scrolled"],[4,"ngIf"],["class","flexible-list__item","contextMenuSection","fax","data-e2e","main-fax-history-page__list-element","itemHoverbox","",3,"ngClass","context-menu",4,"ngFor","ngForOf"],["data-e2e","main-fax-send-page","id","send-fax","loading-area-indicator","",3,"loadingAreaIndicatorActive"],["data-e2e","main-fax-page__history-tab"],[1,"fax__spinner"],["contextMenuSection","fax","data-e2e","main-fax-history-page__list-element","itemHoverbox","",1,"flexible-list__item",3,"ngClass","context-menu"],["fill","black","size","medium",3,"icon"],[1,"horizontal-divider"],[1,"flexible-list__item__content"],["class","flexible-list__item__title","data-e2e","main-fax-history-page__list-item-title",4,"ngIf"],["data-e2e","main-fax-history-page__list-item-date",1,"flexible-list__item__sub-title"],["e2e","main-fax-history-page__list-element-info","iconName","info",1,"flexible-list__item__info-button",3,"appButtonClick"],["data-e2e","main-fax-history-page__list-item-title",1,"flexible-list__item__title"],[1,"text-center"],["data-e2e","main-fax-page__send-tab"],["novalidate","",3,"formGroup","ngSubmit"],[1,"fax__form-container"],["data-e2e","main-fax-send-page__sender-selector","formControlName","sender","id","fax-sender",3,"ngModel","placeholder","ngModelChange"],["data-e2e","main-fax-send-page__sender-selector--option",3,"value",4,"ngFor","ngForOf"],["data-e2e","main-fax-send-page__recipient--input","formControlName","recipient","id","fax-recipient","matInput","",3,"ngModel","matAutocomplete","placeholder","ngModelChange"],["matSuffix","","size","small",4,"ngIf"],["class","mat-hint--error",4,"ngIf"],[3,"displayWith","listboxScrolled"],["auto","matAutocomplete"],["data-e2e","main-fax-send-page__recipient-autocomplete-option",3,"value",4,"ngFor","ngForOf"],["color","primary","data-e2e","main-fax-send-page__cover-sheet-checkbox","formControlName","coverSheetCheckbox","id","fax-cover-switch",3,"ngModel","ngModelChange"],["data-e2e","main-fax-send-page__cover-sheet-selector","formControlName","coverSheet","id","fax-cover","class","fax__cover",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["class","fax__custom-cover-sheet__container",4,"ngIf"],[1,"fax__actions"],["color","primary","e2e","main-fax-send-page__send","size","","buttonTextTranslationKey","fax.send","type","raised-button-submit",3,"disabled"],["data-e2e","main-fax-send-page__sender-selector--option",3,"value"],["matSuffix","","size","small"],[1,"mat-hint--error"],["data-e2e","main-fax-send-page__recipient-autocomplete-option",3,"value"],["data-e2e","main-fax-send-page__cover-sheet-selector","formControlName","coverSheet","id","fax-cover",1,"fax__cover",3,"ngModel","placeholder","ngModelChange"],["data-e2e","main-fax-send-page__cover-sheet-selector-option",3,"value",4,"ngFor","ngForOf"],["data-e2e","main-fax-send-page__cover-sheet-selector-option-custom",3,"value"],["data-e2e","main-fax-send-page__cover-sheet-selector-option",3,"value"],[1,"fax__custom-cover-sheet__container"],["data-e2e","main-fax-send-page__cover-sheet-subject--input","formControlName","subject","matInput","","maxlength","50","type","text",3,"ngModel","placeholder","ngModelChange"],["data-e2e","main-fax-send-page__cover-sheet-message--textarea","formControlName","message","matInput","","rows","5","type","text",3,"ngModel","placeholder","ngModelChange"],["buttonTextTranslationKey","fax.fax_settings","type","raised-button",3,"appButtonClick"],[1,"right"],["details-title","",1,"header"],[1,"fax__upload-container"],["accept","application/pdf","id","fax-upload","multiple","","type","file",1,"fax__upload",3,"input"],["faxInput",""],["data-e2e","main-fax-send-page__file-upload-area","for","fax-upload",1,"fax-upload__label",3,"ngClass","dragleave","dragover","drop"],["icon","upload_file","size","medium",1,"fax-upload__button","fax-upload__button--icon",3,"fill"],[1,"fax-upload__text"],[3,"sender",4,"ngIf"],["class","fax__files-container__list",4,"ngIf"],[3,"sender"],[1,"fax__files-container__list"],["class","fax__files-container__list-item",4,"ngFor","ngForOf"],[1,"fax__files-container__list-item"],["class","fax__files-container__pdf-preview","data-e2e","main-fax-send-page__file-list-element-preview",4,"ngIf"],[1,"fax__files-container__pdf-info"],["data-e2e","main-fax-send-page__file-list-element-name",1,"name"],["data-e2e","main-fax-send-page__file-list-element-size",1,"size"],["e2e","main-fax-send-page__file-list-element-remove","iconName","close",3,"appButtonClick"],["data-e2e","main-fax-send-page__file-list-element-preview",1,"fax__files-container__pdf-preview"],[3,"original-size","render-text","show-all","src"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,Tl,13,12,"div",1),l.YNc(2,Rl,16,16,"div",2),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",!t.isSearching),l.xp6(1),l.Q6J("ngIf",t.isSendingFaxActive&&!1===t.isSearching))},directives:[K.O5,il.SP,il.uX,il.uD,a.R,K.sg,X.O,Ta.S,te.h,K.mk,Pe.l,ne.u,Pt.V,ut._Y,ut.JL,ut.sg,dt.KE,Fi.gD,ut.JJ,ut.u,ut.Fj,ht.Nt,o.ZL,o.XC,ec.X,Mc.oG,Ui.ey,dt.TO,dt.R9,dt.bx,ut.nD,rl.k,b],pipes:[K.gd,_.X$,K.uU,K.JJ],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]     pdf-viewer{flex:1}[_nghost-%COMP%]     pdf-viewer canvas{margin-bottom:.5rem}[_nghost-%COMP%]     .fax__spinner{bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}[_nghost-%COMP%]     .fax-list-container .mat-tab-labels{display:flex;flex:1}[_nghost-%COMP%]     .fax-list-container .mat-tab-label{color:gray;opacity:.9}[_nghost-%COMP%]     .fax-list-container .mat-tab-label.mat-tab-label-active{color:#000;opacity:1}[_nghost-%COMP%]     .fax-list-container .mat-ink-bar{background-color:#ff5900}.fax-list-container[_ngcontent-%COMP%]{display:flex;flex:1}.fax-list-container[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]{flex:1}.fax-list-container[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]{flex:1;height:100%;margin-top:0!important;overflow-y:scroll}.fax-list-container[_ngcontent-%COMP%]   .history-list.is-edit-mode[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.left[_ngcontent-%COMP%]   .fax__actions[_ngcontent-%COMP%]{padding-top:1.6rem;text-align:right}.left[_ngcontent-%COMP%]   .fax__form-container[_ngcontent-%COMP%]{max-width:32rem;padding:2.4rem}.left[_ngcontent-%COMP%]   .fax__form-container[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]   .fax__form-container[_ngcontent-%COMP%] > mat-select[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]   .fax__form-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%}.left[_ngcontent-%COMP%]   .fax__form-container[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%]{font-size:1.8rem}.left[_ngcontent-%COMP%]   .fax__form-container[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%]     .mat-select-placeholder{font-size:1.3rem}.left[_ngcontent-%COMP%]   .fax__form-container[_ngcontent-%COMP%]   .fax__cover[_ngcontent-%COMP%]{padding-top:2rem}.left[_ngcontent-%COMP%]   .fax__custom-cover-sheet__container[_ngcontent-%COMP%]{display:flex;justify-content:left;width:100%}.left[_ngcontent-%COMP%]   .fax__custom-cover-sheet__container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column}.fax__custom-cover-sheet__container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-bottom:.1rem solid #e5e5e5;box-sizing:border-box;height:4.9rem;padding:1.6rem}.right[_ngcontent-%COMP%]   .fax__upload-container[_ngcontent-%COMP%]{margin:1.6rem 0;overflow-x:hidden;transition:.13s ease-in-out}.right[_ngcontent-%COMP%]   .fax__upload-container[_ngcontent-%COMP%]   .fax__upload[_ngcontent-%COMP%]{height:.1rem;opacity:0;overflow:hidden;position:absolute;width:.1rem;z-index:-1}.right[_ngcontent-%COMP%]   .fax__upload-container[_ngcontent-%COMP%]   .fax__files-container__list-item[_ngcontent-%COMP%]{border-bottom:.1rem solid #e5e5e5}.right[_ngcontent-%COMP%]   .fax__upload-container[_ngcontent-%COMP%]   .fax__files-container__list[_ngcontent-%COMP%]{list-style:none;padding:0}.right[_ngcontent-%COMP%]   .fax-upload__label[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;font-size:1.2rem;height:4rem;justify-content:center;padding:1rem;position:relative;transition:.13s ease-in-out}.right[_ngcontent-%COMP%]   .fax-upload__text[_ngcontent-%COMP%]{padding:0 1rem}.right[_ngcontent-%COMP%]   .fax__files-container__pdf-preview[_ngcontent-%COMP%]{height:auto;width:49.6rem}.right[_ngcontent-%COMP%]   .fax__files-container__pdf-info[_ngcontent-%COMP%]{align-items:center;display:flex;padding:0 1.5rem}.right[_ngcontent-%COMP%]   .no-preview[_ngcontent-%COMP%]{align-items:center;color:#999;display:flex;flex:1;font-size:2.6rem;justify-content:center}.fax__upload-container[_ngcontent-%COMP%]   .fax__files-container__list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1;max-width:21rem;overflow:hidden;text-overflow:ellipsis}"]}),e}(),Zl=function(){return(e=Zl||(Zl={})).CALL="call",e.VOICEMAIL="voicemail",Zl;var e}(),Fl=n(13653),Ul=n(74529),ql=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"transform",value:function(e,t){return"callHistory"!==t||!e.number||e.number.includes("meeting:")||this.doesCallItemNameContainCallItemNumber(e)?e.name:"".concat(e.name," (").concat(e.number,")")}},{key:"getOnlyDigits",value:function(e){return e.replace(/\D/g,"")}},{key:"doesCallItemNameContainCallItemNumber",value:function(e){return this.getOnlyDigits(e.name)===this.getOnlyDigits(e.number)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=l.Yjl({name:"callItemName",type:e,pure:!0}),e}(),Bl=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"transform",value:function(e,t){switch(t){case"name":return this.getReferOrLocalName(e);case"number":return this.getReferOrLocalNumber(e);default:return""}}},{key:"getReferOrLocalName",value:function(e){return e.refer_display_name||e.local_display_name||""}},{key:"getReferOrLocalNumber",value:function(e){return e.refer||e.local||""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=l.Yjl({name:"referLocalPipe",type:e,pure:!0}),e}(),Hl=n(6508),Yl=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var a;return _classCallCheck2(this,n),(a=t.call(this,i,r)).meetingService=e,a.headerButtonService=i,a.callItemService=r,a.historyConfigKey=me.HISTORY,a}return _createClass2(n,[{key:"ngOnInit",value:function(){this.selectableCallItem.callItem=Object.assign(Object.assign({},this.selectableCallItem.callItem),{isDebounceDblClickDisabled:!0,isContextMenuDisabled:!0})}},{key:"callMeeting",value:function(){var e,t=st.D.parseHistoryCallItemRemoteForMeetingId(null===(e=this.selectableCallItem)||void 0===e?void 0:e.callItem.number);this.meetingService.tryToJoinMeeting(t)}}]),n}(Nc);return e.\u0275fac=function(t){return new(t||e)(l.Y36(st.D),l.Y36(we.d),l.Y36(Te))},e.\u0275cmp=l.Xpm({type:e,selectors:[["meeting-call-item"]],inputs:{selectableCallItem:"selectableCallItem"},features:[l.qOj],decls:1,vars:2,consts:[["e2e","main-history-call-page__list-element",3,"selectableCallItem","callItemConfigKey","debounceDblClick"]],template:function(e,t){1&e&&(l.TgZ(0,"selectable-call-item",0),l.NdJ("debounceDblClick",function(){return t.callMeeting()}),l.qZA()),2&e&&l.Q6J("selectableCallItem",t.selectableCallItem)("callItemConfigKey",t.historyConfigKey)},directives:[Nc,Ae.I],styles:[""]}),e}(),Vl=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.callItemService=t,this.referTitle=""}return _createClass2(e,[{key:"ngOnInit",value:function(){this.updateReferTitle()}},{key:"onCall",value:function(e){this.callItemService.onCall(e,!0)}},{key:"updateReferTitle",value:function(){this.referTitle="history.redirected_by"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Te))},e.\u0275cmp=l.Xpm({type:e,selectors:[["refer-item"]],inputs:{callHistoryItem:"callHistoryItem"},decls:10,vars:11,consts:[[1,"refer-item",3,"context-menu","debounceDblClick"],[3,"displayName","iconName","forceShowIcon"],[3,"extension"],[1,"refer-item__content"],[1,"refer-item__name"],[1,"refer-item__title"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.NdJ("debounceDblClick",function(){return t.onCall(null==t.callHistoryItem?null:t.callHistoryItem.referItem)}),l._UZ(1,"svg-avatar",1),l.ALo(2,"discriminatorIcon"),l._UZ(3,"busy-lamp-field",2),l.TgZ(4,"div",3),l.TgZ(5,"span",4),l._uU(6),l.qZA(),l.TgZ(7,"span",5),l._uU(8),l.ALo(9,"translate"),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("context-menu",null==t.callHistoryItem?null:t.callHistoryItem.callItem),l.xp6(1),l.Q6J("displayName",null==t.callHistoryItem?null:t.callHistoryItem.referItem.name)("iconName",l.lcZ(2,7,null==t.callHistoryItem?null:t.callHistoryItem.callItem.local_discriminator))("forceShowIcon",!0),l.xp6(2),l.Q6J("extension",null==t.callHistoryItem?null:t.callHistoryItem.referItem.number),l.xp6(3),l.hij(" ",null==t.callHistoryItem?null:t.callHistoryItem.referItem.name," "),l.xp6(2),l.hij(" ",l.lcZ(9,9,t.referTitle)," "))},directives:[Pe.l,Ae.I,Ie.T,Re.K],pipes:[nc.O,_.X$],styles:[".refer-item[_ngcontent-%COMP%]{align-items:center;border-bottom:.1rem solid #e5e5e5;display:flex;flex-grow:2;height:7.5rem}.refer-item__content[_ngcontent-%COMP%]{display:grid;flex-direction:column;margin-left:.8rem}.refer-item__content[_ngcontent-%COMP%]   .refer-item__name[_ngcontent-%COMP%]{display:inline-block;font-size:1.8rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}),e}();function Jl(e,t){1&e&&l._UZ(0,"app-spinner",5)}function Ql(e,t){if(1&e&&l._UZ(0,"meeting-call-item",15),2&e){var n=l.oxw().$implicit;l.Q6J("selectableCallItem",n)}}function zl(e,t){if(1&e&&l._UZ(0,"selectable-call-item",16),2&e){var n=l.oxw().$implicit,i=l.oxw(3);l.Q6J("selectableCallItem",n)("callItemConfigKey",i.historyConfigKey)}}function Gl(e,t){if(1&e&&l._UZ(0,"refer-item",17),2&e){var n=l.oxw().$implicit;l.Q6J("callHistoryItem",n)}}function Wl(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",8),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw(3).updateSelectedEditItemsCount(e)}),l.TgZ(1,"div",9),l.YNc(2,Ql,1,1,"meeting-call-item",10),l.YNc(3,zl,1,2,"ng-template",null,11,l.W1O),l.YNc(5,Gl,1,1,"refer-item",12),l.qZA(),l.TgZ(6,"div",13),l.NdJ("click",function(e){return l.CHM(n),l.oxw(3).stopInfoButtonClickPropagation(e)}),l.TgZ(7,"app-button",14),l.NdJ("appButtonClick",function(){var e=l.CHM(n).$implicit;return l.oxw(3).openCallHistoryInfoModal(null==e?null:e.callItem)}),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.MAs(4);l.Q6J("itemHoverbox",!1),l.xp6(2),l.Q6J("ngIf",i.isMeeting)("ngIfElse",r),l.xp6(3),l.Q6J("ngIf",i.referItem)}}function $l(e,t){if(1&e&&(l.ynx(0),l.YNc(1,Wl,8,4,"div",7),l.BQk()),2&e){var n=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",n.callHistoryItems)}}function Kl(e,t){if(1&e&&l.YNc(0,$l,2,1,"ng-container",6),2&e){var n=l.oxw(),i=l.MAs(5);l.Q6J("ngIf",n.callHistoryItems.length)("ngIfElse",i)}}function Xl(e,t){if(1&e&&l._UZ(0,"not-found-group",19),2&e){var n=l.oxw(2);l.Q6J("search",n.searchString)}}function eu(e,t){if(1&e&&l.YNc(0,Xl,1,1,"not-found-group",18),2&e){var n=l.oxw(),i=l.MAs(7);l.Q6J("ngIf",n.isNumberValid)("ngIfElse",i)}}function tu(e,t){1&e&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"history.enter_more_characters")," "))}function nu(e,t){1&e&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"history.history_is_empty")))}function iu(e,t){if(1&e&&(l.TgZ(0,"p",20),l.YNc(1,tu,3,3,"span",6),l.YNc(2,nu,3,3,"ng-template",null,21,l.W1O),l.qZA()),2&e){var n=l.MAs(3),i=l.oxw();l.xp6(1),l.Q6J("ngIf",!i.hasEnteredAtLeastThreeCharacters&&i.searchString)("ngIfElse",n)}}var ru=function(){var e=function(){function e(t,n,i,r,a,o,s,c,l,u,f,d,h){_classCallCheck2(this,e),this.callItemService=t,this.callRecordService=n,this.callRecordEventStreamService=i,this.dialog=r,this.headerButtonService=a,this.router=o,this.searchService=s,this.snackBarService=c,this.callDatePipe=l,this.callHistoryCallTypePipe=u,this.callItemNamePipe=f,this.referLocalPipe=d,this.timePipe=h,this.ngUnsubscribe=new A.xQ,this.pageSize=25,this.canLoadNextPage=!0,this.filterType=br.J.ALL,this.timeStamp=0,this.searchString="",this.searchItem$=this.searchService.searchItem$,this.hasEnteredAtLeastThreeCharacters=!1,this.isLoading=!0,this.callHistoryItems=[],this.historyConfigKey=me.HISTORY}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadCallHistoryItems(),this.listenForItemDeletionInModalView(),this.listenForDeleteAllButtonClick(),this.listenForDeleteButtonClick(),this.listenForFilterTypeChanges(),this.listenForCallRecordEventStream(),this.listenForSearchChanges()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"openCallHistoryInfoModal",value:function(e){this.dialog.open(zt,{autoFocus:!1,data:e})}},{key:"updateSelectedEditItemsCount",value:function(e){this.callItemService.updateSelectedEditItemsCount(e)}},{key:"loadNextPage",value:function(){this.canLoadNextPage&&this.loadCallHistoryItems()}},{key:"stopInfoButtonClickPropagation",value:function(e){e.stopPropagation()}},{key:"loadCallHistoryItems",value:function(){var e=this;this.getCallHistoryItems().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.appendCallHistoryItems(t)})}},{key:"resetCallHistoryList",value:function(){this.isLoading=!0,this.timeStamp=0,this.callHistoryItems=[],this.canLoadNextPage=!0}},{key:"listenForCallRecordEventStream",value:function(){var e=this;this.callRecordEventStreamService.eventStreamMessage$.pipe((0,Xt.h)(function(e){return e.hasOwnProperty("uuid")}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.callHistoryItems=[e.mapToSelectableCallItem(t)].concat(_toConsumableArray2(e.callHistoryItems)),e.headerButtonService.setIsDataAvailableState(!!e.callHistoryItems.length)})}},{key:"appendCallHistoryItems",value:function(e){var t;(null==e?void 0:e.length)<this.pageSize&&(this.canLoadNextPage=!1),(t=this.callHistoryItems).push.apply(t,_toConsumableArray2(e)),this.setTimeStampOfLastCallHistoryItem(),this.isLoading=!1}},{key:"setTimeStampOfLastCallHistoryItem",value:function(){var e=this.callHistoryItems.length;e&&(this.timeStamp=this.callHistoryItems[e-1].callItem.timestamp)}},{key:"getSelectedCallItemTimeStamps",value:function(){return this.callHistoryItems.filter(function(e){return e.isSelected}).map(function(e){return e.callItem.timestamp})}},{key:"deleteSelectedCallHistoryItems",value:function(){var e=this.getSelectedCallItemTimeStamps();return this.callRecordService.deleteSelectedCallHistoryItems(e)}},{key:"getDirectionIcon",value:function(e,t){var n={name:"call_incoming"};return e===Ul.k.OUT?n={name:"call_outgoing"}:t===mr.CANCEL&&(n={name:"call_missed",color:"missed-color"}),n}},{key:"getCallHistoryItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.searchString,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.filterType;return this.router.url.includes(vr.h.CallHistory)?this.callRecordService.getCallHistoryItems(t,n,this.timeStamp).pipe((0,nn.g)(200),(0,Et.U)(function(t){return t.map(function(t){return e.mapToSelectableCallItem(t)})}),(0,tn.b)(function(t){e.headerButtonService.setIsDataAvailableState(!!t.length)})):(0,vn.of)([])}},{key:"listenForSearchChanges",value:function(){var e=this;this.searchItem$.pipe((0,Fl.T)(1),function(e,t){return(0,en.x)(function(t,n){return t[e]===n[e]})}("searchString"),(0,ui.b)(300),(0,Et.U)(function(e){return e.searchString}),(0,Xt.h)(function(t){return t!==e.searchString}),(0,tn.b)(function(t){e.resetCallHistoryList(),e.searchString=t,e.hasEnteredAtLeastThreeCharacters=t.length>=3,e.isNumberValid=(0,et.e$)(t)}),(0,rn.w)(function(t){return e.getCallHistoryItems(t)}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.appendCallHistoryItems(t)})}},{key:"listenForItemDeletionInModalView",value:function(){var e=this;this.callRecordService.callHistoryItemDeletedInModalView$.pipe((0,tn.b)(function(){e.resetViewAfterItemDeletion()}),(0,rn.w)(function(){return e.getCallHistoryItems()}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.appendCallHistoryItems(t)})}},{key:"listenForDeleteButtonClick",value:function(){var e=this;this.headerButtonService.deleteButtonClicked$.pipe((0,rn.w)(function(){return e.deleteSelectedCallHistoryItems()}),(0,tn.b)(function(){e.resetViewAfterItemDeletion()}),(0,rn.w)(function(){return e.getCallHistoryItems()}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.snackBarService.openInfo("Items deleted",!0),e.appendCallHistoryItems(t)})}},{key:"listenForDeleteAllButtonClick",value:function(){var e=this;this.headerButtonService.deleteAllButtonClicked$.pipe((0,tn.b)(function(){e.resetViewAfterItemDeletion()}),(0,rn.w)(function(){return e.callRecordService.deleteWholeCallHistory()}),(0,tn.b)(function(t){t&&e.snackBarService.openInfo("Deleted all items",!0)}),(0,rn.w)(function(){return e.getCallHistoryItems()}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.appendCallHistoryItems(t)})}},{key:"resetViewAfterItemDeletion",value:function(){this.resetCallHistoryList(),this.headerButtonService.deactivateEditMode(),this.snackBarService.openInfo("items_get_deleted")}},{key:"listenForFilterTypeChanges",value:function(){var e=this;this.headerButtonService.filterType$.pipe((0,tn.b)(function(t){e.filterType=t,e.resetCallHistoryList()}),(0,rn.w)(function(t){return e.getCallHistoryItems(e.searchString,t)}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.appendCallHistoryItems(t)})}},{key:"mapToSelectableCallItem",value:function(e){var t={callItem:this.mapToCallItem(e),isSelected:!1};if(this.canShowRedirectedBySection(e)){var n=this.getReferItem(e);return Object.assign(Object.assign({},t),{referItem:n})}return Object.assign(Object.assign({},t),{isMeeting:this.callHistoryCallTypePipe.transform(e)===Ut.MEETING})}},{key:"canShowRedirectedBySection",value:function(e){return"IN"===e.direction&&!!(e.refer||e.local&&e.local_discriminator)}},{key:"getReferItem",value:function(e){return{name:this.referLocalPipe.transform(e,"name")||this.referLocalPipe.transform(e,"number")||"",number:e.refer||e.remote||"",local_discriminator:e.local_discriminator}}},{key:"mapToCallItem",value:function(e){var t={id:e.uuid||"",name:e.remote_display_name||e.remote||"",number:e.remote||"",itemSubTitle:this.getCallItemSubTitle(e),timestamp:e.timestamp||0,direction:this.getDirectionIcon(e.direction,e.status),local_discriminator:e.local_discriminator,local:e.local||"",local_display_name:e.local_display_name||"",refer_display_name:e.refer_display_name||"",refer:e.refer||"",remote:e.remote||"",remote_display_name:e.remote_display_name||""};return Object.assign(Object.assign({},t),{name:this.getCallItemNameAndNumber(t)})}},{key:"getCallItemNameAndNumber",value:function(e){return this.callItemNamePipe.transform(e,"callHistory")}},{key:"getCallItemSubTitle",value:function(e){return"".concat(this.callDatePipe.transform(1e3*e.timestamp)," ").concat(this.getCallDuration(e.duration))}},{key:"getCallDuration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.timePipe.transform(e);return e?"\u2022 ".concat(t):""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Te),l.Y36(Bt.g),l.Y36(_n),l.Y36(O.uw),l.Y36(we.d),l.Y36(i.F0),l.Y36(Ce.o),l.Y36(E.c),l.Y36(x.X),l.Y36(qt),l.Y36(ql),l.Y36(Bl),l.Y36(Hl._))},e.\u0275cmp=l.Xpm({type:e,selectors:[["call-history"]],decls:8,vars:4,consts:[["e2e","search-result-fragment__history","infinite-scroll","",1,"call-history__items",3,"infiniteScrollThrottle","scrollWindow","scrolled"],["class","call-history__spinner",4,"ngIf","ngIfElse"],["callHistoryList",""],["noData",""],["noValidPhoneNumber",""],[1,"call-history__spinner"],[4,"ngIf","ngIfElse"],["class","call-history__call-item__container",3,"itemHoverbox","click",4,"ngFor","ngForOf"],[1,"call-history__call-item__container",3,"itemHoverbox","click"],[1,"call-history__call-item-details"],["class","call-history__call-item",3,"selectableCallItem",4,"ngIf","ngIfElse"],["showNonMeeting",""],["class","call-history__refer-item",3,"callHistoryItem",4,"ngIf"],[1,"call-history__action-button",3,"click"],["iconName","info","data-e2e","main-history-call-page__list-element-info--button",1,"call-history__info-button",3,"appButtonClick"],[1,"call-history__call-item",3,"selectableCallItem"],["e2e","main-history-call-page__list-element",1,"call-history__call-item",3,"selectableCallItem","callItemConfigKey"],[1,"call-history__refer-item",3,"callHistoryItem"],[3,"search",4,"ngIf","ngIfElse"],[3,"search"],[1,"text-center"],["showNoEntriesText",""]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0),l.NdJ("scrolled",function(){return t.loadNextPage()}),l.YNc(1,Jl,1,0,"app-spinner",1),l.YNc(2,Kl,1,2,"ng-template",null,2,l.W1O),l.YNc(4,eu,1,2,"ng-template",null,3,l.W1O),l.YNc(6,iu,4,2,"ng-template",null,4,l.W1O),l.qZA()),2&e){var n=l.MAs(3);l.Q6J("infiniteScrollThrottle",50)("scrollWindow",!1),l.xp6(1),l.Q6J("ngIf",t.isLoading)("ngIfElse",n)}},directives:[a.R,K.O5,Ta.S,K.sg,te.h,Pt.V,Yl,Nc,Vl,Co],pipes:[_.X$],styles:[".call-history__items[_ngcontent-%COMP%]{height:100%;overflow:auto;width:100%}.call-history__spinner[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.call-history__call-item__container[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;flex-direction:row}.call-history__call-item__container[_ngcontent-%COMP%]:hover   .call-history__info-button[_ngcontent-%COMP%]{display:block}.call-history__call-item[_ngcontent-%COMP%]{flex:1 0 57%}.call-history__refer-item[_ngcontent-%COMP%]{flex:1 0 43%;font-size:1.8rem}.call-history__call-item-details[_ngcontent-%COMP%]{display:flex;width:90%}.call-history__action-button[_ngcontent-%COMP%]{align-items:center;border-bottom:.1rem solid #e5e5e5;display:flex;flex-basis:10%;height:7.5rem}.call-history__info-button[_ngcontent-%COMP%]{display:none}"]}),e}(),au=n(68939);function ou(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"forward_details.email.error.required")," "))}function su(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"forward_details.email.error.invalid")," "))}function cu(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"forward_details.subject.error.required")," "))}function lu(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"forward_details.subject.error.minlength")," "))}function uu(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"forward_details.message.error.required")," "))}function fu(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"forward_details.message.error.minlength")," "))}var du=function(){var e=function(){function e(t,n,i,r,a){_classCallCheck2(this,e),this.voicemailService=t,this.dialogRef=n,this.translateService=i,this.snackbarService=r,this.data=a,this.ngUnsubscribe=new A.xQ,this.onClose=new l.vpe,this.isSending=!1,this.emailPattern=ni.k.EMAIL_PATTERN,this.details={email:"",subject:this.translateService.instant("forward_details.subject.text_{from}",{from:this.data.forwardEmailParams.from}),message:this.translateService.instant("forward_details.message.text_{from}{date}{caller}",{from:this.data.forwardEmailParams.from,date:this.data.forwardEmailParams.date,caller:this.data.forwardEmailParams.caller})}}return _createClass2(e,[{key:"handle",value:function(e){e.stopPropagation(),this.closeModal()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"forward",value:function(){var e=this;this.isSending=!0,this.voicemailService.forward(this.data.id,this.details).pipe((0,au.x)(function(){return e.isSending=!1}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(){e.snackbarService.openInfo("forward_details.submit.success"),e.closeModal()},function(){e.snackbarService.openErrorInfo("forward_details.submit.failure")})}},{key:"closeModal",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Cr),l.Y36(O.so),l.Y36(_.sK),l.Y36(E.c),l.Y36(O.WI))},e.\u0275cmp=l.Xpm({type:e,selectors:[["forward-details-modal"]],hostBindings:function(e,t){1&e&&l.NdJ("keydown.escape",function(e){return t.handle(e)},!1,l.evT)},inputs:{id:"id"},outputs:{onClose:"onClose"},decls:27,vars:26,consts:[["id","forward-modal","data-e2e","voicemail-forward-modal-fragment",1,"forward-details",3,"title","click"],[3,"ngSubmit"],["forwardForm","ngForm"],["loading-area-indicator","",3,"loadingAreaIndicatorActive"],["matInput","","name","email","required","","title","email","type","email","data-e2e","voicemail-forward-modal-fragment__e-mail--input",3,"ngModel","focus","pattern","placeholder","ngModelChange"],["email","ngModel"],[4,"ngIf"],["matInput","","minlength","4","name","subject","required","","title","subject","type","text","data-e2e","voicemail-forward-modal-fragment__subject--input",3,"ngModel","placeholder","ngModelChange"],["subject","ngModel"],["matInput","","minlength","4","name","message","required","","rows","3","title","message","type","text","data-e2e","voicemail-forward-modal-fragment__message--textarea",3,"ngModel","placeholder","ngModelChange"],["message","ngModel"],["e2e","voicemail-forward-modal-fragment",3,"btnSaveCaption","saveDisabled","cancelClick"]],template:function(e,t){if(1&e&&(l.TgZ(0,"modal-container",0),l.NdJ("click",function(e){return e.stopPropagation()}),l.ALo(1,"translate"),l.TgZ(2,"form",1,2),l.NdJ("ngSubmit",function(){return t.forward()}),l.TgZ(4,"section",3),l.TgZ(5,"mat-form-field"),l.TgZ(6,"label"),l.TgZ(7,"input",4,5),l.NdJ("ngModelChange",function(e){return t.details.email=e}),l.ALo(9,"translate"),l.qZA(),l.qZA(),l.YNc(10,ou,3,3,"mat-error",6),l.YNc(11,su,3,3,"mat-error",6),l.qZA(),l.TgZ(12,"mat-form-field"),l.TgZ(13,"label"),l.TgZ(14,"input",7,8),l.NdJ("ngModelChange",function(e){return t.details.subject=e}),l.ALo(16,"translate"),l.qZA(),l.qZA(),l.YNc(17,cu,3,3,"mat-error",6),l.YNc(18,lu,3,3,"mat-error",6),l.qZA(),l.TgZ(19,"mat-form-field"),l.TgZ(20,"label"),l.TgZ(21,"textarea",9,10),l.NdJ("ngModelChange",function(e){return t.details.message=e}),l.ALo(23,"translate"),l.qZA(),l.qZA(),l.YNc(24,uu,3,3,"mat-error",6),l.YNc(25,fu,3,3,"mat-error",6),l.qZA(),l.qZA(),l.TgZ(26,"footer-actions",11),l.NdJ("cancelClick",function(){return t.closeModal()}),l.qZA(),l.qZA(),l.qZA()),2&e){var n=l.MAs(3),i=l.MAs(8),r=l.MAs(15),a=l.MAs(22);l.Q6J("title",l.lcZ(1,18,"forward_details.title")),l.xp6(4),l.Q6J("loadingAreaIndicatorActive",t.isSending),l.xp6(3),l.Q6J("ngModel",t.details.email)("focus",!0)("pattern",t.emailPattern)("placeholder",l.lcZ(9,20,"forward_details.email.label")),l.xp6(3),l.Q6J("ngIf",null==i.errors?null:i.errors.required),l.xp6(1),l.Q6J("ngIf",null==i.errors?null:i.errors.pattern),l.xp6(3),l.Q6J("ngModel",t.details.subject)("placeholder",l.lcZ(16,22,"forward_details.subject.label")),l.xp6(3),l.Q6J("ngIf",null==r.errors?null:r.errors.required),l.xp6(1),l.Q6J("ngIf",null==r.errors?null:r.errors.minLength),l.xp6(3),l.Q6J("ngModel",t.details.message)("placeholder",l.lcZ(23,24,"forward_details.message.label")),l.xp6(3),l.Q6J("ngIf",null==a.errors?null:a.errors.required),l.xp6(1),l.Q6J("ngIf",null==a.errors?null:a.errors.minLength),l.xp6(1),l.Q6J("btnSaveCaption","forward_details.forward")("saveDisabled",!n.form.valid)}},directives:[Gn.O,ut._Y,ut.JL,ut.F,X.O,dt.KE,ht.Nt,ut.Fj,ut.Q7,ut.JJ,ut.On,pt.R,ut.c5,K.O5,ut.wO,gt.c,dt.TO],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]    {align-items:center;background-color:#0000004d;display:flex;flex:1;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .forward-details{min-width:30rem}[_nghost-%COMP%]     .forward-details section{padding:.8rem 2.4rem}[_nghost-%COMP%]     .forward-details section>*{width:100%}"]}),e}(),hu=["audio"],pu=["progressContainer"],gu=["downloadLink"];function mu(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",8),l.TgZ(1,"user-modal-header",9),l.NdJ("onDeleteClick",function(){return l.CHM(n),l.oxw().deleteHistoryItem()}),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("isHiddenBtnDelete",!1)("item",i.modalHeaderInfo)}}function vu(e,t){1&e&&(l.TgZ(0,"span",18),l._UZ(1,"app-svg-icon",19),l.qZA())}function bu(e,t){if(1&e&&(l.TgZ(0,"span",20),l._uU(1),l.ALo(2,"time"),l.qZA()),2&e){var n=l.oxw(2);l.xp6(1),l.Oqu(l.lcZ(2,1,n.item.duration))}}function yu(e,t){if(1&e&&(l.TgZ(0,"ul",10),l.TgZ(1,"li",11),l.TgZ(2,"span",12),l._UZ(3,"app-svg-icon",13),l.qZA(),l.TgZ(4,"span",14),l.TgZ(5,"span",15),l._uU(6),l.ALo(7,"date"),l.ALo(8,"date"),l.qZA(),l.YNc(9,vu,2,0,"span",16),l.YNc(10,bu,3,3,"span",17),l.qZA(),l.qZA(),l.qZA()),2&e){var n=l.oxw();l.xp6(6),l.AsE(" ",l.xi3(7,4,1e3*n.item.created,"dd.MM.yyyy")," \xa0\xa0\xa0\xa0",l.xi3(8,7,1e3*n.item.created,"H:mm")," "),l.xp6(3),l.Q6J("ngIf",n.item.duration),l.xp6(1),l.Q6J("ngIf",n.item.duration)}}function _u(e,t){if(1&e&&(l.TgZ(0,"div",34),l.TgZ(1,"span",35),l._uU(2),l.ALo(3,"time"),l.qZA(),l.TgZ(4,"span",36),l._uU(5),l.ALo(6,"time"),l.qZA(),l.qZA()),2&e){var n=l.oxw(2);l.xp6(2),l.Oqu(l.lcZ(3,2,n.currentTime)),l.xp6(3),l.Oqu(l.lcZ(6,4,n.item.duration))}}function Cu(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"ul",10),l.TgZ(1,"li",11),l.TgZ(2,"div",21),l.TgZ(3,"div",22,23),l.NdJ("click",function(e){return l.CHM(n),l.oxw().updateProgress(e)}),l._UZ(5,"div",24),l.qZA(),l.YNc(6,_u,7,6,"div",25),l.TgZ(7,"div",26),l.TgZ(8,"div",27),l.TgZ(9,"app-button",28),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().play()}),l.qZA(),l.qZA(),l.TgZ(10,"div",29),l._UZ(11,"a",30,31),l.TgZ(13,"app-button",32),l.NdJ("appButtonClick",function(){return l.CHM(n),l.MAs(12).click()}),l.qZA(),l.TgZ(14,"app-button",33),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().send()}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=l.oxw(),r=l.MAs(8);l.xp6(5),l.Udp("width",i.progress+"%"),l.xp6(1),l.Q6J("ngIf",null==i.item?null:i.item.duration),l.xp6(3),l.Q6J("iconName",r.paused?"play":"pause"),l.xp6(2),l.Q6J("download",(null==i.item?null:i.item.remote_display_name)||(null==i.item?null:i.item.uuid))}}function ku(e,t){if(1&e&&l._UZ(0,"callable-modal-row",37),2&e){var n=l.oxw();l.Q6J("item",n.modalHeaderInfo)}}var Su=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,a,o,s,c,l,u){var f;return _classCallCheck2(this,n),(f=t.call(this,a,o,e,s)).dialogRef=e,f.data=i,f.voiceMailService=r,f.snackBarService=a,f.clickToDialService=o,f.callTrackerService=s,f.dialog=c,f.callDatePipe=l,f.userService=u,f.isLoadingVoicemail=!1,f.isLoadingVoicemailFile=!1,f.isLoadingUser=!1,f.progress=0,f.currentTime=0,f}return _createClass2(n,[{key:"ngAfterViewInit",value:function(){this.loadData()}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.audio.nativeElement.removeEventListener("timeupdate",this.timeupdateEventListener),this.audio.nativeElement.removeEventListener("ended",this.endedEventListener),URL.revokeObjectURL(this.audioObjectURL)}},{key:"loadData",value:function(){var e=this;this.voiceMailService.get(this.data.id).pipe((0,tn.b)(function(){return e.isLoadingVoicemail=!0}),(0,au.x)(function(){return e.isLoadingVoicemail=!1}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.item=t,e.mapModalHeaderInfo(),e.isLoadingVoicemailFile=!0,e.voiceMailService.getVoicemailFile(t.id).pipe((0,M.R)(e.ngUnsubscribe)).subscribe(function(t){e.audioBlob=t,e.audioObjectURL=URL.createObjectURL(t),e.audio.nativeElement.src=e.audioObjectURL,e.isLoadingVoicemailFile=!1,e.initAudioListeners()})},function(){e.onError("voicemail.not_retrieved"),e.closeModal(e.dialogRef)}),this.userService.userInfo$.pipe((0,tn.b)(function(){return e.isLoadingUser=!0}),(0,au.x)(function(){return e.isLoadingUser=!1}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.userInfo=t,e.isLoadingUser=!1})}},{key:"addDownloadUrl",value:function(){this.downloadLink&&(this.downloadLink.nativeElement.href=this.audioObjectURL)}},{key:"deleteHistoryItem",value:function(){this.snackBarService.open("voicemail.deleting"),this.voiceMailService.remove(this.item.id).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(this.handleSuccess.bind(this),this.handleError.bind(this))}},{key:"handleSuccess",value:function(){_get(_getPrototypeOf(n.prototype),"onSuccess",this).call(this,"voicemail.deleted",this.dialogRef),this.voiceMailService.deleteItem(this.item.id,"id")}},{key:"handleError",value:function(e){_get(_getPrototypeOf(n.prototype),"onError",this).call(this,"voicemail.error")}},{key:"initAudioListeners",value:function(){var e=this;this.endedEventListener=this.audio.nativeElement.addEventListener("ended",function(){e.progress=0,e.currentTime=0}),this.timeupdateEventListener=this.audio.nativeElement.addEventListener("timeupdate",function(){e.progress=e.audio.nativeElement.currentTime/e.item.duration*100,e.currentTime=Math.floor(e.audio.nativeElement.currentTime)})}},{key:"play",value:function(){var e=this,t=this.audio.nativeElement;t.paused?t.play():t.pause(),this.item.new&&this.voiceMailService.setVoicemailAsHeard(this.item.id).then(function(){e.item.new=!1,e.voiceMailService.sendVoiceMailId(e.item.id)})}},{key:"send",value:function(){var e={from:"".concat(this.userInfo.user.firstname&&this.userInfo.user.lastname?"".concat(this.userInfo.user.firstname," ").concat(this.userInfo.user.lastname):""," (").concat(this.userInfo.activePhoneExtension.extensionNumber,")"),date:this.callDatePipe.transform(1e3*this.item.created),caller:"".concat(this.data.caller_id_name," (").concat(this.data.caller_id_num,")")};this.dialog.open(du,{autoFocus:!1,data:Object.assign(Object.assign({},this.item),{forwardEmailParams:e})})}},{key:"updateProgress",value:function(e){this.audio.nativeElement.currentTime=this.item.duration*e.offsetX/this.progressContainer.nativeElement.offsetWidth}},{key:"getCurrentTime",value:function(){return Math.floor(this.audio.nativeElement.currentTime)}},{key:"getIsLoading",value:function(){return this.isLoadingVoicemail||this.isLoadingUser||this.isLoadingVoicemailFile}},{key:"mapModalHeaderInfo",value:function(){var e,t,n,i;this.modalHeaderInfo={extension:(null===(t=null===(e=this.item)||void 0===e?void 0:e.extensionNumber)||void 0===t?void 0:t.trim())||"",display_name:(null===(i=null===(n=this.item)||void 0===n?void 0:n.caller_id_name)||void 0===i?void 0:i.trim())||"",display_num:this.voiceMailService.generateContactNumber(this.item),trunk:"",discriminator:""}}},{key:"content",set:function(e){this.downloadLink=e,this.addDownloadUrl()}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(l.Y36(O.so),l.Y36(O.WI),l.Y36(Cr),l.Y36(E.c),l.Y36(L.q),l.Y36(N.k),l.Y36(O.uw),l.Y36(x.X),l.Y36(J.K))},e.\u0275cmp=l.Xpm({type:e,selectors:[["history-voicemail-info"]],viewQuery:function(e,t){var n;(1&e&&(l.Gf(hu,5),l.Gf(pu,5),l.Gf(gu,5)),2&e)&&(l.iGM(n=l.CRH())&&(t.audio=n.first),l.iGM(n=l.CRH())&&(t.progressContainer=n.first),l.iGM(n=l.CRH())&&(t.content=n.first))},features:[l.qOj],decls:9,vars:5,consts:[["data-e2e","voicemail-info-modal-fragment"],["class","simple-header","modal-header","",4,"ngIf"],["loading-area-indicator","","modal-content","",3,"loadingAreaIndicatorActive"],[1,"history-voicemail-info__content"],["class","details-list",4,"ngIf"],["e2e","voicemail-info-modal-fragment",3,"item",4,"ngIf"],["type","audio/mpeg"],["audio",""],["modal-header","",1,"simple-header"],["e2e","voicemail-info-modal-fragment",3,"isHiddenBtnDelete","item","onDeleteClick"],[1,"details-list"],[1,"item","info-item","call-info"],[1,"item-label"],["fill","main-bg-color","icon","voicemail","size","medium"],[1,"item-content"],["data-e2e","voicemail-info-modal-fragment__date",1,"item-primary-content"],["class","item-secondary-content",4,"ngIf"],["class","item-secondary-content","data-e2e","voicemail-info-modal-fragment__duration",4,"ngIf"],[1,"item-secondary-content"],["fill","main-bg-color","icon","timer","size","medium"],["data-e2e","voicemail-info-modal-fragment__duration",1,"item-secondary-content"],[1,"voicemail-control"],[1,"voicemail-progress-holder",3,"click"],["progressContainer",""],[1,"voicemail-progress"],["class","voicemail-time-info",4,"ngIf"],[1,"controls"],[1,"controls-holder"],["iconSize","medium","e2e","voicemail-info-modal-fragment__play-pause",3,"iconName","appButtonClick"],[1,"actions"],[3,"download"],["downloadLink",""],["iconName","download","iconSize","medium","e2e","voicemail-info-modal-fragment__download",3,"appButtonClick"],["iconName","arrow_right_long","iconSize","medium","e2e","voicemail-info-modal-fragment__forward",3,"appButtonClick"],[1,"voicemail-time-info"],[1,"current"],[1,"total"],["e2e","voicemail-info-modal-fragment",3,"item"]],template:function(e,t){1&e&&(l.TgZ(0,"modal-details-container",0),l.YNc(1,mu,2,2,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"section",3),l.YNc(4,yu,11,10,"ul",4),l.YNc(5,Cu,15,5,"ul",4),l.YNc(6,ku,1,1,"callable-modal-row",5),l._UZ(7,"audio",6,7),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",t.item),l.xp6(1),l.Q6J("loadingAreaIndicatorActive",t.getIsLoading()),l.xp6(2),l.Q6J("ngIf",t.item),l.xp6(1),l.Q6J("ngIf",t.audioObjectURL),l.xp6(1),l.Q6J("ngIf",t.item))},directives:[$,K.O5,X.O,ot.j,ne.u,Pt.V,lt],pipes:[K.uU,Hl._],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]     .voicemail-control{padding:1rem 0 0;width:100%}[_nghost-%COMP%]     .voicemail-control .voicemail-progress-holder{background:#999;border-radius:.5rem;cursor:pointer;height:.8rem;margin:0 0 .5rem;overflow:hidden;width:100%}[_nghost-%COMP%]     .voicemail-control .voicemail-progress-holder .voicemail-progress{border-radius:.5rem;height:100%}[_nghost-%COMP%]     .voicemail-control .controls{display:flex;width:100%}[_nghost-%COMP%]     .voicemail-control .controls .btn-play-pause{height:6rem;width:6rem}[_nghost-%COMP%]     .voicemail-control .controls .controls-holder{display:flex;flex:1;justify-content:center;padding-left:8rem}[_nghost-%COMP%]     .voicemail-control .controls .actions{align-items:center;display:flex;justify-content:right;position:relative;right:-1rem}[_nghost-%COMP%]     .voicemail-control .voicemail-time-info{color:#333;display:flex;font-size:1.6rem;line-height:2rem}[_nghost-%COMP%]     .voicemail-control .voicemail-time-info .current{flex:1}.new[_ngcontent-%COMP%]{padding-left:0}"]}),e}();function xu(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",5),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw(2).updateSelectedEditItemsCount(e)}),l.TgZ(1,"selectable-call-item",6),l.NdJ("infoButtonClick",function(){var e=l.CHM(n).$implicit;return l.oxw(2).openVoicemailInfoDialog(e.callItem)}),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw(2);l.Q6J("itemHoverbox",!0)("context-menu",null==i?null:i.callItem),l.xp6(1),l.Q6J("selectableCallItem",i)("callItemConfigKey",r.voicemailConfigKey)}}function Au(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",3),l.NdJ("endOfListReached",function(){return l.CHM(n),l.oxw().onScroll()}),l.YNc(1,xu,2,4,"div",4),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("ngForOf",i.voiceMailHistoryItems)}}function wu(e,t){1&e&&l._UZ(0,"app-spinner",7)}function Mu(e,t){1&e&&(l.ynx(0),l.TgZ(1,"p",9),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.BQk()),2&e&&(l.xp6(2),l.Oqu(l.lcZ(3,1,"history.history_is_empty")))}function Tu(e,t){if(1&e&&l.YNc(0,Mu,4,3,"ng-container",8),2&e){var n=l.oxw();l.Q6J("ngIf",!n.isLoading)}}var Pu=function(){var e=function(){function e(t,n,i,r,a,o,s,c,l){_classCallCheck2(this,e),this.historyNotificationCounterService=t,this.voicemailService=n,this.userService=i,this.dialog=r,this.headerButtonService=a,this.snackBarService=o,this.callItemService=s,this.callDatePipe=c,this.timePipe=l,this.pageSize=25,this.offset=0,this.page=0,this.loadNextPage=!0,this.ngUnsubscribe=new A.xQ,this.voiceMailHistoryItems=[],this.isLoading=!1,this.hasMoreData=!0,this.voicemailConfigKey=me.VOICEMAIL,this.loadVoiceMailItems()}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.voicemailService.deleteItem$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){e.clear(),e.setHistoryVoicemailItems()}),this.activateHeaderActionForVoicemail(),this.voicemailService.heardVoiceMail$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.setVoiceMailAsHeard(t)})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"openVoicemailInfoDialog",value:function(e){this.dialog.open(Su,{autoFocus:!1,data:e})}},{key:"onScroll",value:function(){this.loadNextPage&&this.setHistoryVoicemailItems()}},{key:"updateSelectedEditItemsCount",value:function(e){this.callItemService.updateSelectedEditItemsCount(e)}},{key:"setHistoryVoicemailItems",value:function(){var e=this;this.voicemailService.getList(null,this.offset,this.pageSize).pipe((0,Xe.K)(function(t){return e.isLoading=t}),(0,Et.U)(function(t){return t.map(function(t){return e.getMappedSelectableCallItem(t)})}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t.length<e.pageSize&&(e.loadNextPage=!1),e.bindVoiceMailHistoryItems(t),e.setVoiceMailNotificationCounter(),e.setIsDataAvailable(!!t.length)})}},{key:"getMappedSelectableCallItem",value:function(e){var t=this.voicemailService.generateContactNumber(e),n="";return(null==e?void 0:e.duration)&&(n=" \u2022 ".concat(this.timePipe.transform(null==e?void 0:e.duration))),{callItem:{id:e.id||"",name:e.caller_id_name||t,number:t,itemSubTitle:this.callDatePipe.transform(1e3*e.created)+n,timestamp:e.created||0,duration:e.duration||0,new:!!e.new,avatarIcon:{iconName:"voicemail"}},isSelected:!1}}},{key:"bindVoiceMailHistoryItems",value:function(e){var t;e&&(null==e?void 0:e.length)>0?((t=this.voiceMailHistoryItems).push.apply(t,_toConsumableArray2(e)),this.page++,this.offset=this.page*this.pageSize):this.hasMoreData=!1}},{key:"onHeaderButtonClicked",value:function(e){if(!e||e.actionComponent!==$t.I.VOICEMAIL)return(0,vn.of)();switch(e.actionName){case $t.O.DELETE:return e.actionName=$t.O.CLEAR,this.deleteFromCallHistoryItemList();case $t.O.DELETE_ALL:e.actionName=$t.O.CLEAR,this.deleteAll()}return(0,vn.of)()}},{key:"clear",value:function(){this.voiceMailHistoryItems=[],this.offset=0,this.page=0,this.loadNextPage=!0}},{key:"deleteFromCallHistoryItemList",value:function(){var e=[];return this.voiceMailHistoryItems.forEach(function(t){t.isSelected&&t.callItem.id&&e.push(t.callItem.id)}),e&&0!==e.length?(this.snackBarService.openInfo("voicemail.deleted"),this.voicemailService.batchDelete(e)):(0,vn.of)()}},{key:"deleteAll",value:function(){var e=this;this.voicemailService.deleteAll().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){e.historyNotificationCounterService.setAmountUnheardVoiceMails(0),e.setIsDataAvailable(!1),e.snackBarService.openInfo("voicemail.deleted"),e.clear()},function(){e.snackBarService.openErrorInfo("voicemail.error")})}},{key:"activateHeaderActionForVoicemail",value:function(){var e=this;this.headerButtonService.headerButtonClicked$.pipe((0,rn.w)(function(t){return e.onHeaderButtonClicked(t)}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(){var t;null===(t=e.voiceMailHistoryItems)||void 0===t||t.forEach(function(e,t,n){e.isSelected&&n.splice(t,1)}),e.setVoiceMailNotificationCounter(),e.setIsDataAvailable(!!e.voiceMailHistoryItems.length),e.headerButtonService.toggleEditMode(!1)})}},{key:"loadVoiceMailItems",value:function(){var e=this;this.userService.userInfo$.pipe((0,Xt.h)(function(e){return!!(null==e?void 0:e.activePhoneExtension)}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.voicemailService.setVoiceToken(t.voiceToken,t.activePhoneExtension.name,t.activePhoneExtension.extensionNumber),e.setHistoryVoicemailItems()})}},{key:"setVoiceMailAsHeard",value:function(e){var t=this.voiceMailHistoryItems.find(function(t){return e===t.callItem.id});t&&(t.callItem.new=!1)}},{key:"setVoiceMailNotificationCounter",value:function(){var e=this.voiceMailHistoryItems.filter(function(e){return e.callItem.new});this.historyNotificationCounterService.setAmountUnheardVoiceMails(e.length)}},{key:"setIsDataAvailable",value:function(e){this.headerButtonService.setIsDataAvailableState(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(kr),l.Y36(Cr),l.Y36(J.K),l.Y36(O.uw),l.Y36(we.d),l.Y36(E.c),l.Y36(Te),l.Y36(x.X),l.Y36(Hl._))},e.\u0275cmp=l.Xpm({type:e,selectors:[["history-voicemail"]],decls:4,vars:3,consts:[["class","history-voicemail__list","infiniteScroller","",3,"endOfListReached",4,"ngIf","ngIfElse"],["class","history-voicemail__spinner",4,"ngIf"],["noRecordTemplate",""],["infiniteScroller","",1,"history-voicemail__list",3,"endOfListReached"],[3,"itemHoverbox","context-menu","click",4,"ngFor","ngForOf"],[3,"itemHoverbox","context-menu","click"],["e2e","main-history-voicemail-page__list-element",3,"selectableCallItem","callItemConfigKey","infoButtonClick"],[1,"history-voicemail__spinner"],[4,"ngIf"],[1,"text-center"]],template:function(e,t){if(1&e&&(l.YNc(0,Au,2,1,"div",0),l.YNc(1,wu,1,0,"app-spinner",1),l.YNc(2,Tu,1,1,"ng-template",null,2,l.W1O)),2&e){var n=l.MAs(3);l.Q6J("ngIf",t.voiceMailHistoryItems.length)("ngIfElse",n),l.xp6(1),l.Q6J("ngIf",t.isLoading)}},directives:[K.O5,Ac.A,K.sg,te.h,Pe.l,Nc,Ta.S],pipes:[_.X$],styles:[".history-voicemail__list[_ngcontent-%COMP%]{height:100%;overflow:auto}.history-voicemail__spinner[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}"]}),e}();function Iu(e,t){if(1&e&&l._UZ(0,"history-notification-counter",5),2&e){var n=l.oxw();l.Q6J("notificationType",n.HistoryNotificationType.CALLHISTORY)}}function Ou(e,t){1&e&&l._UZ(0,"call-history",6)}function ju(e,t){if(1&e&&l._UZ(0,"history-notification-counter",7),2&e){var n=l.oxw();l.Q6J("notificationType",n.HistoryNotificationType.VOICEMAIL)}}function Eu(e,t){1&e&&l._UZ(0,"history-voicemail",8)}var Lu=function(){return(e=Lu||(Lu={}))[e.CALL_HISTORY=0]="CALL_HISTORY",e[e.VOICEMAIL_HISTORY=1]="VOICEMAIL_HISTORY",Lu;var e}(),Nu=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.router=t,this.historyNotificationCounterService=n,this.ngUnsubscribe=new A.xQ,this.SelectedHistoryTabIndex=Lu,this.HistoryNotificationType=dr,this.selectedTabIndex=Lu.CALL_HISTORY}return _createClass2(e,[{key:"ngOnInit",value:function(){this.listenForRouteChanges(),this.historyNotificationCounterService.cacheTimeStampOfLastHistoryPageVisit()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"onTabChanged",value:function(e){var t=Object.values(Zl)[e.index];this.navigateToHistoryPage(t)}},{key:"navigateToHistoryPage",value:function(e){this.router.navigate(["/main/history/".concat(e)])}},{key:"listenForRouteChanges",value:function(){var e=this;this.router.events.pipe((0,Xt.h)(function(e){return e instanceof i.m2}),(0,Et.U)(function(){return e.router.url}),(0,Rn.O)(this.router.url),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t.includes(vr.h.CallHistory)?(e.selectedTabIndex=Lu.CALL_HISTORY,e.historyNotificationCounterService.resetAmountMissedCalls()):e.selectedTabIndex=Lu.VOICEMAIL_HISTORY})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(i.F0),l.Y36(kr))},e.\u0275cmp=l.Xpm({type:e,selectors:[["history-tab-group"]],decls:8,vars:3,consts:[["data-e2e","main-history-page",1,"history-tab-group"],[1,"mat-tab-group--fill-height",3,"selectedIndex","selectedTabChange"],["mat-tab-label",""],["data-e2e","main-history-call-page",4,"ngIf"],["data-e2e","main-history-voicemail-page",4,"ngIf"],["data-e2e","main-history-page__calls-tab","tabTitle","history.calls",1,"history-tab-group__notification-counter",3,"notificationType"],["data-e2e","main-history-call-page"],["data-e2e","main-history-page__voicemails-tab","tabTitle","history.voice_mails",1,"history-tab-group__notification-counter",3,"notificationType"],["data-e2e","main-history-voicemail-page"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"mat-tab-group",1),l.NdJ("selectedTabChange",function(e){return t.onTabChanged(e)}),l.TgZ(2,"mat-tab"),l.YNc(3,Iu,1,1,"ng-template",2),l.YNc(4,Ou,1,0,"call-history",3),l.qZA(),l.TgZ(5,"mat-tab"),l.YNc(6,ju,1,1,"ng-template",2),l.YNc(7,Eu,1,0,"history-voicemail",4),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("selectedIndex",t.selectedTabIndex),l.xp6(3),l.Q6J("ngIf",t.selectedTabIndex===t.SelectedHistoryTabIndex.CALL_HISTORY),l.xp6(3),l.Q6J("ngIf",t.selectedTabIndex===t.SelectedHistoryTabIndex.VOICEMAIL_HISTORY))},directives:[il.SP,il.uX,il.uD,K.O5,Ar,ru,Pu],styles:[".history-tab-group[_ngcontent-%COMP%]{width:100%}.history-tab-group__notification-counter[_ngcontent-%COMP%]{padding-left:1rem}"]}),e}(),Ru=n(45240),Du=n(5027),Zu=n(28714),Fu=n(93855),Uu=n(80037),qu=n(95105),Bu=n(45396);function Hu(e,t){1&e&&(l.TgZ(0,"mat-form-field",24),l._UZ(1,"input",25),l.qZA())}function Yu(e,t){1&e&&(l.TgZ(0,"mat-form-field",24),l._UZ(1,"input",26),l.qZA())}function Vu(e,t){if(1&e&&(l.TgZ(0,"mat-option",27),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.value),l.xp6(1),l.hij(" ",l.lcZ(2,2,n.translationKey)," ")}}var Ju=function(){var e=function(){function e(t,n,i){_classCallCheck2(this,e),this.dialogRef=t,this.meetingData=n,this.planMeetingService=i,this.ngUnsubscribe=new A.xQ,this.isEditingMeeting=!1,this.dialogTitle="meetings.plan_dialog.plan_title",this.minDate=this.planMeetingService.getCurrentDate(),this.isSendingMeetingRequest$=this.planMeetingService.isSendingMeetingRequest$,this.closePlanMeetingDialog$=this.planMeetingService.closePlanMeetingDialog$,this.isAllDayMeeting=!1,this.repeatFrequencyOptions=[{value:Uu.Z.DoesNotRepeat,translationKey:"meetings.plan_dialog.recurrence.does_not_repeat"},{value:Uu.Z.EveryWeekday,translationKey:"meetings.plan_dialog.recurrence.every_weekday"},{value:Uu.Z.EveryDay,translationKey:"meetings.plan_dialog.recurrence.daily"},{value:Uu.Z.EveryWeek,translationKey:"meetings.plan_dialog.recurrence.weekly"},{value:Uu.Z.EveryMonth,translationKey:"meetings.plan_dialog.recurrence.monthly"},{value:Uu.Z.EveryYear,translationKey:"meetings.plan_dialog.recurrence.yearly"}];var r=this.planMeetingService.getCurrentDate(),a=this.planMeetingService.getInitialTimeFromDate("startTime"),o=this.planMeetingService.getInitialTimeFromDate("endTime");this.meetingFormGroup=new ut.cw({meetingDescription:new ut.NI("",ut.kI.compose([ut.kI.required,ut.kI.minLength(1)])),startDate:new ut.NI(r,ut.kI.compose([ut.kI.required])),endDate:new ut.NI(r,ut.kI.compose([ut.kI.required])),startTime:new ut.NI(a),endTime:new ut.NI(o),repeatFrequency:new ut.NI(Uu.Z.DoesNotRepeat)})}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.meetingData&&(this.isEditingMeeting=!0,this.dialogTitle="meetings.plan_dialog.edit_title",this.initializeFormWithMeeting(this.meetingData)),this.subscribeToFormField(),this.closePlanMeetingDialog$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){t&&(e.dialogRef.close(),e.planMeetingService.toggleClosePlanMeetingDialog())})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"toggleAllDayTime",value:function(e){this.isAllDayMeeting=e;var t=this.planMeetingService.setAllDayMeetingTime(this.isAllDayMeeting);this.meetingFormGroup.patchValue(Object.assign({},t))}},{key:"submitMeeting",value:function(){var e,t;this.planMeetingService.submitMeeting(this.meetingFormGroup.value,this.isEditingMeeting,null!==(t=null===(e=this.meetingData)||void 0===e?void 0:e.uuid)&&void 0!==t?t:"")}},{key:"subscribeToFormField",value:function(){var e,t,n,i,r,a=this;null===(e=this.meetingFormGroup.get("startDate"))||void 0===e||e.valueChanges.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){a.repeatFrequencyNote=a.planMeetingService.setRepeatFrequencyNote(e,a.meetingFormGroup.value.repeatFrequency),a.sanitizeStartEndDateTime("start")}),null===(t=this.meetingFormGroup.get("startTime"))||void 0===t||t.valueChanges.pipe((0,ui.b)(300),(0,M.R)(this.ngUnsubscribe)).subscribe(function(){return a.sanitizeStartEndDateTime("start")}),null===(n=this.meetingFormGroup.get("endDate"))||void 0===n||n.valueChanges.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(){return a.sanitizeStartEndDateTime("end")}),null===(i=this.meetingFormGroup.get("endTime"))||void 0===i||i.valueChanges.pipe((0,ui.b)(300),(0,M.R)(this.ngUnsubscribe)).subscribe(function(){return a.sanitizeStartEndDateTime("end")}),null===(r=this.meetingFormGroup.get("repeatFrequency"))||void 0===r||r.valueChanges.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){a.repeatFrequencyNote=a.planMeetingService.setRepeatFrequencyNote(a.meetingFormGroup.value.startDate,e)})}},{key:"initializeFormWithMeeting",value:function(e){var t=this.planMeetingService.getPatchValueForInitializeFormWithMeetingDetails(e);"00:00"===t.startTime&&"23:59"===t.endTime&&(this.isAllDayMeeting=!0),this.repeatFrequencyNote=this.planMeetingService.setRepeatFrequencyNote(t.startDate,t.repeatFrequency),this.meetingFormGroup.patchValue(Object.assign({},t))}},{key:"sanitizeStartEndDateTime",value:function(e){var t,n=this.meetingFormGroup.controls.startDate.value,i=this.meetingFormGroup.controls.startTime.value,r=this.meetingFormGroup.controls.endDate.value,a=this.meetingFormGroup.controls.endTime.value;if(this.isAllDayMeeting){var o=this.planMeetingService.sanitizeStartEndDate(n,r,e);t={startDate:o.startDate,startTime:i,endDate:o.endDate,endTime:a}}else t=this.planMeetingService.sanitizeStartEndDateTime(n,i,r,a,e,this.isEditingMeeting);var s={};t.startDate!==n&&(s.startDate=t.startDate),t.startTime!==i&&(s.startTime=t.startTime),t.endDate!==r&&(s.endDate=t.endDate),t.endTime!==a&&(s.endTime=t.endTime),this.meetingFormGroup.patchValue(s)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(O.so),l.Y36(O.WI),l.Y36(qu.f))},e.\u0275cmp=l.Xpm({type:e,selectors:[["plan-meeting"]],decls:48,vars:36,consts:[["mat-dialog-title","",1,"plan-meeting__title"],[1,"plan-meeting__content","mat-typography"],["loading-area-indicator","","novalidate","",3,"formGroup","loadingAreaIndicatorActive"],[1,"plan-meeting__name"],["autocomplete","off","formControlName","meetingDescription","matInput","","type","text","data-e2e","meeting-plan-modal-fragment__description"],[1,"plan-meeting__schedule-options"],[1,"plan-meeting__schedule-date-option"],["formControlName","startDate","matInput","","name","startDate","type","date","data-e2e","meeting-plan-modal-fragment__start-date",3,"min"],["class","plan-meeting__schedule-time-option",4,"ngIf"],[1,"plan-meeting__schedule-arrow-right-option"],["alt","","src","/assets/arrow-right.svg",1,"plan-meeting__arrow-right-icon"],["formControlName","endDate","matInput","","name","endDate","type","date","data-e2e","meeting-plan-modal-fragment__end-date",3,"min"],[1,"plan-meeting__all-day-label"],["color","primary","data-e2e","plan-meeting__all-day--toggle",1,"plan-meeting__all-day-toggle",3,"checked","change"],["allDayToggle",""],[1,"plan-meeting__repeat-frequency"],["formControlName","repeatFrequency","data-e2e","meeting-plan-modal-fragment__repeat-frequency"],[3,"value",4,"ngFor","ngForOf"],[1,"plan-meeting__schedule-repeat-frequency-note"],[1,"plan-meeting__note"],[1,"plan-meeting__note--bold"],["align","end"],["color","primary","mat-dialog-close","","buttonTextTranslationKey","meetings.plan_dialog.cancel","type","basic-button","data-e2e","meeting-plan-modal-fragment__cancel--button",1,"plan-meeting__close-button",3,"mat-dialog-close"],["color","primary","buttonTextTranslationKey","meetings.plan_dialog.save","type","raised-button-submit","data-e2e","meeting-plan-modal-fragment__save--button",3,"disabled","appButtonClick"],[1,"plan-meeting__schedule-time-option"],["formControlName","startTime","matInput","","name","time","step","900","type","time","data-e2e","meeting-plan-modal-fragment__start-time"],["formControlName","endTime","matInput","","name","time","step","900","type","time","data-e2e","meeting-plan-modal-fragment__end-time"],[3,"value"]],template:function(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"h2",0),l._uU(1),l.ALo(2,"translate"),l.qZA(),l.TgZ(3,"mat-dialog-content",1),l.TgZ(4,"form",2),l.ALo(5,"async"),l.TgZ(6,"mat-form-field",3),l.TgZ(7,"mat-label"),l._uU(8),l.ALo(9,"translate"),l.qZA(),l._UZ(10,"input",4),l.qZA(),l.TgZ(11,"div",5),l.TgZ(12,"mat-form-field",6),l.TgZ(13,"mat-label"),l._uU(14),l.ALo(15,"translate"),l.qZA(),l._UZ(16,"input",7),l.qZA(),l.YNc(17,Hu,2,0,"mat-form-field",8),l.TgZ(18,"div",9),l._UZ(19,"img",10),l.qZA(),l.TgZ(20,"mat-form-field",6),l.TgZ(21,"mat-label"),l._uU(22),l.ALo(23,"translate"),l.qZA(),l._UZ(24,"input",11),l.qZA(),l.YNc(25,Yu,2,0,"mat-form-field",8),l.qZA(),l.TgZ(26,"div",5),l.TgZ(27,"mat-label",12),l._uU(28),l.ALo(29,"translate"),l.qZA(),l.TgZ(30,"mat-slide-toggle",13,14),l.NdJ("change",function(){l.CHM(n);var e=l.MAs(31);return t.toggleAllDayTime(e.checked)}),l.qZA(),l.qZA(),l.TgZ(32,"div",5),l.TgZ(33,"mat-form-field",15),l.TgZ(34,"mat-select",16),l.YNc(35,Vu,3,4,"mat-option",17),l.qZA(),l.qZA(),l.qZA(),l.TgZ(36,"div",18),l._uU(37),l.qZA(),l.TgZ(38,"div",19),l.TgZ(39,"span",20),l._uU(40),l.ALo(41,"translate"),l.qZA(),l._UZ(42,"br"),l._uU(43),l.ALo(44,"translate"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(45,"mat-dialog-actions",21),l._UZ(46,"app-button",22),l.TgZ(47,"app-button",23),l.NdJ("appButtonClick",function(){return t.submitMeeting()}),l.qZA(),l.qZA()}2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,20,t.dialogTitle),"\n"),l.xp6(3),l.Q6J("formGroup",t.meetingFormGroup)("loadingAreaIndicatorActive",l.lcZ(5,22,t.isSendingMeetingRequest$)),l.xp6(4),l.hij(" ",l.lcZ(9,24,"meetings.plan_dialog.input.name")," "),l.xp6(6),l.hij(" ",l.lcZ(15,26,"meetings.plan_dialog.input.start_date")," "),l.xp6(2),l.Q6J("min",t.minDate),l.xp6(1),l.Q6J("ngIf",!t.isAllDayMeeting),l.xp6(3),l.ekj("plan-meeting__schedule-date-option-margin-auto",t.isAllDayMeeting),l.xp6(2),l.hij(" ",l.lcZ(23,28,"meetings.plan_dialog.input.end_date")," "),l.xp6(2),l.Q6J("min",t.minDate),l.xp6(1),l.Q6J("ngIf",!t.isAllDayMeeting),l.xp6(3),l.hij(" ",l.lcZ(29,30,"meetings.plan_dialog.input.all_day")," "),l.xp6(2),l.Q6J("checked",t.isAllDayMeeting),l.xp6(5),l.Q6J("ngForOf",t.repeatFrequencyOptions),l.xp6(2),l.hij(" ",t.repeatFrequencyNote," "),l.xp6(3),l.hij(" ",l.lcZ(41,32,"meetings.plan_dialog.note_header")," "),l.xp6(3),l.hij(" ",l.lcZ(44,34,"meetings.plan_dialog.note_text")," "),l.xp6(3),l.Q6J("mat-dialog-close",!1),l.xp6(1),l.Q6J("disabled",!t.meetingFormGroup.valid))},directives:[O.uh,O.xY,ut._Y,ut.JL,X.O,ut.sg,dt.KE,dt.hX,ut.Fj,ht.Nt,ut.JJ,ut.u,K.O5,Bu.Rr,Fi.gD,K.sg,O.H8,Pt.V,O.ZT,Ui.ey],pipes:[_.X$,K.Ov],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{max-height:95vh;max-width:90vw;width:56rem}.plan-meeting__content[_ngcontent-%COMP%]{margin:1.6rem 0 2.2rem;padding:0}.plan-meeting__title[_ngcontent-%COMP%]{background-color:#e5e5e5;font-size:2.2rem;font-weight:bold;height:4rem;margin:-2.4rem;padding:1.85rem 2.4rem}.plan-meeting__name[_ngcontent-%COMP%]{width:100%}.plan-meeting__recurring-checkbox[_ngcontent-%COMP%]{margin-bottom:.8rem}.plan-meeting__schedule-options[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:1.2rem}.plan-meeting__schedule-date-option[_ngcontent-%COMP%]{width:14.6rem}.plan-meeting__schedule-date-option-margin-auto[_ngcontent-%COMP%]{margin-right:auto}.plan-meeting__schedule-arrow-right-option[_ngcontent-%COMP%]{margin-right:0;padding:0 1.3rem;width:2.4rem}.plan-meeting__arrow-right-icon[_ngcontent-%COMP%]{padding-top:2rem}.plan-meeting__schedule-time-option[_ngcontent-%COMP%]{padding-left:1.6rem;width:11.2rem}.plan-meeting__all-day-label[_ngcontent-%COMP%]{margin-right:1rem}.plan-meeting__all-day-toggle[_ngcontent-%COMP%]{margin-right:auto}.plan-meeting__schedule-option[_ngcontent-%COMP%]{width:30%}.plan-meeting__repeat-frequency[_ngcontent-%COMP%]{width:22.6rem}.plan-meeting__schedule-repeat-frequency-note[_ngcontent-%COMP%]{min-height:1.9rem}.plan-meeting__note[_ngcontent-%COMP%]{padding-top:5.2rem;width:44.4rem}.plan-meeting__note--bold[_ngcontent-%COMP%]{font-weight:bold}.plan-meeting__close-button[_ngcontent-%COMP%]{margin-right:.8rem}"]}),e}(),Qu=["planMeetingsButton"];function zu(e,t){1&e&&(l.TgZ(0,"div",17),l._UZ(1,"app-spinner"),l.qZA())}function Gu(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button",18,19),l.NdJ("appButtonClick",function(){return l.CHM(n),l.oxw().openMeetingDialog()}),l.TgZ(2,"div",7),l._UZ(3,"app-svg-icon",20),l._uU(4),l.ALo(5,"letterCase"),l.ALo(6,"translate"),l.qZA(),l.qZA()}2&e&&(l.xp6(4),l.hij(" ",l.xi3(5,1,l.lcZ(6,4,"meetings.buttons.plan_meeting"),"meetings.buttons.plan_meeting")," "))}function Wu(e,t){1&e&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"uppercase"),l.ALo(3,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,l.lcZ(3,3,"meetings.tabs.scheduled_meetings"))))}function $u(e,t){1&e&&(l.ynx(0),l._UZ(1,"app-spinner"),l.BQk())}function Ku(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"meeting-item",32),l.NdJ("editButtonClicked",function(e){return l.CHM(n),l.oxw(5).openMeetingDialog(e)}),l.ALo(1,"async"),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw(5);l.Q6J("isEditMode",l.lcZ(1,2,r.isEditMode$))("meeting",i)}}function Xu(e,t){if(1&e&&(l.ynx(0),l.YNc(1,Ku,2,4,"meeting-item",31),l.ALo(2,"meetings"),l.BQk()),2&e){var n=l.oxw(4);l.xp6(1),l.Q6J("ngForOf",l.Dn7(2,1,n.meetings,!0,n.searchString))}}function ef(e,t){1&e&&(l.TgZ(0,"div",33),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"meetings.tabs.no_scheduled_meetings")," "))}function tf(e,t){if(1&e&&(l.YNc(0,Xu,3,5,"ng-container",27),l.YNc(1,ef,3,3,"ng-template",null,30,l.W1O)),2&e){var n=l.MAs(2),i=l.oxw(3);l.Q6J("ngIf",i.hasScheduledMeetings)("ngIfElse",n)}}function nf(e,t){1&e&&(l.TgZ(0,"span",34),l._uU(1),l.ALo(2,"uppercase"),l.ALo(3,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,l.lcZ(3,3,"meetings.tabs.recurring_meetings"))))}function rf(e,t){1&e&&(l.ynx(0),l._UZ(1,"app-spinner"),l.BQk())}function af(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"meeting-item",37),l.NdJ("editButtonClicked",function(e){return l.CHM(n),l.oxw(5).openMeetingDialog(e)}),l.ALo(1,"async"),l.qZA()}if(2&e){var i=t.$implicit,r=l.oxw(5);l.Q6J("isEditMode",l.lcZ(1,3,r.isEditMode$))("meeting",i)("isRecurringMeeting",!0)}}function of(e,t){if(1&e&&(l.ynx(0),l.YNc(1,af,2,5,"meeting-item",36),l.ALo(2,"meetings"),l.BQk()),2&e){var n=l.oxw(4);l.xp6(1),l.Q6J("ngForOf",l.Dn7(2,1,n.meetings,!1,n.searchString))}}function sf(e,t){1&e&&(l.TgZ(0,"div",33),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"meetings.tabs.no_recurring_meetings")," "))}function cf(e,t){if(1&e&&(l.YNc(0,of,3,5,"ng-container",27),l.YNc(1,sf,3,3,"ng-template",null,35,l.W1O)),2&e){var n=l.MAs(2),i=l.oxw(3);l.Q6J("ngIf",i.hasRecurringMeetings)("ngIfElse",n)}}function lf(e,t){if(1&e&&(l.TgZ(0,"mat-tab-group",24),l.TgZ(1,"mat-tab"),l.YNc(2,Wu,4,5,"ng-template",25),l.TgZ(3,"div",26),l.YNc(4,$u,2,0,"ng-container",27),l.YNc(5,tf,3,2,"ng-template",null,28,l.W1O),l.qZA(),l.qZA(),l.TgZ(7,"mat-tab"),l.YNc(8,nf,4,5,"ng-template",25),l.TgZ(9,"div",26),l.YNc(10,rf,2,0,"ng-container",27),l.YNc(11,cf,3,2,"ng-template",null,29,l.W1O),l.qZA(),l.qZA(),l.qZA()),2&e){var n=l.MAs(6),i=l.MAs(12),r=l.oxw(2);l.xp6(3),l.ekj("meetings__list--fill-height",r.isLoading||!r.hasScheduledMeetings),l.xp6(1),l.Q6J("ngIf",r.isLoading)("ngIfElse",n),l.xp6(5),l.ekj("meetings__list--fill-height",r.isLoading||!r.hasRecurringMeetings),l.xp6(1),l.Q6J("ngIf",r.isLoading)("ngIfElse",i)}}function uf(e,t){}function ff(e,t){if(1&e&&(l.TgZ(0,"div",21),l.YNc(1,lf,13,8,"mat-tab-group",22),l.ALo(2,"async"),l.YNc(3,uf,0,0,"ng-template",null,23,l.W1O),l.qZA()),2&e){var n=l.MAs(4),i=l.oxw();l.xp6(1),l.Q6J("ngIf",!l.lcZ(2,2,i.managedConference$))("ngIfElse",n)}}var df=function(){var e=function(){function e(t,n,i,r,a,o,s,c){var l=this;_classCallCheck2(this,e),this.dialog=t,this.featureAccessService=n,this.snackBarService=i,this.searchService=r,this.headerButtonService=a,this.meetingService=o,this.conferenceV2Service=s,this.apiAvEventConnectionService=c,this.managedConferenceSource=new Nn.X(void 0),this.ngUnsubscribe=new A.xQ,this.isLoading=!1,this.isStartingACall=!1,this.hasScheduledMeetings=!1,this.hasRecurringMeetings=!1,this.searchString="",this.subtitleCreateMeeting="meetings.create_meeting_subtitle",this.subtitleCreateInstantMeetingOnly="meetings.create_meeting_subtitle_instant_meeting_only",this.managedConference$=this.managedConferenceSource.asObservable(),this.isSchedulingMeetingsAvailable$=this.featureAccessService.isSchedulingMeetingsAvailable$,this.isSchedulingMeetingsAvailable$.pipe((0,Xt.h)(function(e){return e}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(){l.meetingService.loadMeetings(),l.apiAvEventConnectionService.connectUntil(l.ngUnsubscribe)}),this.conferenceV2Service.activeCallConferenceState$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){l.activeCallConferenceState=e,l.meetings&&l.mapConferencesToMeetings()})}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.isEditMode$=this.headerButtonService.isEditMode$,this.subscribeToMeetingChanges(),this.meetingService.isLoading$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){return e.isLoading=t}),this.initializeSearch()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"subscribeToMeetingChanges",value:function(){var e=this;this.meetingService.meetings$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.meetings=t;var n=0,i=0;t.forEach(function(e){var t,r,a;(null===(t=e.schedule)||void 0===t?void 0:t.repeat_frequency)&&(null===(r=e.schedule)||void 0===r?void 0:r.repeat_frequency)!==Uu.j.Nil||!(null===(a=e.schedule)||void 0===a?void 0:a.end_date)?i++:n++}),e.hasScheduledMeetings=n>0,e.hasRecurringMeetings=i>0,e.mapConferencesToMeetings()})}},{key:"initializeSearch",value:function(){var e=this;this.searchService.searchItem$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.findMeetings(t)}),this.searchService.setSearchItem({searchString:"",headerAction:{actionName:$t.O.DELETE,actionComponent:$t.I.MEETING}}),this.activateHeaderAction()}},{key:"activateHeaderAction",value:function(){var e=this;this.headerButtonService.headerButtonClicked$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){if((null==t?void 0:t.actionComponent)===$t.I.MEETING){if(t.actionName===$t.O.TOGGLE_EDIT)return void e.resetMeetingsSelection();if(t.actionName===$t.O.DELETE){var n=e.meetings.filter(function(e){return e.isSelected});n.length&&(e.meetingService.deleteMeetings(n),e.resetMeetingsSelection(),e.headerButtonService.deactivateEditMode(),e.searchService.setSearchItem({searchString:e.searchString}))}t.actionName===$t.O.DELETE_ALL&&(e.meetingService.deleteAllMeetings(),e.headerButtonService.deactivateEditMode(),e.searchService.setSearchItem({searchString:""}))}})}},{key:"findMeetings",value:function(e){this.searchString=e.searchString}},{key:"startMeeting",value:function(){var e=this;this.isStartingACall=!0,this.meetingService.createMeeting().pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){return e.joinMeeting(t)},function(){return e.isStartingACall=!1})}},{key:"openMeetingDialog",value:function(e){var t=this;this.headerButtonService.deactivateEditMode(),this.dialog.open(Ju,{autoFocus:!1,width:"56rem",height:"56rem",panelClass:"meetings__dialog-container",data:e}).afterClosed().subscribe(function(){var e,n,i;null===(i=null===(n=null===(e=t.planMeetingsButton)||void 0===e?void 0:e.nativeElement)||void 0===n?void 0:n.children[0])||void 0===i||i.blur()})}},{key:"resolveLink",value:function(){var e=this;if(this.linkInput){this.isStartingACall=!0;var t=this.linkInput;if(!this.linkInput.match(/^[a-zA-Z0-9]+$/i)){var n=this.linkInput.split("/join/");n.length>1&&(t=n[1].replace(/[^a-zA-Z0-9]/g,""))}this.meetingService.resolveLink(t).pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){!t||e.joinMeeting(t)},function(){e.snackBarService.openErrorInfo("meetings.meeting_not_found"),e.isStartingACall=!1})}else this.snackBarService.openErrorInfo("meetings.meeting_not_found")}},{key:"joinMeeting",value:function(e){this.meetingService.joinMeetingAsUser(e),this.isStartingACall=!1}},{key:"resetMeetingsSelection",value:function(){this.meetings.forEach(function(e){return e.isSelected=!1})}},{key:"mapConferencesToMeetings",value:function(){var e=this,t=this.meetings.find(function(t){var n;return t.conference.name===(null===(n=e.activeCallConferenceState)||void 0===n?void 0:n.name)});t&&(t.activeConferenceState=this.activeCallConferenceState)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(O.uw),l.Y36(gr.q),l.Y36(E.c),l.Y36(Ce.o),l.Y36(we.d),l.Y36(st.D),l.Y36(Mo.a),l.Y36(Vo.Q))},e.\u0275cmp=l.Xpm({type:e,selectors:[["meetings"]],viewQuery:function(e,t){var n;(1&e&&l.Gf(Qu,7,l.SBq),2&e)&&(l.iGM(n=l.CRH())&&(t.planMeetingsButton=n.first))},decls:39,vars:43,consts:[[1,"meetings"],["class","meetings--calling",4,"ngIf"],[1,"meetings__actions"],[1,"meetings__create"],[1,"meetings__actions__title"],[1,"meetings__actions__subtitle"],["color","primary","iconName","camera","type","raised-button","e2e","main-meetings-page__start-meeting",1,"meetings__actions__button",3,"appButtonClick"],[1,"meetings__actions__icon-button"],["fill","white","icon","video_on","size","small",1,"meetings__actions__button-icon"],["class","meetings__actions__button","color","primary","type","stroked-button","e2e","main-meetings-page__plan-meeting",3,"appButtonClick",4,"ngIf"],[1,"meetings__join"],[1,"meetings__join__form"],["appearance","outline",1,"meetings__join__input"],["fill","grey-dark-color","icon","keyboard","matPrefix","","size","small",1,"meetings__join__input-button"],["autocomplete","off","matInput","","type","text","data-e2e","main-meetings-page__join-meeting--input",3,"ngModel","ngModelChange","keyup.enter"],["buttonTextTranslationKey","meetings.buttons.join_meeting","color","primary","type","basic-button-submit","data-e2e","main-meetings-page__join-meeting--button",1,"meetings__join-meeting-via-link",3,"appButtonClick"],["class","meetings__tabs",4,"ngIf"],[1,"meetings--calling"],["color","primary","type","stroked-button","e2e","main-meetings-page__plan-meeting",1,"meetings__actions__button",3,"appButtonClick"],["planMeetingsButton",""],["icon","calendar_solid","size","small",1,"meetings__actions__button-icon"],[1,"meetings__tabs"],["class","mat-tab-group--fill-height",4,"ngIf","ngIfElse"],["conferenceView",""],[1,"mat-tab-group--fill-height"],["mat-tab-label",""],[1,"meetings__list"],[4,"ngIf","ngIfElse"],["scheduledMeetings",""],["recurringMeetings",""],["noScheduledMeetings",""],[3,"isEditMode","meeting","editButtonClicked",4,"ngFor","ngForOf"],[3,"isEditMode","meeting","editButtonClicked"],[1,"meetings__no-meetings"],["data-e2e","main-meetings-page__tab-recurring_meetings"],["noRecurringMeetings",""],[3,"isEditMode","meeting","isRecurringMeeting","editButtonClicked",4,"ngFor","ngForOf"],[3,"isEditMode","meeting","isRecurringMeeting","editButtonClicked"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.ALo(1,"async"),l.YNc(2,zu,2,0,"div",1),l.TgZ(3,"div",2),l.ALo(4,"async"),l.TgZ(5,"div",3),l.TgZ(6,"h3",4),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.TgZ(9,"p",5),l._uU(10),l.ALo(11,"translate"),l.ALo(12,"async"),l.qZA(),l.TgZ(13,"app-button",6),l.NdJ("appButtonClick",function(){return t.startMeeting()}),l.TgZ(14,"div",7),l._UZ(15,"app-svg-icon",8),l._uU(16),l.ALo(17,"letterCase"),l.ALo(18,"translate"),l.qZA(),l.qZA(),l.YNc(19,Gu,7,6,"app-button",9),l.ALo(20,"async"),l.qZA(),l.TgZ(21,"div",10),l.ALo(22,"async"),l.TgZ(23,"h3",4),l._uU(24),l.ALo(25,"translate"),l.qZA(),l.TgZ(26,"p",5),l._uU(27),l.ALo(28,"translate"),l.qZA(),l.TgZ(29,"div",11),l.TgZ(30,"mat-form-field",12),l._UZ(31,"app-svg-icon",13),l.TgZ(32,"mat-label"),l._uU(33),l.ALo(34,"translate"),l.qZA(),l.TgZ(35,"input",14),l.NdJ("ngModelChange",function(e){return t.linkInput=e})("keyup.enter",function(){return t.resolveLink()}),l.qZA(),l.qZA(),l.TgZ(36,"app-button",15),l.NdJ("appButtonClick",function(){return t.resolveLink()}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(37,ff,5,4,"div",16),l.ALo(38,"async"),l.qZA()),2&e&&(l.ekj("meetings--schedule-allowed",l.lcZ(1,16,t.isSchedulingMeetingsAvailable$)),l.xp6(2),l.Q6J("ngIf",t.isStartingACall),l.xp6(1),l.ekj("meetings__actions--schedule-allowed",l.lcZ(4,18,t.isSchedulingMeetingsAvailable$)),l.xp6(4),l.hij(" ",l.lcZ(8,20,"meetings.create_meeting")," "),l.xp6(3),l.hij(" ",l.lcZ(11,22,l.lcZ(12,24,t.isSchedulingMeetingsAvailable$)?t.subtitleCreateMeeting:t.subtitleCreateInstantMeetingOnly)," "),l.xp6(6),l.hij(" ",l.xi3(17,26,l.lcZ(18,29,"meetings.buttons.start_meeting"),"meetings.buttons.start_meeting")," "),l.xp6(3),l.Q6J("ngIf",l.lcZ(20,31,t.isSchedulingMeetingsAvailable$)),l.xp6(2),l.ekj("meetings__join-margin",!l.lcZ(22,33,t.isSchedulingMeetingsAvailable$)),l.xp6(3),l.hij(" ",l.lcZ(25,35,"meetings.join_meeting")," "),l.xp6(3),l.hij(" ",l.lcZ(28,37,"meetings.join_meeting_subtitle")," "),l.xp6(6),l.hij(" ",l.lcZ(34,39,"meetings.link_placeholder")," "),l.xp6(2),l.Q6J("ngModel",t.linkInput),l.xp6(2),l.Q6J("ngIf",l.lcZ(38,41,t.isSchedulingMeetingsAvailable$)))},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.meetings--calling[_ngcontent-%COMP%]{align-items:center;background-color:#ffffffb3;display:flex;height:calc(100% - 5.6rem);justify-content:center;position:absolute;width:100%;z-index:2}.meetings[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:100%;justify-content:center;min-height:55rem;width:76.8rem}@media screen and (min-width: 768px){.meetings[_ngcontent-%COMP%]{width:100%}}.meetings--schedule-allowed[_ngcontent-%COMP%]{justify-content:initial}.meetings__actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;max-width:31.5rem;text-align:center}.meetings__actions--schedule-allowed[_ngcontent-%COMP%]{border-right:.1rem solid #e5e5e5;justify-content:space-between;max-width:35.4rem;overflow:scroll;padding:2.4rem}.meetings__join-margin[_ngcontent-%COMP%]{margin-top:14.2rem}.meetings__actions__title[_ngcontent-%COMP%]{font-weight:normal;margin:0}.meetings__actions__subtitle[_ngcontent-%COMP%]{font-size:1.8rem;margin:.8rem 0 3.2rem}.meetings__actions__button[_ngcontent-%COMP%]{margin:1.6rem 0}.meetings__actions__icon-button[_ngcontent-%COMP%]{align-items:center;display:flex;font-size:1.4rem;justify-content:center}.meetings__actions__button-icon[_ngcontent-%COMP%]{margin-right:.6rem}.meetings__join__form[_ngcontent-%COMP%]{display:flex;flex-direction:row}.meetings__join__input[_ngcontent-%COMP%]{flex-grow:1}.meetings__join__input[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.meetings__join__input-button[_ngcontent-%COMP%]{margin-right:1rem;position:relative;top:-.4rem}.meetings__join-meeting-via-link[_ngcontent-%COMP%]{margin-left:.5rem}.meetings__tabs[_ngcontent-%COMP%]{flex-grow:1}.meetings__list[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center}.meetings__list.meetings__list--fill-height[_ngcontent-%COMP%]{height:100%}.meetings__meetings-list[_ngcontent-%COMP%]{list-style:none}.meetings__no-meetings[_ngcontent-%COMP%]{padding:.8rem;text-align:center}.meetings__meetings-list-item[_ngcontent-%COMP%]{position:relative}"]}),e}(),hf=n(99316),pf=i.Bz.forChild([{path:"",component:bo,canActivateChild:[Ru.a],children:[{path:"",redirectTo:"telephone",pathMatch:"full"},{path:"history",redirectTo:"history/call",canActivate:[Zu.W],pathMatch:"full",data:{title:"navigation.history.title"}},{path:"telephone",component:wo,canActivate:[Zu.W],pathMatch:"full",data:{title:"navigation.telephone.title"}},{path:"telephone/:number",component:wo,canActivate:[Zu.W],data:{title:"navigation.telephone.title"}},{path:"history/:type",component:Nu,canActivate:[Zu.W],data:{title:"navigation.history.title"}},{path:"contacts",component:qc,canActivate:[Zu.W],data:{title:"navigation.contacts.title"}},{path:"conference",component:Gs,canActivate:[Zu.W,Du.V],children:[{path:"",pathMatch:"full",component:xc,data:{title:"navigation.conference.title"}},{path:"details/:serviceNumber",component:pc,data:{title:"navigation.conference.title"}}]},{path:"meetings",component:df,canActivate:[Zu.W,hf.k],data:{title:"navigation.meetings.title"}},{path:"fax",canActivate:[Zu.W,Fu.J],children:[{path:"",pathMatch:"full",redirectTo:"history"},{path:"history",component:Dl,data:{title:"navigation.fax.title"}},{path:"send",component:Dl,data:{title:"navigation.fax.title"}}]},{path:"settings",loadChildren:function(){return Promise.all([n.e(68592),n.e(38917)]).then(n.bind(n,38917)).then(function(e){return e.SettingsModule})}},{path:"**",redirectTo:"telephone",pathMatch:"full"}]}]),gf=n(11845);function mf(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",21),l.TgZ(1,"mat-checkbox",22),l.NdJ("click",function(e){return l.CHM(n),l.oxw().onSelectedMeeting(e)})("ngModelChange",function(e){return l.CHM(n),l.oxw().meeting.isSelected=e}),l.qZA(),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.Q6J("ngModel",i.meeting.isSelected)}}function vf(e,t){if(1&e&&(l.TgZ(0,"span",23),l._uU(1),l.ALo(2,"translate"),l.ALo(3,"date"),l.qZA()),2&e){var n=l.oxw();l.xp6(1),l.AsE(" ",l.lcZ(2,2,"meetings.expiration_date"),": ",l.xi3(3,4,n.meeting.expire,"dd LLL. y")," ")}}function bf(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",24),l.TgZ(1,"app-button",25),l.NdJ("click",function(){return l.CHM(n),l.oxw().callMeeting()}),l._uU(2),l.ALo(3,"letterCase"),l.ALo(4,"translate"),l.qZA(),l._UZ(5,"app-button",26),l.qZA()}if(2&e){var i=l.oxw(),r=l.MAs(23);l.xp6(2),l.AsE(" ",l.xi3(3,3,l.lcZ(4,6,"meetings.buttons.join_meeting"),"meetings.buttons.join_meeting")," (",i.userCount,") "),l.xp6(3),l.Q6J("matMenuTriggerFor",r)}}var yf=function(){var e=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.apiAvEventStateService=t,this.dialog=n,this.headerButtonService=i,this.meetingService=r,this.ngUnsubscribe=new A.xQ,this.isRecurringMeeting=!1,this.editButtonClicked=new l.vpe,this.repeatFrequency="",this.meetingIcon="ivr",this.userCount=0}return _createClass2(e,[{key:"ngOnInit",value:function(){var e,t;this.subscribeToMeetingBootstrap(),this.meetingIcon=this.isRecurringMeeting?"ivr":"time_solid",this.startDate=new Date(null===(e=this.meeting.schedule)||void 0===e?void 0:e.start_date),(null===(t=this.meeting.schedule)||void 0===t?void 0:t.end_date)&&(this.endDate=new Date(this.meeting.schedule.end_date),this.duration=this.endDate.getTime()-this.startDate.getTime()),this.isRecurringMeeting&&this.meeting.schedule&&(this.repeatFrequency=qu.f.getMeetingRepeatFrequencyTranslationKey(this.meeting.schedule))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"onSelectedMeeting",value:function(e){e.preventDefault()}},{key:"changeSelection",value:function(){this.isEditMode&&(this.meeting.isSelected=!this.meeting.isSelected,this.headerButtonService.setSelectedEditItemsCount(this.meeting.isSelected))}},{key:"callMeeting",value:function(){(this.isSmallView||!this.isEditMode)&&this.meetingService.joinMeetingAsUser(this.meeting)}},{key:"copyInvitation",value:function(){this.meetingService.copyInvitation(this.meeting)}},{key:"edit",value:function(){this.editButtonClicked.emit(this.meeting)}},{key:"showInformation",value:function(){this.dialog.open(rs.Y,{autoFocus:!1,width:"56rem",height:"52rem",panelClass:"meetings__info-dialog-container",data:{meeting:this.meeting}})}},{key:"deleteMeeting",value:function(){this.meetingService.deleteMeeting(this.meeting)}},{key:"subscribeToMeetingBootstrap",value:function(){var e=this;this.apiAvEventStateService.onBootstrap$.pipe((0,Xt.h)(function(t){return t.name===e.meeting.conference.name}),(0,tn.b)(function(t){e.userCount=t.size}),(0,rn.w)(function(t){return e.apiAvEventStateService.getConferenceStateObservableByUuid(t.uuid)}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.userCount=(null==t?void 0:t.size)||0})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(Mo.a),l.Y36(O.uw),l.Y36(we.d),l.Y36(st.D))},e.\u0275cmp=l.Xpm({type:e,selectors:[["meeting-item"]],inputs:{meeting:"meeting",isEditMode:"isEditMode",isSmallView:"isSmallView",isRecurringMeeting:"isRecurringMeeting"},outputs:{editButtonClicked:"editButtonClicked"},decls:43,vars:39,consts:[[1,"meeting-item",3,"click"],["class","meeting-item__checkbox",4,"ngIf"],[1,"meeting-item__icons"],[3,"iconName","isAdmin"],["entityPresenceStateType","conference","hideIf","",3,"isConferenceActive"],[1,"meeting-item__content",3,"debounceDblClick"],[1,"meeting-item__info"],["data-e2e","main-meetings-page__item-description",1,"meeting-item__description"],["data-e2e","main-meetings-page__item-time",1,"meeting-item__time"],["recurringDescription",""],["class","meeting-item__action-buttons",4,"ngIf"],["optionsMenu","matMenu"],["mat-menu-item","",1,"meeting-item__actions-menu-item",3,"click"],["fill","black","icon","clipboard","size","small",1,"meeting-item__actions-menu-icon"],["data-e2e","main-meetings-page__planned-meeting-option-edit","mat-menu-item","",1,"meeting-item__actions-menu-item",3,"click"],["fill","black","icon","edit","size","small",1,"meeting-item__actions-menu-icon"],["fill","black","icon","info","size","small",1,"meeting-item__actions-menu-icon"],[1,"video-conference-participant__actions-kick-member"],["data-e2e","main-meetings-page__planned-meeting-option-delete","mat-menu-item","",1,"meeting-item__actions-menu-item",3,"click"],["fill","telephone-hangup-button-color","icon","delete","size","small",1,"meeting-item__actions-menu-icon"],[1,"meeting-item__actions-delete"],[1,"meeting-item__checkbox"],["color","primary",3,"ngModel","click","ngModelChange"],[1,"meeting-item__time"],[1,"meeting-item__action-buttons"],["color","primary","type","stroked-button","data-e2e","main-meetings-page__join-scheduled-meeting--button",1,"meeting-item__join-button",3,"click"],["color","primary","iconName","menu_vertical","data-e2e","main-meetings-page__planned-meeting-options-menu",3,"matMenuTriggerFor"]],template:function(e,t){var n;(1&e&&(l.TgZ(0,"div",0),l.NdJ("click",function(){return t.changeSelection()}),l.YNc(1,mf,2,1,"div",1),l.TgZ(2,"div",2),l._UZ(3,"svg-avatar",3),l.qZA(),l._UZ(4,"busy-lamp-field",4),l.TgZ(5,"div",5),l.NdJ("debounceDblClick",function(){return t.callMeeting()}),l.TgZ(6,"div",6),l.TgZ(7,"span",7),l._uU(8),l.qZA(),l.TgZ(9,"span",8),l._uU(10),l.ALo(11,"translate"),l.ALo(12,"date"),l.ALo(13,"date"),l._uU(14),l.ALo(15,"date"),l._uU(16),l.ALo(17,"date"),l.ALo(18,"translate"),l.qZA(),l.YNc(19,vf,4,7,"ng-template",null,9,l.W1O),l.qZA(),l.qZA(),l.YNc(21,bf,6,8,"div",10),l.qZA(),l.TgZ(22,"mat-menu",null,11),l.TgZ(24,"mat-list-item"),l.TgZ(25,"button",12),l.NdJ("click",function(){return t.copyInvitation()}),l._UZ(26,"app-svg-icon",13),l._uU(27),l.ALo(28,"translate"),l.qZA(),l.TgZ(29,"button",14),l.NdJ("click",function(){return t.edit()}),l._UZ(30,"app-svg-icon",15),l._uU(31),l.ALo(32,"translate"),l.qZA(),l.TgZ(33,"button",12),l.NdJ("click",function(){return t.showInformation()}),l._UZ(34,"app-svg-icon",16),l.TgZ(35,"span",17),l._uU(36),l.ALo(37,"translate"),l.qZA(),l.qZA(),l.TgZ(38,"button",18),l.NdJ("click",function(){return t.deleteMeeting()}),l._UZ(39,"app-svg-icon",19),l.TgZ(40,"span",20),l._uU(41),l.ALo(42,"translate"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e)&&(l.xp6(1),l.Q6J("ngIf",t.isEditMode),l.xp6(2),l.Q6J("iconName",t.meetingIcon)("isAdmin",!0),l.xp6(1),l.Q6J("isConferenceActive",!(null==t.meeting.activeConferenceState||null==t.meeting.activeConferenceState.members||!t.meeting.activeConferenceState.members.length)),l.xp6(4),l.hij(" ",t.meeting.description," "),l.xp6(2),l.hij(" ",t.isRecurringMeeting?l.lcZ(11,14,"meetings.expiration_date")+": "+l.xi3(12,16,null!==(n=t.endDate)&&void 0!==n?n:t.meeting.expire,"dd LLL. y"):l.xi3(13,19,t.startDate,"dd LLL. y")," \u2022 "),l.xp6(4),l.hij(" ",l.xi3(15,22,t.startDate,"HH:mm")," "),l.xp6(2),l.AsE(" ",t.duration?"\u2022 "+l.Dn7(17,25,t.duration,"HH:mm","UTC"):""," ",t.isRecurringMeeting?"\u2022 "+l.lcZ(18,29,t.repeatFrequency):""," "),l.xp6(5),l.Q6J("ngIf",!t.isEditMode&&!t.isSmallView),l.xp6(6),l.hij(" ",l.lcZ(28,31,"meetings.context_menu.copy_invitation")," "),l.xp6(4),l.hij(" ",l.lcZ(32,33,"meetings.context_menu.edit")," "),l.xp6(5),l.hij(" ",l.lcZ(37,35,"meetings.context_menu.information")," "),l.xp6(5),l.hij(" ",l.lcZ(42,37,"meetings.context_menu.delete")," "))},directives:[K.O5,Ie.T,Re.K,fa.B,Ae.I,ga.VK,Ma.Tg,ga.OP,ne.u,Mc.oG,ut.JJ,ut.On,Pt.V,ga.p6],pipes:[_.X$,K.uU,gf.K],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;width:100%}.meeting-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:row;height:7rem;width:100%}.meeting-item__checkbox[_ngcontent-%COMP%]{align-items:center;display:flex;margin:0 .5rem 0 1rem}.meeting-item__icons[_ngcontent-%COMP%]{align-items:center;display:flex;position:relative}.meeting-item__content[_ngcontent-%COMP%]{border-bottom:.1rem solid #e5e5e5;display:flex;flex-direction:column;flex-grow:1;justify-content:center;padding-left:.8rem}.meeting-item__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;justify-content:center}.meeting-item__time[_ngcontent-%COMP%]{color:#00000080;margin-right:1rem}.meeting-item__action-buttons[_ngcontent-%COMP%]{align-items:center;border-bottom:.1rem solid #e5e5e5;display:flex}.meeting-item__actions-menu-item[_ngcontent-%COMP%]{align-items:center;display:flex;font-size:1.6rem;padding:0 2.4rem}.meeting-item__actions-menu-icon[_ngcontent-%COMP%]{margin-right:2rem}.meeting-item__actions-delete[_ngcontent-%COMP%]{color:#b30000}"]}),e}(),_f=n(6663);function Cf(e,t){if(1&e&&l._UZ(0,"meeting-item",2),2&e){var n=t.$implicit;l.Q6J("isSmallView",!0)("meeting",n)}}function kf(e,t){if(1&e&&l._UZ(0,"meeting-item",3),2&e){var n=t.$implicit;l.Q6J("isSmallView",!0)("meeting",n)("isRecurringMeeting",!0)}}var Sf=function(){var e=function(){function e(t){var n=this;_classCallCheck2(this,e),this.meetingService=t,this.ngUnsubscribe=new A.xQ,this.meetings=[],this.isLoading=!1,this.meetingService.isLoading$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){return n.isLoading=e}),this.meetingService.meetings$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(e){return n.meetings=e})}return _createClass2(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(st.D))},e.\u0275cmp=l.Xpm({type:e,selectors:[["meeting-group"]],inputs:{searchString:"searchString"},decls:4,vars:10,consts:[[3,"isSmallView","meeting",4,"ngFor","ngForOf"],[3,"isSmallView","meeting","isRecurringMeeting",4,"ngFor","ngForOf"],[3,"isSmallView","meeting"],[3,"isSmallView","meeting","isRecurringMeeting"]],template:function(e,t){1&e&&(l.YNc(0,Cf,1,2,"meeting-item",0),l.ALo(1,"meetings"),l.YNc(2,kf,1,3,"meeting-item",1),l.ALo(3,"meetings")),2&e&&(l.Q6J("ngForOf",l.Dn7(1,2,t.meetings,!0,t.searchString)),l.xp6(2),l.Q6J("ngForOf",l.Dn7(3,6,t.meetings,!1,t.searchString)))},directives:[K.sg,yf],pipes:[_f.h],styles:[""]}),e}(),xf=n(68455),Af=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.searchOptionService=t,this.selectedType=P.V.CONTACT}return _createClass2(e,[{key:"ngOnChanges",value:function(e){var t=P.V[e.searchType.currentValue].toString().replace("_","-").toLowerCase(),n=null;e.searchType.currentValue===P.V.CRM_CONNECT&&(n="".concat(e.searchType.currentValue,"_").concat(this.searchSubType)),this.searchOption={id:n||"search_type_".concat(t),title:this.searchSubType||"search-result.".concat(t,".title"),value:n||e.searchType.currentValue}}},{key:"onSearchTypeChange",value:function(e){this.searchOptionService.setSearchType(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(xf.p))},e.\u0275cmp=l.Xpm({type:e,selectors:[["search-option"]],inputs:{e2e:"e2e",searchType:"searchType",searchSubType:"searchSubType"},features:[l.TTD],decls:4,vars:8,consts:[["name","type","type","radio",1,"search-option__input",3,"value","id","ngModel","ngModelChange"],[1,"search-option__label",3,"for"]],template:function(e,t){1&e&&(l.TgZ(0,"input",0),l.NdJ("ngModelChange",function(e){return t.selectedType=e})("ngModelChange",function(){return t.onSearchTypeChange(t.searchOption.value)}),l.qZA(),l.TgZ(1,"label",1),l._uU(2),l.ALo(3,"translate"),l.qZA()),2&e&&(l.Q6J("value",null==t.searchOption?null:t.searchOption.value)("id",null==t.searchOption?null:t.searchOption.id)("ngModel",t.selectedType),l.xp6(1),l.Q6J("for",null==t.searchOption?null:t.searchOption.id),l.uIk("data-e2e","search-result-fragment__"+(null==t.searchOption?null:t.searchOption.id)),l.xp6(1),l.hij(" ",l.lcZ(3,6,null==t.searchOption?null:t.searchOption.title),"\n"))},directives:[ut._,ut.Fj,ut.JJ,ut.On],pipes:[_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.search-option__input[_ngcontent-%COMP%]{display:none}.search-option__input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff}.search-option__label[_ngcontent-%COMP%]{align-items:center;background-color:#0003;border:0 solid transparent;border-radius:.5rem;cursor:pointer;display:inline-flex;font-size:1.6rem;height:3.1rem;line-height:1.6rem;margin:.4rem;padding:0 1.6rem}"]}),e}();function wf(e,t){if(1&e&&l._UZ(0,"search-option",3),2&e){var n=t.$implicit,i=l.oxw();l.Q6J("searchType",i.SEARCH_TYPES.CRM_CONNECT)("searchSubType",n.name)}}function Mf(e,t){if(1&e&&l._UZ(0,"search-option",1),2&e){var n=l.oxw();l.Q6J("searchType",n.SEARCH_TYPES.MEETING)}}var Tf=function(){var e=function(){function e(t,n){var i=this;_classCallCheck2(this,e),this.userService=t,this.crmConnectService=n,this.ngUnsubscribe=new A.xQ,this.showHistorySection=!0,this.selected=new l.vpe,this.crmConnectAddressBooks=[],this.SEARCH_TYPES=P.V,this.userService.userInfo$.pipe((0,Xt.h)(function(e){return!!e}),(0,M.R)(this.ngUnsubscribe)).subscribe(function(e){var t;i.isMeetingAvailable=null===(t=null==e?void 0:e.modules)||void 0===t?void 0:t.includes("meeting")}),this.crmConnectService.isDesktopApp&&(this.crmConnectAddressBooks=this.crmConnectService.getCurrentCrmConnectsSettings(!0))}return _createClass2(e,[{key:"onChange",value:function(e){this.selected.emit(e)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(J.K),l.Y36(Tt.a))},e.\u0275cmp=l.Xpm({type:e,selectors:[["search-options"]],inputs:{showHistorySection:"showHistorySection"},outputs:{selected:"selected"},decls:6,vars:6,consts:[["e2e","search-result-fragment",3,"searchType","searchSubType",4,"ngFor","ngForOf"],["e2e","search-result-fragment",3,"searchType"],["e2e","search-result-fragment",3,"searchType",4,"ngIf"],["e2e","search-result-fragment",3,"searchType","searchSubType"]],template:function(e,t){1&e&&(l.YNc(0,wf,1,2,"search-option",0),l._UZ(1,"search-option",1),l._UZ(2,"search-option",1),l._UZ(3,"search-option",1),l._UZ(4,"search-option",1),l.YNc(5,Mf,1,1,"search-option",2)),2&e&&(l.Q6J("ngForOf",t.crmConnectAddressBooks),l.xp6(1),l.Q6J("searchType",t.SEARCH_TYPES.CONTACT),l.xp6(1),l.Q6J("searchType",t.SEARCH_TYPES.EXTENSION),l.xp6(1),l.Q6J("searchType",t.SEARCH_TYPES.CONFERENCE_AVAILABLE),l.xp6(1),l.Q6J("searchType",t.SEARCH_TYPES.GROUP),l.xp6(1),l.Q6J("ngIf",t.isMeetingAvailable))},directives:[K.sg,Af,K.O5],encapsulation:2}),e}(),Pf=n(52690),If=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:"CALL_ITEM_CONFIGS",useValue:t}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[Te,ql],imports:[[C.m]]}),e}(),Of=n(82908),jf=n(51681),Ef=n(62886),Lf=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[Ef.t,Qn.T]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[Of.u,jf.N,Ef.t],imports:[[K.ez,C.m]]}),e}(),Nf=function(){var e=_createClass2(function e(){_classCallCheck2(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[ri],imports:[[K.ez,C.m,O.Is,i.Bz]]}),e}(),Rf=n(16015),Df=n(77581),Zf=n(8493);function Ff(e,t){1&e&&l._UZ(0,"svg-avatar-drag-target",7)}function Uf(e,t){1&e&&(l.ynx(0),l.TgZ(1,"hoverbox",8),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.BQk()),2&e&&(l.xp6(1),l.Q6J("showAlways",!0),l.xp6(1),l.hij(" ",l.lcZ(3,2,"emergency_country.modal.text")," "))}function qf(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"app-button",9),l.NdJ("appButtonClick",function(){l.CHM(n);var e=l.oxw().$implicit;return l.oxw().callEmergencyNumber(e)}),l._UZ(1,"app-svg-icon",10),l.TgZ(2,"span",11),l._uU(3),l.qZA(),l.qZA()}if(2&e){var i=l.oxw().$implicit;l.xp6(3),l.hij(" ",null==i?null:i.itemSubTitle," ")}}function Bf(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",2),l.NdJ("cdkDragMoved",function(){return l.CHM(n),l.oxw().onDragStart()})("cdkDragDropped",function(){return l.CHM(n),l.oxw().onDragEnd()}),l.YNc(1,Ff,1,0,"svg-avatar-drag-target",3),l.TgZ(2,"call-item-container",4),l.ALo(3,"async"),l.YNc(4,Uf,4,4,"ng-container",5),l.ALo(5,"async"),l.YNc(6,qf,4,1,"ng-template",null,6,l.W1O),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,r=l.MAs(7),a=l.oxw();l.Q6J("cdkDragData",i),l.xp6(2),l.Q6J("callItem",i)("callItemConfigKey",a.emergencyConfigKey)("isDisabled",l.lcZ(3,6,a.telephonyOffline$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(5,8,a.telephonyOffline$))("ngIfElse",r)}}var Hf=function(){var e=function(){function e(t,n,i,r,a){_classCallCheck2(this,e),this.emergencyCountryService=t,this.searchService=n,this.sipService=i,this.dropZoneService=r,this.callTrackerService=a,this.allEmergencyCallItems=[],this.ngUnsubscribe=new A.xQ,this.selectedType=P.V.EMERGENCY,this.visibleEmergencyCallItems=[],this.dropZoneNames=this.dropZoneService.getDropZones(),this.emergencyConfigKey=me.EMERGENCY}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.telephonyOffline$=this.sipService.telephonyOffline$,this.emergencyCountryService.availableEmergencyCallItems$.pipe((0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.allEmergencyCallItems=t}),this.searchService.searchItem&&this.setCallItems(this.searchService.searchItem),this.searchService.searchItem$.pipe((0,en.x)(),(0,M.R)(this.ngUnsubscribe)).subscribe(function(t){e.setCallItems(t)})}},{key:"onDragStart",value:function(){this.dropZoneService.onDragStart()}},{key:"onDragEnd",value:function(){this.dropZoneService.onDragEnd()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"callEmergencyNumber",value:function(e){this.callTrackerService.makeCall(e)}},{key:"filterEmergencyCallItems",value:function(e){var t=this;this.visibleEmergencyCallItems=this.allEmergencyCallItems.filter(function(n){return t.filterSearchedItems(n,e)})}},{key:"filterSearchedItems",value:function(e,t){var n,i;return!!(null===(n=null==e?void 0:e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||!!(null===(i=e.itemSubTitle)||void 0===i?void 0:i.includes(t))}},{key:"setCallItems",value:function(e){var t=et.Lm.removeSpaces(e.searchString.toLowerCase());t&&this.filterEmergencyCallItems(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(ai.X),l.Y36(Ce.o),l.Y36(be.y),l.Y36(ke.b),l.Y36(N.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["emergency-group"]],inputs:{selectedType:"selectedType"},decls:2,vars:3,consts:[["cdkDropList","",3,"cdkDropListConnectedTo","cdkDropListData"],["cdkDrag","","class","emergency-group__call-item",3,"cdkDragData","cdkDragMoved","cdkDragDropped",4,"ngFor","ngForOf"],["cdkDrag","",1,"emergency-group__call-item",3,"cdkDragData","cdkDragMoved","cdkDragDropped"],["iconName","emergency_cross",4,"cdkDragPreview"],["appHoverbox","",3,"callItem","callItemConfigKey","isDisabled"],[4,"ngIf","ngIfElse"],["showEmergencyCallButton",""],["iconName","emergency_cross"],[3,"showAlways"],["type","basic-button",1,"emergency-group__call-button","exclude-app-button-style",3,"appButtonClick"],["fill","white","icon","call","size","small",1,"emergency-group__call-button__icon"],[1,"emergency-group__call-button__title"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,Bf,8,10,"div",1),l.qZA()),2&e&&(l.Q6J("cdkDropListConnectedTo",t.dropZoneNames)("cdkDropListData",t.visibleEmergencyCallItems),l.xp6(1),l.Q6J("ngForOf",t.visibleEmergencyCallItems))},directives:[xe.Wj,K.sg,xe.Zt,xe.pV,qe,Ye.r,K.O5,He.g,Ve.B,Pt.V,ne.u],pipes:[K.Ov,_.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.emergency-group__call-button[_ngcontent-%COMP%]{align-items:center;background:#b30000;border-radius:.5rem;color:#fff;display:flex;height:3.6rem;justify-content:center;margin:0 1.6rem}.emergency-group__call-button__title[_ngcontent-%COMP%]{font-size:1.4rem;padding:0 .6rem}.emergency-group__call-button__icon[_ngcontent-%COMP%]{display:inline-flex}.emergency-group__call-item[_ngcontent-%COMP%]{cursor:pointer}"]}),e}(),Yf=n(94428);function Vf(e,t){if(1&e&&(l.ynx(0),l._uU(1),l.ALo(2,"async"),l.BQk()),2&e){var n=l.oxw().$implicit;l.xp6(1),l.hij(" ",l.lcZ(2,1,n.getter())," ")}}function Jf(e,t){if(1&e&&l._uU(0),2&e){var n=l.oxw().$implicit;l.hij(" ",n.getter()," ")}}function Qf(e,t){if(1&e&&(l.TgZ(0,"tr",4),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td",5),l.YNc(4,Vf,3,3,"ng-container",6),l.YNc(5,Jf,1,1,"ng-template",null,7,l.W1O),l.qZA(),l.qZA()),2&e){var n=t.$implicit,i=l.MAs(6);l.xp6(2),l.Oqu(n.name),l.xp6(2),l.Q6J("ngIf",n.async)("ngIfElse",i)}}var zf=function(){var e=_createClass2(function e(t){_classCallCheck2(this,e),this.dialogRef=t,this.diagnosticsValues=Yf.bn});return e.\u0275fac=function(t){return new(t||e)(l.Y36(O.so))},e.\u0275cmp=l.Xpm({type:e,selectors:[["video-diagnostics-dialog"]],decls:5,vars:3,consts:[["title","Video Diagnostics"],[1,"video-diagnostics-dialog__content"],["class","video-diagnostics-dialog__row",4,"ngFor","ngForOf"],["btnCancelCaption","close",3,"isBtnSaveHidden","dialogRef"],[1,"video-diagnostics-dialog__row"],[1,"video-diagnostics-dialog__column--right"],[4,"ngIf","ngIfElse"],["diagnosticsNormal",""]],template:function(e,t){1&e&&(l.TgZ(0,"modal-container",0),l.TgZ(1,"div",1),l.TgZ(2,"table"),l.YNc(3,Qf,7,3,"tr",2),l.qZA(),l.qZA(),l._UZ(4,"footer-actions",3),l.qZA()),2&e&&(l.xp6(3),l.Q6J("ngForOf",t.diagnosticsValues),l.xp6(1),l.Q6J("isBtnSaveHidden",!0)("dialogRef",t.dialogRef))},directives:[Gn.O,K.sg,gt.c,K.O5],pipes:[K.Ov],styles:[".video-diagnostics-dialog__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:40rem;padding:.8rem}.video-diagnostics-dialog__row[_ngcontent-%COMP%]:nth-child(2n){background:rgba(0,0,0,.1)}.video-diagnostics-dialog__column--right[_ngcontent-%COMP%]{text-align:right}"]}),e}(),Gf=function(){var e=_createClass2(function e(t){var n=this;_classCallCheck2(this,e),this.matDialog=t;var i=null;document.addEventListener("keydown",function(e){e.ctrlKey&&e.shiftKey&&"Q"===e.key&&(i||(i=n.matDialog.open(zf)).afterClosed().subscribe(function(){i=null}))})});return e.\u0275fac=function(t){return new(t||e)(l.LFG(O.uw))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Wf=n(21289),$f=function(){var e=_createClass2(function e(t){_classCallCheck2(this,e),this.debugService=t});return e.\u0275fac=function(t){return new(t||e)(l.LFG(Gf))},e.\u0275mod=l.oAB({type:e,bootstrap:[bo]}),e.\u0275inj=l.cJS({providers:[hi,x.X,qt,Bl,Pf.b,Bt.g,Me.M,Ys.T,Io,V.H,Ri,Un,fi,Ln.f,K.uU,gn.M,jo.z,pn.y,Vn.l,Yn.t,Jn,Vs.r,fi,Mn.c,we.d,kr,kn.g,xn,sa.I,an.H,Js.r,Qs.Q,zs.$,hn,{provide:Y._,useExisting:Mn.c},{provide:Zn.s,useClass:Zn.s,deps:[J.K,U.L,B.v]},Sn.I,Rf.b],imports:[[If.forRoot(ve),k,r.Ob,a.X,o.Bb,y,i.Bz,C.m,_.aw,S.$,Lf.forRoot(),Nf,pf,Df.r,Zf.W.forRoot()]]}),e}();l.B6R(zt,[$,ot.j,K.O5,Wf.R,ne.u,lt],[Bl,_.X$,K.uU,Hl._]),l.B6R(df,[K.O5,Ta.S,Pt.V,ne.u,dt.KE,dt.qo,dt.hX,ht.Nt,ut.Fj,ut.JJ,ut.On,il.SP,il.uX,il.uD,K.sg,yf],[K.Ov,_.X$,gf.K,K.gd,_f.h]),l.B6R(ko.B,[K.O5,Tf,Hf,jt,Zt,Ke,Co,Sf],[K.Ov]),l.B6R(wo,[ko.B,K.O5,Hs,Pt.V,i.rH,Os],[K.Ov])},33601:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var i,r=n(45146),a=n(39485),o=n(37716),s=n(91841),c=((i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).http=e,i.apiUrl="".concat(a.N.API_URL),i.apiEndpointUser="".concat(i.apiUrl,"/user"),i}return _createClass2(n,[{key:"getAllEmergencyNumbers",value:function(){return this.get("".concat(this.apiUrl,"/emergency/numbers?groupby=country"))}},{key:"getSelectableEmergencyCountryCodeItems",value:function(){return this.get("".concat(this.apiEndpointUser,"/emergency-countries"))}},{key:"getActiveEmergencyCountryCodeItem",value:function(){return this.get("".concat(this.apiEndpointUser,"/emergency-country"))}},{key:"setActiveEmergencyCountry",value:function(e){return this.post("".concat(this.apiEndpointUser,"/emergency-country"),{countryCode:e})}}]),n}(r.s)).\u0275fac=function(e){return new(e||i)(o.LFG(s.eN))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i)},72413:function(e,t,n){"use strict";n.d(t,{F:function(){return l}});var i,r=n(79765),a=n(43190),o=n(37716),s=n(5882),c=n(29790),l=((i=function(){function e(t,n){_classCallCheck2(this,e),this.confirmDialogsService=t,this.translateService=n,this.notAllowedToCallEmergencyNumbersSource=new r.xQ,this.openEmergencyInfoModal()}return _createClass2(e,[{key:"isEmergencyNumber",value:function(e){return e.toString().includes("EMERGENCY")}},{key:"emitNotAllowedToCallEmergencyNumbers",value:function(){this.notAllowedToCallEmergencyNumbersSource.next()}},{key:"openEmergencyInfoModal",value:function(){var e=this,t="emergency_country.modal.title",n="emergency_country.modal.text",i="emergency_country.modal.confirm";this.notAllowedToCallEmergencyNumbersSource.pipe((0,a.w)(function(){return e.translateService.get([t,n,"",i])})).subscribe(function(r){return e.confirmDialogsService.confirm(r[t],r[n],r[""],r[i])})}}]),e}()).\u0275fac=function(e){return new(e||i)(o.LFG(s.U),o.LFG(c.sK))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i)},27912:function(e,t,n){"use strict";n.d(t,{X:function(){return f}});var i,r=n(26215),a=n(9112),o=n(68307),s=n(37716),c=n(33601),l=n(45832),u=n(29790),f=((i=function(){function e(t,n,i){_classCallCheck2(this,e),this.apiEmergencyCountryService=t,this.snackbarService=n,this.translateService=i,this.activeEmergencyCountryCodeSource=new r.X(null),this.availableEmergencyCallItemsSource=new r.X([]),this.emergencyCountryMenuItemsSource=new r.X([]),this.allEmergencyCountryNumberItems=[],this.activeEmergencyCountryCode$=this.activeEmergencyCountryCodeSource.asObservable(),this.availableEmergencyCallItems$=this.availableEmergencyCallItemsSource.asObservable(),this.emergencyCountryMenuItems$=this.emergencyCountryMenuItemsSource.asObservable(),this.listenForLanguageChange()}return _createClass2(e,[{key:"getSelectableEmergencyCountryCodeItems",value:function(){return this.apiEmergencyCountryService.getSelectableEmergencyCountryCodeItems()}},{key:"changeEmergencyCountry",value:function(e){var t=this;return this.apiEmergencyCountryService.setActiveEmergencyCountry(e).pipe((0,o.b)(function(){return t.emitEmergencyCountryData(e)}))}},{key:"initEmergencyNumbers",value:function(){var e=this;(0,a.aj)([this.apiEmergencyCountryService.getActiveEmergencyCountryCodeItem(),this.apiEmergencyCountryService.getAllEmergencyNumbers()]).subscribe(function(t){var n=_slicedToArray2(t,2),i=n[0],r=n[1];e.allEmergencyCountryNumberItems=r.data,e.emitEmergencyCountryData(i.countryCode)})}},{key:"setEmergencyCountryMenuItems",value:function(e){var t=this,n=e.map(function(e){return e.countryCode}).map(function(e){return t.mapToEmergencyCountryMenuItem(e)});this.emergencyCountryMenuItemsSource.next(n)}},{key:"emitEmergencyCountryData",value:function(e){this.emitActiveEmergencyCountryCode(e),this.emitAvailableEmergencyCallItems(e)}},{key:"mapToEmergencyCountryMenuItem",value:function(e){return{countryCode:this.getLowerCaseCountryCode(e),translationKey:"emergency_countries.".concat(e.toLowerCase())}}},{key:"mapEmergencyNumberToCallItem",value:function(e){var t;return{id:"",number:"EMERGENCY".concat(null===(t=this.activeEmergencyCountryCodeSource.getValue())||void 0===t?void 0:t.toUpperCase()).concat(e),name:this.translateService.instant("settings.extension.emergency_country.call_label"),itemSubTitle:e,timestamp:0,duration:0,avatarIcon:{iconName:"emergency_cross"}}}},{key:"emitActiveEmergencyCountryCode",value:function(e){var t=this.getLowerCaseCountryCode(e);this.activeEmergencyCountryCodeSource.next(t)}},{key:"getLowerCaseCountryCode",value:function(e){return e.toLowerCase()}},{key:"emitAvailableEmergencyCallItems",value:function(e){var t=this;this.activeEmergencyNumbers=this.getEmergencyNumbers(e);var n=this.activeEmergencyNumbers.map(function(e){return t.mapEmergencyNumberToCallItem(e)});this.availableEmergencyCallItemsSource.next(n)}},{key:"getEmergencyNumbers",value:function(e){return this.allEmergencyCountryNumberItems.filter(function(t){return t.country===(null==e?void 0:e.toLowerCase())}).map(function(e){return e.number})[0]||[]}},{key:"listenForLanguageChange",value:function(){var e=this;this.translateService.onLangChange.subscribe(function(){e.emitAvailableEmergencyCallItems(e.activeEmergencyCountryCodeSource.getValue())})}}]),e}()).\u0275fac=function(e){return new(e||i)(s.LFG(c.x),s.LFG(l.c),s.LFG(u.sK))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i)},82908:function(e,t,n){"use strict";n.d(t,{u:function(){return a}});var i,r=n(37716),a=((i=function(){function e(){var t=this;_classCallCheck2(this,e),this.hotkeysEditStates=new Map,this.isMacOs=navigator.userAgent.includes("Mac"),this.macOsKeysMap=new Map([["Shift","&#8679;"],["Control","&#8963;"],["Alt","&#8997; "],["Meta","&#8984;"]]),this.windowsOsKeysMap=new Map([["Shift","Shift"],["Control","Ctrl"],["Alt","Alt "]]),this.mutableCharactersMac=new Map([["Backspace","&#9003;"],["Enter","&#9166;"],["ArrowLeft","&#8592;"],["ArrowRight","&#8594;"],["ArrowDown","&#8595;"],["ArrowUp","&#8593;"],["Backquote","`"],["Minus","-"],["Equal","="],["BracketLeft","["],["BracketRight","]"],["Semicolon",";"],["Quote","'"],["Comma",","],["Period","."],["Slash","/"]]),this.mutableCharactersWindows=new Map([["Backspace","Backspace"],["Enter","Enter"],["ArrowLeft","Left"],["ArrowRight","Right"],["ArrowDown","Down"],["ArrowUp","Up"],["Backquote","`"],["Minus","-"],["Equal","="],["BracketLeft","["],["BracketRight","]"],["Semicolon",";"],["Quote","'"],["Comma",","],["Period","."],["Slash","/"]]),(this.isMacOs?this.macOsKeysMap:this.windowsOsKeysMap).forEach(function(e,n){return(t.isMacOs?t.mutableCharactersMac:t.mutableCharactersWindows).set(n,e)})}return _createClass2(e,[{key:"updateHotkeyState",value:function(e,t){this.hotkeysEditStates.set(e,t)}},{key:"isOneOfHotkeysInEdit",value:function(){return _toConsumableArray2(this.hotkeysEditStates).some(function(e){return e[1]})}},{key:"getMutableCharacters",value:function(){return this.isMacOs?this.mutableCharactersMac:this.mutableCharactersWindows}},{key:"isPredifinedKey",value:function(e){return this.isMacOs?!!this.macOsKeysMap.get(e):!!this.windowsOsKeysMap.get(e)}},{key:"getJoinSymbol",value:function(){return this.isMacOs?"":" + "}},{key:"isBackspace",value:function(e){return e===this.getMutableCharacters().get("Backspace")}},{key:"isHotkeyValueChanged",value:function(e,t){return!e||e&&_toConsumableArray2(e).sort().toString()!==_toConsumableArray2(t).sort().toString()}},{key:"generateHotkey",value:function(e){var t=this,n=[],i=this.getJoinSymbol();return e.forEach(function(e){n.push(t.getKey(e)||e)}),n.join(i)}},{key:"prepareEventKey",value:function(e){return this.getKey(e)||(this.isForbiddenKeyPressed(e)?"":e.startsWith("F")?e:e.charAt(e.length-1))}},{key:"getKey",value:function(e){return this.getMutableCharacters().get(e)||""}},{key:"getTransformedHotkey",value:function(e){return e.map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("")}},{key:"canUpdate",value:function(e,t){return this.isPrevSymbolIsEqual(e,t)||!this.isAllowedToEnterSymbol(e,t)}},{key:"isPrevSymbolIsEqual",value:function(e,t){var n=t.length;return!!n&&t[n-1]===e}},{key:"isAllowedToEnterSymbol",value:function(e,t){var n=t.length,i=!n,r=i&&this.isPredifinedKey(e),a=t.includes(e),o=!i&&this.isPredifinedKey(t[n-1])&&!a;return r||o}},{key:"isValid",value:function(e){var t=e.length;return!!t&&!this.isPredifinedKey(e[t-1])}},{key:"isHotkeyReserved",value:function(e,t){var n=this.getTransformedHotkey(t);return e.includes(n)}},{key:"isForbiddenKeyPressed",value:function(e){return this.isWindowButtonPressedInWindowsOS(e)||this.isSpaceButtonPressed(e)}},{key:"isWindowButtonPressedInWindowsOS",value:function(e){return!this.isMacOs&&e.includes("Meta")}},{key:"isSpaceButtonPressed",value:function(e){return e.includes("Space")}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i)},11569:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var i,r=n(26215),a=n(45435),o=n(37716),s=n(51233),c=n(45832),l=n(62886),u=((i=function(){function e(t,n,i){_classCallCheck2(this,e),this.userService=t,this.snackBarService=n,this.hotkeysService=i,this.reservedHotkeysSource=new r.X([]),this.reservedHotkeys$=this.reservedHotkeysSource.asObservable()}return _createClass2(e,[{key:"registerHotkeys",value:function(){var e=this;!this.hotkeysService.isDesktopApp()||this.hotkeysService.requestReservedHotkeys(function(t){t.length&&(e.reservedHotkeys=t,e.userService.userInfo$.pipe((0,a.h)(function(e){return!!(null==e?void 0:e.activePhoneExtension)})).subscribe(function(t){e.userExtension=t.activePhoneExtension.extensionNumber,e.generateReservedHotkeys();var n=e.getStoredHotkeys();n&&e.hotkeysService.registerUserHotkeys(n)}))})}},{key:"getStoredHotkeys",value:function(){var e=localStorage.getItem(this.storageName());return e?this.getParsedStorage(e):null}},{key:"saveHotkey",value:function(e){var t=this;this.hotkeysService.registerHotkey(e).then(function(n){n?t.updateHotkeyInStorage(e).then(function(){t.generateReservedHotkeys(),t.snackBarService.openInfo("navigation.settings.hotkeys.successfully_saved")}):t.snackBarService.openInfo("navigation.settings.hotkeys.saving_failure")})}},{key:"updateHotkeyInStorage",value:function(e){var t=this;return new Promise(function(n){t.preparedStorage().then(function(i){var r;(null===(r=e.value)||void 0===r?void 0:r.length)?i[e.action]=e:delete i[e.action],localStorage.setItem(t.storageName(),JSON.stringify(i)),n()})})}},{key:"getExtension",value:function(){return this.userExtension}},{key:"getDataFromStorage",value:function(e){var t,n=this.getStoredHotkey(e.action);return n?(e.value=this.getStoredShortcut(n),e.enabled=this.getStoredState(n)):(null===(t=e.value)||void 0===t?void 0:t.length)||null==e||delete e.value,e}},{key:"disableUserHotkeysWhileEdit",value:function(e){var t=this,n=this.getStoredHotkeys();n&&Object.values(n).forEach(function(n){e&&(n.enabled=!1),t.hotkeysService.enableDisableReservedHotkey(n)})}},{key:"getStoredHotkey",value:function(e){var t=this.getStoredHotkeys();if(t)return Object.entries(t).find(function(t){return e===t[0]})}},{key:"getStoredShortcut",value:function(e){return e[1].value}},{key:"getStoredState",value:function(e){return"boolean"!=typeof e[1].enabled||e[1].enabled}},{key:"getParsedStorage",value:function(e){return JSON.parse(e)}},{key:"preparedStorage",value:function(){return function(e,t,n,i){return new(n||(n=Promise))(function(t,r){function a(e){try{s(i.next(e))}catch(t){r(t)}}function o(e){try{s(i.throw(e))}catch(t){r(t)}}function s(e){e.done?t(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,o)}s((i=i.apply(e,[])).next())})}(this,0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getStoredHotkeys()||{});case 1:case"end":return e.stop()}},e,this)}))}},{key:"storageName",value:function(){return"hotkeys-set-".concat(this.userExtension)}},{key:"generateReservedHotkeys",value:function(){var e=this.getStoredHotkeys(),t=[];e&&(t=Object.entries(e).map(function(e){return e[1].value.join("")})),this.reservedHotkeysSource.next([].concat(_toConsumableArray2(this.reservedHotkeys),_toConsumableArray2(t)))}}]),e}()).\u0275fac=function(e){return new(e||i)(o.LFG(s.K),o.LFG(c.c),o.LFG(l.t))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i)},62886:function(e,t,n){"use strict";n.d(t,{t:function(){return g}});var i,r=n(45435),a=n(28049),o=n(99385),s=n(37716),c=n(725),l=n(26411),u=n(99445),f=n(66632),d=n(45832),h=n(92937),p=n(86970),g=((i=function(){function e(t,n,i,r,a,o,s){_classCallCheck2(this,e),this.electronService=t,this.callSearchService=n,this.callTrackerService=i,this.conferenceService=r,this.snackBarService=a,this.tokenService=o,this.electronFixSnackBarService=s,this.notificationKeys={savingFailure:"saving_failure",clipboardNumberInvalid:"clipboard_number_invalid",noIncomingCall:"no_incoming_call",noCallInProgress:"no_call_in_progress"},this.initObservables()}return _createClass2(e,[{key:"stopReservedHotkey",value:function(e){var t="stop-reserved-hotkey";this.isOldApi()?this.electronService.ipcRenderer.send(t,e):this.electronService.electronApi&&this.electronService.electronApi.send(t,e)}},{key:"enableDisableReservedHotkey",value:function(e){var t="enable-disable-reserved-hotkey";this.isOldApi()?this.electronService.ipcRenderer.send(t,e):this.electronService.electronApi&&this.electronService.electronApi.send(t,e)}},{key:"registerUserHotkeys",value:function(e){var t="user-hotkeys";this.isOldApi()?this.electronService.ipcRenderer.send(t,e):this.electronService.electronApi.send(t,e)}},{key:"registerHotkey",value:function(e){var t=this,n="register-user-hotkey",i="user-hotkey-registered";return new Promise(function(r){t.isOldApi()?(t.electronService.ipcRenderer.send(n,e),t.electronService.ipcRenderer.on(i,function(e,t){r(t)})):t.electronService.electronApi&&(t.electronService.electronApi.send(n,e),t.electronService.electronApi.receive(i,function(e){r(e)}))})}},{key:"requestReservedHotkeys",value:function(e){var t="request-reserved-hotkeys",n="reserved-hotkeys-list";this.isOldApi()?(this.electronService.ipcRenderer.removeAllListeners(n),this.electronService.ipcRenderer.send(t),this.electronService.ipcRenderer.on(n,function(t,n){e(n)})):this.electronService.electronApi&&(this.electronService.electronApi.send(t),this.electronService.electronApi.receive(n,function(t){e(t)}))}},{key:"isDesktopApp",value:function(){return this.electronService.desktop}},{key:"isOldApi",value:function(){return this.electronService.isOldApi}},{key:"unregisterGlobalShortcuts",value:function(){var e="unregister-user-hotkeys";this.isOldApi()?this.electronService.ipcRenderer.send(e):this.electronService.electronApi&&this.electronService.electronApi.send(e)}},{key:"initObservables",value:function(){!this.isDesktopApp()||(this.observeElectronEvents(),this.observeIncomingCalls(),this.observeLogoutEvent())}},{key:"observeIncomingCalls",value:function(){var e=this;this.callTrackerService.incomingCalls$.subscribe(function(t){e.incomingCallerId=t.length?t[0].callItem.callId:""})}},{key:"observeLogoutEvent",value:function(){var e=this;this.tokenService.token$.pipe((0,r.h)(function(e){return!e})).subscribe(function(){e.unregisterGlobalShortcuts()})}},{key:"observeElectronEvents",value:function(){var e=this;this.electronService.isOldApi?(this.electronService.ipcRenderer.on("hotkey-dial",function(t){e.makeCallToNumberFromClipboard(t)}),this.electronService.ipcRenderer.on("hotkey-accept",function(){e.acceptIncomingCall()}),this.electronService.ipcRenderer.on("hotkey-hangup",function(){e.hangUpCall()}),this.electronService.ipcRenderer.on("user-hotkey-registration-failed",function(){e.notifyUser(e.notificationKeys.savingFailure)})):this.electronService.electronApi&&(this.electronService.electronApi.receive("hotkey-dial",function(t){e.makeCallToNumberFromClipboard(t)}),this.electronService.electronApi.receive("hotkey-accept",function(){e.acceptIncomingCall()}),this.electronService.electronApi.receive("hotkey-hangup",function(){e.hangUpCall()}),this.electronService.electronApi.receive("user-hotkey-registration-failed",function(){e.notifyUser(e.notificationKeys.savingFailure)}))}},{key:"makeCallToNumberFromClipboard",value:function(e){(0,o.e$)(e)?this.callSearchService.callSearchString(e):this.notifyUser(this.notificationKeys.clipboardNumberInvalid)}},{key:"acceptIncomingCall",value:function(){this.incomingCallerId?this.callTrackerService.answerCall(this.incomingCallerId):this.notifyUser(this.notificationKeys.noIncomingCall)}},{key:"hangUpCall",value:function(){var e=this;this.callTrackerService.activeCall$.pipe((0,a.P)()).subscribe(function(t){t?e.callTrackerService.terminateCall(t.callId):e.notifyUser(e.notificationKeys.noCallInProgress)}).unsubscribe()}},{key:"notifyUser",value:function(e){this.electronFixSnackBarService.notifyUser(e)}}]),e}()).\u0275fac=function(e){return new(e||i)(s.LFG(c.d),s.LFG(l.f),s.LFG(u.k),s.LFG(f.Z),s.LFG(d.c),s.LFG(h.B),s.LFG(p.l))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i)},51681:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var i=n(37716),r=n(725),a=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.electronService=t}return _createClass2(e,[{key:"canActivate",value:function(){return this.electronService.desktop}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.d))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}()},68409:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var i=n(3679),r=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"either",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=[];return t.forEach(function(t){n.push(t(e))}),n.some(function(e){return null===e})?null:i.kI.compose(t)(e)}}}]),e}()},36896:function(e,t,n){var i={"./af-NA.js":[11758,11758],"./af.js":[64347,64347],"./agq.js":[79399,79399],"./ak.js":[60826,60826],"./am.js":[81766,81766],"./ar-AE.js":[24058,24058],"./ar-BH.js":[13338,13338],"./ar-DJ.js":[8713,8713],"./ar-DZ.js":[74186,74186],"./ar-EG.js":[62392,62392],"./ar-EH.js":[42385,42385],"./ar-ER.js":[54793,54793],"./ar-IL.js":[1941,1941],"./ar-IQ.js":[74123,74123],"./ar-JO.js":[37927,37927],"./ar-KM.js":[58043,58043],"./ar-KW.js":[35643,35643],"./ar-LB.js":[6717,6717],"./ar-LY.js":[98030,98030],"./ar-MA.js":[58898,58898],"./ar-MR.js":[54802,54802],"./ar-OM.js":[52854,52854],"./ar-PS.js":[25850,25850],"./ar-QA.js":[43946,43946],"./ar-SA.js":[40253,40253],"./ar-SD.js":[8159,8159],"./ar-SO.js":[23492,23492],"./ar-SS.js":[46123,46123],"./ar-SY.js":[39872,39872],"./ar-TD.js":[98345,98345],"./ar-TN.js":[5775,5775],"./ar-YE.js":[77738,77738],"./ar.js":[22194,22194],"./as.js":[18856,18856],"./asa.js":[35008,35008],"./ast.js":[45493,45493],"./az-Cyrl.js":[34629,34629],"./az-Latn.js":[19892,19892],"./az.js":[22681,22681],"./bas.js":[6149,6149],"./be.js":[99806,99806],"./bem.js":[55158,55158],"./bez.js":[2365,2365],"./bg.js":[2075,2075],"./bm.js":[72201,72201],"./bn-IN.js":[10473,10473],"./bn.js":[82715,82715],"./bo-IN.js":[58920,58920],"./bo.js":[78715,78715],"./br.js":[1049,1049],"./brx.js":[48194,48194],"./bs-Cyrl.js":[13070,13070],"./bs-Latn.js":[89191,89191],"./bs.js":[3207,3207],"./ca-AD.js":[25885,25885],"./ca-ES-VALENCIA.js":[43242,43242],"./ca-FR.js":[44182,44182],"./ca-IT.js":[97657,97657],"./ca.js":[85153,85153],"./ccp-IN.js":[69198,69198],"./ccp.js":[57650,57650],"./ce.js":[19406,19406],"./ceb.js":[18145,18145],"./cgg.js":[63802,63802],"./chr.js":[67668,67668],"./ckb-IR.js":[24237,24237],"./ckb.js":[64395,64395],"./cs.js":[41375,41375],"./cu.js":[14927,14927],"./cy.js":[63368,63368],"./da-GL.js":[941,941],"./da.js":[24795,24795],"./dav.js":[94274,94274],"./de-AT.js":[93606,93606],"./de-BE.js":[15650,15650],"./de-CH.js":[26520,26520],"./de-IT.js":[88225,88225],"./de-LI.js":[56231,56231],"./de-LU.js":[82491,82491],"./de.js":[4175,4175],"./dje.js":[11806,11806],"./dsb.js":[50306,50306],"./dua.js":[56637,56637],"./dyo.js":[11149,11149],"./dz.js":[54027,54027],"./ebu.js":[28276,28276],"./ee-TG.js":[84154,84154],"./ee.js":[75169,75169],"./el-CY.js":[98757,98757],"./el.js":[49421,49421],"./en-001.js":[75298,75298],"./en-150.js":[59098,59098],"./en-AE.js":[83850,83850],"./en-AG.js":[98221,98221],"./en-AI.js":[94134,94134],"./en-AS.js":[28526,28526],"./en-AT.js":[38256,38256],"./en-AU.js":[33945,33945],"./en-BB.js":[13384,13384],"./en-BE.js":[24571,24571],"./en-BI.js":[68194,68194],"./en-BM.js":[25297,25297],"./en-BS.js":[50543,50543],"./en-BW.js":[65267,65267],"./en-BZ.js":[27408,27408],"./en-CA.js":[75913,75913],"./en-CC.js":[4318,4318],"./en-CH.js":[17970,17970],"./en-CK.js":[93207,93207],"./en-CM.js":[48626,48626],"./en-CX.js":[16622,16622],"./en-CY.js":[84090,84090],"./en-DE.js":[47452,47452],"./en-DG.js":[88108,88108],"./en-DK.js":[18214,18214],"./en-DM.js":[78669,78669],"./en-ER.js":[96750,96750],"./en-FI.js":[89999,89999],"./en-FJ.js":[99148,99148],"./en-FK.js":[94854,94854],"./en-FM.js":[41352,41352],"./en-GB.js":[6141,6141],"./en-GD.js":[43759,43759],"./en-GG.js":[15455,15455],"./en-GH.js":[18415,18415],"./en-GI.js":[93624,93624],"./en-GM.js":[74777,74777],"./en-GU.js":[90275,90275],"./en-GY.js":[74978,74978],"./en-HK.js":[10050,10050],"./en-IE.js":[78523,78523],"./en-IL.js":[83714,83714],"./en-IM.js":[72387,72387],"./en-IN.js":[57429,57429],"./en-IO.js":[17173,17173],"./en-JE.js":[40787,40787],"./en-JM.js":[20768,20768],"./en-KE.js":[95778,95778],"./en-KI.js":[31507,31507],"./en-KN.js":[61225,61225],"./en-KY.js":[31103,31103],"./en-LC.js":[36973,36973],"./en-LR.js":[13213,13213],"./en-LS.js":[893,893],"./en-MG.js":[89998,89998],"./en-MH.js":[81841,81841],"./en-MO.js":[21771,21771],"./en-MP.js":[43678,43678],"./en-MS.js":[76310,76310],"./en-MT.js":[32663,32663],"./en-MU.js":[37522,37522],"./en-MW.js":[13408,13408],"./en-MY.js":[58271,58271],"./en-NA.js":[4795,4795],"./en-NF.js":[64804,64804],"./en-NG.js":[32989,32989],"./en-NL.js":[83732,83732],"./en-NR.js":[9348,9348],"./en-NU.js":[46616,46616],"./en-NZ.js":[70079,70079],"./en-PG.js":[66613,66613],"./en-PH.js":[83986,83986],"./en-PK.js":[60614,60614],"./en-PN.js":[23467,23467],"./en-PR.js":[54555,54555],"./en-PW.js":[3707,3707],"./en-RW.js":[72302,72302],"./en-SB.js":[57117,57117],"./en-SC.js":[88234,54756],"./en-SD.js":[92843,92843],"./en-SE.js":[96204,96204],"./en-SG.js":[53102,53102],"./en-SH.js":[46812,46812],"./en-SI.js":[68224,68224],"./en-SL.js":[51814,51814],"./en-SS.js":[56066,56066],"./en-SX.js":[64427,64427],"./en-SZ.js":[47773,47773],"./en-TC.js":[17060,17060],"./en-TK.js":[42640,42640],"./en-TO.js":[95840,95840],"./en-TT.js":[73305,73305],"./en-TV.js":[97901,97901],"./en-TZ.js":[86014,86014],"./en-UG.js":[32613,32613],"./en-UM.js":[98014,98014],"./en-US-POSIX.js":[3700,3700],"./en-VC.js":[60594,60594],"./en-VG.js":[80372,80372],"./en-VI.js":[24207,24207],"./en-VU.js":[50340,50340],"./en-WS.js":[40182,40182],"./en-ZA.js":[33875,33875],"./en-ZM.js":[87613,87613],"./en-ZW.js":[25062,25062],"./en.js":[3929,3929],"./eo.js":[22573,22573],"./es-419.js":[38597,38597],"./es-AR.js":[30248,30248],"./es-BO.js":[63479,63479],"./es-BR.js":[9111,9111],"./es-BZ.js":[70912,70912],"./es-CL.js":[13130,13130],"./es-CO.js":[21299,21299],"./es-CR.js":[12668,12668],"./es-CU.js":[54745,2343],"./es-DO.js":[83615,83615],"./es-EA.js":[25743,25743],"./es-EC.js":[21228,21228],"./es-GQ.js":[4394,4394],"./es-GT.js":[92591,92591],"./es-HN.js":[51294,51294],"./es-IC.js":[2750,2750],"./es-MX.js":[73394,73394],"./es-NI.js":[4285,4285],"./es-PA.js":[64580,64580],"./es-PE.js":[31360,31360],"./es-PH.js":[58123,58123],"./es-PR.js":[38306,38306],"./es-PY.js":[71428,71428],"./es-SV.js":[37101,37101],"./es-US.js":[39410,39410],"./es-UY.js":[64829,64829],"./es-VE.js":[43015,43015],"./es.js":[90441,90441],"./et.js":[32333,32333],"./eu.js":[49182,49182],"./ewo.js":[99914,99914],"./extra/af-NA.js":[41417,41417],"./extra/af.js":[76536,76536],"./extra/agq.js":[36737,36737],"./extra/ak.js":[76626,76626],"./extra/am.js":[67417,67417],"./extra/ar-AE.js":[98469,98469],"./extra/ar-BH.js":[41167,41167],"./extra/ar-DJ.js":[24421,24421],"./extra/ar-DZ.js":[80273,80273],"./extra/ar-EG.js":[5175,5175],"./extra/ar-EH.js":[85823,85823],"./extra/ar-ER.js":[91989,91989],"./extra/ar-IL.js":[9759,9759],"./extra/ar-IQ.js":[1093,1093],"./extra/ar-JO.js":[31930,31930],"./extra/ar-KM.js":[53101,53101],"./extra/ar-KW.js":[41296,41296],"./extra/ar-LB.js":[54067,54067],"./extra/ar-LY.js":[88520,88520],"./extra/ar-MA.js":[73245,73245],"./extra/ar-MR.js":[85186,85186],"./extra/ar-OM.js":[58200,58200],"./extra/ar-PS.js":[340,340],"./extra/ar-QA.js":[94212,94212],"./extra/ar-SA.js":[8281,8281],"./extra/ar-SD.js":[79770,79770],"./extra/ar-SO.js":[83194,83194],"./extra/ar-SS.js":[4395,4395],"./extra/ar-SY.js":[30387,30387],"./extra/ar-TD.js":[8681,8681],"./extra/ar-TN.js":[19459,19459],"./extra/ar-YE.js":[23005,23005],"./extra/ar.js":[61832,8676],"./extra/as.js":[3823,3823],"./extra/asa.js":[23359,23359],"./extra/ast.js":[33374,33374],"./extra/az-Cyrl.js":[45027,45027],"./extra/az-Latn.js":[6094,6094],"./extra/az.js":[9567,9567],"./extra/bas.js":[97184,97184],"./extra/be.js":[83639,83639],"./extra/bem.js":[10240,10240],"./extra/bez.js":[30477,30477],"./extra/bg.js":[16211,16211],"./extra/bm.js":[786,786],"./extra/bn-IN.js":[3451,3451],"./extra/bn.js":[20807,20807],"./extra/bo-IN.js":[26611,26611],"./extra/bo.js":[30358,30358],"./extra/br.js":[9050,9050],"./extra/brx.js":[69904,69904],"./extra/bs-Cyrl.js":[73336,73336],"./extra/bs-Latn.js":[84952,84952],"./extra/bs.js":[59434,59434],"./extra/ca-AD.js":[88867,88867],"./extra/ca-ES-VALENCIA.js":[55931,55931],"./extra/ca-FR.js":[83177,83177],"./extra/ca-IT.js":[3932,3932],"./extra/ca.js":[27641,27641],"./extra/ccp-IN.js":[52055,52055],"./extra/ccp.js":[30605,30605],"./extra/ce.js":[93083,93083],"./extra/ceb.js":[14405,14405],"./extra/cgg.js":[33529,33529],"./extra/chr.js":[43685,43685],"./extra/ckb-IR.js":[51121,51121],"./extra/ckb.js":[76019,76019],"./extra/cs.js":[82578,82578],"./extra/cu.js":[20010,20010],"./extra/cy.js":[60979,60979],"./extra/da-GL.js":[53684,53684],"./extra/da.js":[29377,29377],"./extra/dav.js":[28083,28083],"./extra/de-AT.js":[10180,10180],"./extra/de-BE.js":[2263,2263],"./extra/de-CH.js":[29235,29235],"./extra/de-IT.js":[12523,12523],"./extra/de-LI.js":[24686,24686],"./extra/de-LU.js":[96526,96526],"./extra/de.js":[13508,13508],"./extra/dje.js":[3501,3501],"./extra/dsb.js":[43750,43750],"./extra/dua.js":[83587,83587],"./extra/dyo.js":[82015,82015],"./extra/dz.js":[75261,75261],"./extra/ebu.js":[34445,34445],"./extra/ee-TG.js":[17367,17367],"./extra/ee.js":[50843,50843],"./extra/el-CY.js":[8611,68162],"./extra/el.js":[45123,45123],"./extra/en-001.js":[61411,61411],"./extra/en-150.js":[47297,47297],"./extra/en-AE.js":[86511,86511],"./extra/en-AG.js":[23477,23477],"./extra/en-AI.js":[17596,17596],"./extra/en-AS.js":[63625,63625],"./extra/en-AT.js":[31026,31026],"./extra/en-AU.js":[25224,25224],"./extra/en-BB.js":[18799,18799],"./extra/en-BE.js":[61447,61447],"./extra/en-BI.js":[78739,78739],"./extra/en-BM.js":[65002,65002],"./extra/en-BS.js":[73114,73114],"./extra/en-BW.js":[2693,2693],"./extra/en-BZ.js":[65527,65527],"./extra/en-CA.js":[92074,92074],"./extra/en-CC.js":[83879,83879],"./extra/en-CH.js":[80742,80742],"./extra/en-CK.js":[9742,9742],"./extra/en-CM.js":[27076,27076],"./extra/en-CX.js":[31674,31674],"./extra/en-CY.js":[89164,95818],"./extra/en-DE.js":[16067,16067],"./extra/en-DG.js":[47985,47985],"./extra/en-DK.js":[29695,29695],"./extra/en-DM.js":[28690,28690],"./extra/en-ER.js":[82667,82667],"./extra/en-FI.js":[92540,92540],"./extra/en-FJ.js":[36342,36342],"./extra/en-FK.js":[42603,42603],"./extra/en-FM.js":[85094,85094],"./extra/en-GB.js":[43268,43268],"./extra/en-GD.js":[64828,64828],"./extra/en-GG.js":[36503,36503],"./extra/en-GH.js":[10245,10245],"./extra/en-GI.js":[8254,8254],"./extra/en-GM.js":[71638,71638],"./extra/en-GU.js":[60263,60263],"./extra/en-GY.js":[21541,21541],"./extra/en-HK.js":[63045,63045],"./extra/en-IE.js":[26892,26892],"./extra/en-IL.js":[97842,97842],"./extra/en-IM.js":[29039,29039],"./extra/en-IN.js":[34032,34032],"./extra/en-IO.js":[94328,94328],"./extra/en-JE.js":[31359,31359],"./extra/en-JM.js":[673,673],"./extra/en-KE.js":[48693,48693],"./extra/en-KI.js":[16586,16586],"./extra/en-KN.js":[69040,69040],"./extra/en-KY.js":[32859,32859],"./extra/en-LC.js":[78846,78846],"./extra/en-LR.js":[57318,57318],"./extra/en-LS.js":[768,768],"./extra/en-MG.js":[35560,35560],"./extra/en-MH.js":[22466,22466],"./extra/en-MO.js":[10393,10393],"./extra/en-MP.js":[67500,67500],"./extra/en-MS.js":[2310,2310],"./extra/en-MT.js":[15681,15681],"./extra/en-MU.js":[67653,67653],"./extra/en-MW.js":[99175,99175],"./extra/en-MY.js":[77452,16015],"./extra/en-NA.js":[7274,7274],"./extra/en-NF.js":[41019,41019],"./extra/en-NG.js":[38822,38822],"./extra/en-NL.js":[31781,31781],"./extra/en-NR.js":[46750,46750],"./extra/en-NU.js":[65311,65311],"./extra/en-NZ.js":[74218,74218],"./extra/en-PG.js":[40415,40415],"./extra/en-PH.js":[34766,34766],"./extra/en-PK.js":[39491,39491],"./extra/en-PN.js":[30549,30549],"./extra/en-PR.js":[51440,51440],"./extra/en-PW.js":[81860,81860],"./extra/en-RW.js":[72699,72699],"./extra/en-SB.js":[30260,30260],"./extra/en-SC.js":[61389,61389],"./extra/en-SD.js":[68769,68769],"./extra/en-SE.js":[71798,71798],"./extra/en-SG.js":[3120,3120],"./extra/en-SH.js":[13577,13577],"./extra/en-SI.js":[5071,5071],"./extra/en-SL.js":[23371,23371],"./extra/en-SS.js":[57846,57846],"./extra/en-SX.js":[4538,4538],"./extra/en-SZ.js":[22014,22014],"./extra/en-TC.js":[56220,56220],"./extra/en-TK.js":[36546,36546],"./extra/en-TO.js":[68511,68511],"./extra/en-TT.js":[5817,5817],"./extra/en-TV.js":[85054,85054],"./extra/en-TZ.js":[61606,61606],"./extra/en-UG.js":[32223,32223],"./extra/en-UM.js":[52200,52200],"./extra/en-US-POSIX.js":[35058,35058],"./extra/en-VC.js":[73025,73025],"./extra/en-VG.js":[4414,4414],"./extra/en-VI.js":[67476,67476],"./extra/en-VU.js":[37484,37484],"./extra/en-WS.js":[74674,74674],"./extra/en-ZA.js":[73894,73894],"./extra/en-ZM.js":[64416,64416],"./extra/en-ZW.js":[75466,75466],"./extra/en.js":[25837,25837],"./extra/eo.js":[92516,92516],"./extra/es-419.js":[25247,25247],"./extra/es-AR.js":[14069,14069],"./extra/es-BO.js":[41527,41527],"./extra/es-BR.js":[2752,2752],"./extra/es-BZ.js":[49411,49411],"./extra/es-CL.js":[58655,58655],"./extra/es-CO.js":[92567,92567],"./extra/es-CR.js":[37403,37403],"./extra/es-CU.js":[53694,53694],"./extra/es-DO.js":[12990,12990],"./extra/es-EA.js":[72492,72492],"./extra/es-EC.js":[10805,10805],"./extra/es-GQ.js":[73163,73163],"./extra/es-GT.js":[82415,82415],"./extra/es-HN.js":[48363,48363],"./extra/es-IC.js":[56293,56293],"./extra/es-MX.js":[88247,88247],"./extra/es-NI.js":[63140,63140],"./extra/es-PA.js":[80047,80047],"./extra/es-PE.js":[5298,5298],"./extra/es-PH.js":[84553,84553],"./extra/es-PR.js":[139,139],"./extra/es-PY.js":[96619,96619],"./extra/es-SV.js":[26936,26936],"./extra/es-US.js":[54406,54406],"./extra/es-UY.js":[40512,40512],"./extra/es-VE.js":[43112,43112],"./extra/es.js":[70973,70973],"./extra/et.js":[37720,37720],"./extra/eu.js":[43280,43280],"./extra/ewo.js":[49335,49335],"./extra/fa-AF.js":[81150,81150],"./extra/fa.js":[42993,42993],"./extra/ff-CM.js":[25177,25177],"./extra/ff-GN.js":[83245,83245],"./extra/ff-Latn-BF.js":[34736,34736],"./extra/ff-Latn-CM.js":[85206,85206],"./extra/ff-Latn-GH.js":[79927,79927],"./extra/ff-Latn-GM.js":[4831,4831],"./extra/ff-Latn-GN.js":[99773,99773],"./extra/ff-Latn-GW.js":[30790,30790],"./extra/ff-Latn-LR.js":[99966,99966],"./extra/ff-Latn-MR.js":[12227,12227],"./extra/ff-Latn-NE.js":[26618,26618],"./extra/ff-Latn-NG.js":[88934,88934],"./extra/ff-Latn-SL.js":[36782,36782],"./extra/ff-Latn.js":[80291,80291],"./extra/ff-MR.js":[78773,78773],"./extra/ff.js":[80757,80757],"./extra/fi.js":[41274,41274],"./extra/fil.js":[94246,94246],"./extra/fo-DK.js":[62154,62154],"./extra/fo.js":[1473,1473],"./extra/fr-BE.js":[19253,19253],"./extra/fr-BF.js":[25892,25892],"./extra/fr-BI.js":[57574,57574],"./extra/fr-BJ.js":[41098,41098],"./extra/fr-BL.js":[73760,73760],"./extra/fr-CA.js":[83027,83027],"./extra/fr-CD.js":[94469,94469],"./extra/fr-CF.js":[12943,12943],"./extra/fr-CG.js":[4779,4779],"./extra/fr-CH.js":[30235,30235],"./extra/fr-CI.js":[55235,55235],"./extra/fr-CM.js":[27287,27287],"./extra/fr-DJ.js":[96336,96336],"./extra/fr-DZ.js":[12284,12284],"./extra/fr-GA.js":[70371,70371],"./extra/fr-GF.js":[62,62],"./extra/fr-GN.js":[89978,89978],"./extra/fr-GP.js":[6893,6893],"./extra/fr-GQ.js":[98789,98789],"./extra/fr-HT.js":[5816,5816],"./extra/fr-KM.js":[27250,27250],"./extra/fr-LU.js":[63703,63703],"./extra/fr-MA.js":[33726,33726],"./extra/fr-MC.js":[36993,36993],"./extra/fr-MF.js":[32133,32133],"./extra/fr-MG.js":[60114,60114],"./extra/fr-ML.js":[39209,39209],"./extra/fr-MQ.js":[65173,65173],"./extra/fr-MR.js":[70718,70718],"./extra/fr-MU.js":[57044,96780],"./extra/fr-NC.js":[20638,20638],"./extra/fr-NE.js":[79516,79516],"./extra/fr-PF.js":[12988,12988],"./extra/fr-PM.js":[67038,67038],"./extra/fr-RE.js":[70721,70721],"./extra/fr-RW.js":[63717,63717],"./extra/fr-SC.js":[76849,76849],"./extra/fr-SN.js":[97713,97713],"./extra/fr-SY.js":[60911,60911],"./extra/fr-TD.js":[70642,70642],"./extra/fr-TG.js":[67076,67076],"./extra/fr-TN.js":[27047,27047],"./extra/fr-VU.js":[5564,46470],"./extra/fr-WF.js":[4770,4770],"./extra/fr-YT.js":[47374,47374],"./extra/fr.js":[33913,33913],"./extra/fur.js":[89413,89413],"./extra/fy.js":[60762,60762],"./extra/ga-GB.js":[61208,61208],"./extra/ga.js":[55040,55040],"./extra/gd.js":[98971,98971],"./extra/gl.js":[59626,59626],"./extra/gsw-FR.js":[54006,54006],"./extra/gsw-LI.js":[69521,69521],"./extra/gsw.js":[47975,47975],"./extra/gu.js":[11064,76321],"./extra/guz.js":[17844,17844],"./extra/gv.js":[59146,59146],"./extra/ha-GH.js":[85007,85007],"./extra/ha-NE.js":[30164,30164],"./extra/ha.js":[92765,92765],"./extra/haw.js":[90993,90993],"./extra/he.js":[5830,5830],"./extra/hi.js":[38146,38146],"./extra/hr-BA.js":[78511,78511],"./extra/hr.js":[86479,86479],"./extra/hsb.js":[93067,93067],"./extra/hu.js":[55148,55148],"./extra/hy.js":[79364,79364],"./extra/ia.js":[85361,85361],"./extra/id.js":[61810,61810],"./extra/ig.js":[62531,62531],"./extra/ii.js":[34337,34337],"./extra/is.js":[80882,80882],"./extra/it-CH.js":[39431,39431],"./extra/it-SM.js":[94711,49090],"./extra/it-VA.js":[1558,1558],"./extra/it.js":[306,306],"./extra/ja.js":[84628,84628],"./extra/jgo.js":[97072,97072],"./extra/jmc.js":[34780,34780],"./extra/jv.js":[9481,9481],"./extra/ka.js":[63093,63093],"./extra/kab.js":[23724,23724],"./extra/kam.js":[92192,92192],"./extra/kde.js":[98330,98330],"./extra/kea.js":[76171,76171],"./extra/khq.js":[73863,73863],"./extra/ki.js":[21481,21481],"./extra/kk.js":[10743,10743],"./extra/kkj.js":[31915,31915],"./extra/kl.js":[58007,58007],"./extra/kln.js":[61666,61666],"./extra/km.js":[49590,49590],"./extra/kn.js":[32336,32336],"./extra/ko-KP.js":[5834,5834],"./extra/ko.js":[97393,97393],"./extra/kok.js":[58530,58530],"./extra/ks-Arab.js":[79175,79175],"./extra/ks.js":[27807,27807],"./extra/ksb.js":[75443,75443],"./extra/ksf.js":[22203,22203],"./extra/ksh.js":[55926,55926],"./extra/ku.js":[31937,31937],"./extra/kw.js":[18115,18115],"./extra/ky.js":[83299,83299],"./extra/lag.js":[18336,18336],"./extra/lb.js":[53385,53385],"./extra/lg.js":[48943,48943],"./extra/lkt.js":[12242,12242],"./extra/ln-AO.js":[58473,58473],"./extra/ln-CF.js":[40491,40491],"./extra/ln-CG.js":[5812,5812],"./extra/ln.js":[28805,28805],"./extra/lo.js":[9565,9565],"./extra/lrc-IQ.js":[49094,49094],"./extra/lrc.js":[38338,38338],"./extra/lt.js":[76725,76725],"./extra/lu.js":[4996,4996],"./extra/luo.js":[14545,14545],"./extra/luy.js":[67990,67990],"./extra/lv.js":[48337,48337],"./extra/mas-TZ.js":[80606,80606],"./extra/mas.js":[83866,83866],"./extra/mer.js":[26102,26102],"./extra/mfe.js":[3768,3768],"./extra/mg.js":[14271,14271],"./extra/mgh.js":[65755,65755],"./extra/mgo.js":[63515,63515],"./extra/mi.js":[28712,28712],"./extra/mk.js":[53796,53796],"./extra/ml.js":[48795,48795],"./extra/mn.js":[86503,86503],"./extra/mr.js":[81563,81563],"./extra/ms-BN.js":[57444,57444],"./extra/ms-SG.js":[75705,36632],"./extra/ms.js":[18488,18488],"./extra/mt.js":[77466,77466],"./extra/mua.js":[53894,53894],"./extra/my.js":[6686,6686],"./extra/mzn.js":[19643,19643],"./extra/naq.js":[30444,30444],"./extra/nb-SJ.js":[75969,75969],"./extra/nb.js":[55402,55402],"./extra/nd.js":[68723,68723],"./extra/nds-NL.js":[59349,59349],"./extra/nds.js":[5897,5897],"./extra/ne-IN.js":[60546,60546],"./extra/ne.js":[34261,34261],"./extra/nl-AW.js":[69044,69044],"./extra/nl-BE.js":[57807,57807],"./extra/nl-BQ.js":[72271,72271],"./extra/nl-CW.js":[67861,67861],"./extra/nl-SR.js":[18195,18195],"./extra/nl-SX.js":[12585,12585],"./extra/nl.js":[7485,7485],"./extra/nmg.js":[14210,14210],"./extra/nn.js":[28261,28261],"./extra/nnh.js":[99454,99454],"./extra/nus.js":[75829,75829],"./extra/nyn.js":[79795,79795],"./extra/om-KE.js":[97140,97140],"./extra/om.js":[19080,19080],"./extra/or.js":[40954,40954],"./extra/os-RU.js":[97315,97315],"./extra/os.js":[18162,18162],"./extra/pa-Arab.js":[85328,85328],"./extra/pa-Guru.js":[77258,77258],"./extra/pa.js":[22094,22094],"./extra/pl.js":[99362,99362],"./extra/prg.js":[85578,85578],"./extra/ps-PK.js":[80419,80419],"./extra/ps.js":[45866,45866],"./extra/pt-AO.js":[56001,56001],"./extra/pt-CH.js":[81896,81896],"./extra/pt-CV.js":[72230,72230],"./extra/pt-GQ.js":[36639,36639],"./extra/pt-GW.js":[90593,90593],"./extra/pt-LU.js":[87823,87823],"./extra/pt-MO.js":[92066,92066],"./extra/pt-MZ.js":[22867,22867],"./extra/pt-PT.js":[52366,52366],"./extra/pt-ST.js":[28918,28918],"./extra/pt-TL.js":[48838,48838],"./extra/pt.js":[38242,38242],"./extra/qu-BO.js":[37020,37020],"./extra/qu-EC.js":[13174,13174],"./extra/qu.js":[28912,28912],"./extra/rm.js":[11688,11688],"./extra/rn.js":[40051,40051],"./extra/ro-MD.js":[18902,18902],"./extra/ro.js":[8389,8389],"./extra/rof.js":[13155,13155],"./extra/root.js":[54122,54122],"./extra/ru-BY.js":[46696,46696],"./extra/ru-KG.js":[1086,1086],"./extra/ru-KZ.js":[39724,39724],"./extra/ru-MD.js":[79441,79441],"./extra/ru-UA.js":[8502,8502],"./extra/ru.js":[2284,2284],"./extra/rw.js":[69514,69514],"./extra/rwk.js":[75293,75293],"./extra/sah.js":[93773,93773],"./extra/saq.js":[81681,81681],"./extra/sbp.js":[93899,93899],"./extra/sd-Arab.js":[7501,7501],"./extra/sd.js":[53337,53337],"./extra/se-FI.js":[99712,99712],"./extra/se-SE.js":[14703,14703],"./extra/se.js":[39559,39559],"./extra/seh.js":[24405,24405],"./extra/ses.js":[182,182],"./extra/sg.js":[69399,69399],"./extra/shi-Latn.js":[73281,73281],"./extra/shi-Tfng.js":[52581,52581],"./extra/shi.js":[41958,41958],"./extra/si.js":[77724,77724],"./extra/sk.js":[70244,70244],"./extra/sl.js":[21717,21717],"./extra/smn.js":[65927,65927],"./extra/sn.js":[57721,57721],"./extra/so-DJ.js":[19995,19995],"./extra/so-ET.js":[31037,31037],"./extra/so-KE.js":[69351,69351],"./extra/so.js":[50605,50605],"./extra/sq-MK.js":[29802,29802],"./extra/sq-XK.js":[46914,46914],"./extra/sq.js":[52546,52546],"./extra/sr-Cyrl-BA.js":[69750,69750],"./extra/sr-Cyrl-ME.js":[35722,35722],"./extra/sr-Cyrl-XK.js":[3493,3493],"./extra/sr-Cyrl.js":[81889,81889],"./extra/sr-Latn-BA.js":[40269,40269],"./extra/sr-Latn-ME.js":[48533,48533],"./extra/sr-Latn-XK.js":[91857,91857],"./extra/sr-Latn.js":[95678,95678],"./extra/sr.js":[56324,56324],"./extra/sv-AX.js":[63337,63337],"./extra/sv-FI.js":[31133,31133],"./extra/sv.js":[91008,91008],"./extra/sw-CD.js":[44596,44596],"./extra/sw-KE.js":[96125,96125],"./extra/sw-UG.js":[8171,8171],"./extra/sw.js":[13032,13032],"./extra/ta-LK.js":[24758,24758],"./extra/ta-MY.js":[46723,46723],"./extra/ta-SG.js":[9426,9426],"./extra/ta.js":[11571,11571],"./extra/te.js":[18717,18717],"./extra/teo-KE.js":[55498,55498],"./extra/teo.js":[92283,92283],"./extra/tg.js":[31700,31700],"./extra/th.js":[52150,52150],"./extra/ti-ER.js":[81751,81751],"./extra/ti.js":[82606,32798],"./extra/tk.js":[39696,39696],"./extra/to.js":[71710,71710],"./extra/tr-CY.js":[89005,89005],"./extra/tr.js":[10474,10474],"./extra/tt.js":[45025,45025],"./extra/twq.js":[3081,3081],"./extra/tzm.js":[16416,16416],"./extra/ug.js":[81633,81633],"./extra/uk.js":[71225,71225],"./extra/ur-IN.js":[86170,86170],"./extra/ur.js":[9154,9154],"./extra/uz-Arab.js":[90031,90031],"./extra/uz-Cyrl.js":[82608,82608],"./extra/uz-Latn.js":[82986,82986],"./extra/uz.js":[43463,43463],"./extra/vai-Latn.js":[31293,31293],"./extra/vai-Vaii.js":[76371,76371],"./extra/vai.js":[30938,30938],"./extra/vi.js":[38898,38898],"./extra/vo.js":[35487,35487],"./extra/vun.js":[42633,42633],"./extra/wae.js":[42132,42132],"./extra/wo.js":[17637,17637],"./extra/xh.js":[20573,20573],"./extra/xog.js":[66959,66959],"./extra/yav.js":[23860,23860],"./extra/yi.js":[3365,3365],"./extra/yo-BJ.js":[58402,58402],"./extra/yo.js":[39478,39478],"./extra/yue-Hans.js":[385,385],"./extra/yue-Hant.js":[81395,81395],"./extra/yue.js":[38361,38361],"./extra/zgh.js":[59243,59243],"./extra/zh-Hans-HK.js":[76097,76097],"./extra/zh-Hans-MO.js":[1132,1132],"./extra/zh-Hans-SG.js":[35686,35686],"./extra/zh-Hans.js":[30598,30598],"./extra/zh-Hant-HK.js":[86914,86914],"./extra/zh-Hant-MO.js":[35625,35625],"./extra/zh-Hant.js":[88605,88605],"./extra/zh.js":[258,258],"./extra/zu.js":[59687,59687],"./fa-AF.js":[3242,3242],"./fa.js":[96707,96707],"./ff-CM.js":[42563,42563],"./ff-GN.js":[4016,4016],"./ff-Latn-BF.js":[63958,63958],"./ff-Latn-CM.js":[38415,38415],"./ff-Latn-GH.js":[50546,50546],"./ff-Latn-GM.js":[39531,39531],"./ff-Latn-GN.js":[87160,87160],"./ff-Latn-GW.js":[42849,42849],"./ff-Latn-LR.js":[66756,66756],"./ff-Latn-MR.js":[28207,28207],"./ff-Latn-NE.js":[99705,99705],"./ff-Latn-NG.js":[76945,76945],"./ff-Latn-SL.js":[77021,77021],"./ff-Latn.js":[92410,92410],"./ff-MR.js":[63086,63086],"./ff.js":[74028,74028],"./fi.js":[96985,96985],"./fil.js":[52872,52872],"./fo-DK.js":[81963,81963],"./fo.js":[75543,75543],"./fr-BE.js":[33841,33841],"./fr-BF.js":[56366,56366],"./fr-BI.js":[84065,84065],"./fr-BJ.js":[53651,53651],"./fr-BL.js":[72933,72933],"./fr-CA.js":[50730,50730],"./fr-CD.js":[55514,55514],"./fr-CF.js":[15850,15850],"./fr-CG.js":[40071,40071],"./fr-CH.js":[95067,95067],"./fr-CI.js":[90945,90945],"./fr-CM.js":[75283,75283],"./fr-DJ.js":[57516,57516],"./fr-DZ.js":[46712,46712],"./fr-GA.js":[70667,70667],"./fr-GF.js":[75152,75152],"./fr-GN.js":[51791,51791],"./fr-GP.js":[9724,9724],"./fr-GQ.js":[84046,84046],"./fr-HT.js":[81327,81327],"./fr-KM.js":[18157,18157],"./fr-LU.js":[91677,91677],"./fr-MA.js":[81691,81691],"./fr-MC.js":[98252,98252],"./fr-MF.js":[29036,29036],"./fr-MG.js":[81813,81813],"./fr-ML.js":[24691,24691],"./fr-MQ.js":[45733,45733],"./fr-MR.js":[21218,21218],"./fr-MU.js":[12466,12466],"./fr-NC.js":[29938,29938],"./fr-NE.js":[50702,50702],"./fr-PF.js":[83502,83502],"./fr-PM.js":[70629,70629],"./fr-RE.js":[29100,29100],"./fr-RW.js":[28897,28897],"./fr-SC.js":[49146,49146],"./fr-SN.js":[72867,72867],"./fr-SY.js":[36557,36557],"./fr-TD.js":[30551,30551],"./fr-TG.js":[40817,40817],"./fr-TN.js":[61985,61985],"./fr-VU.js":[60560,60560],"./fr-WF.js":[38875,38875],"./fr-YT.js":[36188,36188],"./fr.js":[9575,9575],"./fur.js":[75945,75945],"./fy.js":[60589,60589],"./ga-GB.js":[89693,89693],"./ga.js":[85767,85767],"./gd.js":[85535,85535],"./gl.js":[47385,47385],"./global/af-NA.js":[11986,11986],"./global/af.js":[46252,46252],"./global/agq.js":[93355,93355],"./global/ak.js":[34385,34385],"./global/am.js":[95517,95517],"./global/ar-AE.js":[62361,62361],"./global/ar-BH.js":[24670,24670],"./global/ar-DJ.js":[80170,80170],"./global/ar-DZ.js":[97748,97748],"./global/ar-EG.js":[9225,9225],"./global/ar-EH.js":[38209,38209],"./global/ar-ER.js":[35385,35385],"./global/ar-IL.js":[62107,62107],"./global/ar-IQ.js":[79435,79435],"./global/ar-JO.js":[92682,92682],"./global/ar-KM.js":[29283,29283],"./global/ar-KW.js":[48261,48261],"./global/ar-LB.js":[63605,63605],"./global/ar-LY.js":[43193,43193],"./global/ar-MA.js":[80653,80653],"./global/ar-MR.js":[47232,47232],"./global/ar-OM.js":[38015,88234],"./global/ar-PS.js":[75171,75171],"./global/ar-QA.js":[35376,35376],"./global/ar-SA.js":[11135,11135],"./global/ar-SD.js":[31294,31294],"./global/ar-SO.js":[81521,81521],"./global/ar-SS.js":[65814,65814],"./global/ar-SY.js":[20671,20671],"./global/ar-TD.js":[97696,97696],"./global/ar-TN.js":[16803,16803],"./global/ar-YE.js":[15764,15764],"./global/ar.js":[88367,88367],"./global/as.js":[44776,44776],"./global/asa.js":[93371,93371],"./global/ast.js":[42552,42552],"./global/az-Cyrl.js":[48088,48088],"./global/az-Latn.js":[12962,12962],"./global/az.js":[99132,99132],"./global/bas.js":[45057,45057],"./global/be.js":[26138,26138],"./global/bem.js":[81382,81382],"./global/bez.js":[63183,63183],"./global/bg.js":[15217,15217],"./global/bm.js":[41655,41655],"./global/bn-IN.js":[56708,56708],"./global/bn.js":[31602,31602],"./global/bo-IN.js":[86391,86391],"./global/bo.js":[42171,42171],"./global/br.js":[44206,44206],"./global/brx.js":[25544,25544],"./global/bs-Cyrl.js":[43957,43957],"./global/bs-Latn.js":[10195,10195],"./global/bs.js":[67767,67767],"./global/ca-AD.js":[16045,16045],"./global/ca-ES-VALENCIA.js":[91058,91058],"./global/ca-FR.js":[78908,78908],"./global/ca-IT.js":[89854,89854],"./global/ca.js":[92162,92162],"./global/ccp-IN.js":[5806,5806],"./global/ccp.js":[91473,91473],"./global/ce.js":[34277,34277],"./global/ceb.js":[13804,13804],"./global/cgg.js":[68159,68159],"./global/chr.js":[33240,33240],"./global/ckb-IR.js":[52747,52747],"./global/ckb.js":[2134,2134],"./global/cs.js":[97506,97506],"./global/cu.js":[76693,76693],"./global/cy.js":[19456,19456],"./global/da-GL.js":[63618,63618],"./global/da.js":[71271,71271],"./global/dav.js":[71711,71711],"./global/de-AT.js":[67400,67400],"./global/de-BE.js":[47462,47462],"./global/de-CH.js":[71302,71302],"./global/de-IT.js":[39351,39351],"./global/de-LI.js":[92221,48451],"./global/de-LU.js":[52748,52748],"./global/de.js":[73228,73228],"./global/dje.js":[96612,96612],"./global/dsb.js":[20864,20864],"./global/dua.js":[75179,75179],"./global/dyo.js":[92444,92444],"./global/dz.js":[13654,13654],"./global/ebu.js":[37235,37235],"./global/ee-TG.js":[63819,63819],"./global/ee.js":[58911,58911],"./global/el-CY.js":[79761,79761],"./global/el.js":[46930,46930],"./global/en-001.js":[82767,82767],"./global/en-150.js":[83610,83610],"./global/en-AE.js":[78405,78405],"./global/en-AG.js":[83828,83828],"./global/en-AI.js":[16455,16455],"./global/en-AS.js":[50968,50968],"./global/en-AT.js":[20094,20094],"./global/en-AU.js":[94705,94705],"./global/en-BB.js":[63487,63487],"./global/en-BE.js":[64972,64972],"./global/en-BI.js":[27731,27731],"./global/en-BM.js":[43713,43713],"./global/en-BS.js":[42456,42456],"./global/en-BW.js":[33922,33922],"./global/en-BZ.js":[63547,63547],"./global/en-CA.js":[99723,99723],"./global/en-CC.js":[1967,1967],"./global/en-CH.js":[18793,18793],"./global/en-CK.js":[45882,45882],"./global/en-CM.js":[25189,25189],"./global/en-CX.js":[32540,32540],"./global/en-CY.js":[57901,57901],"./global/en-DE.js":[1990,1990],"./global/en-DG.js":[2101,2101],"./global/en-DK.js":[52732,52732],"./global/en-DM.js":[87634,87634],"./global/en-ER.js":[42189,96282],"./global/en-FI.js":[1706,1706],"./global/en-FJ.js":[85198,85198],"./global/en-FK.js":[7191,7191],"./global/en-FM.js":[56697,56697],"./global/en-GB.js":[57854,57854],"./global/en-GD.js":[26512,26512],"./global/en-GG.js":[7432,7432],"./global/en-GH.js":[8089,8089],"./global/en-GI.js":[18023,18023],"./global/en-GM.js":[99604,99604],"./global/en-GU.js":[4,4],"./global/en-GY.js":[48967,48967],"./global/en-HK.js":[64865,64865],"./global/en-IE.js":[42039,42039],"./global/en-IL.js":[80345,80345],"./global/en-IM.js":[25468,25468],"./global/en-IN.js":[5388,5388],"./global/en-IO.js":[71653,71653],"./global/en-JE.js":[13491,13491],"./global/en-JM.js":[95333,95333],"./global/en-KE.js":[10259,10259],"./global/en-KI.js":[63016,63016],"./global/en-KN.js":[3773,3773],"./global/en-KY.js":[1316,5564],"./global/en-LC.js":[13880,13880],"./global/en-LR.js":[16276,16276],"./global/en-LS.js":[16709,16709],"./global/en-MG.js":[88321,88321],"./global/en-MH.js":[80768,80768],"./global/en-MO.js":[30018,30018],"./global/en-MP.js":[56011,56011],"./global/en-MS.js":[30652,30652],"./global/en-MT.js":[68851,68851],"./global/en-MU.js":[49348,49348],"./global/en-MW.js":[98717,98717],"./global/en-MY.js":[62772,62772],"./global/en-NA.js":[39810,39810],"./global/en-NF.js":[64823,64823],"./global/en-NG.js":[21905,21905],"./global/en-NL.js":[30207,30207],"./global/en-NR.js":[89575,89575],"./global/en-NU.js":[94639,94639],"./global/en-NZ.js":[38206,38206],"./global/en-PG.js":[28872,28872],"./global/en-PH.js":[31987,31987],"./global/en-PK.js":[26721,26721],"./global/en-PN.js":[54367,54367],"./global/en-PR.js":[89359,89359],"./global/en-PW.js":[81545,81545],"./global/en-RW.js":[13718,13718],"./global/en-SB.js":[12383,12383],"./global/en-SC.js":[20061,20061],"./global/en-SD.js":[71609,71609],"./global/en-SE.js":[20914,20914],"./global/en-SG.js":[43537,43537],"./global/en-SH.js":[61155,61155],"./global/en-SI.js":[21798,21798],"./global/en-SL.js":[98915,98915],"./global/en-SS.js":[80391,80391],"./global/en-SX.js":[28317,28317],"./global/en-SZ.js":[17797,17797],"./global/en-TC.js":[7212,7212],"./global/en-TK.js":[50363,50363],"./global/en-TO.js":[94426,94426],"./global/en-TT.js":[77701,77701],"./global/en-TV.js":[86377,86377],"./global/en-TZ.js":[79895,79895],"./global/en-UG.js":[46169,46169],"./global/en-UM.js":[12563,12563],"./global/en-US-POSIX.js":[55808,55808],"./global/en-VC.js":[4823,4823],"./global/en-VG.js":[48066,48066],"./global/en-VI.js":[37883,37883],"./global/en-VU.js":[46115,46115],"./global/en-WS.js":[10794,10794],"./global/en-ZA.js":[20741,61832],"./global/en-ZM.js":[59714,59714],"./global/en-ZW.js":[73779,73779],"./global/en.js":[17792,17792],"./global/eo.js":[61194,61194],"./global/es-419.js":[60071,60071],"./global/es-AR.js":[63505,63505],"./global/es-BO.js":[19051,19051],"./global/es-BR.js":[64516,64516],"./global/es-BZ.js":[30296,30296],"./global/es-CL.js":[86922,86922],"./global/es-CO.js":[94647,94647],"./global/es-CR.js":[59849,59849],"./global/es-CU.js":[79177,79177],"./global/es-DO.js":[96531,96531],"./global/es-EA.js":[50666,50666],"./global/es-EC.js":[19008,19008],"./global/es-GQ.js":[38572,38572],"./global/es-GT.js":[819,819],"./global/es-HN.js":[8675,8675],"./global/es-IC.js":[92956,92956],"./global/es-MX.js":[25555,25555],"./global/es-NI.js":[20932,20932],"./global/es-PA.js":[60764,60764],"./global/es-PE.js":[8498,8498],"./global/es-PH.js":[40745,40745],"./global/es-PR.js":[31726,31726],"./global/es-PY.js":[88123,88123],"./global/es-SV.js":[3815,3815],"./global/es-US.js":[15068,54745],"./global/es-UY.js":[4485,4485],"./global/es-VE.js":[4906,4906],"./global/es.js":[653,653],"./global/et.js":[69113,69113],"./global/eu.js":[63536,63536],"./global/ewo.js":[53495,53495],"./global/fa-AF.js":[10299,10299],"./global/fa.js":[13412,13412],"./global/ff-CM.js":[41223,41223],"./global/ff-GN.js":[94447,94447],"./global/ff-Latn-BF.js":[975,975],"./global/ff-Latn-CM.js":[67172,67172],"./global/ff-Latn-GH.js":[9938,9938],"./global/ff-Latn-GM.js":[17905,17905],"./global/ff-Latn-GN.js":[45943,45943],"./global/ff-Latn-GW.js":[20082,20082],"./global/ff-Latn-LR.js":[51301,51301],"./global/ff-Latn-MR.js":[68849,68849],"./global/ff-Latn-NE.js":[46099,46099],"./global/ff-Latn-NG.js":[58617,58617],"./global/ff-Latn-SL.js":[72449,72449],"./global/ff-Latn.js":[98794,98794],"./global/ff-MR.js":[62261,62261],"./global/ff.js":[44146,44146],"./global/fi.js":[70170,70170],"./global/fil.js":[34213,34213],"./global/fo-DK.js":[22861,22861],"./global/fo.js":[35158,35158],"./global/fr-BE.js":[9016,9016],"./global/fr-BF.js":[9012,9012],"./global/fr-BI.js":[77,77],"./global/fr-BJ.js":[2488,2488],"./global/fr-BL.js":[44943,44943],"./global/fr-CA.js":[41906,41906],"./global/fr-CD.js":[12895,12895],"./global/fr-CF.js":[85002,54345],"./global/fr-CG.js":[99456,99456],"./global/fr-CH.js":[26312,26312],"./global/fr-CI.js":[15462,15462],"./global/fr-CM.js":[75100,22789],"./global/fr-DJ.js":[43401,43401],"./global/fr-DZ.js":[72384,72384],"./global/fr-GA.js":[58086,58086],"./global/fr-GF.js":[66484,66484],"./global/fr-GN.js":[12469,12469],"./global/fr-GP.js":[18537,18537],"./global/fr-GQ.js":[29951,29951],"./global/fr-HT.js":[16483,16483],"./global/fr-KM.js":[46817,46817],"./global/fr-LU.js":[3457,85002],"./global/fr-MA.js":[24045,24045],"./global/fr-MC.js":[9351,9351],"./global/fr-MF.js":[14024,14024],"./global/fr-MG.js":[7095,7095],"./global/fr-ML.js":[4279,4279],"./global/fr-MQ.js":[50889,50889],"./global/fr-MR.js":[57240,57240],"./global/fr-MU.js":[24661,24661],"./global/fr-NC.js":[11440,11440],"./global/fr-NE.js":[7851,7851],"./global/fr-PF.js":[72900,72900],"./global/fr-PM.js":[74711,74711],"./global/fr-RE.js":[53851,53851],"./global/fr-RW.js":[74534,74534],"./global/fr-SC.js":[69876,69876],"./global/fr-SN.js":[1808,1808],"./global/fr-SY.js":[63407,63407],"./global/fr-TD.js":[98750,98750],"./global/fr-TG.js":[21757,21757],"./global/fr-TN.js":[18752,18752],"./global/fr-VU.js":[6386,6386],"./global/fr-WF.js":[69790,69790],"./global/fr-YT.js":[50496,50496],"./global/fr.js":[90693,90693],"./global/fur.js":[58105,58105],"./global/fy.js":[79654,79654],"./global/ga-GB.js":[78753,78753],"./global/ga.js":[83343,83343],"./global/gd.js":[63219,63219],"./global/gl.js":[63862,63862],"./global/gsw-FR.js":[52423,52423],"./global/gsw-LI.js":[30816,92221],"./global/gsw.js":[5638,5638],"./global/gu.js":[72995,72995],"./global/guz.js":[60232,60232],"./global/gv.js":[53663,53663],"./global/ha-GH.js":[90752,90752],"./global/ha-NE.js":[33318,33318],"./global/ha.js":[2602,2602],"./global/haw.js":[79293,79293],"./global/he.js":[2982,2982],"./global/hi.js":[6499,75100],"./global/hr-BA.js":[56192,56192],"./global/hr.js":[26657,26657],"./global/hsb.js":[23426,23426],"./global/hu.js":[3636,3636],"./global/hy.js":[82372,82372],"./global/ia.js":[42804,42804],"./global/id.js":[66634,66634],"./global/ig.js":[2555,2555],"./global/ii.js":[89018,89018],"./global/is.js":[8153,8153],"./global/it-CH.js":[30666,30666],"./global/it-SM.js":[25623,25623],"./global/it-VA.js":[42231,42231],"./global/it.js":[38132,38132],"./global/ja.js":[57860,57860],"./global/jgo.js":[36692,36692],"./global/jmc.js":[94369,94369],"./global/jv.js":[8756,8756],"./global/ka.js":[35267,35267],"./global/kab.js":[8178,8178],"./global/kam.js":[78103,78103],"./global/kde.js":[3990,3990],"./global/kea.js":[31787,31787],"./global/khq.js":[82820,82820],"./global/ki.js":[70748,70748],"./global/kk.js":[29210,29210],"./global/kkj.js":[1543,1543],"./global/kl.js":[63870,63870],"./global/kln.js":[24824,24824],"./global/km.js":[38150,38150],"./global/kn.js":[14310,14310],"./global/ko-KP.js":[54105,54105],"./global/ko.js":[24015,24015],"./global/kok.js":[5209,5209],"./global/ks-Arab.js":[32923,32923],"./global/ks.js":[40585,40585],"./global/ksb.js":[97526,97526],"./global/ksf.js":[9187,9187],"./global/ksh.js":[17214,17214],"./global/ku.js":[86887,86887],"./global/kw.js":[47711,47711],"./global/ky.js":[72921,72921],"./global/lag.js":[14614,14614],"./global/lb.js":[70792,70792],"./global/lg.js":[61303,61303],"./global/lkt.js":[22557,22557],"./global/ln-AO.js":[23376,23376],"./global/ln-CF.js":[4901,91052],"./global/ln-CG.js":[58650,58650],"./global/ln.js":[40266,40266],"./global/lo.js":[80840,80840],"./global/lrc-IQ.js":[64068,64068],"./global/lrc.js":[82293,82293],"./global/lt.js":[76623,76623],"./global/lu.js":[96579,96579],"./global/luo.js":[35080,35080],"./global/luy.js":[12103,12103],"./global/lv.js":[3519,3519],"./global/mas-TZ.js":[56478,56478],"./global/mas.js":[79429,89164],"./global/mer.js":[75404,75404],"./global/mfe.js":[19661,19661],"./global/mg.js":[45353,45353],"./global/mgh.js":[44196,44196],"./global/mgo.js":[19104,19104],"./global/mi.js":[82044,82044],"./global/mk.js":[9494,9494],"./global/ml.js":[76685,76685],"./global/mn.js":[64325,64325],"./global/mr.js":[92929,92929],"./global/ms-BN.js":[76198,76198],"./global/ms-SG.js":[50983,50983],"./global/ms.js":[73307,73307],"./global/mt.js":[24752,24752],"./global/mua.js":[24280,24280],"./global/my.js":[13580,13580],"./global/mzn.js":[69357,69357],"./global/naq.js":[41720,41720],"./global/nb-SJ.js":[58178,58178],"./global/nb.js":[93478,93478],"./global/nd.js":[92108,92108],"./global/nds-NL.js":[53025,53025],"./global/nds.js":[9248,9248],"./global/ne-IN.js":[81957,81957],"./global/ne.js":[55313,55313],"./global/nl-AW.js":[36733,36733],"./global/nl-BE.js":[55282,55282],"./global/nl-BQ.js":[97488,97488],"./global/nl-CW.js":[32857,32857],"./global/nl-SR.js":[85973,85973],"./global/nl-SX.js":[7245,7245],"./global/nl.js":[8479,8479],"./global/nmg.js":[72836,72836],"./global/nn.js":[44178,44178],"./global/nnh.js":[78270,78270],"./global/nus.js":[94877,94877],"./global/nyn.js":[14477,14477],"./global/om-KE.js":[77360,77360],"./global/om.js":[64796,64796],"./global/or.js":[59801,59801],"./global/os-RU.js":[23404,23404],"./global/os.js":[29717,29717],"./global/pa-Arab.js":[97016,97016],"./global/pa-Guru.js":[73057,73057],"./global/pa.js":[25618,25618],"./global/pl.js":[6912,6912],"./global/prg.js":[38814,38814],"./global/ps-PK.js":[43111,43111],"./global/ps.js":[62232,62232],"./global/pt-AO.js":[40581,40581],"./global/pt-CH.js":[60438,60438],"./global/pt-CV.js":[34941,34941],"./global/pt-GQ.js":[98727,98727],"./global/pt-GW.js":[19346,19346],"./global/pt-LU.js":[65580,65580],"./global/pt-MO.js":[95285,95285],"./global/pt-MZ.js":[32437,32437],"./global/pt-PT.js":[50736,82606],"./global/pt-ST.js":[40285,40285],"./global/pt-TL.js":[98749,98749],"./global/pt.js":[91593,94402],"./global/qu-BO.js":[62071,62071],"./global/qu-EC.js":[16181,16181],"./global/qu.js":[60019,60019],"./global/rm.js":[35198,35198],"./global/rn.js":[45307,45307],"./global/ro-MD.js":[81348,81348],"./global/ro.js":[80944,80944],"./global/rof.js":[44256,44256],"./global/root.js":[29482,29482],"./global/ru-BY.js":[67772,67772],"./global/ru-KG.js":[94874,94874],"./global/ru-KZ.js":[95510,95510],"./global/ru-MD.js":[57046,57046],"./global/ru-UA.js":[51223,51223],"./global/ru.js":[98668,98668],"./global/rw.js":[8049,8049],"./global/rwk.js":[65018,65018],"./global/sah.js":[66280,66280],"./global/saq.js":[50478,50478],"./global/sbp.js":[84464,84464],"./global/sd-Arab.js":[79805,79805],"./global/sd.js":[29866,29866],"./global/se-FI.js":[39108,39108],"./global/se-SE.js":[65066,65066],"./global/se.js":[83342,83342],"./global/seh.js":[69897,69897],"./global/ses.js":[66876,66876],"./global/sg.js":[21081,21081],"./global/shi-Latn.js":[40983,40983],"./global/shi-Tfng.js":[40228,40228],"./global/shi.js":[96858,96858],"./global/si.js":[96564,96564],"./global/sk.js":[52508,52508],"./global/sl.js":[40397,40397],"./global/smn.js":[70791,70791],"./global/sn.js":[648,648],"./global/so-DJ.js":[70577,70577],"./global/so-ET.js":[58294,58294],"./global/so-KE.js":[41926,41926],"./global/so.js":[7176,7176],"./global/sq-MK.js":[55123,55123],"./global/sq-XK.js":[58177,58177],"./global/sq.js":[25583,25583],"./global/sr-Cyrl-BA.js":[10715,10715],"./global/sr-Cyrl-ME.js":[40207,40207],"./global/sr-Cyrl-XK.js":[54711,54711],"./global/sr-Cyrl.js":[55655,55655],"./global/sr-Latn-BA.js":[65338,65338],"./global/sr-Latn-ME.js":[93803,93803],"./global/sr-Latn-XK.js":[51234,51234],"./global/sr-Latn.js":[48544,48544],"./global/sr.js":[70353,70353],"./global/sv-AX.js":[25375,25375],"./global/sv-FI.js":[16268,16268],"./global/sv.js":[55849,55849],"./global/sw-CD.js":[63095,63095],"./global/sw-KE.js":[17366,17366],"./global/sw-UG.js":[62147,62147],"./global/sw.js":[48348,48348],"./global/ta-LK.js":[48670,48670],"./global/ta-MY.js":[70635,70635],"./global/ta-SG.js":[28368,28368],"./global/ta.js":[95456,95456],"./global/te.js":[11723,11723],"./global/teo-KE.js":[18208,18208],"./global/teo.js":[26981,26981],"./global/tg.js":[34800,34800],"./global/th.js":[47392,47392],"./global/ti-ER.js":[29254,29254],"./global/ti.js":[44768,44768],"./global/tk.js":[23041,23041],"./global/to.js":[1963,1963],"./global/tr-CY.js":[56486,56486],"./global/tr.js":[54921,54921],"./global/tt.js":[39595,39595],"./global/twq.js":[61433,61433],"./global/tzm.js":[24462,24462],"./global/ug.js":[7516,7516],"./global/uk.js":[18170,18170],"./global/ur-IN.js":[18468,18468],"./global/ur.js":[68772,68772],"./global/uz-Arab.js":[702,702],"./global/uz-Cyrl.js":[60711,60711],"./global/uz-Latn.js":[73333,73333],"./global/uz.js":[75040,75040],"./global/vai-Latn.js":[83244,83244],"./global/vai-Vaii.js":[30485,30485],"./global/vai.js":[1628,1628],"./global/vi.js":[14613,14613],"./global/vo.js":[87148,87148],"./global/vun.js":[21507,21507],"./global/wae.js":[7338,7338],"./global/wo.js":[29863,29863],"./global/xh.js":[37362,37362],"./global/xog.js":[31307,31307],"./global/yav.js":[24030,24030],"./global/yi.js":[11306,11306],"./global/yo-BJ.js":[6129,6129],"./global/yo.js":[53648,53648],"./global/yue-Hans.js":[65228,65228],"./global/yue-Hant.js":[54908,54908],"./global/yue.js":[17453,17453],"./global/zgh.js":[17539,17539],"./global/zh-Hans-HK.js":[17385,17385],"./global/zh-Hans-MO.js":[59041,59041],"./global/zh-Hans-SG.js":[33206,33206],"./global/zh-Hans.js":[70010,70010],"./global/zh-Hant-HK.js":[32809,32809],"./global/zh-Hant-MO.js":[44661,44661],"./global/zh-Hant.js":[61090,61090],"./global/zh.js":[67303,67303],"./global/zu.js":[6133,6133],"./gsw-FR.js":[82394,82394],"./gsw-LI.js":[2070,2070],"./gsw.js":[63652,63652],"./gu.js":[23,23],"./guz.js":[65837,65837],"./gv.js":[86293,86293],"./ha-GH.js":[76972,76972],"./ha-NE.js":[70738,70738],"./ha.js":[63968,63968],"./haw.js":[35663,35663],"./he.js":[7770,7770],"./hi.js":[51029,51029],"./hr-BA.js":[13780,13780],"./hr.js":[47728,47728],"./hsb.js":[98254,98254],"./hu.js":[56954,56954],"./hy.js":[54734,54734],"./ia.js":[20040,20040],"./id.js":[20014,20014],"./ig.js":[46806,46806],"./ii.js":[94203,94203],"./is.js":[79411,79411],"./it-CH.js":[14352,14352],"./it-SM.js":[81103,81103],"./it-VA.js":[28513,28513],"./it.js":[24656,24656],"./ja.js":[61235,61235],"./jgo.js":[38757,38757],"./jmc.js":[89934,89934],"./jv.js":[70495,70495],"./ka.js":[84839,84839],"./kab.js":[24655,24655],"./kam.js":[78718,78718],"./kde.js":[55767,55767],"./kea.js":[37455,37455],"./khq.js":[3397,3397],"./ki.js":[18622,18622],"./kk.js":[89870,89870],"./kkj.js":[220,220],"./kl.js":[96390,96390],"./kln.js":[79669,79669],"./km.js":[45871,45871],"./kn.js":[96601,96601],"./ko-KP.js":[79022,79022],"./ko.js":[72766,72766],"./kok.js":[83960,83960],"./ks-Arab.js":[50945,50945],"./ks.js":[19229,19229],"./ksb.js":[79507,79507],"./ksf.js":[16988,16988],"./ksh.js":[25810,25810],"./ku.js":[25127,25127],"./kw.js":[50779,50779],"./ky.js":[4088,4088],"./lag.js":[61322,61322],"./lb.js":[47986,47986],"./lg.js":[74428,74428],"./lkt.js":[36882,36882],"./ln-AO.js":[52165,52165],"./ln-CF.js":[15268,15268],"./ln-CG.js":[5551,5551],"./ln.js":[60369,60369],"./lo.js":[69479,69479],"./lrc-IQ.js":[95600,95600],"./lrc.js":[77982,77982],"./lt.js":[51868,51868],"./lu.js":[8867,8867],"./luo.js":[57284,57284],"./luy.js":[63620,63620],"./lv.js":[60290,60290],"./mas-TZ.js":[56201,56201],"./mas.js":[12841,12841],"./mer.js":[90845,90845],"./mfe.js":[79640,79640],"./mg.js":[51830,51830],"./mgh.js":[19735,19735],"./mgo.js":[905,905],"./mi.js":[30530,30530],"./mk.js":[16841,16841],"./ml.js":[94819,94819],"./mn.js":[87759,87759],"./mr.js":[68811,68811],"./ms-BN.js":[95123,95123],"./ms-SG.js":[15284,15284],"./ms.js":[10787,10787],"./mt.js":[44315,44315],"./mua.js":[26991,26991],"./my.js":[81438,81438],"./mzn.js":[43192,43192],"./naq.js":[99103,99103],"./nb-SJ.js":[81280,81280],"./nb.js":[45290,45290],"./nd.js":[89202,89202],"./nds-NL.js":[540,540],"./nds.js":[67573,67573],"./ne-IN.js":[73303,73303],"./ne.js":[76481,76481],"./nl-AW.js":[87889,87889],"./nl-BE.js":[5765,5765],"./nl-BQ.js":[45423,45423],"./nl-CW.js":[81205,81205],"./nl-SR.js":[22347,22347],"./nl-SX.js":[47e3,47e3],"./nl.js":[12606,12606],"./nmg.js":[70665,70665],"./nn.js":[65941,65941],"./nnh.js":[74365,74365],"./nus.js":[53493,53493],"./nyn.js":[42964,42964],"./om-KE.js":[94191,94191],"./om.js":[35165,35165],"./or.js":[76008,76008],"./os-RU.js":[73966,73966],"./os.js":[71486,71486],"./pa-Arab.js":[3923,3923],"./pa-Guru.js":[65818,65818],"./pa.js":[18070,18070],"./pl.js":[20869,20869],"./prg.js":[35464,35464],"./ps-PK.js":[93531,93531],"./ps.js":[65938,65938],"./pt-AO.js":[17500,17500],"./pt-CH.js":[96819,96819],"./pt-CV.js":[26790,26790],"./pt-GQ.js":[13095,75705],"./pt-GW.js":[5289,68923],"./pt-LU.js":[873,873],"./pt-MO.js":[56920,56920],"./pt-MZ.js":[7533,7533],"./pt-PT.js":[32237,32237],"./pt-ST.js":[34398,34398],"./pt-TL.js":[17381,17381],"./pt.js":[42482,42482],"./qu-BO.js":[10046,10046],"./qu-EC.js":[12806,12806],"./qu.js":[3722,3722],"./rm.js":[83558,83558],"./rn.js":[36199,36199],"./ro-MD.js":[2160,2160],"./ro.js":[6639,6639],"./rof.js":[65318,65318],"./root.js":[65205,65205],"./ru-BY.js":[51599,51599],"./ru-KG.js":[62569,62569],"./ru-KZ.js":[63781,63781],"./ru-MD.js":[34700,34700],"./ru-UA.js":[7593,7593],"./ru.js":[84027,84027],"./rw.js":[23655,23655],"./rwk.js":[66996,66996],"./sah.js":[92263,92263],"./saq.js":[25597,25597],"./sbp.js":[40410,40410],"./sd-Arab.js":[11177,11177],"./sd.js":[81956,81956],"./se-FI.js":[97765,97765],"./se-SE.js":[49813,49813],"./se.js":[80946,80946],"./seh.js":[50595,50595],"./ses.js":[64242,64242],"./sg.js":[25943,25943],"./shi-Latn.js":[47774,47774],"./shi-Tfng.js":[40852,40852],"./shi.js":[31248,31248],"./si.js":[3797,3797],"./sk.js":[49850,49850],"./sl.js":[74310,74310],"./smn.js":[1280,1280],"./sn.js":[17798,17798],"./so-DJ.js":[69365,69365],"./so-ET.js":[77610,77610],"./so-KE.js":[2283,2283],"./so.js":[86197,86197],"./sq-MK.js":[74362,74362],"./sq-XK.js":[30804,30804],"./sq.js":[54497,54497],"./sr-Cyrl-BA.js":[46489,46489],"./sr-Cyrl-ME.js":[9330,9330],"./sr-Cyrl-XK.js":[61126,61126],"./sr-Cyrl.js":[49462,49462],"./sr-Latn-BA.js":[61012,61012],"./sr-Latn-ME.js":[93670,93670],"./sr-Latn-XK.js":[25178,25178],"./sr-Latn.js":[11665,11665],"./sr.js":[47371,47371],"./sv-AX.js":[79325,79325],"./sv-FI.js":[1177,1177],"./sv.js":[8686,8686],"./sw-CD.js":[76605,76605],"./sw-KE.js":[55643,55643],"./sw-UG.js":[78573,33275],"./sw.js":[5766,5766],"./ta-LK.js":[80714,80714],"./ta-MY.js":[77693,77693],"./ta-SG.js":[93211,93211],"./ta.js":[76900,76900],"./te.js":[2328,2328],"./teo-KE.js":[18223,18223],"./teo.js":[72031,72031],"./tg.js":[3063,3063],"./th.js":[88330,88330],"./ti-ER.js":[50052,50052],"./ti.js":[91616,91616],"./tk.js":[36744,36744],"./to.js":[37844,37844],"./tr-CY.js":[22318,22318],"./tr.js":[80045,80045],"./tt.js":[76245,76245],"./twq.js":[39446,39446],"./tzm.js":[36572,36572],"./ug.js":[46124,46124],"./uk.js":[50327,50327],"./ur-IN.js":[30832,30832],"./ur.js":[52895,52895],"./uz-Arab.js":[82553,82553],"./uz-Cyrl.js":[18122,18122],"./uz-Latn.js":[44554,44554],"./uz.js":[76211,76211],"./vai-Latn.js":[47147,47147],"./vai-Vaii.js":[46547,46547],"./vai.js":[43098,43098],"./vi.js":[91335,91335],"./vo.js":[58313,58313],"./vun.js":[12168,12168],"./wae.js":[88929,88929],"./wo.js":[72327,72327],"./xh.js":[67359,67359],"./xog.js":[18019,18019],"./yav.js":[65677,65677],"./yi.js":[77934,77934],"./yo-BJ.js":[10954,10954],"./yo.js":[20409,20409],"./yue-Hans.js":[4978,4978],"./yue-Hant.js":[39918,39918],"./yue.js":[27791,27791],"./zgh.js":[72981,72981],"./zh-Hans-HK.js":[84329,84329],"./zh-Hans-MO.js":[14886,14886],"./zh-Hans-SG.js":[94409,94409],"./zh-Hans.js":[34711,34711],"./zh-Hant-HK.js":[17829,17829],"./zh-Hant-MO.js":[99079,99079],"./zh-Hant.js":[40794,40794],"./zh.js":[85068,85068],"./zu.js":[60643,60643]};function r(e){if(!n.o(i,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],r=t[0];return n.e(t[1]).then(function(){return n.t(r,23)})}r.keys=function(){return Object.keys(i)},r.id=36896,e.exports=r},91052:function(e){function t(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(i,r)}e.exports=function(e){return function(){var n=this,i=arguments;return new Promise(function(r,a){var o=e.apply(n,i);function s(e){t(o,r,a,s,c,"next",e)}function c(e){t(o,r,a,s,c,"throw",e)}s(void 0)})}},e.exports.default=e.exports,e.exports.__esModule=!0},36599:function(){},35358:function(){},61822:function(){},31127:function(){},33074:function(){}}])})();
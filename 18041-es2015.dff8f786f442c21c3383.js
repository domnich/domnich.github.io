(self.webpackChunkcloudya=self.webpackChunkcloudya||[]).push([[18041],{49457:function(e,t){var s,o;void 0!==(o="function"==typeof(s=function(){"use strict";function t(e,t,s){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){n(o.response,t,s)},o.onerror=function(){console.error("could not download file")},o.send()}function s(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(s){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,n=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(e,n,r){var a=i.URL||i.webkitURL,l=document.createElement("a");l.download=n=n||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):s(l.href)?t(e,n,r):o(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){o(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,i,n){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,n),i);else if(s(e))t(e,i,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){o(r)})}}:function(e,s,o,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return t(e,s,o);var r="application/octet-stream"===e.type,a=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&a)&&"object"==typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},d.readAsDataURL(e)}else{var c=i.URL||i.webkitURL,p=c.createObjectURL(e);n?n.location=p:location.href=p,n=null,setTimeout(function(){c.revokeObjectURL(p)},4e4)}});i.saveAs=n.saveAs=n,e.exports=n})?s.apply(t,[]):s)&&(e.exports=o)},76321:function(e,t,s){"use strict";s.d(t,{Ob:function(){return d},bA:function(){return l}});var o=s(37716),i=s(38583);class n{constructor(e){this.rawFile=e;let t=(s=e)&&(s.nodeName||s.prop&&s.attr&&s.find)?e.value:e;var s;this["_createFrom"+("string"==typeof t?"FakePath":"Object")](t)}_createFromFakePath(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)}_createFromObject(e){this.size=e.size,this.type=e.type,this.name=e.name}}class r{constructor(e,t,s){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=e,this.some=t,this.options=s,this.file=new n(t),this._file=t,e.options&&(this.method=e.options.method||"POST",this.alias=e.options.itemAlias||"file"),this.url=e.options.url}upload(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(e){return{form:e}}onProgress(e){return{progress:e}}onSuccess(e,t,s){return{response:e,status:t,headers:s}}onError(e,t,s){return{response:e,status:t,headers:s}}onCancel(e,t,s){return{response:e,status:t,headers:s}}onComplete(e,t,s){return{response:e,status:t,headers:s}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(e){this.onBuildForm(e)}_onProgress(e){this.progress=e,this.onProgress(e)}_onSuccess(e,t,s){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,t,s)}_onError(e,t,s){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,t,s)}_onCancel(e,t,s){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,t,s)}_onComplete(e,t,s){this.onComplete(e,t,s),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let a=(()=>{class e{static getMimeClass(e){let t="application";return-1!==this.mime_psd.indexOf(e.type)||e.type.match("image.*")?t="image":e.type.match("video.*")?t="video":e.type.match("audio.*")?t="audio":"application/pdf"===e.type?t="pdf":-1!==this.mime_compress.indexOf(e.type)?t="compress":-1!==this.mime_doc.indexOf(e.type)?t="doc":-1!==this.mime_xsl.indexOf(e.type)?t="xls":-1!==this.mime_ppt.indexOf(e.type)&&(t="ppt"),"application"===t&&(t=this.fileTypeDetection(e.name)),t}static fileTypeDetection(e){let t={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},s=e.split(".");if(s.length<2)return"application";let o=s[s.length-1].toLowerCase();return void 0===t[o]?"application":t[o]}}return e.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],e.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],e.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],e.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],e.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],e})();class l{constructor(e){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:e=>e._file,formatDataFunctionIsAsync:!1},this.setOptions(e),this.response=new o.vpe}setOptions(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let t=0;t<this.queue.length;t++)this.queue[t].url=this.options.url}addToQueue(e,t,s){let o=[];for(let n of e)o.push(n);let i=this._getFilters(s),a=this.queue.length,l=[];o.map(e=>{t||(t=this.options);let s=new n(e);if(this._isValidFile(s,i,t)){let s=new r(this,e,t);l.push(s),this.queue.push(s),this._onAfterAddingFile(s)}else this._onWhenAddingFileFailed(s,i[this._failFilterIndex],t)}),this.queue.length!==a&&(this._onAfterAddingAll(l),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(e){let t=this.getIndexOfItem(e),s=this.queue[t];s.isUploading&&s.cancel(),this.queue.splice(t,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(e){let t=this.getIndexOfItem(e),s=this.queue[t],o=this.options.isHTML5?"_xhrTransport":"_iframeTransport";s._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[o](s))}cancelItem(e){let t=this.getIndexOfItem(e),s=this.queue[t];s&&s.isUploading&&(this.options.isHTML5?s._xhr:s._form).abort()}uploadAll(){let e=this.getNotUploadedItems().filter(e=>!e.isUploading);!e.length||(e.map(e=>e._prepareToUploading()),e[0].upload())}cancelAll(){this.getNotUploadedItems().map(e=>e.cancel())}isFile(e){return File&&e instanceof File}isFileLikeObject(e){return e instanceof n}getIndexOfItem(e){return"number"==typeof e?e:this.queue.indexOf(e)}getNotUploadedItems(){return this.queue.filter(e=>!e.isUploaded)}getReadyItems(){return this.queue.filter(e=>e.isReady&&!e.isUploading).sort((e,t)=>e.index-t.index)}destroy(){}onAfterAddingAll(e){return{fileItems:e}}onBuildItemForm(e,t){return{fileItem:e,form:t}}onAfterAddingFile(e){return{fileItem:e}}onWhenAddingFileFailed(e,t,s){return{item:e,filter:t,options:s}}onBeforeUploadItem(e){return{fileItem:e}}onProgressItem(e,t){return{fileItem:e,progress:t}}onProgressAll(e){return{progress:e}}onSuccessItem(e,t,s,o){return{item:e,response:t,status:s,headers:o}}onErrorItem(e,t,s,o){return{item:e,response:t,status:s,headers:o}}onCancelItem(e,t,s,o){return{item:e,response:t,status:s,headers:o}}onCompleteItem(e,t,s,o){return{item:e,response:t,status:s,headers:o}}onCompleteAll(){}_mimeTypeFilter(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))}_fileSizeFilter(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)}_fileTypeFilter(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(a.getMimeClass(e)))}_onErrorItem(e,t,s,o){e._onError(t,s,o),this.onErrorItem(e,t,s,o)}_onCompleteItem(e,t,s,o){e._onComplete(t,s,o),this.onCompleteItem(e,t,s,o);let i=this.getReadyItems()[0];this.isUploading=!1,i?i.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(e){return t=>t?e[t.toLowerCase()]||void 0:e}_xhrTransport(e){let t,s=this,o=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)t=this.options.formatDataFunction(e);else{t=new FormData,this._onBuildItemForm(e,t);const s=()=>t.append(e.alias,e._file,e.file.name);this.options.parametersBeforeFiles||s(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(s=>{let o=this.options.additionalParameter[s];"string"==typeof o&&o.indexOf("{{file_name}}")>=0&&(o=o.replace("{{file_name}}",e.file.name)),t.append(s,o)}),this.options.parametersBeforeFiles&&s()}if(o.upload.onprogress=t=>{let s=Math.round(t.lengthComputable?100*t.loaded/t.total:0);this._onProgressItem(e,s)},o.onload=()=>{let t=this._parseHeaders(o.getAllResponseHeaders()),s=this._transformResponse(o.response,t);this["_on"+(this._isSuccessCode(o.status)?"Success":"Error")+"Item"](e,s,o.status,t),this._onCompleteItem(e,s,o.status,t)},o.onerror=()=>{let t=this._parseHeaders(o.getAllResponseHeaders()),s=this._transformResponse(o.response,t);this._onErrorItem(e,s,o.status,t),this._onCompleteItem(e,s,o.status,t)},o.onabort=()=>{let t=this._parseHeaders(o.getAllResponseHeaders()),s=this._transformResponse(o.response,t);this._onCancelItem(e,s,o.status,t),this._onCompleteItem(e,s,o.status,t)},o.open(e.method,e.url,!0),o.withCredentials=e.withCredentials,this.options.headers)for(let i of this.options.headers)o.setRequestHeader(i.name,i.value);if(e.headers.length)for(let i of e.headers)o.setRequestHeader(i.name,i.value);this.authToken&&o.setRequestHeader(this.authTokenHeader,this.authToken),o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&s.response.emit(o.responseText)},this.options.formatDataFunctionIsAsync?t.then(e=>o.send(JSON.stringify(e))):o.send(t),this._render()}_getTotalProgress(e=0){if(this.options.removeAfterUpload)return e;let t=this.getNotUploadedItems().length,s=100/this.queue.length;return Math.round((t?this.queue.length-t:this.queue.length)*s+e*s/100)}_getFilters(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"==typeof e){let t=e.match(/[^\s,]+/g);return this.options.filters.filter(e=>-1!==t.indexOf(e.name))}return this.options.filters}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(e,t,s){return this._failFilterIndex=-1,!t.length||t.every(t=>(this._failFilterIndex++,t.fn.call(this,e,s)))}_isSuccessCode(e){return e>=200&&e<300||304===e}_transformResponse(e,t){return e}_parseHeaders(e){let t,s,o,i={};return e&&e.split("\n").map(e=>{o=e.indexOf(":"),t=e.slice(0,o).trim().toLowerCase(),s=e.slice(o+1).trim(),t&&(i[t]=i[t]?i[t]+", "+s:s)}),i}_onWhenAddingFileFailed(e,t,s){this.onWhenAddingFileFailed(e,t,s)}_onAfterAddingFile(e){this.onAfterAddingFile(e)}_onAfterAddingAll(e){this.onAfterAddingAll(e)}_onBeforeUploadItem(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)}_onBuildItemForm(e,t){e._onBuildForm(t),this.onBuildItemForm(e,t)}_onProgressItem(e,t){let s=this._getTotalProgress(t);this.progress=s,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(s),this._render()}_onSuccessItem(e,t,s,o){e._onSuccess(t,s,o),this.onSuccessItem(e,t,s,o)}_onCancelItem(e,t,s,o){e._onCancel(t,s,o),this.onCancelItem(e,t,s,o)}}let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[i.ez]]}),e})()},83217:function(e,t,s){"use strict";s.d(t,{g:function(){return p}});var o=s(37716),i=s(51800),n=s(88044),r=s(99385),a=s(7460),l=s(81836),d=s(57158),c=s(99445);let p=(()=>{class e{constructor(e,t,s,i){this.clickToDialService=e,this.sipService=t,this.logger=s,this.callTrackerService=i,this.loadMore=!1,this.loaded=new o.vpe(!0),this.loadedMore=new o.vpe,this.items=[],this.isLoading=!1,this.isLoadMore=!1,this.pageInitValue=1,this.hasMoreData=!1,this.entriesPerPage=25,this.searchString="",this.page=this.pageInitValue}ngOnChanges(e){const t="loadMore"in e,s="search"in e;s&&(this.searchString=e.search.currentValue),t&&e.loadMore&&e.loadMore.currentValue?this.onLoadMore():(s||t&&!e.loadMore.currentValue)&&(this.reset(t),this.load())}onLoadMore(){this.isLoadMore||(this.loadedMore.emit(this.type),this.load())}onLazyLoadingCalls(){this.load()}onContextMenu(e,t){const s=i.B.getCallObject(e);t.preventDefault(),this.clickToDialService.callContextMenu({positionX:t.clientX,positionY:t.clientY,isShown:!0,item:s,isOverlayDisabled:!0,callLocation:{fax:this.type===n.V.FAX,contacts:this.type===n.V.CONTACT,conference:this.type===n.V.CONFERENCE_AVAILABLE||this.type===n.V.CONFERENCE,crmConnect:this.type===n.V.CRM_CONNECT}})}onCall(e){const t=i.B.getCallObject(e);t&&this.makeCall(t)}getInitials(e){return(0,r.Cx)(e)||""}reset(e){e&&(this.isLoadMore=!1),this.items=[],this.isLoading=!1,this.hasMoreData=!1,this.page=this.pageInitValue,this.loadRequest&&this.loadRequest.unsubscribe()}dragIconElementByDisplayName(e){const t=e.callItem?e.callItem.name:e.name,s=this.dragIconElements.find(e=>e.nativeElement.innerText===this.displayNameShortened(t).replace(/\s/g,""));return s&&s.nativeElement}getPerPage(){return this.entriesPerPage}load(){this.logger.warn('"load" method not implemented.')}makeCall(e){this.callTrackerService.makeCall(e)}appendItems(e){this.isLoadMore&&this.page===this.pageInitValue?this.items=e:Array.prototype.push.apply(this.items,e)}updateHasMoreData(e){this.hasMoreData=e>=this.entriesPerPage}displayNameShortened(e){let t=(0,r.Cx)(e)||"";return t.length>1&&(t=`${t[0]} ${t[1]}`),t}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(a.q),o.Y36(l.y),o.Y36(d.Kf),o.Y36(c.k))},e.\u0275dir=o.lG2({type:e,inputs:{dndEnabled:"dndEnabled",scrollContainerSelector:"scrollContainerSelector",loadMore:"loadMore",search:"search"},outputs:{loaded:"loaded",loadedMore:"loadedMore"},features:[o.TTD]}),e})()},54073:function(e,t,s){"use strict";s.d(t,{x:function(){return l}});var o=s(26215),i=s(88044),n=s(99385),r=s(37716),a=s(38294);let l=(()=>{class e{constructor(e,t){this.searchService=e,this.cdref=t,this.isValidNumberSource=new o.X(!1),this.selectedTypeSource=new o.X(i.V.CONTACT),this.isLoadingCount=0,this.groupsCount=0,this.loadedItemsCount=0,this.SEARCH_TYPES=i.V,this.isValidNumber$=this.isValidNumberSource.asObservable(),this.selectedType$=this.selectedTypeSource.asObservable()}ngAfterContentChecked(){this.cdref.detectChanges()}ngOnChanges(e){var t;let s=null===(t=null==e?void 0:e.searchString)||void 0===t?void 0:t.currentValue;(0,n.OO)(s)&&(s=s.split(",")[0]),this.isValidNumberSource.next((0,n.e$)(s))}setGroupsCount(e){this.groupsCount=e}reset(e=!1){this.isLoadingCount=e||this.selectedType===i.V.ALL?this.groupsCount:1,this.loadedItemsCount=0}loaded(e){this.isLoadingCount--,this.isLoadingCount<0&&(this.isLoadingCount=0),this.loadedItemsCount+=e,this.checkSearchResponse()}updateSelectedType(e){this.selectedTypeSource.next(e)}getSelectedTypSourceValue(){return this.selectedTypeSource.getValue()}onLoadMore(e){this.updateSelectedType(e),this.selectedType=e}checkSearchResponse(){this.isLoadingCount||this.searchService.checkIsSearchResponseEmpty({isSearchResponseEmpty:!this.loadedItemsCount,searchStringLength:this.searchString?this.searchString.length:0})}set selectedType(e){this.reset(e===i.V.ALL),this.updateSelectedType(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(a.o),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,inputs:{searchString:"searchString",selectedType:"selectedType"},features:[r.TTD]}),e})()},76083:function(e,t,s){"use strict";s.d(t,{g:function(){return d}});var o=s(37716),i=s(38583),n=s(52592),r=s(5197);function a(e,t){1&e&&o._UZ(0,"section-title")}const l=["*"];let d=(()=>{class e{constructor(){this.showLoading=!1,this.disableForHistorySection=!1,this.loadMore=new o.vpe}onLoadMore(e){this.loadMore.emit(),e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["search-group"]],inputs:{title:"title",showLoading:"showLoading",disableForHistorySection:"disableForHistorySection",e2e:"e2e"},outputs:{loadMore:"loadMore"},ngContentSelectors:l,decls:4,vars:3,consts:[[4,"ngIf"],["loading-area-indicator","",3,"loadingAreaIndicatorActive"],[1,"flexible-list"]],template:function(e,t){1&e&&(o.F$t(),o.YNc(0,a,1,0,"section-title",0),o.TgZ(1,"section",1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngIf",!t.disableForHistorySection),o.xp6(1),o.Q6J("loadingAreaIndicatorActive",t.showLoading),o.xp6(1),o.uIk("data-e2e",t.e2e+"-list"))},directives:[i.O5,n.O,r.D],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}header[_ngcontent-%COMP%]{border-top:.1rem solid rgba(0,0,0,.3);padding:.8rem 1.6rem}button[_ngcontent-%COMP%]{margin:.8rem 1.6rem;text-transform:uppercase}"]}),e})()},68455:function(e,t,s){"use strict";s.d(t,{p:function(){return n}});var o=s(79765),i=s(37716);let n=(()=>{class e{constructor(){this.searchTypeSource=new o.xQ,this.searchType$=this.searchTypeSource.asObservable()}setSearchType(e){this.searchTypeSource.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},51800:function(e,t,s){"use strict";s.d(t,{B:function(){return _}});var o=s(88044),i=s(93739),n=s(54073),r=s(79765),a=s(46782),l=s(37716),d=s(91557),c=s(38294),p=s(68455);const h=["ContactGroupComponent"];function u(e,t){1&e&&l._UZ(0,"search-options")}function m(e,t){if(1&e&&(l._UZ(0,"emergency-group",8),l.ALo(1,"async")),2&e){const e=l.oxw();l.Q6J("selectedType",l.lcZ(1,1,e.selectedType$))}}function f(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"crm-connect-group",9),l.NdJ("loaded",function(t){return l.CHM(e),l.oxw().loaded(t)}),l.ALo(1,"async"),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("scrollContainerSelector",e.elementRef)("search",e.searchString)("selectedType",l.lcZ(1,3,e.selectedType$))}}function g(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"extension-group",10),l.NdJ("loaded",function(t){return l.CHM(e),l.oxw().loaded(t)})("loadedMore",function(t){return l.CHM(e),l.oxw().onLoadMore(t)}),l.ALo(1,"async"),l.ALo(2,"async"),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("dndEnabled",e.dndEnabled)("loadMore",l.lcZ(1,5,e.selectedType$)===e.SEARCH_TYPES.EXTENSION)("scrollContainerSelector",e.elementRef)("search",e.searchString)("selectedType",l.lcZ(2,7,e.selectedType$))}}function y(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"conference-available-group",11),l.NdJ("loaded",function(t){return l.CHM(e),l.oxw().loaded(t)})("loadedMore",function(t){return l.CHM(e),l.oxw().onLoadMore(t)}),l.ALo(1,"async"),l.qZA()}if(2&e){const e=l.oxw();l.Q6J("dndEnabled",e.dndEnabled)("loadMore",l.lcZ(1,4,e.selectedType$)===e.SEARCH_TYPES.CONFERENCE_AVAILABLE)("scrollContainerSelector",e.elementRef)("search",e.searchString)}}function C(e,t){if(1&e&&l._UZ(0,"not-found-group",12),2&e){const e=l.oxw();l.Q6J("dndEnabled",e.dndEnabled)("search",e.searchString)}}function E(e,t){if(1&e&&l._UZ(0,"meeting-group",13),2&e){const e=l.oxw();l.Q6J("searchString",e.searchString)}}let _=(()=>{class e extends n.x{constructor(e,t,s,o,i){super(s,o),this.mainService=e,this.elementRef=t,this.searchService=s,this.cdref=o,this.searchOptionService=i,this.ngUnsubscribe=new r.xQ,this.searchResponseEmptyButValidPhoneNumber="",this.showHistorySection=!0,this.isSearchFiltersDisabled=!1}ngOnInit(){super.setGroupsCount(this.getGroupCount()),this.searchOptionService.setSearchType(o.V.CONTACT),this.searchOptionService.searchType$.pipe((0,a.R)(this.ngUnsubscribe)).subscribe(e=>{this.updateSelectedType(e)}),this.searchService.searchResponseEmptyButValidPhoneNumber$.pipe((0,a.R)(this.ngUnsubscribe)).subscribe(e=>{e&&(this.searchResponseEmptyButValidPhoneNumber=e)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}reset(e=!1){this.searchResponseEmptyButValidPhoneNumber="",super.reset(e)}isCrmConnectType(){return this.getSelectedTypSourceValue().toString().includes(String(o.V.CRM_CONNECT))}getGroupCount(){let t=e.TOTAL_GROUP_COUNT;return this.showHistorySection||t--,t}static getCallObject(e){switch(e.type){case i.i.FUNCTION_KEY:return{name:e.DISPLAY_NAME,number:e.FORMAT_PLAIN||e.EXTENSION_NUMBER};case i.i.PHONE_BOOK:return{name:e.displayName,number:e.displayNumber};case i.i.CALL_RECORD:return{name:e.remote_display_name,number:e.remote};case i.i.FAX:return{name:e.document_name,number:e.recipient_number};case i.i.PHONE_EXTENSION:case i.i.GROUP:return{name:e.callItem.name,number:e.callItem.contact};case i.i.CONFERENCE:case i.i.CONFERENCE_AVAILABLE:return Object.assign(Object.assign({},e),{name:e.displayName,number:e.number});case i.i.SEARCH:return{name:e.search,number:e.search};case i.i.EMERGENCY:case i.i.CRM_CONNECT:return{name:e.name,number:e.number};default:return null}}}return e.TOTAL_GROUP_COUNT=12,e.\u0275fac=function(t){return new(t||e)(l.Y36(d.J),l.Y36(l.SBq),l.Y36(c.o),l.Y36(l.sBO),l.Y36(p.p))},e.\u0275cmp=l.Xpm({type:e,selectors:[["search-result"]],viewQuery:function(e,t){if(1&e&&l.Gf(h,5),2&e){let e;l.iGM(e=l.CRH())&&(t.contactGroupComponent=e.first)}},inputs:{showHistorySection:"showHistorySection",dndEnabled:"dndEnabled",isSearchFiltersDisabled:"isSearchFiltersDisabled"},features:[l.qOj],decls:19,vars:29,consts:[[1,"search-result__search-options"],[4,"ngIf"],[3,"selectedType",4,"ngIf"],[3,"scrollContainerSelector","search","selectedType","loaded",4,"ngIf"],[3,"dndEnabled","loadMore","scrollContainerSelector","search","selectedType","loaded","loadedMore",4,"ngIf"],[3,"dndEnabled","loadMore","scrollContainerSelector","search","loaded","loadedMore",4,"ngIf"],[3,"dndEnabled","search",4,"ngIf"],[3,"searchString",4,"ngIf"],[3,"selectedType"],[3,"scrollContainerSelector","search","selectedType","loaded"],[3,"dndEnabled","loadMore","scrollContainerSelector","search","selectedType","loaded","loadedMore"],[3,"dndEnabled","loadMore","scrollContainerSelector","search","loaded","loadedMore"],[3,"dndEnabled","search"],[3,"searchString"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,u,1,0,"search-options",1),l.qZA(),l.YNc(2,m,2,3,"emergency-group",2),l.ALo(3,"async"),l.ALo(4,"async"),l.ALo(5,"async"),l.ALo(6,"async"),l.YNc(7,f,2,5,"crm-connect-group",3),l.YNc(8,g,3,9,"extension-group",4),l.ALo(9,"async"),l.ALo(10,"async"),l.ALo(11,"async"),l.YNc(12,y,2,6,"conference-available-group",5),l.ALo(13,"async"),l.ALo(14,"async"),l.YNc(15,C,1,2,"not-found-group",6),l.ALo(16,"async"),l.YNc(17,E,1,1,"meeting-group",7),l.ALo(18,"async")),2&e&&(l.xp6(1),l.Q6J("ngIf",!t.isSearchFiltersDisabled),l.xp6(1),l.Q6J("ngIf",l.lcZ(3,7,t.selectedType$)!==t.SEARCH_TYPES.CONFERENCE_AVAILABLE&&l.lcZ(4,9,t.selectedType$)!==t.SEARCH_TYPES.FAX&&l.lcZ(5,11,t.selectedType$)!==t.SEARCH_TYPES.GROUP&&l.lcZ(6,13,t.selectedType$)!==t.SEARCH_TYPES.MEETING),l.xp6(5),l.Q6J("ngIf",t.isCrmConnectType()),l.xp6(1),l.Q6J("ngIf",l.lcZ(9,15,t.selectedType$)===t.SEARCH_TYPES.EXTENSION||l.lcZ(10,17,t.selectedType$)===t.SEARCH_TYPES.GROUP||l.lcZ(11,19,t.selectedType$)===t.SEARCH_TYPES.CONTACT),l.xp6(4),l.Q6J("ngIf",l.lcZ(13,21,t.selectedType$)===t.SEARCH_TYPES.ALL||l.lcZ(14,23,t.selectedType$)===t.SEARCH_TYPES.CONFERENCE_AVAILABLE),l.xp6(3),l.Q6J("ngIf",t.searchString&&0===t.isLoadingCount&&0===t.loadedItemsCount&&l.lcZ(16,25,t.isValidNumber$)||t.searchResponseEmptyButValidPhoneNumber),l.xp6(2),l.Q6J("ngIf",l.lcZ(18,27,t.selectedType$)===t.SEARCH_TYPES.MEETING))},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:block;flex:1;height:100%;overflow-y:auto}.search-result__search-options[_ngcontent-%COMP%]{background:#fff;padding:.8rem;position:-webkit-sticky;position:sticky;top:0;z-index:1}"]}),e})()},93739:function(e,t,s){"use strict";s.d(t,{i:function(){return o}});const o={FUNCTION_KEY:"functionKey",PHONE_BOOK:"phoneBook",CONFERENCE:"conference",CONFERENCE_AVAILABLE:"conference-available",FAX:"fax",CALL_RECORD:"call-record",SEARCH:"search",PHONE_EXTENSION:"phone-extension",GROUP:"group",USER:"user",CRM_CONNECT:"crm-connect"}}}]);
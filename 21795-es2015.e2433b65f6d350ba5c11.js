"use strict";(self.webpackChunkcloudya=self.webpackChunkcloudya||[]).push([[21795],{21795:function(e,t,n){n.r(t),n.d(t,{GuestModule:function(){return se}});var i=n(38583),o=n(25167),a=n(8307),s=n(79765),r=n(46782),l=n(37716),g=n(22238);let c=(()=>{class e{constructor(e){this.dialogRef=e}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(g.so))},e.\u0275cmp=l.Xpm({type:e,selectors:[["guest-landing-desktop-hint-dialog"]],decls:1,vars:1,consts:[[3,"dialogRef"]],template:function(e,t){1&e&&l._UZ(0,"guest-landing-desktop-hint",0),2&e&&l.Q6J("dialogRef",t.dialogRef)},styles:["[_nghost-%COMP%]{max-height:95vh;max-width:90vw;width:64rem}"]}),e})();var d=n(56247),_=n(8320),m=n(25791),u=n(92937),p=n(67267),h=n(90971),f=n(39249),v=n(78023),C=n(27077),b=n(29790);function O(e,t){if(1&e&&l._UZ(0,"img",18),2&e){const e=l.oxw();l.Q6J("src",e.guestLandingImage,l.LSH)}}function M(e,t){1&e&&l._UZ(0,"product-logo",19)}function x(e,t){}function y(e,t){1&e&&l.YNc(0,x,0,0,"ng-template")}function P(e,t){1&e&&(l.TgZ(0,"span",20),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"meetings.join_meeting_or")))}let k=(()=>{class e{constructor(e,t,n,i,o,a,r,l,g){this.router=e,this.route=t,this.apiAvAuthorizationService=n,this.guestService=i,this.tokenService=o,this.meetingService=a,this.dialog=r,this.whiteLabelService=l,this.themeService=g,this.ngUnsubscribe=new s.xQ,this.guestLandingImage=this.whiteLabelService.data.guestLandingImage||"/assets/total_independence.svg",this.isCloudyaTheme=this.themeService.isCloudyaTheme}ngOnInit(){this.meetingService.loadDialInNumbers(),this.route.params.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{this.guestService.setMeetingId(e.id)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}joinViaWebAsGuest(){this.router.navigate(["join","setup"])}joinViaWebAsLoggedInUser(){this.tokenService.isValidToken()?this.meetingService.handleMeetingId(this.guestService.getMeetingId()):this.router.navigate(["auth","login"],{queryParams:{meetingLinkId:this.guestService.getMeetingId()}})}joinViaDesktop(){window.open(`cloudya://meeting/${this.guestService.getMeetingId()}`,"_self"),this.dialog.open(c,{width:"64rem",panelClass:"guest-landing-desktop-hint__dialog-container"})}joinViaPhone(){this.dialog.open(d.Y,{autoFocus:!1,width:"56rem",height:"52rem",panelClass:"meetings__info-dialog-container",data:{meeting:this.apiAvAuthorizationService.guestMeeting}})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.F0),l.Y36(a.gz),l.Y36(_.O),l.Y36(m.Q),l.Y36(u.B),l.Y36(p.D),l.Y36(g.uw),l.Y36(h.D),l.Y36(f.f))},e.\u0275cmp=l.Xpm({type:e,selectors:[["guest-landing"]],decls:30,vars:18,consts:[["data-e2e","join-page",1,"guest-landing__content"],["class","guest-landing__image","alt","",3,"src",4,"ngIf","ngIfElse"],["productNameTemplate",""],[1,"guest-landing__options"],[1,"guest-landing__column","guest-landing__column-left"],["data-e2e","meeting-landing-modal-fragment__logged-in-user-title",1,"guest-landing__column-header"],["buttonTextTranslationKey","meetings.join_meeting_via_web","data-e2e","meeting-landing-modal-fragment__join-via-web-as-logged-in-user","color","primary","type","raised-button","e2e","join-page__join-on-web-app",3,"appButtonClick"],[4,"ngTemplateOutlet"],[1,"guest-landing__main-content__desktop"],["buttonTextTranslationKey","meetings.join_meeting_via_desktop","data-e2e","meeting-landing-modal-fragment__join-via-desktop-as-logged-in-user","color","primary","type","stroked-button-submit","e2e","join-page__join-on-desktop",3,"appButtonClick"],["data-e2e","meeting-landing-modal-fragment__desktop-hint",1,"guest-landing__main-content__desktop-hint"],[1,"guest-landing__column","guest-landing__column-right"],["data-e2e","meeting-landing-modal-fragment__guest-user-title",1,"guest-landing__column-header"],["buttonTextTranslationKey","guest_mode.join_on_the_web","data-e2e","meeting-landing-modal-fragment__join-via-web-as-guest-user","color","primary","type","raised-button","e2e","join-page__join-as-guest",3,"appButtonClick"],[1,"guest-landing__join-via-phone"],[1,"guest-landing__join-via-phone-text"],["data-e2e","join-page____join-as-guest--a",1,"guest-landing__join-via-phone-link",3,"click"],["orText",""],["alt","",1,"guest-landing__image",3,"src"],[1,"guest-landing__product-name"],[1,"guest-landing__or"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0),l.YNc(1,O,1,1,"img",1),l.YNc(2,M,1,0,"ng-template",null,2,l.W1O),l.TgZ(4,"div",3),l.TgZ(5,"div",4),l.TgZ(6,"h5",5),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.TgZ(9,"app-button",6),l.NdJ("appButtonClick",function(){return t.joinViaWebAsLoggedInUser()}),l.qZA(),l.YNc(10,y,1,0,void 0,7),l.TgZ(11,"div",8),l.TgZ(12,"app-button",9),l.NdJ("appButtonClick",function(){return t.joinViaDesktop()}),l.qZA(),l.TgZ(13,"div",10),l._uU(14),l.ALo(15,"translate"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(16,"div",11),l.TgZ(17,"h5",12),l._uU(18),l.ALo(19,"translate"),l.qZA(),l.TgZ(20,"app-button",13),l.NdJ("appButtonClick",function(){return t.joinViaWebAsGuest()}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(21,"div",14),l.TgZ(22,"span",15),l._uU(23),l.ALo(24,"translate"),l.qZA(),l.TgZ(25,"a",16),l.NdJ("click",function(){return t.joinViaPhone()}),l._uU(26),l.ALo(27,"translate"),l.qZA(),l.qZA(),l.qZA(),l.YNc(28,P,3,3,"ng-template",null,17,l.W1O)),2&e){const e=l.MAs(3),n=l.MAs(29);l.xp6(1),l.Q6J("ngIf",!t.isCloudyaTheme)("ngIfElse",e),l.xp6(6),l.Oqu(l.lcZ(8,8,"meetings.join_meeting_with_account")),l.xp6(3),l.Q6J("ngTemplateOutlet",n),l.xp6(4),l.hij(" ",l.lcZ(15,10,"meetings.join_via_desktop_button_hint")," "),l.xp6(4),l.Oqu(l.lcZ(19,12,"meetings.join_meeting_without_account")),l.xp6(5),l.Oqu(l.lcZ(24,14,"meetings.join_on_the_phone_note")),l.xp6(3),l.hij(" ",l.lcZ(27,16,"meetings.join_on_the_phone")," ")}},directives:[i.O5,v.V,i.tP,C.i],pipes:[b.X$],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-around}.guest-landing__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.guest-landing__image[_ngcontent-%COMP%]{margin:2rem auto;padding-bottom:8rem;width:33.6rem}.guest-landing__main-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;flex-direction:column;justify-content:center}.guest-landing__main-content__action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.guest-landing__options[_ngcontent-%COMP%]{display:flex}.guest-landing__column[_ngcontent-%COMP%]{max-width:32rem;text-align:center;width:40rem}.guest-landing__column-header[_ngcontent-%COMP%]{margin-top:1rem}.guest-landing__column-left[_ngcontent-%COMP%]{padding-right:8rem}.guest-landing__column-right[_ngcontent-%COMP%]{padding-left:8rem}.guest-landing__or[_ngcontent-%COMP%]{display:block;margin:2rem}.guest-landing__main-content__desktop-hint[_ngcontent-%COMP%]{font-size:1.2rem;margin-top:1rem}.guest-landing__join-via-phone[_ngcontent-%COMP%]{display:block;margin:2rem;text-align:center}.guest-landing__join-via-phone-text[_ngcontent-%COMP%]{display:inline-block;margin-right:.3rem}.guest-landing__join-via-phone-link[_ngcontent-%COMP%]{display:inline-block;text-decoration:none}.guest-landing__join-via-phone-link[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e})();function w(e,t){1&e&&(l.TgZ(0,"header",2),l._UZ(1,"logo",3),l.qZA()),2&e&&(l.xp6(1),l.Q6J("hasLink",!1))}let Z=(()=>{class e{constructor(e,t){this.guestService=e,this.themeService=t,this.isCloudyaTheme=this.themeService.isCloudyaTheme}ngOnInit(){this.guestService.loadFromSessionStorage()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(m.Q),l.Y36(f.f))},e.\u0275cmp=l.Xpm({type:e,selectors:[["guest"]],decls:4,vars:1,consts:[["class","guest__header",4,"ngIf"],[1,"guest__footer"],[1,"guest__header"],["location","guest-page",1,"guest__logo",3,"hasLink"]],template:function(e,t){1&e&&(l._UZ(0,"audio-player"),l.YNc(1,w,2,1,"header",0),l._UZ(2,"router-outlet"),l._UZ(3,"app-footer",1)),2&e&&(l.xp6(1),l.Q6J("ngIf",!t.isCloudyaTheme))},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{align-items:center;background:#fff;display:flex;flex-direction:column;flex-grow:1;justify-content:space-between;min-height:100vh;min-width:76.8rem}.guest__header[_ngcontent-%COMP%]{align-self:flex-start}.guest__logo[_ngcontent-%COMP%]{height:6rem}.guest__footer[_ngcontent-%COMP%]{width:100%}"]}),e})();var A=n(15257),S=n(35019),j=n(28704),T=n(50501),U=n(88640),q=n(81836),J=n(99445),I=n(57158);let Y=(()=>{class e{constructor(e,t,n,i,o,a,l,g){var c;this.router=e,this.apiAvEventStateService=t,this.microphoneService=n,this.apiAvFeedService=i,this.localUserConfigService=o,this.sipService=a,this.callTrackerService=l,this.logger=g,this.isConferenceStateInitialized=!1,this.ngUnsubscribe=new s.xQ,this.navigationExtras=null===(c=this.router.getCurrentNavigation())||void 0===c?void 0:c.extras,this.localUserConfigService.userConfig$.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{this.localUserConfig=e}),this.apiAvEventStateService.activeCallConferenceState$.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{this.isConferenceStateInitialized&&!e&&(this.logger.info("No more active conference state. Navigating to guest end page."),this.router.navigate(["join/end"])),!this.isConferenceStateInitialized&&e&&this.applyRouteExtras(),this.isConferenceStateInitialized=!!e})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onPopState(){this.logger.info("Back navigation detected. Hanging-up all calls."),this.callTrackerService.hangupAll()}applyRouteExtras(){var e;const t=null===(e=this.navigationExtras)||void 0===e?void 0:e.state;t?t.isInitialJoin&&this.applyLocalUserConfig():this.logger.warn("No extras present. Please make sure the extra parameters are passed to the guest-live component.")}applyLocalUserConfig(){this.localUserConfig.isMicrophoneActivatedOnJoin||this.apiAvEventStateService.activeCallConferenceState$.pipe((0,A.q)(1),(0,r.R)(this.ngUnsubscribe)).subscribe(()=>{this.microphoneService.toggleSelfMute()}),this.localUserConfig.isCameraActivatedOnJoin&&this.apiAvFeedService.toggleOwnCamera()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.F0),l.Y36(S.a),l.Y36(j.p),l.Y36(T.D),l.Y36(U.i),l.Y36(q.y),l.Y36(J.k),l.Y36(I.Kf))},e.\u0275cmp=l.Xpm({type:e,selectors:[["guest-live"]],hostBindings:function(e,t){1&e&&l.NdJ("popstate",function(){return t.onPopState()},!1,l.Jf7)},decls:1,vars:0,consts:[["data-e2e","join-live-page"]],template:function(e,t){1&e&&l._UZ(0,"cinema-mode",0)},styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]   .main__toolbar[_ngcontent-%COMP%]{background:transparent;min-height:6.4rem;padding:0}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}[_nghost-%COMP%]     .flexible-list__item{cursor:pointer}[_nghost-%COMP%]     .flexible-list{list-style:none;margin:0;padding:0}[_nghost-%COMP%]     .flexible-list>.flexible-list__item{align-items:center;display:flex;flex-direction:row;height:5rem;margin-bottom:.1rem;margin-top:.1rem;padding:1.1rem 0}[_nghost-%COMP%]     .flexible-list>.flexible-list__item>app-svg-icon, [_nghost-%COMP%]     .flexible-list>.flexible-list__item .column-container>app-svg-icon{margin-left:1rem}[_nghost-%COMP%]     .flexible-list>.flexible-list__item:hover .flexible-list__item__info-button, [_nghost-%COMP%]     .flexible-list>.flexible-list__item.active .flexible-list__item__info-button{display:block}[_nghost-%COMP%]     .flexible-list>.flexible-list__item>.flexible-list__item__initials{border-radius:50%;flex-shrink:0;font-size:1.8rem;height:4rem;line-height:4rem;margin-left:.8rem;margin-right:.8rem;text-align:center;vertical-align:middle;width:4rem}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__content{display:grid;flex:1;flex-direction:column;margin-left:.8rem;margin-right:1.6rem;padding:1.1rem 0}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__content .flexible-list__item__title{display:inline-block;font-size:1.8rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__content .flexible-list__item__sub-title{color:#666;font-size:1.6rem}[_nghost-%COMP%]     .flexible-list>.flexible-list__item .flexible-list__item__info-button{display:none;height:4.8rem;margin-right:.8rem;width:4.8rem}[_nghost-%COMP%]     .flexible-list .horizontal-divider{align-items:center;border-bottom:.1rem solid #e5e5e5;display:flex;height:5rem;padding:1.1rem 0;width:calc(100% - 8rem)}@-webkit-keyframes ringing{0%{opacity:1}49%{opacity:1}50%{opacity:0}to{opacity:0}}@keyframes ringing{0%{opacity:1}49%{opacity:1}50%{opacity:0}to{opacity:0}}[_nghost-%COMP%]     mat-sidenav-container .mat-sidenav-content{bottom:0;display:flex;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:2}[_nghost-%COMP%]     mat-sidenav-container .mat-sidenav-focus-trap{display:flex}[_nghost-%COMP%]     mat-sidenav-container .cdk-focus-trap-content{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]     .my-content{display:flex;flex:1;flex-direction:column}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper, [_nghost-%COMP%]     .my-content .page-content{display:flex;flex:1;flex-direction:column;overflow:hidden}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*{display:flex;flex:1;min-height:0;min-width:0;overflow-y:auto}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container{display:flex;flex:1;overflow:hidden}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container>*, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container>*{flex:0 0 auto;overflow-y:auto}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container>.left, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container>.left{flex:1}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>router-outlet+*:not(main-settings) .scrollable-container>.right, [_nghost-%COMP%]     .my-content .page-content>router-outlet+*:not(main-settings) .scrollable-container>.right{width:32.2rem}[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%], [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%]{width:32rem}@media screen and (min-width: 768px) and (max-width: 1023px){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%], [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%]{width:33.33vw}}@media screen and (max-width: 767px){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%], [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left:not(admin-search-results, .admin-page-content)[_ngcontent-%COMP%]{width:25.6rem}}@media screen and (max-width: 895px){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left, [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left{margin-left:0;margin-right:0}}@media screen and (min-width: 896px) and (max-width: 179rem){[_nghost-%COMP%]     .my-content .admin-page-content__wrapper>*:not(router-outlet)>.scrollable-container .left, [_nghost-%COMP%]     .my-content .page-content>*:not(router-outlet)>.scrollable-container .left{margin-left:0}}forward-details-modal[_ngcontent-%COMP%], categorized-modal[_ngcontent-%COMP%], subscribe-conference-modal[_ngcontent-%COMP%], delete-all-modal[_ngcontent-%COMP%], admin-session-ended-modal[_ngcontent-%COMP%], admin-switch-modal[_ngcontent-%COMP%], call-context-menu[_ngcontent-%COMP%]{bottom:0;left:0;position:absolute;right:0;top:0;z-index:2000}.main__footer[_ngcontent-%COMP%]{width:100%}@media (min-width: 1280px){.main__footer[_ngcontent-%COMP%]{width:128rem}}.main__content[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]{background-color:transparent;margin-left:auto;margin-right:auto;z-index:2}@media (min-width: 1280px){.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]{width:128rem}}@media (min-width: 1024px) and (max-width: 1279px){.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%]     .mat-sidenav-content, .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]     .mat-sidenav-content{margin-left:auto!important;margin-right:auto!important;width:1024px}}@media (max-width: 1280px){.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]{width:100%}}.main__content[_ngcontent-%COMP%]   .admin__sidenav[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{background-color:transparent;border-right:0;display:flex;flex-direction:column;overflow-x:hidden;width:25.6rem}.main__content[_ngcontent-%COMP%]   .admin__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{background-color:transparent}.main__content[_ngcontent-%COMP%]   .admin__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.8rem;margin-left:.4rem;margin-right:.4rem}.main__content[_ngcontent-%COMP%]   .admin__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .main__content[_ngcontent-%COMP%]   .main__sidenav.is-edit-mode[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.8rem}.main__content[_ngcontent-%COMP%]   .header__back-button--edit-mode[_ngcontent-%COMP%]{align-items:center;display:flex;height:6.4rem}@media (min-width: 1280px){.main__content[_ngcontent-%COMP%]   .toggle-sidenav-btn[_ngcontent-%COMP%]{display:none}.main__content[_ngcontent-%COMP%]   .my-content[_ngcontent-%COMP%]   .header__back-button--edit-mode[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]{position:fixed;width:100%;z-index:4}"]}),e})();var N=n(3679),L=n(25304),B=n(8225),z=n(10028),E=n(98295),Q=n(83166),R=n(56436);const D=["guestVideoPreview"];function V(e,t){1&e&&(l.TgZ(0,"div",14),l._UZ(1,"app-svg-icon",15),l._uU(2),l.ALo(3,"translate"),l.qZA()),2&e&&(l.xp6(2),l.hij(" ",l.lcZ(3,1,"device_settings.error.camera_is_used")," "))}function F(e,t){if(1&e&&(l.TgZ(0,"div",14),l._UZ(1,"app-svg-icon",15),l._uU(2),l.ALo(3,"translate"),l.qZA()),2&e){const e=l.oxw(2);l.xp6(2),l.hij(" ",l.lcZ(3,1,e.videoErrorMessage)," ")}}function $(e,t){if(1&e&&(l.TgZ(0,"div",14),l._UZ(1,"app-svg-icon",16),l._uU(2),l.ALo(3,"translate"),l.qZA()),2&e){const e=l.oxw(2);l.xp6(2),l.hij(" ",l.lcZ(3,1,e.audioErrorMessage)," ")}}function G(e,t){1&e&&(l.TgZ(0,"div",21),l._UZ(1,"app-svg-icon",22),l.qZA())}function K(e,t){if(1&e&&(l.TgZ(0,"div",17),l._UZ(1,"video",18,19),l.YNc(3,G,2,0,"div",20),l.qZA()),2&e){const e=l.oxw().ngIf;l.xp6(1),l.ekj("guest-setup__video-preview-window--mirrored",e.isOwnVideoMirrored)("guest-setup__video-preview-hidden",!e.isCameraActivatedOnJoin),l.xp6(2),l.Q6J("ngIf",!e.isCameraActivatedOnJoin)}}function X(e,t){if(1&e){const e=l.EpF();l.ynx(0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.YNc(3,V,4,3,"div",3),l.YNc(4,F,4,3,"div",3),l.YNc(5,$,4,3,"div",3),l.YNc(6,K,4,5,"div",4),l.TgZ(7,"div",5),l.TgZ(8,"app-button",6),l.NdJ("appButtonClick",function(){return l.CHM(e),l.oxw().toggleMicrophoneActiveOnJoin()}),l.qZA(),l.TgZ(9,"app-button",7),l.NdJ("appButtonClick",function(){return l.CHM(e),l.oxw().toggleCameraActiveOnJoin()}),l.qZA(),l.qZA(),l.TgZ(10,"app-button",8),l.NdJ("appButtonClick",function(){return l.CHM(e),l.oxw().openDeviceSettingsDialog()}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",9),l.TgZ(12,"div",10),l.TgZ(13,"span",11),l._uU(14),l.ALo(15,"translate"),l.qZA(),l.TgZ(16,"mat-form-field"),l._UZ(17,"input",12),l.ALo(18,"translate"),l.qZA(),l.TgZ(19,"app-button",13),l.NdJ("appButtonClick",function(){return l.CHM(e),l.oxw().onJoinClick()}),l.qZA(),l.qZA(),l.qZA(),l.BQk()}if(2&e){const e=t.ngIf,n=l.oxw();l.xp6(3),l.Q6J("ngIf",n.isCameraBlocked),l.xp6(1),l.Q6J("ngIf",n.videoErrorMessage&&!n.audioErrorMessage&&!n.isCameraBlocked),l.xp6(1),l.Q6J("ngIf",n.audioErrorMessage),l.xp6(1),l.Q6J("ngIf",!n.isCameraBlocked&&!n.videoErrorMessage),l.xp6(2),l.Q6J("disabled",!!n.audioErrorMessage)("hoverTextTranslationKey",e.isMicrophoneActivatedOnJoin?"telephone.mute":"telephone.unmute")("iconName",e.isMicrophoneActivatedOnJoin?"mic_on":"mic_off"),l.xp6(1),l.Q6J("disabled",n.isCameraBlocked||!!n.videoErrorMessage)("hoverTextTranslationKey",e.isCameraActivatedOnJoin?"telephone.video_off":"telephone.video_on")("iconName",e.isCameraActivatedOnJoin?"video_on":"video_off"),l.xp6(5),l.Oqu(l.lcZ(15,14,"guest_mode.settings_page.name_title")),l.xp6(3),l.s9C("placeholder",l.lcZ(18,16,"guest_mode.settings_page.name_placeholder")),l.Q6J("formControl",n.nameFormControl),l.xp6(2),l.Q6J("disabled",!n.nameFormControl.valid||!n.hasAudioPermission)}}function H(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"app-button",2),l.NdJ("appButtonClick",function(){return l.CHM(e),l.oxw().reJoin()}),l.qZA()}}const W=a.Bz.forChild([{path:"",component:Z,children:[{path:"setup",component:(()=>{class e{constructor(e,t,n,i,o,a,l,g){this.guestService=e,this.settingsPreviewService=t,this.meetingService=n,this.apiAvAuthorizationService=i,this.devicesService=o,this.localUserConfigService=a,this.router=l,this.openDeviceSettingsService=g,this.ngUnsubscribe=new s.xQ,this.videoErrorMessage=null,this.name="",this.nameFormControl=new N.NI(this.name,N.kI.compose([N.kI.minLength(3),N.kI.maxLength(64),N.kI.required])),this.userConfig$=this.localUserConfigService.userConfig$,this.localUserConfigService.userConfig$.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{this.isCameraActivatedOnGuestSetup=e.isCameraActivatedOnJoin})}ngOnInit(){this.applyGuestName(),this.applyVideoPreview(),this.handlePermissions()}ngOnDestroy(){this.settingsPreviewService.stopStreams(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onJoinClick(){this.guestService.setGuestName(this.nameFormControl.value),this.meetingService.joinMeetingAsGuest(),this.router.navigate(["join","live"],{state:{isInitialJoin:!0}})}openDeviceSettingsDialog(){this.openDeviceSettingsService.open({isWelcomeDialog:!1,isCameraActivatedOnGuestSetup:this.isCameraActivatedOnGuestSetup})}toggleCameraActiveOnJoin(){this.isCameraActivatedOnGuestSetup?this.settingsPreviewService.stopStreams():this.handlePermissions(),this.localUserConfigService.toggleCameraActivatedOnJoin()}toggleMicrophoneActiveOnJoin(){this.localUserConfigService.toggleMicrophoneActivatedOnJoin()}initializeAudioMeterStream(){this.devicesService.updateDeviceList().then(()=>{var e;this.settingsPreviewService.updateAudioInputStream(null===(e=this.devicesService.loadStoredAudioInputDevice())||void 0===e?void 0:e.deviceId,{value:!1})})}applyVideoPreview(){this.settingsPreviewService.videoPreview$.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(e=>{if(e){this.videoPreviewStream=e,this.videoPreview.nativeElement.srcObject=this.videoPreviewStream;const t=this.videoPreview.nativeElement.play();null!==t&&t.catch(()=>{}),this.isCameraBlocked=!1,this.videoErrorMessage=null}else this.videoPreview&&(this.videoPreview.nativeElement.pause(),this.videoPreview.nativeElement.srcObject=null)})}applyGuestName(){this.guestService.guestName$.pipe((0,A.q)(1),(0,r.R)(this.ngUnsubscribe)).subscribe(e=>{this.nameFormControl.setValue(e)})}handlePermissions(){this.devicesService.checkAudioPermission().then(e=>{e.isSupported?e.hasPermission?(this.hasAudioPermission=!0,this.settingsPreviewService.checkVideoPermission({value:!this.isCameraActivatedOnGuestSetup}).then(e=>{e.hasPermission?this.hasVideoPermission=!0:this.videoErrorMessage="device_settings.error.no_camera_permission"})):(this.audioErrorMessage="device_settings.error.no_audio_input",this.videoErrorMessage="device_settings.error.no_camera_permission"):(this.audioErrorMessage="device_settings.error.no_audio_input",this.videoErrorMessage="device_settings.error.video_not_supported")})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(m.Q),l.Y36(L.Q),l.Y36(p.D),l.Y36(_.O),l.Y36(B.I),l.Y36(U.i),l.Y36(a.F0),l.Y36(z.I))},e.\u0275cmp=l.Xpm({type:e,selectors:[["guest-setup"]],viewQuery:function(e,t){if(1&e&&l.Gf(D,5),2&e){let e;l.iGM(e=l.CRH())&&(t.videoPreview=e.first)}},decls:2,vars:3,consts:[[4,"ngIf"],["data-e2e","join-setup-page",1,"guest-setup__column"],[1,"guest-setup__video"],["class","guest-setup__error-message",4,"ngIf"],["class","guest-setup__video-wrapper",4,"ngIf"],[1,"guest-setup__video__controls"],["data-e2e","meeting-guest-setup-modal-fragment__toggle-microphone","iconFillClass","white","e2e","join-setup-page__toggle-microphone",3,"disabled","hoverTextTranslationKey","iconName","appButtonClick"],["data-e2e","meeting-guest-setup-modal-fragment__toggle-video","iconFillClass","white","e2e","join-setup-page__toggle-camera",3,"disabled","hoverTextTranslationKey","iconName","appButtonClick"],["buttonTextTranslationKey","guest_mode.check_settings","data-e2e","meeting-guest-setup-modal-fragment__device-settings","color","primary","iconFillClass","white","size","button--extra-wide","type","stroked-button-submit","e2e","join-setup-page__check-settings",1,"guest-setup__settings-button",3,"appButtonClick"],[1,"guest-setup__column"],[1,"guest-setup__infos"],[1,"guess-setup__title"],["matInput","","data-e2e","join-setup-page__name--input","type","text",3,"formControl","placeholder"],["buttonTextTranslationKey","guest_mode.settings_page.join","data-e2e","meeting-guest-setup-modal-fragment__join--button","color","primary","type","raised-button","e2e","join-setup-page__join-now",3,"disabled","appButtonClick"],[1,"guest-setup__error-message"],["fill","warn-color","icon","video_off","size","small",1,"guest-setup__error-icon"],["fill","warn-color","icon","mic_off","size","small",1,"guest-setup__error-icon"],[1,"guest-setup__video-wrapper"],[1,"guest-setup__video__player"],["guestVideoPreview",""],["class","guest-setup--video-off",4,"ngIf"],[1,"guest-setup--video-off"],["fill","video-off-color","icon","video_off"]],template:function(e,t){1&e&&(l.YNc(0,X,20,18,"ng-container",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,t.userConfig$))},directives:[i.O5,v.V,E.KE,Q.Nt,N.Fj,N.JJ,N.oH,R.u],pipes:[i.Ov,b.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}[_nghost-%COMP%]{display:flex;justify-content:center;width:100%}.guest-setup__column[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;padding:0 1rem}.guest-setup__infos[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:column;width:32rem}@media screen and (min-width: 769px){.guest-setup__infos[_ngcontent-%COMP%]{margin-left:11rem}}.guest-setup__video[_ngcontent-%COMP%]{align-self:flex-end;display:flex;flex-direction:column;justify-items:flex-end;width:48rem}@media screen and (max-width: 768px){.guest-setup__video[_ngcontent-%COMP%]{width:40rem}}.guest-setup__video__player[_ngcontent-%COMP%]{height:30rem}@media screen and (max-width: 768px){.guest-setup__video__player[_ngcontent-%COMP%]{height:25rem}}.guest-setup__video-wrapper[_ngcontent-%COMP%], .guest-setup__video__controls[_ngcontent-%COMP%]{background:#333}.guest-setup__video__controls[_ngcontent-%COMP%]{display:flex;height:5.2rem;justify-content:center}.guess-setup__title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:900;margin-bottom:2.4rem;text-align:center}.guest-setup__settings-button[_ngcontent-%COMP%]{justify-content:center;margin-top:2.3rem}.guest-setup__video-wrapper[_ngcontent-%COMP%]{display:flex;position:relative;width:100%}.guest-setup--video-off[_ngcontent-%COMP%]{align-items:center;justify-content:center;width:100%}.guest-setup__video-preview-hidden[_ngcontent-%COMP%]{display:none}.guest-setup__audio-meter[_ngcontent-%COMP%]{bottom:.5rem;left:.5rem;position:absolute}.guest-setup__video-preview-window--mirrored[_ngcontent-%COMP%]{transform:rotateY(180deg)}.guest-setup__error-message[_ngcontent-%COMP%]{align-items:center;color:#b30000;display:flex;margin:1.6rem}.guest-setup__error-icon[_ngcontent-%COMP%]{margin-right:1rem}.guest-setup__audio-input-preview[_ngcontent-%COMP%]{bottom:2rem;display:flex;justify-content:flex-end;left:2rem;position:absolute}.guest-setup__volume-meter-dot[_ngcontent-%COMP%]{border-radius:50%;display:inline-block;height:1.2rem;margin-left:.5rem;transition:background-color .2s ease-in-out;width:1.2rem}.guest-setup__volume-meter-dot[_ngcontent-%COMP%]:first-child{margin-left:0}"]}),e})(),data:{title:"title.guest_mode_setup"}},{path:"live",component:Y,data:{title:"title.guest_mode_live"}},{path:"invalid",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["guest-invalid-link"]],decls:7,vars:6,consts:[["data-e2e","meeting-invalid-link-modal-fragment__title",1,"guest-invalid-link__title"],["data-e2e","meeting-invalid-link-modal-fragment__message",1,"guest-invalid-link__message"]],template:function(e,t){1&e&&(l.TgZ(0,"div"),l.TgZ(1,"span",0),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.TgZ(4,"span",1),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Oqu(l.lcZ(3,2,"guest_mode.error_page.title")),l.xp6(3),l.Oqu(l.lcZ(6,4,"guest_mode.error_page.invalid_meeting")))},pipes:[b.X$],styles:["[_nghost-%COMP%]{bottom:0;left:0;margin:auto;right:0;text-align:center;top:0}.guest-invalid-link__title[_ngcontent-%COMP%]{font-size:3rem}.guest-invalid-link__message[_ngcontent-%COMP%]{float:left;padding-top:3rem;width:100%}"]}),e})(),data:{title:"title.guest_mode_invalid_link"}},{path:"end",component:(()=>{class e{constructor(e,t,n,i){var o,a;this.router=e,this.meetingService=t,this.apiAvAuthorizationService=n,this.callTrackerService=i,this.callTrackerService.hangupAll();const s=null===(a=null===(o=this.router.getCurrentNavigation())||void 0===o?void 0:o.extras)||void 0===a?void 0:a.state;s&&(this.isRejoinAvailable=s.isRejoinAvailable)}reJoin(){this.meetingService.joinMeetingAsGuest(),this.router.navigate(["join","live"])}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.F0),l.Y36(p.D),l.Y36(_.O),l.Y36(J.k))},e.\u0275cmp=l.Xpm({type:e,selectors:[["guest-end"]],decls:4,vars:4,consts:[["data-e2e","meeting-end-modal-fragment__title",1,"guest-end__title"],["class","guest-end__rejoin","buttonTextTranslationKey","guest_mode.end_page.rejoin_button","data-e2e","meeting-end-modal-fragment__rejoin--button","color","primary","type","raised-button",3,"appButtonClick",4,"ngIf"],["buttonTextTranslationKey","guest_mode.end_page.rejoin_button","data-e2e","meeting-end-modal-fragment__rejoin--button","color","primary","type","raised-button",1,"guest-end__rejoin",3,"appButtonClick"]],template:function(e,t){1&e&&(l.TgZ(0,"span",0),l._uU(1),l.ALo(2,"translate"),l.qZA(),l.YNc(3,H,1,0,"app-button",1)),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,2,"guest_mode.end_page.title")),l.xp6(2),l.Q6J("ngIf",t.isRejoinAvailable))},directives:[i.O5,v.V],pipes:[b.X$],styles:["[_nghost-%COMP%]{align-items:center;bottom:0;display:flex;flex-direction:column;left:0;margin:auto;right:0;text-align:center;top:0}.guest-end__title[_ngcontent-%COMP%]{font-size:3rem}.guest-end__rejoin[_ngcontent-%COMP%]{padding-top:3rem;width:30rem}"]}),e})(),data:{title:"title.guest_mode_end"}},{path:":id",component:k,data:{title:"title.guest_mode_landing"}}]},{path:"**",redirectTo:"/",pathMatch:"full"}]);var ee=n(96292);let te=(()=>{class e{closeDialog(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["guest-landing-desktop-hint"]],inputs:{dialogRef:"dialogRef"},decls:8,vars:6,consts:[["mat-dialog-title","","data-e2e","meeting-hint-dialog-fragment__title",1,"guest-landing-desktop-hint__dialog-title"],["data-e2e","meeting-hint-dialog-fragment__hint-content",1,"guest-landing-desktop-hint__content"],["align","end"],["color","primary","buttonTextTranslationKey","meetings.info_dialog.close","data-e2e","meeting-hint-dialog-fragment__close--button","type","raised-button-submit",3,"appButtonClick"]],template:function(e,t){1&e&&(l.TgZ(0,"span",0),l._uU(1),l.ALo(2,"translate"),l.qZA(),l.TgZ(3,"mat-dialog-content",1),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.TgZ(6,"mat-dialog-actions",2),l.TgZ(7,"app-button",3),l.NdJ("appButtonClick",function(){return t.closeDialog()}),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,2,"meetings.join_meeting_via_desktop"),"\n"),l.xp6(3),l.hij(" ",l.lcZ(5,4,"meetings.join_via_desktop_text_hint"),"\n"))},directives:[g.uh,g.xY,g.H8,v.V],pipes:[b.X$],styles:[".hide-module[_ngcontent-%COMP%]{display:none!important}@-webkit-keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(450deg)}}@-webkit-keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}@keyframes line{0%{stroke-dasharray:2,85.964;transform:rotate(0)}50%{stroke-dasharray:65.973,21.9911;stroke-dashoffset:0}to{stroke-dasharray:2,85.964;stroke-dashoffset:-65.973;transform:rotate(90deg)}}.guest-landing-desktop-hint__dialog-title[_ngcontent-%COMP%], .guest-landing-desktop-hint__content[_ngcontent-%COMP%]{padding:1.6rem 2.4rem}.guest-landing-desktop-hint__dialog-title[_ngcontent-%COMP%]{background-color:#e5e5e5;font-size:2.2rem;font-weight:bold;margin:-2.4rem}.guest-landing-desktop-hint__content[_ngcontent-%COMP%]{border-bottom:.1rem solid #b5b5b5;line-height:2.56rem;margin-top:2.4rem}"]}),e})();var ne=n(56765),ie=n(56869),oe=n(96566),ae=n(79108);let se=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[L.Q],imports:[[i.ez,W,o.m,ee.$]]}),e})();l.B6R(Z,[ne.N,i.O5,ie.R,a.lC,oe.q],[]),l.B6R(c,[te],[]),l.B6R(Y,[ae.L],[])}}]);